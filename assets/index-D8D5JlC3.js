function Hw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xw={exports:{}},Ed={},Yw={exports:{}},hn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf=Symbol.for("react.element"),N6=Symbol.for("react.portal"),_6=Symbol.for("react.fragment"),I6=Symbol.for("react.strict_mode"),T6=Symbol.for("react.profiler"),L6=Symbol.for("react.provider"),k6=Symbol.for("react.context"),P6=Symbol.for("react.forward_ref"),O6=Symbol.for("react.suspense"),R6=Symbol.for("react.memo"),D6=Symbol.for("react.lazy"),w5=Symbol.iterator;function M6(e){return e===null||typeof e!="object"?null:(e=w5&&e[w5]||e["@@iterator"],typeof e=="function"?e:null)}var Kw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qw=Object.assign,$w={};function cc(e,t,n){this.props=e,this.context=t,this.refs=$w,this.updater=n||Kw}cc.prototype.isReactComponent={};cc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zw(){}Zw.prototype=cc.prototype;function gg(e,t,n){this.props=e,this.context=t,this.refs=$w,this.updater=n||Kw}var mg=gg.prototype=new Zw;mg.constructor=gg;Qw(mg,cc.prototype);mg.isPureReactComponent=!0;var x5=Array.isArray,Jw=Object.prototype.hasOwnProperty,yg={current:null},ex={key:!0,ref:!0,__self:!0,__source:!0};function tx(e,t,n){var r,s={},a=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)Jw.call(t,r)&&!ex.hasOwnProperty(r)&&(s[r]=t[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var h=Array(c),p=0;p<c;p++)h[p]=arguments[p+2];s.children=h}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:Kf,type:e,key:a,ref:l,props:s,_owner:yg.current}}function B6(e,t){return{$$typeof:Kf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kf}function F6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var v5=/\/+/g;function x0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?F6(""+e.key):t.toString(36)}function c1(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Kf:case N6:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+x0(l,0):r,x5(s)?(n="",e!=null&&(n=e.replace(v5,"$&/")+"/"),c1(s,t,n,"",function(p){return p})):s!=null&&(wg(s)&&(s=B6(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(v5,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",x5(e))for(var c=0;c<e.length;c++){a=e[c];var h=r+x0(a,c);l+=c1(a,t,n,h,s)}else if(h=M6(e),typeof h=="function")for(e=h.call(e),c=0;!(a=e.next()).done;)a=a.value,h=r+x0(a,c++),l+=c1(a,t,n,h,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Lh(e,t,n){if(e==null)return e;var r=[],s=0;return c1(e,r,"","",function(a){return t.call(n,a,s++)}),r}function j6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ui={current:null},f1={transition:null},U6={ReactCurrentDispatcher:Ui,ReactCurrentBatchConfig:f1,ReactCurrentOwner:yg};function nx(){throw Error("act(...) is not supported in production builds of React.")}hn.Children={map:Lh,forEach:function(e,t,n){Lh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Lh(e,function(){t++}),t},toArray:function(e){return Lh(e,function(t){return t})||[]},only:function(e){if(!wg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};hn.Component=cc;hn.Fragment=_6;hn.Profiler=T6;hn.PureComponent=gg;hn.StrictMode=I6;hn.Suspense=O6;hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U6;hn.act=nx;hn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Qw({},e.props),s=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=yg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(h in t)Jw.call(t,h)&&!ex.hasOwnProperty(h)&&(r[h]=t[h]===void 0&&c!==void 0?c[h]:t[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){c=Array(h);for(var p=0;p<h;p++)c[p]=arguments[p+2];r.children=c}return{$$typeof:Kf,type:e.type,key:s,ref:a,props:r,_owner:l}};hn.createContext=function(e){return e={$$typeof:k6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:L6,_context:e},e.Consumer=e};hn.createElement=tx;hn.createFactory=function(e){var t=tx.bind(null,e);return t.type=e,t};hn.createRef=function(){return{current:null}};hn.forwardRef=function(e){return{$$typeof:P6,render:e}};hn.isValidElement=wg;hn.lazy=function(e){return{$$typeof:D6,_payload:{_status:-1,_result:e},_init:j6}};hn.memo=function(e,t){return{$$typeof:R6,type:e,compare:t===void 0?null:t}};hn.startTransition=function(e){var t=f1.transition;f1.transition={};try{e()}finally{f1.transition=t}};hn.unstable_act=nx;hn.useCallback=function(e,t){return Ui.current.useCallback(e,t)};hn.useContext=function(e){return Ui.current.useContext(e)};hn.useDebugValue=function(){};hn.useDeferredValue=function(e){return Ui.current.useDeferredValue(e)};hn.useEffect=function(e,t){return Ui.current.useEffect(e,t)};hn.useId=function(){return Ui.current.useId()};hn.useImperativeHandle=function(e,t,n){return Ui.current.useImperativeHandle(e,t,n)};hn.useInsertionEffect=function(e,t){return Ui.current.useInsertionEffect(e,t)};hn.useLayoutEffect=function(e,t){return Ui.current.useLayoutEffect(e,t)};hn.useMemo=function(e,t){return Ui.current.useMemo(e,t)};hn.useReducer=function(e,t,n){return Ui.current.useReducer(e,t,n)};hn.useRef=function(e){return Ui.current.useRef(e)};hn.useState=function(e){return Ui.current.useState(e)};hn.useSyncExternalStore=function(e,t,n){return Ui.current.useSyncExternalStore(e,t,n)};hn.useTransition=function(){return Ui.current.useTransition()};hn.version="18.3.1";Yw.exports=hn;var Ze=Yw.exports;const Tl=Gw(Ze),z6=Hw({__proto__:null,default:Tl},[Ze]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q6=Ze,W6=Symbol.for("react.element"),V6=Symbol.for("react.fragment"),H6=Object.prototype.hasOwnProperty,G6=q6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X6={key:!0,ref:!0,__self:!0,__source:!0};function rx(e,t,n){var r,s={},a=null,l=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)H6.call(t,r)&&!X6.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:W6,type:e,key:a,ref:l,props:s,_owner:G6.current}}Ed.Fragment=V6;Ed.jsx=rx;Ed.jsxs=rx;Xw.exports=Ed;var R=Xw.exports,b2={},ix={exports:{}},ws={},sx={exports:{}},ax={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(pe,ve){var Le=pe.length;pe.push(ve);e:for(;0<Le;){var Ye=Le-1>>>1,K=pe[Ye];if(0<s(K,ve))pe[Ye]=ve,pe[Le]=K,Le=Ye;else break e}}function n(pe){return pe.length===0?null:pe[0]}function r(pe){if(pe.length===0)return null;var ve=pe[0],Le=pe.pop();if(Le!==ve){pe[0]=Le;e:for(var Ye=0,K=pe.length,he=K>>>1;Ye<he;){var de=2*(Ye+1)-1,Ce=pe[de],ye=de+1,Re=pe[ye];if(0>s(Ce,Le))ye<K&&0>s(Re,Ce)?(pe[Ye]=Re,pe[ye]=Le,Ye=ye):(pe[Ye]=Ce,pe[de]=Le,Ye=de);else if(ye<K&&0>s(Re,Le))pe[Ye]=Re,pe[ye]=Le,Ye=ye;else break e}}return ve}function s(pe,ve){var Le=pe.sortIndex-ve.sortIndex;return Le!==0?Le:pe.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],p=[],y=1,w=null,v=3,b=!1,E=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(pe){for(var ve=n(p);ve!==null;){if(ve.callback===null)r(p);else if(ve.startTime<=pe)r(p),ve.sortIndex=ve.expirationTime,t(h,ve);else break;ve=n(p)}}function z(pe){if(A=!1,L(pe),!E)if(n(h)!==null)E=!0,Ae(H);else{var ve=n(p);ve!==null&&xe(z,ve.startTime-pe)}}function H(pe,ve){E=!1,A&&(A=!1,S(q),q=-1),b=!0;var Le=v;try{for(L(ve),w=n(h);w!==null&&(!(w.expirationTime>ve)||pe&&!W());){var Ye=w.callback;if(typeof Ye=="function"){w.callback=null,v=w.priorityLevel;var K=Ye(w.expirationTime<=ve);ve=e.unstable_now(),typeof K=="function"?w.callback=K:w===n(h)&&r(h),L(ve)}else r(h);w=n(h)}if(w!==null)var he=!0;else{var de=n(p);de!==null&&xe(z,de.startTime-ve),he=!1}return he}finally{w=null,v=Le,b=!1}}var M=!1,D=null,q=-1,F=5,oe=-1;function W(){return!(e.unstable_now()-oe<F)}function X(){if(D!==null){var pe=e.unstable_now();oe=pe;var ve=!0;try{ve=D(!0,pe)}finally{ve?ae():(M=!1,D=null)}}else M=!1}var ae;if(typeof _=="function")ae=function(){_(X)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ie=J.port2;J.port1.onmessage=X,ae=function(){ie.postMessage(null)}}else ae=function(){k(X,0)};function Ae(pe){D=pe,M||(M=!0,ae())}function xe(pe,ve){q=k(function(){pe(e.unstable_now())},ve)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(pe){pe.callback=null},e.unstable_continueExecution=function(){E||b||(E=!0,Ae(H))},e.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<pe?Math.floor(1e3/pe):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(pe){switch(v){case 1:case 2:case 3:var ve=3;break;default:ve=v}var Le=v;v=ve;try{return pe()}finally{v=Le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(pe,ve){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var Le=v;v=pe;try{return ve()}finally{v=Le}},e.unstable_scheduleCallback=function(pe,ve,Le){var Ye=e.unstable_now();switch(typeof Le=="object"&&Le!==null?(Le=Le.delay,Le=typeof Le=="number"&&0<Le?Ye+Le:Ye):Le=Ye,pe){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Le+K,pe={id:y++,callback:ve,priorityLevel:pe,startTime:Le,expirationTime:K,sortIndex:-1},Le>Ye?(pe.sortIndex=Le,t(p,pe),n(h)===null&&pe===n(p)&&(A?(S(q),q=-1):A=!0,xe(z,Le-Ye))):(pe.sortIndex=K,t(h,pe),E||b||(E=!0,Ae(H))),pe},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(pe){var ve=v;return function(){var Le=v;v=ve;try{return pe.apply(this,arguments)}finally{v=Le}}}})(ax);sx.exports=ax;var Y6=sx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K6=Ze,ms=Y6;function ut(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ox=new Set,vf={};function Ql(e,t){$u(e,t),$u(e+"Capture",t)}function $u(e,t){for(vf[e]=t,e=0;e<t.length;e++)ox.add(t[e])}var Qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),A2=Object.prototype.hasOwnProperty,Q6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b5={},A5={};function $6(e){return A2.call(A5,e)?!0:A2.call(b5,e)?!1:Q6.test(e)?A5[e]=!0:(b5[e]=!0,!1)}function Z6(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function J6(e,t,n,r){if(t===null||typeof t>"u"||Z6(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zi(e,t,n,r,s,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var hi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){hi[e]=new zi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];hi[t]=new zi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){hi[e]=new zi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){hi[e]=new zi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){hi[e]=new zi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){hi[e]=new zi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){hi[e]=new zi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){hi[e]=new zi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){hi[e]=new zi(e,5,!1,e.toLowerCase(),null,!1,!1)});var xg=/[\-:]([a-z])/g;function vg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xg,vg);hi[t]=new zi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xg,vg);hi[t]=new zi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xg,vg);hi[t]=new zi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){hi[e]=new zi(e,1,!1,e.toLowerCase(),null,!1,!1)});hi.xlinkHref=new zi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){hi[e]=new zi(e,1,!1,e.toLowerCase(),null,!0,!0)});function bg(e,t,n,r){var s=hi.hasOwnProperty(t)?hi[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(J6(t,n,s,r)&&(n=null),r||s===null?$6(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var to=K6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kh=Symbol.for("react.element"),Au=Symbol.for("react.portal"),Eu=Symbol.for("react.fragment"),Ag=Symbol.for("react.strict_mode"),E2=Symbol.for("react.profiler"),lx=Symbol.for("react.provider"),ux=Symbol.for("react.context"),Eg=Symbol.for("react.forward_ref"),C2=Symbol.for("react.suspense"),S2=Symbol.for("react.suspense_list"),Cg=Symbol.for("react.memo"),No=Symbol.for("react.lazy"),cx=Symbol.for("react.offscreen"),E5=Symbol.iterator;function Tc(e){return e===null||typeof e!="object"?null:(e=E5&&e[E5]||e["@@iterator"],typeof e=="function"?e:null)}var gr=Object.assign,v0;function Gc(e){if(v0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);v0=t&&t[1]||""}return`
`+v0+e}var b0=!1;function A0(e,t){if(!e||b0)return"";b0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var s=p.stack.split(`
`),a=r.stack.split(`
`),l=s.length-1,c=a.length-1;1<=l&&0<=c&&s[l]!==a[c];)c--;for(;1<=l&&0<=c;l--,c--)if(s[l]!==a[c]){if(l!==1||c!==1)do if(l--,c--,0>c||s[l]!==a[c]){var h=`
`+s[l].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=l&&0<=c);break}}}finally{b0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Gc(e):""}function e8(e){switch(e.tag){case 5:return Gc(e.type);case 16:return Gc("Lazy");case 13:return Gc("Suspense");case 19:return Gc("SuspenseList");case 0:case 2:case 15:return e=A0(e.type,!1),e;case 11:return e=A0(e.type.render,!1),e;case 1:return e=A0(e.type,!0),e;default:return""}}function N2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Eu:return"Fragment";case Au:return"Portal";case E2:return"Profiler";case Ag:return"StrictMode";case C2:return"Suspense";case S2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ux:return(e.displayName||"Context")+".Consumer";case lx:return(e._context.displayName||"Context")+".Provider";case Eg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cg:return t=e.displayName||null,t!==null?t:N2(e.type)||"Memo";case No:t=e._payload,e=e._init;try{return N2(e(t))}catch{}}return null}function t8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N2(t);case 8:return t===Ag?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Go(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n8(e){var t=fx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ph(e){e._valueTracker||(e._valueTracker=n8(e))}function hx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function D1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _2(e,t){var n=t.checked;return gr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function C5(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Go(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dx(e,t){t=t.checked,t!=null&&bg(e,"checked",t,!1)}function I2(e,t){dx(e,t);var n=Go(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?T2(e,t.type,n):t.hasOwnProperty("defaultValue")&&T2(e,t.type,Go(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function S5(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function T2(e,t,n){(t!=="number"||D1(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xc=Array.isArray;function Bu(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Go(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function L2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ut(91));return gr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function N5(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ut(92));if(Xc(n)){if(1<n.length)throw Error(ut(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Go(n)}}function px(e,t){var n=Go(t.value),r=Go(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function k2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Oh,mx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Oh=Oh||document.createElement("div"),Oh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r8=["Webkit","ms","Moz","O"];Object.keys(Zc).forEach(function(e){r8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zc[t]=Zc[e]})});function yx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Zc.hasOwnProperty(e)&&Zc[e]?(""+t).trim():t+"px"}function wx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=yx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var i8=gr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function P2(e,t){if(t){if(i8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ut(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ut(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ut(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ut(62))}}function O2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R2=null;function Sg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var D2=null,Fu=null,ju=null;function I5(e){if(e=Zf(e)){if(typeof D2!="function")throw Error(ut(280));var t=e.stateNode;t&&(t=Id(t),D2(e.stateNode,e.type,t))}}function xx(e){Fu?ju?ju.push(e):ju=[e]:Fu=e}function vx(){if(Fu){var e=Fu,t=ju;if(ju=Fu=null,I5(e),t)for(e=0;e<t.length;e++)I5(t[e])}}function bx(e,t){return e(t)}function Ax(){}var E0=!1;function Ex(e,t,n){if(E0)return e(t,n);E0=!0;try{return bx(e,t,n)}finally{E0=!1,(Fu!==null||ju!==null)&&(Ax(),vx())}}function Af(e,t){var n=e.stateNode;if(n===null)return null;var r=Id(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ut(231,t,typeof n));return n}var M2=!1;if(Qa)try{var Lc={};Object.defineProperty(Lc,"passive",{get:function(){M2=!0}}),window.addEventListener("test",Lc,Lc),window.removeEventListener("test",Lc,Lc)}catch{M2=!1}function s8(e,t,n,r,s,a,l,c,h){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(y){this.onError(y)}}var Jc=!1,M1=null,B1=!1,B2=null,a8={onError:function(e){Jc=!0,M1=e}};function o8(e,t,n,r,s,a,l,c,h){Jc=!1,M1=null,s8.apply(a8,arguments)}function l8(e,t,n,r,s,a,l,c,h){if(o8.apply(this,arguments),Jc){if(Jc){var p=M1;Jc=!1,M1=null}else throw Error(ut(198));B1||(B1=!0,B2=p)}}function $l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Cx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function T5(e){if($l(e)!==e)throw Error(ut(188))}function u8(e){var t=e.alternate;if(!t){if(t=$l(e),t===null)throw Error(ut(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return T5(s),e;if(a===r)return T5(s),t;a=a.sibling}throw Error(ut(188))}if(n.return!==r.return)n=s,r=a;else{for(var l=!1,c=s.child;c;){if(c===n){l=!0,n=s,r=a;break}if(c===r){l=!0,r=s,n=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===n){l=!0,n=a,r=s;break}if(c===r){l=!0,r=a,n=s;break}c=c.sibling}if(!l)throw Error(ut(189))}}if(n.alternate!==r)throw Error(ut(190))}if(n.tag!==3)throw Error(ut(188));return n.stateNode.current===n?e:t}function Sx(e){return e=u8(e),e!==null?Nx(e):null}function Nx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Nx(e);if(t!==null)return t;e=e.sibling}return null}var _x=ms.unstable_scheduleCallback,L5=ms.unstable_cancelCallback,c8=ms.unstable_shouldYield,f8=ms.unstable_requestPaint,Tr=ms.unstable_now,h8=ms.unstable_getCurrentPriorityLevel,Ng=ms.unstable_ImmediatePriority,Ix=ms.unstable_UserBlockingPriority,F1=ms.unstable_NormalPriority,d8=ms.unstable_LowPriority,Tx=ms.unstable_IdlePriority,Cd=null,va=null;function p8(e){if(va&&typeof va.onCommitFiberRoot=="function")try{va.onCommitFiberRoot(Cd,e,void 0,(e.current.flags&128)===128)}catch{}}var ea=Math.clz32?Math.clz32:y8,g8=Math.log,m8=Math.LN2;function y8(e){return e>>>=0,e===0?32:31-(g8(e)/m8|0)|0}var Rh=64,Dh=4194304;function Yc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function j1(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,l=n&268435455;if(l!==0){var c=l&~s;c!==0?r=Yc(c):(a&=l,a!==0&&(r=Yc(a)))}else l=n&~s,l!==0?r=Yc(l):a!==0&&(r=Yc(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ea(t),s=1<<n,r|=e[n],t&=~s;return r}function w8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x8(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-ea(a),c=1<<l,h=s[l];h===-1?(!(c&n)||c&r)&&(s[l]=w8(c,t)):h<=t&&(e.expiredLanes|=c),a&=~c}}function F2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lx(){var e=Rh;return Rh<<=1,!(Rh&4194240)&&(Rh=64),e}function C0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ea(t),e[t]=n}function v8(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ea(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function _g(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ea(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Pn=0;function kx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Px,Ig,Ox,Rx,Dx,j2=!1,Mh=[],Bo=null,Fo=null,jo=null,Ef=new Map,Cf=new Map,To=[],b8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function k5(e,t){switch(e){case"focusin":case"focusout":Bo=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":Ef.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cf.delete(t.pointerId)}}function kc(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Zf(t),t!==null&&Ig(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function A8(e,t,n,r,s){switch(t){case"focusin":return Bo=kc(Bo,e,t,n,r,s),!0;case"dragenter":return Fo=kc(Fo,e,t,n,r,s),!0;case"mouseover":return jo=kc(jo,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Ef.set(a,kc(Ef.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Cf.set(a,kc(Cf.get(a)||null,e,t,n,r,s)),!0}return!1}function Mx(e){var t=Pl(e.target);if(t!==null){var n=$l(t);if(n!==null){if(t=n.tag,t===13){if(t=Cx(n),t!==null){e.blockedOn=t,Dx(e.priority,function(){Ox(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function h1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=U2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);R2=r,n.target.dispatchEvent(r),R2=null}else return t=Zf(n),t!==null&&Ig(t),e.blockedOn=n,!1;t.shift()}return!0}function P5(e,t,n){h1(e)&&n.delete(t)}function E8(){j2=!1,Bo!==null&&h1(Bo)&&(Bo=null),Fo!==null&&h1(Fo)&&(Fo=null),jo!==null&&h1(jo)&&(jo=null),Ef.forEach(P5),Cf.forEach(P5)}function Pc(e,t){e.blockedOn===t&&(e.blockedOn=null,j2||(j2=!0,ms.unstable_scheduleCallback(ms.unstable_NormalPriority,E8)))}function Sf(e){function t(s){return Pc(s,e)}if(0<Mh.length){Pc(Mh[0],e);for(var n=1;n<Mh.length;n++){var r=Mh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Bo!==null&&Pc(Bo,e),Fo!==null&&Pc(Fo,e),jo!==null&&Pc(jo,e),Ef.forEach(t),Cf.forEach(t),n=0;n<To.length;n++)r=To[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<To.length&&(n=To[0],n.blockedOn===null);)Mx(n),n.blockedOn===null&&To.shift()}var Uu=to.ReactCurrentBatchConfig,U1=!0;function C8(e,t,n,r){var s=Pn,a=Uu.transition;Uu.transition=null;try{Pn=1,Tg(e,t,n,r)}finally{Pn=s,Uu.transition=a}}function S8(e,t,n,r){var s=Pn,a=Uu.transition;Uu.transition=null;try{Pn=4,Tg(e,t,n,r)}finally{Pn=s,Uu.transition=a}}function Tg(e,t,n,r){if(U1){var s=U2(e,t,n,r);if(s===null)R0(e,t,r,z1,n),k5(e,r);else if(A8(s,e,t,n,r))r.stopPropagation();else if(k5(e,r),t&4&&-1<b8.indexOf(e)){for(;s!==null;){var a=Zf(s);if(a!==null&&Px(a),a=U2(e,t,n,r),a===null&&R0(e,t,r,z1,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else R0(e,t,r,null,n)}}var z1=null;function U2(e,t,n,r){if(z1=null,e=Sg(r),e=Pl(e),e!==null)if(t=$l(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Cx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return z1=e,null}function Bx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h8()){case Ng:return 1;case Ix:return 4;case F1:case d8:return 16;case Tx:return 536870912;default:return 16}default:return 16}}var Po=null,Lg=null,d1=null;function Fx(){if(d1)return d1;var e,t=Lg,n=t.length,r,s="value"in Po?Po.value:Po.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[a-r];r++);return d1=s.slice(e,1<r?1-r:void 0)}function p1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bh(){return!0}function O5(){return!1}function xs(e){function t(n,r,s,a,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Bh:O5,this.isPropagationStopped=O5,this}return gr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bh)},persist:function(){},isPersistent:Bh}),t}var fc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kg=xs(fc),$f=gr({},fc,{view:0,detail:0}),N8=xs($f),S0,N0,Oc,Sd=gr({},$f,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oc&&(Oc&&e.type==="mousemove"?(S0=e.screenX-Oc.screenX,N0=e.screenY-Oc.screenY):N0=S0=0,Oc=e),S0)},movementY:function(e){return"movementY"in e?e.movementY:N0}}),R5=xs(Sd),_8=gr({},Sd,{dataTransfer:0}),I8=xs(_8),T8=gr({},$f,{relatedTarget:0}),_0=xs(T8),L8=gr({},fc,{animationName:0,elapsedTime:0,pseudoElement:0}),k8=xs(L8),P8=gr({},fc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O8=xs(P8),R8=gr({},fc,{data:0}),D5=xs(R8),D8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=B8[e])?!!t[e]:!1}function Pg(){return F8}var j8=gr({},$f,{key:function(e){if(e.key){var t=D8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=p1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?M8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pg,charCode:function(e){return e.type==="keypress"?p1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?p1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),U8=xs(j8),z8=gr({},Sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M5=xs(z8),q8=gr({},$f,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pg}),W8=xs(q8),V8=gr({},fc,{propertyName:0,elapsedTime:0,pseudoElement:0}),H8=xs(V8),G8=gr({},Sd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),X8=xs(G8),Y8=[9,13,27,32],Og=Qa&&"CompositionEvent"in window,ef=null;Qa&&"documentMode"in document&&(ef=document.documentMode);var K8=Qa&&"TextEvent"in window&&!ef,jx=Qa&&(!Og||ef&&8<ef&&11>=ef),B5=" ",F5=!1;function Ux(e,t){switch(e){case"keyup":return Y8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cu=!1;function Q8(e,t){switch(e){case"compositionend":return zx(t);case"keypress":return t.which!==32?null:(F5=!0,B5);case"textInput":return e=t.data,e===B5&&F5?null:e;default:return null}}function $8(e,t){if(Cu)return e==="compositionend"||!Og&&Ux(e,t)?(e=Fx(),d1=Lg=Po=null,Cu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jx&&t.locale!=="ko"?null:t.data;default:return null}}var Z8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Z8[e.type]:t==="textarea"}function qx(e,t,n,r){xx(r),t=q1(t,"onChange"),0<t.length&&(n=new kg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var tf=null,Nf=null;function J8(e){Jx(e,0)}function Nd(e){var t=_u(e);if(hx(t))return e}function eA(e,t){if(e==="change")return t}var Wx=!1;if(Qa){var I0;if(Qa){var T0="oninput"in document;if(!T0){var U5=document.createElement("div");U5.setAttribute("oninput","return;"),T0=typeof U5.oninput=="function"}I0=T0}else I0=!1;Wx=I0&&(!document.documentMode||9<document.documentMode)}function z5(){tf&&(tf.detachEvent("onpropertychange",Vx),Nf=tf=null)}function Vx(e){if(e.propertyName==="value"&&Nd(Nf)){var t=[];qx(t,Nf,e,Sg(e)),Ex(J8,t)}}function tA(e,t,n){e==="focusin"?(z5(),tf=t,Nf=n,tf.attachEvent("onpropertychange",Vx)):e==="focusout"&&z5()}function nA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nd(Nf)}function rA(e,t){if(e==="click")return Nd(t)}function iA(e,t){if(e==="input"||e==="change")return Nd(t)}function sA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ra=typeof Object.is=="function"?Object.is:sA;function _f(e,t){if(ra(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!A2.call(t,s)||!ra(e[s],t[s]))return!1}return!0}function q5(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function W5(e,t){var n=q5(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=q5(n)}}function Hx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gx(){for(var e=window,t=D1();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=D1(e.document)}return t}function Rg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function aA(e){var t=Gx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Hx(n.ownerDocument.documentElement,n)){if(r!==null&&Rg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=W5(n,a);var l=W5(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oA=Qa&&"documentMode"in document&&11>=document.documentMode,Su=null,z2=null,nf=null,q2=!1;function V5(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;q2||Su==null||Su!==D1(r)||(r=Su,"selectionStart"in r&&Rg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nf&&_f(nf,r)||(nf=r,r=q1(z2,"onSelect"),0<r.length&&(t=new kg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Su)))}function Fh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nu={animationend:Fh("Animation","AnimationEnd"),animationiteration:Fh("Animation","AnimationIteration"),animationstart:Fh("Animation","AnimationStart"),transitionend:Fh("Transition","TransitionEnd")},L0={},Xx={};Qa&&(Xx=document.createElement("div").style,"AnimationEvent"in window||(delete Nu.animationend.animation,delete Nu.animationiteration.animation,delete Nu.animationstart.animation),"TransitionEvent"in window||delete Nu.transitionend.transition);function _d(e){if(L0[e])return L0[e];if(!Nu[e])return e;var t=Nu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xx)return L0[e]=t[n];return e}var Yx=_d("animationend"),Kx=_d("animationiteration"),Qx=_d("animationstart"),$x=_d("transitionend"),Zx=new Map,H5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tl(e,t){Zx.set(e,t),Ql(t,[e])}for(var k0=0;k0<H5.length;k0++){var P0=H5[k0],lA=P0.toLowerCase(),uA=P0[0].toUpperCase()+P0.slice(1);tl(lA,"on"+uA)}tl(Yx,"onAnimationEnd");tl(Kx,"onAnimationIteration");tl(Qx,"onAnimationStart");tl("dblclick","onDoubleClick");tl("focusin","onFocus");tl("focusout","onBlur");tl($x,"onTransitionEnd");$u("onMouseEnter",["mouseout","mouseover"]);$u("onMouseLeave",["mouseout","mouseover"]);$u("onPointerEnter",["pointerout","pointerover"]);$u("onPointerLeave",["pointerout","pointerover"]);Ql("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ql("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ql("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ql("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ql("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ql("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kc));function G5(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,l8(r,t,void 0,e),e.currentTarget=null}function Jx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var l=r.length-1;0<=l;l--){var c=r[l],h=c.instance,p=c.currentTarget;if(c=c.listener,h!==a&&s.isPropagationStopped())break e;G5(s,c,p),a=h}else for(l=0;l<r.length;l++){if(c=r[l],h=c.instance,p=c.currentTarget,c=c.listener,h!==a&&s.isPropagationStopped())break e;G5(s,c,p),a=h}}}if(B1)throw e=B2,B1=!1,B2=null,e}function $n(e,t){var n=t[X2];n===void 0&&(n=t[X2]=new Set);var r=e+"__bubble";n.has(r)||(ev(t,e,2,!1),n.add(r))}function O0(e,t,n){var r=0;t&&(r|=4),ev(n,e,r,t)}var jh="_reactListening"+Math.random().toString(36).slice(2);function If(e){if(!e[jh]){e[jh]=!0,ox.forEach(function(n){n!=="selectionchange"&&(cA.has(n)||O0(n,!1,e),O0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jh]||(t[jh]=!0,O0("selectionchange",!1,t))}}function ev(e,t,n,r){switch(Bx(t)){case 1:var s=C8;break;case 4:s=S8;break;default:s=Tg}n=s.bind(null,t,n,e),s=void 0,!M2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function R0(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===s||h.nodeType===8&&h.parentNode===s))return;l=l.return}for(;c!==null;){if(l=Pl(c),l===null)return;if(h=l.tag,h===5||h===6){r=a=l;continue e}c=c.parentNode}}r=r.return}Ex(function(){var p=a,y=Sg(n),w=[];e:{var v=Zx.get(e);if(v!==void 0){var b=kg,E=e;switch(e){case"keypress":if(p1(n)===0)break e;case"keydown":case"keyup":b=U8;break;case"focusin":E="focus",b=_0;break;case"focusout":E="blur",b=_0;break;case"beforeblur":case"afterblur":b=_0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=R5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=I8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=W8;break;case Yx:case Kx:case Qx:b=k8;break;case $x:b=H8;break;case"scroll":b=N8;break;case"wheel":b=X8;break;case"copy":case"cut":case"paste":b=O8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=M5}var A=(t&4)!==0,k=!A&&e==="scroll",S=A?v!==null?v+"Capture":null:v;A=[];for(var _=p,L;_!==null;){L=_;var z=L.stateNode;if(L.tag===5&&z!==null&&(L=z,S!==null&&(z=Af(_,S),z!=null&&A.push(Tf(_,z,L)))),k)break;_=_.return}0<A.length&&(v=new b(v,E,null,n,y),w.push({event:v,listeners:A}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",v&&n!==R2&&(E=n.relatedTarget||n.fromElement)&&(Pl(E)||E[$a]))break e;if((b||v)&&(v=y.window===y?y:(v=y.ownerDocument)?v.defaultView||v.parentWindow:window,b?(E=n.relatedTarget||n.toElement,b=p,E=E?Pl(E):null,E!==null&&(k=$l(E),E!==k||E.tag!==5&&E.tag!==6)&&(E=null)):(b=null,E=p),b!==E)){if(A=R5,z="onMouseLeave",S="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(A=M5,z="onPointerLeave",S="onPointerEnter",_="pointer"),k=b==null?v:_u(b),L=E==null?v:_u(E),v=new A(z,_+"leave",b,n,y),v.target=k,v.relatedTarget=L,z=null,Pl(y)===p&&(A=new A(S,_+"enter",E,n,y),A.target=L,A.relatedTarget=k,z=A),k=z,b&&E)t:{for(A=b,S=E,_=0,L=A;L;L=hu(L))_++;for(L=0,z=S;z;z=hu(z))L++;for(;0<_-L;)A=hu(A),_--;for(;0<L-_;)S=hu(S),L--;for(;_--;){if(A===S||S!==null&&A===S.alternate)break t;A=hu(A),S=hu(S)}A=null}else A=null;b!==null&&X5(w,v,b,A,!1),E!==null&&k!==null&&X5(w,k,E,A,!0)}}e:{if(v=p?_u(p):window,b=v.nodeName&&v.nodeName.toLowerCase(),b==="select"||b==="input"&&v.type==="file")var H=eA;else if(j5(v))if(Wx)H=iA;else{H=nA;var M=tA}else(b=v.nodeName)&&b.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(H=rA);if(H&&(H=H(e,p))){qx(w,H,n,y);break e}M&&M(e,v,p),e==="focusout"&&(M=v._wrapperState)&&M.controlled&&v.type==="number"&&T2(v,"number",v.value)}switch(M=p?_u(p):window,e){case"focusin":(j5(M)||M.contentEditable==="true")&&(Su=M,z2=p,nf=null);break;case"focusout":nf=z2=Su=null;break;case"mousedown":q2=!0;break;case"contextmenu":case"mouseup":case"dragend":q2=!1,V5(w,n,y);break;case"selectionchange":if(oA)break;case"keydown":case"keyup":V5(w,n,y)}var D;if(Og)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else Cu?Ux(e,n)&&(q="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(q="onCompositionStart");q&&(jx&&n.locale!=="ko"&&(Cu||q!=="onCompositionStart"?q==="onCompositionEnd"&&Cu&&(D=Fx()):(Po=y,Lg="value"in Po?Po.value:Po.textContent,Cu=!0)),M=q1(p,q),0<M.length&&(q=new D5(q,e,null,n,y),w.push({event:q,listeners:M}),D?q.data=D:(D=zx(n),D!==null&&(q.data=D)))),(D=K8?Q8(e,n):$8(e,n))&&(p=q1(p,"onBeforeInput"),0<p.length&&(y=new D5("onBeforeInput","beforeinput",null,n,y),w.push({event:y,listeners:p}),y.data=D))}Jx(w,t)})}function Tf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function q1(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Af(e,n),a!=null&&r.unshift(Tf(e,a,s)),a=Af(e,t),a!=null&&r.push(Tf(e,a,s))),e=e.return}return r}function hu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function X5(e,t,n,r,s){for(var a=t._reactName,l=[];n!==null&&n!==r;){var c=n,h=c.alternate,p=c.stateNode;if(h!==null&&h===r)break;c.tag===5&&p!==null&&(c=p,s?(h=Af(n,a),h!=null&&l.unshift(Tf(n,h,c))):s||(h=Af(n,a),h!=null&&l.push(Tf(n,h,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var fA=/\r\n?/g,hA=/\u0000|\uFFFD/g;function Y5(e){return(typeof e=="string"?e:""+e).replace(fA,`
`).replace(hA,"")}function Uh(e,t,n){if(t=Y5(t),Y5(e)!==t&&n)throw Error(ut(425))}function W1(){}var W2=null,V2=null;function H2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var G2=typeof setTimeout=="function"?setTimeout:void 0,dA=typeof clearTimeout=="function"?clearTimeout:void 0,K5=typeof Promise=="function"?Promise:void 0,pA=typeof queueMicrotask=="function"?queueMicrotask:typeof K5<"u"?function(e){return K5.resolve(null).then(e).catch(gA)}:G2;function gA(e){setTimeout(function(){throw e})}function D0(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Sf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Sf(t)}function Uo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Q5(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var hc=Math.random().toString(36).slice(2),wa="__reactFiber$"+hc,Lf="__reactProps$"+hc,$a="__reactContainer$"+hc,X2="__reactEvents$"+hc,mA="__reactListeners$"+hc,yA="__reactHandles$"+hc;function Pl(e){var t=e[wa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$a]||n[wa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Q5(e);e!==null;){if(n=e[wa])return n;e=Q5(e)}return t}e=n,n=e.parentNode}return null}function Zf(e){return e=e[wa]||e[$a],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _u(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ut(33))}function Id(e){return e[Lf]||null}var Y2=[],Iu=-1;function nl(e){return{current:e}}function tr(e){0>Iu||(e.current=Y2[Iu],Y2[Iu]=null,Iu--)}function Vn(e,t){Iu++,Y2[Iu]=e.current,e.current=t}var Xo={},Ti=nl(Xo),Qi=nl(!1),Wl=Xo;function Zu(e,t){var n=e.type.contextTypes;if(!n)return Xo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function $i(e){return e=e.childContextTypes,e!=null}function V1(){tr(Qi),tr(Ti)}function $5(e,t,n){if(Ti.current!==Xo)throw Error(ut(168));Vn(Ti,t),Vn(Qi,n)}function tv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(ut(108,t8(e)||"Unknown",s));return gr({},n,r)}function H1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xo,Wl=Ti.current,Vn(Ti,e),Vn(Qi,Qi.current),!0}function Z5(e,t,n){var r=e.stateNode;if(!r)throw Error(ut(169));n?(e=tv(e,t,Wl),r.__reactInternalMemoizedMergedChildContext=e,tr(Qi),tr(Ti),Vn(Ti,e)):tr(Qi),Vn(Qi,n)}var za=null,Td=!1,M0=!1;function nv(e){za===null?za=[e]:za.push(e)}function wA(e){Td=!0,nv(e)}function rl(){if(!M0&&za!==null){M0=!0;var e=0,t=Pn;try{var n=za;for(Pn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}za=null,Td=!1}catch(s){throw za!==null&&(za=za.slice(e+1)),_x(Ng,rl),s}finally{Pn=t,M0=!1}}return null}var Tu=[],Lu=0,G1=null,X1=0,Ps=[],Os=0,Vl=null,Va=1,Ha="";function Sl(e,t){Tu[Lu++]=X1,Tu[Lu++]=G1,G1=e,X1=t}function rv(e,t,n){Ps[Os++]=Va,Ps[Os++]=Ha,Ps[Os++]=Vl,Vl=e;var r=Va;e=Ha;var s=32-ea(r)-1;r&=~(1<<s),n+=1;var a=32-ea(t)+s;if(30<a){var l=s-s%5;a=(r&(1<<l)-1).toString(32),r>>=l,s-=l,Va=1<<32-ea(t)+s|n<<s|r,Ha=a+e}else Va=1<<a|n<<s|r,Ha=e}function Dg(e){e.return!==null&&(Sl(e,1),rv(e,1,0))}function Mg(e){for(;e===G1;)G1=Tu[--Lu],Tu[Lu]=null,X1=Tu[--Lu],Tu[Lu]=null;for(;e===Vl;)Vl=Ps[--Os],Ps[Os]=null,Ha=Ps[--Os],Ps[Os]=null,Va=Ps[--Os],Ps[Os]=null}var gs=null,hs=null,lr=!1,Js=null;function iv(e,t){var n=Rs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function J5(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gs=e,hs=Uo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gs=e,hs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vl!==null?{id:Va,overflow:Ha}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Rs(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gs=e,hs=null,!0):!1;default:return!1}}function K2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Q2(e){if(lr){var t=hs;if(t){var n=t;if(!J5(e,t)){if(K2(e))throw Error(ut(418));t=Uo(n.nextSibling);var r=gs;t&&J5(e,t)?iv(r,n):(e.flags=e.flags&-4097|2,lr=!1,gs=e)}}else{if(K2(e))throw Error(ut(418));e.flags=e.flags&-4097|2,lr=!1,gs=e}}}function ey(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gs=e}function zh(e){if(e!==gs)return!1;if(!lr)return ey(e),lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!H2(e.type,e.memoizedProps)),t&&(t=hs)){if(K2(e))throw sv(),Error(ut(418));for(;t;)iv(e,t),t=Uo(t.nextSibling)}if(ey(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ut(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){hs=Uo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}hs=null}}else hs=gs?Uo(e.stateNode.nextSibling):null;return!0}function sv(){for(var e=hs;e;)e=Uo(e.nextSibling)}function Ju(){hs=gs=null,lr=!1}function Bg(e){Js===null?Js=[e]:Js.push(e)}var xA=to.ReactCurrentBatchConfig;function Rc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ut(309));var r=n.stateNode}if(!r)throw Error(ut(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var c=s.refs;l===null?delete c[a]:c[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(ut(284));if(!n._owner)throw Error(ut(290,e))}return e}function qh(e,t){throw e=Object.prototype.toString.call(t),Error(ut(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ty(e){var t=e._init;return t(e._payload)}function av(e){function t(S,_){if(e){var L=S.deletions;L===null?(S.deletions=[_],S.flags|=16):L.push(_)}}function n(S,_){if(!e)return null;for(;_!==null;)t(S,_),_=_.sibling;return null}function r(S,_){for(S=new Map;_!==null;)_.key!==null?S.set(_.key,_):S.set(_.index,_),_=_.sibling;return S}function s(S,_){return S=Vo(S,_),S.index=0,S.sibling=null,S}function a(S,_,L){return S.index=L,e?(L=S.alternate,L!==null?(L=L.index,L<_?(S.flags|=2,_):L):(S.flags|=2,_)):(S.flags|=1048576,_)}function l(S){return e&&S.alternate===null&&(S.flags|=2),S}function c(S,_,L,z){return _===null||_.tag!==6?(_=W0(L,S.mode,z),_.return=S,_):(_=s(_,L),_.return=S,_)}function h(S,_,L,z){var H=L.type;return H===Eu?y(S,_,L.props.children,z,L.key):_!==null&&(_.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===No&&ty(H)===_.type)?(z=s(_,L.props),z.ref=Rc(S,_,L),z.return=S,z):(z=b1(L.type,L.key,L.props,null,S.mode,z),z.ref=Rc(S,_,L),z.return=S,z)}function p(S,_,L,z){return _===null||_.tag!==4||_.stateNode.containerInfo!==L.containerInfo||_.stateNode.implementation!==L.implementation?(_=V0(L,S.mode,z),_.return=S,_):(_=s(_,L.children||[]),_.return=S,_)}function y(S,_,L,z,H){return _===null||_.tag!==7?(_=Bl(L,S.mode,z,H),_.return=S,_):(_=s(_,L),_.return=S,_)}function w(S,_,L){if(typeof _=="string"&&_!==""||typeof _=="number")return _=W0(""+_,S.mode,L),_.return=S,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case kh:return L=b1(_.type,_.key,_.props,null,S.mode,L),L.ref=Rc(S,null,_),L.return=S,L;case Au:return _=V0(_,S.mode,L),_.return=S,_;case No:var z=_._init;return w(S,z(_._payload),L)}if(Xc(_)||Tc(_))return _=Bl(_,S.mode,L,null),_.return=S,_;qh(S,_)}return null}function v(S,_,L,z){var H=_!==null?_.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return H!==null?null:c(S,_,""+L,z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case kh:return L.key===H?h(S,_,L,z):null;case Au:return L.key===H?p(S,_,L,z):null;case No:return H=L._init,v(S,_,H(L._payload),z)}if(Xc(L)||Tc(L))return H!==null?null:y(S,_,L,z,null);qh(S,L)}return null}function b(S,_,L,z,H){if(typeof z=="string"&&z!==""||typeof z=="number")return S=S.get(L)||null,c(_,S,""+z,H);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case kh:return S=S.get(z.key===null?L:z.key)||null,h(_,S,z,H);case Au:return S=S.get(z.key===null?L:z.key)||null,p(_,S,z,H);case No:var M=z._init;return b(S,_,L,M(z._payload),H)}if(Xc(z)||Tc(z))return S=S.get(L)||null,y(_,S,z,H,null);qh(_,z)}return null}function E(S,_,L,z){for(var H=null,M=null,D=_,q=_=0,F=null;D!==null&&q<L.length;q++){D.index>q?(F=D,D=null):F=D.sibling;var oe=v(S,D,L[q],z);if(oe===null){D===null&&(D=F);break}e&&D&&oe.alternate===null&&t(S,D),_=a(oe,_,q),M===null?H=oe:M.sibling=oe,M=oe,D=F}if(q===L.length)return n(S,D),lr&&Sl(S,q),H;if(D===null){for(;q<L.length;q++)D=w(S,L[q],z),D!==null&&(_=a(D,_,q),M===null?H=D:M.sibling=D,M=D);return lr&&Sl(S,q),H}for(D=r(S,D);q<L.length;q++)F=b(D,S,q,L[q],z),F!==null&&(e&&F.alternate!==null&&D.delete(F.key===null?q:F.key),_=a(F,_,q),M===null?H=F:M.sibling=F,M=F);return e&&D.forEach(function(W){return t(S,W)}),lr&&Sl(S,q),H}function A(S,_,L,z){var H=Tc(L);if(typeof H!="function")throw Error(ut(150));if(L=H.call(L),L==null)throw Error(ut(151));for(var M=H=null,D=_,q=_=0,F=null,oe=L.next();D!==null&&!oe.done;q++,oe=L.next()){D.index>q?(F=D,D=null):F=D.sibling;var W=v(S,D,oe.value,z);if(W===null){D===null&&(D=F);break}e&&D&&W.alternate===null&&t(S,D),_=a(W,_,q),M===null?H=W:M.sibling=W,M=W,D=F}if(oe.done)return n(S,D),lr&&Sl(S,q),H;if(D===null){for(;!oe.done;q++,oe=L.next())oe=w(S,oe.value,z),oe!==null&&(_=a(oe,_,q),M===null?H=oe:M.sibling=oe,M=oe);return lr&&Sl(S,q),H}for(D=r(S,D);!oe.done;q++,oe=L.next())oe=b(D,S,q,oe.value,z),oe!==null&&(e&&oe.alternate!==null&&D.delete(oe.key===null?q:oe.key),_=a(oe,_,q),M===null?H=oe:M.sibling=oe,M=oe);return e&&D.forEach(function(X){return t(S,X)}),lr&&Sl(S,q),H}function k(S,_,L,z){if(typeof L=="object"&&L!==null&&L.type===Eu&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case kh:e:{for(var H=L.key,M=_;M!==null;){if(M.key===H){if(H=L.type,H===Eu){if(M.tag===7){n(S,M.sibling),_=s(M,L.props.children),_.return=S,S=_;break e}}else if(M.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===No&&ty(H)===M.type){n(S,M.sibling),_=s(M,L.props),_.ref=Rc(S,M,L),_.return=S,S=_;break e}n(S,M);break}else t(S,M);M=M.sibling}L.type===Eu?(_=Bl(L.props.children,S.mode,z,L.key),_.return=S,S=_):(z=b1(L.type,L.key,L.props,null,S.mode,z),z.ref=Rc(S,_,L),z.return=S,S=z)}return l(S);case Au:e:{for(M=L.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===L.containerInfo&&_.stateNode.implementation===L.implementation){n(S,_.sibling),_=s(_,L.children||[]),_.return=S,S=_;break e}else{n(S,_);break}else t(S,_);_=_.sibling}_=V0(L,S.mode,z),_.return=S,S=_}return l(S);case No:return M=L._init,k(S,_,M(L._payload),z)}if(Xc(L))return E(S,_,L,z);if(Tc(L))return A(S,_,L,z);qh(S,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,_!==null&&_.tag===6?(n(S,_.sibling),_=s(_,L),_.return=S,S=_):(n(S,_),_=W0(L,S.mode,z),_.return=S,S=_),l(S)):n(S,_)}return k}var ec=av(!0),ov=av(!1),Y1=nl(null),K1=null,ku=null,Fg=null;function jg(){Fg=ku=K1=null}function Ug(e){var t=Y1.current;tr(Y1),e._currentValue=t}function $2(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zu(e,t){K1=e,Fg=ku=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ki=!0),e.firstContext=null)}function Ms(e){var t=e._currentValue;if(Fg!==e)if(e={context:e,memoizedValue:t,next:null},ku===null){if(K1===null)throw Error(ut(308));ku=e,K1.dependencies={lanes:0,firstContext:e}}else ku=ku.next=e;return t}var Ol=null;function zg(e){Ol===null?Ol=[e]:Ol.push(e)}function lv(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,zg(t)):(n.next=s.next,s.next=n),t.interleaved=n,Za(e,r)}function Za(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _o=!1;function qg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,An&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Za(e,n)}return s=r.interleaved,s===null?(t.next=t,zg(r)):(t.next=s.next,s.next=t),r.interleaved=t,Za(e,n)}function g1(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_g(e,n)}}function ny(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Q1(e,t,n,r){var s=e.updateQueue;_o=!1;var a=s.firstBaseUpdate,l=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var h=c,p=h.next;h.next=null,l===null?a=p:l.next=p,l=h;var y=e.alternate;y!==null&&(y=y.updateQueue,c=y.lastBaseUpdate,c!==l&&(c===null?y.firstBaseUpdate=p:c.next=p,y.lastBaseUpdate=h))}if(a!==null){var w=s.baseState;l=0,y=p=h=null,c=a;do{var v=c.lane,b=c.eventTime;if((r&v)===v){y!==null&&(y=y.next={eventTime:b,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var E=e,A=c;switch(v=t,b=n,A.tag){case 1:if(E=A.payload,typeof E=="function"){w=E.call(b,w,v);break e}w=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=A.payload,v=typeof E=="function"?E.call(b,w,v):E,v==null)break e;w=gr({},w,v);break e;case 2:_o=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,v=s.effects,v===null?s.effects=[c]:v.push(c))}else b={eventTime:b,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},y===null?(p=y=b,h=w):y=y.next=b,l|=v;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;v=c,c=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(y===null&&(h=w),s.baseState=h,s.firstBaseUpdate=p,s.lastBaseUpdate=y,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Gl|=l,e.lanes=l,e.memoizedState=w}}function ry(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ut(191,s));s.call(r)}}}var Jf={},ba=nl(Jf),kf=nl(Jf),Pf=nl(Jf);function Rl(e){if(e===Jf)throw Error(ut(174));return e}function Wg(e,t){switch(Vn(Pf,t),Vn(kf,e),Vn(ba,Jf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:k2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=k2(t,e)}tr(ba),Vn(ba,t)}function tc(){tr(ba),tr(kf),tr(Pf)}function cv(e){Rl(Pf.current);var t=Rl(ba.current),n=k2(t,e.type);t!==n&&(Vn(kf,e),Vn(ba,n))}function Vg(e){kf.current===e&&(tr(ba),tr(kf))}var dr=nl(0);function $1(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var B0=[];function Hg(){for(var e=0;e<B0.length;e++)B0[e]._workInProgressVersionPrimary=null;B0.length=0}var m1=to.ReactCurrentDispatcher,F0=to.ReactCurrentBatchConfig,Hl=0,pr=null,Vr=null,Jr=null,Z1=!1,rf=!1,Of=0,vA=0;function xi(){throw Error(ut(321))}function Gg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ra(e[n],t[n]))return!1;return!0}function Xg(e,t,n,r,s,a){if(Hl=a,pr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,m1.current=e===null||e.memoizedState===null?CA:SA,e=n(r,s),rf){a=0;do{if(rf=!1,Of=0,25<=a)throw Error(ut(301));a+=1,Jr=Vr=null,t.updateQueue=null,m1.current=NA,e=n(r,s)}while(rf)}if(m1.current=J1,t=Vr!==null&&Vr.next!==null,Hl=0,Jr=Vr=pr=null,Z1=!1,t)throw Error(ut(300));return e}function Yg(){var e=Of!==0;return Of=0,e}function ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?pr.memoizedState=Jr=e:Jr=Jr.next=e,Jr}function Bs(){if(Vr===null){var e=pr.alternate;e=e!==null?e.memoizedState:null}else e=Vr.next;var t=Jr===null?pr.memoizedState:Jr.next;if(t!==null)Jr=t,Vr=e;else{if(e===null)throw Error(ut(310));Vr=e,e={memoizedState:Vr.memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},Jr===null?pr.memoizedState=Jr=e:Jr=Jr.next=e}return Jr}function Rf(e,t){return typeof t=="function"?t(e):t}function j0(e){var t=Bs(),n=t.queue;if(n===null)throw Error(ut(311));n.lastRenderedReducer=e;var r=Vr,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var l=s.next;s.next=a.next,a.next=l}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var c=l=null,h=null,p=a;do{var y=p.lane;if((Hl&y)===y)h!==null&&(h=h.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var w={lane:y,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};h===null?(c=h=w,l=r):h=h.next=w,pr.lanes|=y,Gl|=y}p=p.next}while(p!==null&&p!==a);h===null?l=r:h.next=c,ra(r,t.memoizedState)||(Ki=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=h,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,pr.lanes|=a,Gl|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function U0(e){var t=Bs(),n=t.queue;if(n===null)throw Error(ut(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do a=e(a,l.action),l=l.next;while(l!==s);ra(a,t.memoizedState)||(Ki=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fv(){}function hv(e,t){var n=pr,r=Bs(),s=t(),a=!ra(r.memoizedState,s);if(a&&(r.memoizedState=s,Ki=!0),r=r.queue,Kg(gv.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Jr!==null&&Jr.memoizedState.tag&1){if(n.flags|=2048,Df(9,pv.bind(null,n,r,s,t),void 0,null),ni===null)throw Error(ut(349));Hl&30||dv(n,t,s)}return s}function dv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pr.updateQueue,t===null?(t={lastEffect:null,stores:null},pr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pv(e,t,n,r){t.value=n,t.getSnapshot=r,mv(t)&&yv(e)}function gv(e,t,n){return n(function(){mv(t)&&yv(e)})}function mv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ra(e,n)}catch{return!0}}function yv(e){var t=Za(e,1);t!==null&&ta(t,e,1,-1)}function iy(e){var t=ma();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rf,lastRenderedState:e},t.queue=e,e=e.dispatch=EA.bind(null,pr,e),[t.memoizedState,e]}function Df(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pr.updateQueue,t===null?(t={lastEffect:null,stores:null},pr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wv(){return Bs().memoizedState}function y1(e,t,n,r){var s=ma();pr.flags|=e,s.memoizedState=Df(1|t,n,void 0,r===void 0?null:r)}function Ld(e,t,n,r){var s=Bs();r=r===void 0?null:r;var a=void 0;if(Vr!==null){var l=Vr.memoizedState;if(a=l.destroy,r!==null&&Gg(r,l.deps)){s.memoizedState=Df(t,n,a,r);return}}pr.flags|=e,s.memoizedState=Df(1|t,n,a,r)}function sy(e,t){return y1(8390656,8,e,t)}function Kg(e,t){return Ld(2048,8,e,t)}function xv(e,t){return Ld(4,2,e,t)}function vv(e,t){return Ld(4,4,e,t)}function bv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Av(e,t,n){return n=n!=null?n.concat([e]):null,Ld(4,4,bv.bind(null,t,e),n)}function Qg(){}function Ev(e,t){var n=Bs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cv(e,t){var n=Bs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Sv(e,t,n){return Hl&21?(ra(n,t)||(n=Lx(),pr.lanes|=n,Gl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ki=!0),e.memoizedState=n)}function bA(e,t){var n=Pn;Pn=n!==0&&4>n?n:4,e(!0);var r=F0.transition;F0.transition={};try{e(!1),t()}finally{Pn=n,F0.transition=r}}function Nv(){return Bs().memoizedState}function AA(e,t,n){var r=Wo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_v(e))Iv(t,n);else if(n=lv(e,t,n,r),n!==null){var s=Fi();ta(n,e,r,s),Tv(n,t,r)}}function EA(e,t,n){var r=Wo(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_v(e))Iv(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,c=a(l,n);if(s.hasEagerState=!0,s.eagerState=c,ra(c,l)){var h=t.interleaved;h===null?(s.next=s,zg(t)):(s.next=h.next,h.next=s),t.interleaved=s;return}}catch{}finally{}n=lv(e,t,s,r),n!==null&&(s=Fi(),ta(n,e,r,s),Tv(n,t,r))}}function _v(e){var t=e.alternate;return e===pr||t!==null&&t===pr}function Iv(e,t){rf=Z1=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Tv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_g(e,n)}}var J1={readContext:Ms,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},CA={readContext:Ms,useCallback:function(e,t){return ma().memoizedState=[e,t===void 0?null:t],e},useContext:Ms,useEffect:sy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,y1(4194308,4,bv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return y1(4194308,4,e,t)},useInsertionEffect:function(e,t){return y1(4,2,e,t)},useMemo:function(e,t){var n=ma();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ma();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=AA.bind(null,pr,e),[r.memoizedState,e]},useRef:function(e){var t=ma();return e={current:e},t.memoizedState=e},useState:iy,useDebugValue:Qg,useDeferredValue:function(e){return ma().memoizedState=e},useTransition:function(){var e=iy(!1),t=e[0];return e=bA.bind(null,e[1]),ma().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pr,s=ma();if(lr){if(n===void 0)throw Error(ut(407));n=n()}else{if(n=t(),ni===null)throw Error(ut(349));Hl&30||dv(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,sy(gv.bind(null,r,a,e),[e]),r.flags|=2048,Df(9,pv.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ma(),t=ni.identifierPrefix;if(lr){var n=Ha,r=Va;n=(r&~(1<<32-ea(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Of++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},SA={readContext:Ms,useCallback:Ev,useContext:Ms,useEffect:Kg,useImperativeHandle:Av,useInsertionEffect:xv,useLayoutEffect:vv,useMemo:Cv,useReducer:j0,useRef:wv,useState:function(){return j0(Rf)},useDebugValue:Qg,useDeferredValue:function(e){var t=Bs();return Sv(t,Vr.memoizedState,e)},useTransition:function(){var e=j0(Rf)[0],t=Bs().memoizedState;return[e,t]},useMutableSource:fv,useSyncExternalStore:hv,useId:Nv,unstable_isNewReconciler:!1},NA={readContext:Ms,useCallback:Ev,useContext:Ms,useEffect:Kg,useImperativeHandle:Av,useInsertionEffect:xv,useLayoutEffect:vv,useMemo:Cv,useReducer:U0,useRef:wv,useState:function(){return U0(Rf)},useDebugValue:Qg,useDeferredValue:function(e){var t=Bs();return Vr===null?t.memoizedState=e:Sv(t,Vr.memoizedState,e)},useTransition:function(){var e=U0(Rf)[0],t=Bs().memoizedState;return[e,t]},useMutableSource:fv,useSyncExternalStore:hv,useId:Nv,unstable_isNewReconciler:!1};function Qs(e,t){if(e&&e.defaultProps){t=gr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Z2(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:gr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var kd={isMounted:function(e){return(e=e._reactInternals)?$l(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fi(),s=Wo(e),a=Xa(r,s);a.payload=t,n!=null&&(a.callback=n),t=zo(e,a,s),t!==null&&(ta(t,e,s,r),g1(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fi(),s=Wo(e),a=Xa(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=zo(e,a,s),t!==null&&(ta(t,e,s,r),g1(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fi(),r=Wo(e),s=Xa(n,r);s.tag=2,t!=null&&(s.callback=t),t=zo(e,s,r),t!==null&&(ta(t,e,r,n),g1(t,e,r))}};function ay(e,t,n,r,s,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,l):t.prototype&&t.prototype.isPureReactComponent?!_f(n,r)||!_f(s,a):!0}function Lv(e,t,n){var r=!1,s=Xo,a=t.contextType;return typeof a=="object"&&a!==null?a=Ms(a):(s=$i(t)?Wl:Ti.current,r=t.contextTypes,a=(r=r!=null)?Zu(e,s):Xo),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function oy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kd.enqueueReplaceState(t,t.state,null)}function J2(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},qg(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Ms(a):(a=$i(t)?Wl:Ti.current,s.context=Zu(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Z2(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&kd.enqueueReplaceState(s,s.state,null),Q1(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function nc(e,t){try{var n="",r=t;do n+=e8(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function z0(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ep(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _A=typeof WeakMap=="function"?WeakMap:Map;function kv(e,t,n){n=Xa(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){td||(td=!0,cp=r),ep(e,t)},n}function Pv(e,t,n){n=Xa(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ep(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ep(e,t),typeof r!="function"&&(qo===null?qo=new Set([this]):qo.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function ly(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _A;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=zA.bind(null,e,t,n),t.then(e,e))}function uy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cy(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xa(-1,1),t.tag=2,zo(n,t,1))),n.lanes|=1),e)}var IA=to.ReactCurrentOwner,Ki=!1;function Mi(e,t,n,r){t.child=e===null?ov(t,null,n,r):ec(t,e.child,n,r)}function fy(e,t,n,r,s){n=n.render;var a=t.ref;return zu(t,s),r=Xg(e,t,n,r,a,s),n=Yg(),e!==null&&!Ki?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ja(e,t,s)):(lr&&n&&Dg(t),t.flags|=1,Mi(e,t,r,s),t.child)}function hy(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!im(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Ov(e,t,a,r,s)):(e=b1(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:_f,n(l,r)&&e.ref===t.ref)return Ja(e,t,s)}return t.flags|=1,e=Vo(a,r),e.ref=t.ref,e.return=t,t.child=e}function Ov(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(_f(a,r)&&e.ref===t.ref)if(Ki=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Ki=!0);else return t.lanes=e.lanes,Ja(e,t,s)}return tp(e,t,n,r,s)}function Rv(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vn(Ou,fs),fs|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Vn(Ou,fs),fs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Vn(Ou,fs),fs|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Vn(Ou,fs),fs|=r;return Mi(e,t,s,n),t.child}function Dv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tp(e,t,n,r,s){var a=$i(n)?Wl:Ti.current;return a=Zu(t,a),zu(t,s),n=Xg(e,t,n,r,a,s),r=Yg(),e!==null&&!Ki?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ja(e,t,s)):(lr&&r&&Dg(t),t.flags|=1,Mi(e,t,n,s),t.child)}function dy(e,t,n,r,s){if($i(n)){var a=!0;H1(t)}else a=!1;if(zu(t,s),t.stateNode===null)w1(e,t),Lv(t,n,r),J2(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var h=l.context,p=n.contextType;typeof p=="object"&&p!==null?p=Ms(p):(p=$i(n)?Wl:Ti.current,p=Zu(t,p));var y=n.getDerivedStateFromProps,w=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function";w||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||h!==p)&&oy(t,l,r,p),_o=!1;var v=t.memoizedState;l.state=v,Q1(t,r,l,s),h=t.memoizedState,c!==r||v!==h||Qi.current||_o?(typeof y=="function"&&(Z2(t,n,y,r),h=t.memoizedState),(c=_o||ay(t,n,c,r,v,h,p))?(w||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=h),l.props=r,l.state=h,l.context=p,r=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,uv(e,t),c=t.memoizedProps,p=t.type===t.elementType?c:Qs(t.type,c),l.props=p,w=t.pendingProps,v=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=Ms(h):(h=$i(n)?Wl:Ti.current,h=Zu(t,h));var b=n.getDerivedStateFromProps;(y=typeof b=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==w||v!==h)&&oy(t,l,r,h),_o=!1,v=t.memoizedState,l.state=v,Q1(t,r,l,s);var E=t.memoizedState;c!==w||v!==E||Qi.current||_o?(typeof b=="function"&&(Z2(t,n,b,r),E=t.memoizedState),(p=_o||ay(t,n,p,r,v,E,h)||!1)?(y||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,E,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,E,h)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=E),l.props=r,l.state=E,l.context=h,r=p):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return np(e,t,n,r,a,s)}function np(e,t,n,r,s,a){Dv(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&Z5(t,n,!1),Ja(e,t,a);r=t.stateNode,IA.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=ec(t,e.child,null,a),t.child=ec(t,null,c,a)):Mi(e,t,c,a),t.memoizedState=r.state,s&&Z5(t,n,!0),t.child}function Mv(e){var t=e.stateNode;t.pendingContext?$5(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$5(e,t.context,!1),Wg(e,t.containerInfo)}function py(e,t,n,r,s){return Ju(),Bg(s),t.flags|=256,Mi(e,t,n,r),t.child}var rp={dehydrated:null,treeContext:null,retryLane:0};function ip(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bv(e,t,n){var r=t.pendingProps,s=dr.current,a=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Vn(dr,s&1),e===null)return Q2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Rd(l,r,0,null),e=Bl(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ip(n),t.memoizedState=rp,e):$g(t,l));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return TA(e,t,l,r,c,s,n);if(a){a=r.fallback,l=t.mode,s=e.child,c=s.sibling;var h={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=h,t.deletions=null):(r=Vo(s,h),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?a=Vo(c,a):(a=Bl(a,l,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=e.child.memoizedState,l=l===null?ip(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=rp,r}return a=e.child,e=a.sibling,r=Vo(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $g(e,t){return t=Rd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wh(e,t,n,r){return r!==null&&Bg(r),ec(t,e.child,null,n),e=$g(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function TA(e,t,n,r,s,a,l){if(n)return t.flags&256?(t.flags&=-257,r=z0(Error(ut(422))),Wh(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Rd({mode:"visible",children:r.children},s,0,null),a=Bl(a,s,l,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&ec(t,e.child,null,l),t.child.memoizedState=ip(l),t.memoizedState=rp,a);if(!(t.mode&1))return Wh(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,a=Error(ut(419)),r=z0(a,r,void 0),Wh(e,t,l,r)}if(c=(l&e.childLanes)!==0,Ki||c){if(r=ni,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Za(e,s),ta(r,e,s,-1))}return rm(),r=z0(Error(ut(421))),Wh(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=qA.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,hs=Uo(s.nextSibling),gs=t,lr=!0,Js=null,e!==null&&(Ps[Os++]=Va,Ps[Os++]=Ha,Ps[Os++]=Vl,Va=e.id,Ha=e.overflow,Vl=t),t=$g(t,r.children),t.flags|=4096,t)}function gy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$2(e.return,t,n)}function q0(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Fv(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Mi(e,t,r.children,n),r=dr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gy(e,n,t);else if(e.tag===19)gy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Vn(dr,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&$1(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),q0(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$1(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}q0(t,!0,n,null,a);break;case"together":q0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function w1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ja(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ut(153));if(t.child!==null){for(e=t.child,n=Vo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function LA(e,t,n){switch(t.tag){case 3:Mv(t),Ju();break;case 5:cv(t);break;case 1:$i(t.type)&&H1(t);break;case 4:Wg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Vn(Y1,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Vn(dr,dr.current&1),t.flags|=128,null):n&t.child.childLanes?Bv(e,t,n):(Vn(dr,dr.current&1),e=Ja(e,t,n),e!==null?e.sibling:null);Vn(dr,dr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Fv(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Vn(dr,dr.current),r)break;return null;case 22:case 23:return t.lanes=0,Rv(e,t,n)}return Ja(e,t,n)}var jv,sp,Uv,zv;jv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sp=function(){};Uv=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Rl(ba.current);var a=null;switch(n){case"input":s=_2(e,s),r=_2(e,r),a=[];break;case"select":s=gr({},s,{value:void 0}),r=gr({},r,{value:void 0}),a=[];break;case"textarea":s=L2(e,s),r=L2(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=W1)}P2(n,r);var l;n=null;for(p in s)if(!r.hasOwnProperty(p)&&s.hasOwnProperty(p)&&s[p]!=null)if(p==="style"){var c=s[p];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(vf.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var h=r[p];if(c=s!=null?s[p]:void 0,r.hasOwnProperty(p)&&h!==c&&(h!=null||c!=null))if(p==="style")if(c){for(l in c)!c.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&c[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(a||(a=[]),a.push(p,n)),n=h;else p==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(a=a||[]).push(p,h)):p==="children"?typeof h!="string"&&typeof h!="number"||(a=a||[]).push(p,""+h):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(vf.hasOwnProperty(p)?(h!=null&&p==="onScroll"&&$n("scroll",e),a||c===h||(a=[])):(a=a||[]).push(p,h))}n&&(a=a||[]).push("style",n);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};zv=function(e,t,n,r){n!==r&&(t.flags|=4)};function Dc(e,t){if(!lr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function kA(e,t,n){var r=t.pendingProps;switch(Mg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vi(t),null;case 1:return $i(t.type)&&V1(),vi(t),null;case 3:return r=t.stateNode,tc(),tr(Qi),tr(Ti),Hg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Js!==null&&(dp(Js),Js=null))),sp(e,t),vi(t),null;case 5:Vg(t);var s=Rl(Pf.current);if(n=t.type,e!==null&&t.stateNode!=null)Uv(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ut(166));return vi(t),null}if(e=Rl(ba.current),zh(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[wa]=t,r[Lf]=a,e=(t.mode&1)!==0,n){case"dialog":$n("cancel",r),$n("close",r);break;case"iframe":case"object":case"embed":$n("load",r);break;case"video":case"audio":for(s=0;s<Kc.length;s++)$n(Kc[s],r);break;case"source":$n("error",r);break;case"img":case"image":case"link":$n("error",r),$n("load",r);break;case"details":$n("toggle",r);break;case"input":C5(r,a),$n("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},$n("invalid",r);break;case"textarea":N5(r,a),$n("invalid",r)}P2(n,a),s=null;for(var l in a)if(a.hasOwnProperty(l)){var c=a[l];l==="children"?typeof c=="string"?r.textContent!==c&&(a.suppressHydrationWarning!==!0&&Uh(r.textContent,c,e),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Uh(r.textContent,c,e),s=["children",""+c]):vf.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&$n("scroll",r)}switch(n){case"input":Ph(r),S5(r,a,!0);break;case"textarea":Ph(r),_5(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=W1)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[wa]=t,e[Lf]=r,jv(e,t,!1,!1),t.stateNode=e;e:{switch(l=O2(n,r),n){case"dialog":$n("cancel",e),$n("close",e),s=r;break;case"iframe":case"object":case"embed":$n("load",e),s=r;break;case"video":case"audio":for(s=0;s<Kc.length;s++)$n(Kc[s],e);s=r;break;case"source":$n("error",e),s=r;break;case"img":case"image":case"link":$n("error",e),$n("load",e),s=r;break;case"details":$n("toggle",e),s=r;break;case"input":C5(e,r),s=_2(e,r),$n("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=gr({},r,{value:void 0}),$n("invalid",e);break;case"textarea":N5(e,r),s=L2(e,r),$n("invalid",e);break;default:s=r}P2(n,s),c=s;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];a==="style"?wx(e,h):a==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&mx(e,h)):a==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&bf(e,h):typeof h=="number"&&bf(e,""+h):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(vf.hasOwnProperty(a)?h!=null&&a==="onScroll"&&$n("scroll",e):h!=null&&bg(e,a,h,l))}switch(n){case"input":Ph(e),S5(e,r,!1);break;case"textarea":Ph(e),_5(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Go(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Bu(e,!!r.multiple,a,!1):r.defaultValue!=null&&Bu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=W1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vi(t),null;case 6:if(e&&t.stateNode!=null)zv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ut(166));if(n=Rl(Pf.current),Rl(ba.current),zh(t)){if(r=t.stateNode,n=t.memoizedProps,r[wa]=t,(a=r.nodeValue!==n)&&(e=gs,e!==null))switch(e.tag){case 3:Uh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Uh(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wa]=t,t.stateNode=r}return vi(t),null;case 13:if(tr(dr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lr&&hs!==null&&t.mode&1&&!(t.flags&128))sv(),Ju(),t.flags|=98560,a=!1;else if(a=zh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ut(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ut(317));a[wa]=t}else Ju(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vi(t),a=!1}else Js!==null&&(dp(Js),Js=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||dr.current&1?Hr===0&&(Hr=3):rm())),t.updateQueue!==null&&(t.flags|=4),vi(t),null);case 4:return tc(),sp(e,t),e===null&&If(t.stateNode.containerInfo),vi(t),null;case 10:return Ug(t.type._context),vi(t),null;case 17:return $i(t.type)&&V1(),vi(t),null;case 19:if(tr(dr),a=t.memoizedState,a===null)return vi(t),null;if(r=(t.flags&128)!==0,l=a.rendering,l===null)if(r)Dc(a,!1);else{if(Hr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=$1(e),l!==null){for(t.flags|=128,Dc(a,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Vn(dr,dr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Tr()>rc&&(t.flags|=128,r=!0,Dc(a,!1),t.lanes=4194304)}else{if(!r)if(e=$1(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Dc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!lr)return vi(t),null}else 2*Tr()-a.renderingStartTime>rc&&n!==1073741824&&(t.flags|=128,r=!0,Dc(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(n=a.last,n!==null?n.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Tr(),t.sibling=null,n=dr.current,Vn(dr,r?n&1|2:n&1),t):(vi(t),null);case 22:case 23:return nm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?fs&1073741824&&(vi(t),t.subtreeFlags&6&&(t.flags|=8192)):vi(t),null;case 24:return null;case 25:return null}throw Error(ut(156,t.tag))}function PA(e,t){switch(Mg(t),t.tag){case 1:return $i(t.type)&&V1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tc(),tr(Qi),tr(Ti),Hg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vg(t),null;case 13:if(tr(dr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ut(340));Ju()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tr(dr),null;case 4:return tc(),null;case 10:return Ug(t.type._context),null;case 22:case 23:return nm(),null;case 24:return null;default:return null}}var Vh=!1,Si=!1,OA=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function Pu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ar(e,t,r)}else n.current=null}function ap(e,t,n){try{n()}catch(r){Ar(e,t,r)}}var my=!1;function RA(e,t){if(W2=U1,e=Gx(),Rg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,c=-1,h=-1,p=0,y=0,w=e,v=null;t:for(;;){for(var b;w!==n||s!==0&&w.nodeType!==3||(c=l+s),w!==a||r!==0&&w.nodeType!==3||(h=l+r),w.nodeType===3&&(l+=w.nodeValue.length),(b=w.firstChild)!==null;)v=w,w=b;for(;;){if(w===e)break t;if(v===n&&++p===s&&(c=l),v===a&&++y===r&&(h=l),(b=w.nextSibling)!==null)break;w=v,v=w.parentNode}w=b}n=c===-1||h===-1?null:{start:c,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(V2={focusedElem:e,selectionRange:n},U1=!1,Ct=t;Ct!==null;)if(t=Ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ct=e;else for(;Ct!==null;){t=Ct;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var A=E.memoizedProps,k=E.memoizedState,S=t.stateNode,_=S.getSnapshotBeforeUpdate(t.elementType===t.type?A:Qs(t.type,A),k);S.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ut(163))}}catch(z){Ar(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,Ct=e;break}Ct=t.return}return E=my,my=!1,E}function sf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&ap(t,n,a)}s=s.next}while(s!==r)}}function Pd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function op(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function qv(e){var t=e.alternate;t!==null&&(e.alternate=null,qv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wa],delete t[Lf],delete t[X2],delete t[mA],delete t[yA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wv(e){return e.tag===5||e.tag===3||e.tag===4}function yy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=W1));else if(r!==4&&(e=e.child,e!==null))for(lp(e,t,n),e=e.sibling;e!==null;)lp(e,t,n),e=e.sibling}function up(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(up(e,t,n),e=e.sibling;e!==null;)up(e,t,n),e=e.sibling}var ci=null,Zs=!1;function bo(e,t,n){for(n=n.child;n!==null;)Vv(e,t,n),n=n.sibling}function Vv(e,t,n){if(va&&typeof va.onCommitFiberUnmount=="function")try{va.onCommitFiberUnmount(Cd,n)}catch{}switch(n.tag){case 5:Si||Pu(n,t);case 6:var r=ci,s=Zs;ci=null,bo(e,t,n),ci=r,Zs=s,ci!==null&&(Zs?(e=ci,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ci.removeChild(n.stateNode));break;case 18:ci!==null&&(Zs?(e=ci,n=n.stateNode,e.nodeType===8?D0(e.parentNode,n):e.nodeType===1&&D0(e,n),Sf(e)):D0(ci,n.stateNode));break;case 4:r=ci,s=Zs,ci=n.stateNode.containerInfo,Zs=!0,bo(e,t,n),ci=r,Zs=s;break;case 0:case 11:case 14:case 15:if(!Si&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&ap(n,t,l),s=s.next}while(s!==r)}bo(e,t,n);break;case 1:if(!Si&&(Pu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Ar(n,t,c)}bo(e,t,n);break;case 21:bo(e,t,n);break;case 22:n.mode&1?(Si=(r=Si)||n.memoizedState!==null,bo(e,t,n),Si=r):bo(e,t,n);break;default:bo(e,t,n)}}function wy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new OA),t.forEach(function(r){var s=WA.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:ci=c.stateNode,Zs=!1;break e;case 3:ci=c.stateNode.containerInfo,Zs=!0;break e;case 4:ci=c.stateNode.containerInfo,Zs=!0;break e}c=c.return}if(ci===null)throw Error(ut(160));Vv(a,l,s),ci=null,Zs=!1;var h=s.alternate;h!==null&&(h.return=null),s.return=null}catch(p){Ar(s,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hv(t,e),t=t.sibling}function Hv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xs(t,e),pa(e),r&4){try{sf(3,e,e.return),Pd(3,e)}catch(A){Ar(e,e.return,A)}try{sf(5,e,e.return)}catch(A){Ar(e,e.return,A)}}break;case 1:Xs(t,e),pa(e),r&512&&n!==null&&Pu(n,n.return);break;case 5:if(Xs(t,e),pa(e),r&512&&n!==null&&Pu(n,n.return),e.flags&32){var s=e.stateNode;try{bf(s,"")}catch(A){Ar(e,e.return,A)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,l=n!==null?n.memoizedProps:a,c=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&dx(s,a),O2(c,l);var p=O2(c,a);for(l=0;l<h.length;l+=2){var y=h[l],w=h[l+1];y==="style"?wx(s,w):y==="dangerouslySetInnerHTML"?mx(s,w):y==="children"?bf(s,w):bg(s,y,w,p)}switch(c){case"input":I2(s,a);break;case"textarea":px(s,a);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var b=a.value;b!=null?Bu(s,!!a.multiple,b,!1):v!==!!a.multiple&&(a.defaultValue!=null?Bu(s,!!a.multiple,a.defaultValue,!0):Bu(s,!!a.multiple,a.multiple?[]:"",!1))}s[Lf]=a}catch(A){Ar(e,e.return,A)}}break;case 6:if(Xs(t,e),pa(e),r&4){if(e.stateNode===null)throw Error(ut(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(A){Ar(e,e.return,A)}}break;case 3:if(Xs(t,e),pa(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sf(t.containerInfo)}catch(A){Ar(e,e.return,A)}break;case 4:Xs(t,e),pa(e);break;case 13:Xs(t,e),pa(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(em=Tr())),r&4&&wy(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(Si=(p=Si)||y,Xs(t,e),Si=p):Xs(t,e),pa(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!y&&e.mode&1)for(Ct=e,y=e.child;y!==null;){for(w=Ct=y;Ct!==null;){switch(v=Ct,b=v.child,v.tag){case 0:case 11:case 14:case 15:sf(4,v,v.return);break;case 1:Pu(v,v.return);var E=v.stateNode;if(typeof E.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(A){Ar(r,n,A)}}break;case 5:Pu(v,v.return);break;case 22:if(v.memoizedState!==null){vy(w);continue}}b!==null?(b.return=v,Ct=b):vy(w)}y=y.sibling}e:for(y=null,w=e;;){if(w.tag===5){if(y===null){y=w;try{s=w.stateNode,p?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=w.stateNode,h=w.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=yx("display",l))}catch(A){Ar(e,e.return,A)}}}else if(w.tag===6){if(y===null)try{w.stateNode.nodeValue=p?"":w.memoizedProps}catch(A){Ar(e,e.return,A)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;y===w&&(y=null),w=w.return}y===w&&(y=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:Xs(t,e),pa(e),r&4&&wy(e);break;case 21:break;default:Xs(t,e),pa(e)}}function pa(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wv(n)){var r=n;break e}n=n.return}throw Error(ut(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(bf(s,""),r.flags&=-33);var a=yy(e);up(e,a,s);break;case 3:case 4:var l=r.stateNode.containerInfo,c=yy(e);lp(e,c,l);break;default:throw Error(ut(161))}}catch(h){Ar(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DA(e,t,n){Ct=e,Gv(e)}function Gv(e,t,n){for(var r=(e.mode&1)!==0;Ct!==null;){var s=Ct,a=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Vh;if(!l){var c=s.alternate,h=c!==null&&c.memoizedState!==null||Si;c=Vh;var p=Si;if(Vh=l,(Si=h)&&!p)for(Ct=s;Ct!==null;)l=Ct,h=l.child,l.tag===22&&l.memoizedState!==null?by(s):h!==null?(h.return=l,Ct=h):by(s);for(;a!==null;)Ct=a,Gv(a),a=a.sibling;Ct=s,Vh=c,Si=p}xy(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Ct=a):xy(e)}}function xy(e){for(;Ct!==null;){var t=Ct;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Si||Pd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Si)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Qs(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ry(t,a,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ry(t,l,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var y=p.memoizedState;if(y!==null){var w=y.dehydrated;w!==null&&Sf(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ut(163))}Si||t.flags&512&&op(t)}catch(v){Ar(t,t.return,v)}}if(t===e){Ct=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ct=n;break}Ct=t.return}}function vy(e){for(;Ct!==null;){var t=Ct;if(t===e){Ct=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ct=n;break}Ct=t.return}}function by(e){for(;Ct!==null;){var t=Ct;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pd(4,t)}catch(h){Ar(t,n,h)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(h){Ar(t,s,h)}}var a=t.return;try{op(t)}catch(h){Ar(t,a,h)}break;case 5:var l=t.return;try{op(t)}catch(h){Ar(t,l,h)}}}catch(h){Ar(t,t.return,h)}if(t===e){Ct=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Ct=c;break}Ct=t.return}}var MA=Math.ceil,ed=to.ReactCurrentDispatcher,Zg=to.ReactCurrentOwner,Ds=to.ReactCurrentBatchConfig,An=0,ni=null,Br=null,fi=0,fs=0,Ou=nl(0),Hr=0,Mf=null,Gl=0,Od=0,Jg=0,af=null,Yi=null,em=0,rc=1/0,Ua=null,td=!1,cp=null,qo=null,Hh=!1,Oo=null,nd=0,of=0,fp=null,x1=-1,v1=0;function Fi(){return An&6?Tr():x1!==-1?x1:x1=Tr()}function Wo(e){return e.mode&1?An&2&&fi!==0?fi&-fi:xA.transition!==null?(v1===0&&(v1=Lx()),v1):(e=Pn,e!==0||(e=window.event,e=e===void 0?16:Bx(e.type)),e):1}function ta(e,t,n,r){if(50<of)throw of=0,fp=null,Error(ut(185));Qf(e,n,r),(!(An&2)||e!==ni)&&(e===ni&&(!(An&2)&&(Od|=n),Hr===4&&Lo(e,fi)),Zi(e,r),n===1&&An===0&&!(t.mode&1)&&(rc=Tr()+500,Td&&rl()))}function Zi(e,t){var n=e.callbackNode;x8(e,t);var r=j1(e,e===ni?fi:0);if(r===0)n!==null&&L5(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&L5(n),t===1)e.tag===0?wA(Ay.bind(null,e)):nv(Ay.bind(null,e)),pA(function(){!(An&6)&&rl()}),n=null;else{switch(kx(r)){case 1:n=Ng;break;case 4:n=Ix;break;case 16:n=F1;break;case 536870912:n=Tx;break;default:n=F1}n=e3(n,Xv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xv(e,t){if(x1=-1,v1=0,An&6)throw Error(ut(327));var n=e.callbackNode;if(qu()&&e.callbackNode!==n)return null;var r=j1(e,e===ni?fi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=rd(e,r);else{t=r;var s=An;An|=2;var a=Kv();(ni!==e||fi!==t)&&(Ua=null,rc=Tr()+500,Ml(e,t));do try{jA();break}catch(c){Yv(e,c)}while(!0);jg(),ed.current=a,An=s,Br!==null?t=0:(ni=null,fi=0,t=Hr)}if(t!==0){if(t===2&&(s=F2(e),s!==0&&(r=s,t=hp(e,s))),t===1)throw n=Mf,Ml(e,0),Lo(e,r),Zi(e,Tr()),n;if(t===6)Lo(e,r);else{if(s=e.current.alternate,!(r&30)&&!BA(s)&&(t=rd(e,r),t===2&&(a=F2(e),a!==0&&(r=a,t=hp(e,a))),t===1))throw n=Mf,Ml(e,0),Lo(e,r),Zi(e,Tr()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(ut(345));case 2:Nl(e,Yi,Ua);break;case 3:if(Lo(e,r),(r&130023424)===r&&(t=em+500-Tr(),10<t)){if(j1(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Fi(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=G2(Nl.bind(null,e,Yi,Ua),t);break}Nl(e,Yi,Ua);break;case 4:if(Lo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-ea(r);a=1<<l,l=t[l],l>s&&(s=l),r&=~a}if(r=s,r=Tr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MA(r/1960))-r,10<r){e.timeoutHandle=G2(Nl.bind(null,e,Yi,Ua),r);break}Nl(e,Yi,Ua);break;case 5:Nl(e,Yi,Ua);break;default:throw Error(ut(329))}}}return Zi(e,Tr()),e.callbackNode===n?Xv.bind(null,e):null}function hp(e,t){var n=af;return e.current.memoizedState.isDehydrated&&(Ml(e,t).flags|=256),e=rd(e,t),e!==2&&(t=Yi,Yi=n,t!==null&&dp(t)),e}function dp(e){Yi===null?Yi=e:Yi.push.apply(Yi,e)}function BA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!ra(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lo(e,t){for(t&=~Jg,t&=~Od,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ea(t),r=1<<n;e[n]=-1,t&=~r}}function Ay(e){if(An&6)throw Error(ut(327));qu();var t=j1(e,0);if(!(t&1))return Zi(e,Tr()),null;var n=rd(e,t);if(e.tag!==0&&n===2){var r=F2(e);r!==0&&(t=r,n=hp(e,r))}if(n===1)throw n=Mf,Ml(e,0),Lo(e,t),Zi(e,Tr()),n;if(n===6)throw Error(ut(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nl(e,Yi,Ua),Zi(e,Tr()),null}function tm(e,t){var n=An;An|=1;try{return e(t)}finally{An=n,An===0&&(rc=Tr()+500,Td&&rl())}}function Xl(e){Oo!==null&&Oo.tag===0&&!(An&6)&&qu();var t=An;An|=1;var n=Ds.transition,r=Pn;try{if(Ds.transition=null,Pn=1,e)return e()}finally{Pn=r,Ds.transition=n,An=t,!(An&6)&&rl()}}function nm(){fs=Ou.current,tr(Ou)}function Ml(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dA(n)),Br!==null)for(n=Br.return;n!==null;){var r=n;switch(Mg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&V1();break;case 3:tc(),tr(Qi),tr(Ti),Hg();break;case 5:Vg(r);break;case 4:tc();break;case 13:tr(dr);break;case 19:tr(dr);break;case 10:Ug(r.type._context);break;case 22:case 23:nm()}n=n.return}if(ni=e,Br=e=Vo(e.current,null),fi=fs=t,Hr=0,Mf=null,Jg=Od=Gl=0,Yi=af=null,Ol!==null){for(t=0;t<Ol.length;t++)if(n=Ol[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var l=a.next;a.next=s,r.next=l}n.pending=r}Ol=null}return e}function Yv(e,t){do{var n=Br;try{if(jg(),m1.current=J1,Z1){for(var r=pr.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Z1=!1}if(Hl=0,Jr=Vr=pr=null,rf=!1,Of=0,Zg.current=null,n===null||n.return===null){Hr=1,Mf=t,Br=null;break}e:{var a=e,l=n.return,c=n,h=t;if(t=fi,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var p=h,y=c,w=y.tag;if(!(y.mode&1)&&(w===0||w===11||w===15)){var v=y.alternate;v?(y.updateQueue=v.updateQueue,y.memoizedState=v.memoizedState,y.lanes=v.lanes):(y.updateQueue=null,y.memoizedState=null)}var b=uy(l);if(b!==null){b.flags&=-257,cy(b,l,c,a,t),b.mode&1&&ly(a,p,t),t=b,h=p;var E=t.updateQueue;if(E===null){var A=new Set;A.add(h),t.updateQueue=A}else E.add(h);break e}else{if(!(t&1)){ly(a,p,t),rm();break e}h=Error(ut(426))}}else if(lr&&c.mode&1){var k=uy(l);if(k!==null){!(k.flags&65536)&&(k.flags|=256),cy(k,l,c,a,t),Bg(nc(h,c));break e}}a=h=nc(h,c),Hr!==4&&(Hr=2),af===null?af=[a]:af.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var S=kv(a,h,t);ny(a,S);break e;case 1:c=h;var _=a.type,L=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(qo===null||!qo.has(L)))){a.flags|=65536,t&=-t,a.lanes|=t;var z=Pv(a,c,t);ny(a,z);break e}}a=a.return}while(a!==null)}$v(n)}catch(H){t=H,Br===n&&n!==null&&(Br=n=n.return);continue}break}while(!0)}function Kv(){var e=ed.current;return ed.current=J1,e===null?J1:e}function rm(){(Hr===0||Hr===3||Hr===2)&&(Hr=4),ni===null||!(Gl&268435455)&&!(Od&268435455)||Lo(ni,fi)}function rd(e,t){var n=An;An|=2;var r=Kv();(ni!==e||fi!==t)&&(Ua=null,Ml(e,t));do try{FA();break}catch(s){Yv(e,s)}while(!0);if(jg(),An=n,ed.current=r,Br!==null)throw Error(ut(261));return ni=null,fi=0,Hr}function FA(){for(;Br!==null;)Qv(Br)}function jA(){for(;Br!==null&&!c8();)Qv(Br)}function Qv(e){var t=Jv(e.alternate,e,fs);e.memoizedProps=e.pendingProps,t===null?$v(e):Br=t,Zg.current=null}function $v(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=PA(n,t),n!==null){n.flags&=32767,Br=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Hr=6,Br=null;return}}else if(n=kA(n,t,fs),n!==null){Br=n;return}if(t=t.sibling,t!==null){Br=t;return}Br=t=e}while(t!==null);Hr===0&&(Hr=5)}function Nl(e,t,n){var r=Pn,s=Ds.transition;try{Ds.transition=null,Pn=1,UA(e,t,n,r)}finally{Ds.transition=s,Pn=r}return null}function UA(e,t,n,r){do qu();while(Oo!==null);if(An&6)throw Error(ut(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ut(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(v8(e,a),e===ni&&(Br=ni=null,fi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hh||(Hh=!0,e3(F1,function(){return qu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ds.transition,Ds.transition=null;var l=Pn;Pn=1;var c=An;An|=4,Zg.current=null,RA(e,n),Hv(n,e),aA(V2),U1=!!W2,V2=W2=null,e.current=n,DA(n),f8(),An=c,Pn=l,Ds.transition=a}else e.current=n;if(Hh&&(Hh=!1,Oo=e,nd=s),a=e.pendingLanes,a===0&&(qo=null),p8(n.stateNode),Zi(e,Tr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(td)throw td=!1,e=cp,cp=null,e;return nd&1&&e.tag!==0&&qu(),a=e.pendingLanes,a&1?e===fp?of++:(of=0,fp=e):of=0,rl(),null}function qu(){if(Oo!==null){var e=kx(nd),t=Ds.transition,n=Pn;try{if(Ds.transition=null,Pn=16>e?16:e,Oo===null)var r=!1;else{if(e=Oo,Oo=null,nd=0,An&6)throw Error(ut(331));var s=An;for(An|=4,Ct=e.current;Ct!==null;){var a=Ct,l=a.child;if(Ct.flags&16){var c=a.deletions;if(c!==null){for(var h=0;h<c.length;h++){var p=c[h];for(Ct=p;Ct!==null;){var y=Ct;switch(y.tag){case 0:case 11:case 15:sf(8,y,a)}var w=y.child;if(w!==null)w.return=y,Ct=w;else for(;Ct!==null;){y=Ct;var v=y.sibling,b=y.return;if(qv(y),y===p){Ct=null;break}if(v!==null){v.return=b,Ct=v;break}Ct=b}}}var E=a.alternate;if(E!==null){var A=E.child;if(A!==null){E.child=null;do{var k=A.sibling;A.sibling=null,A=k}while(A!==null)}}Ct=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,Ct=l;else e:for(;Ct!==null;){if(a=Ct,a.flags&2048)switch(a.tag){case 0:case 11:case 15:sf(9,a,a.return)}var S=a.sibling;if(S!==null){S.return=a.return,Ct=S;break e}Ct=a.return}}var _=e.current;for(Ct=_;Ct!==null;){l=Ct;var L=l.child;if(l.subtreeFlags&2064&&L!==null)L.return=l,Ct=L;else e:for(l=_;Ct!==null;){if(c=Ct,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Pd(9,c)}}catch(H){Ar(c,c.return,H)}if(c===l){Ct=null;break e}var z=c.sibling;if(z!==null){z.return=c.return,Ct=z;break e}Ct=c.return}}if(An=s,rl(),va&&typeof va.onPostCommitFiberRoot=="function")try{va.onPostCommitFiberRoot(Cd,e)}catch{}r=!0}return r}finally{Pn=n,Ds.transition=t}}return!1}function Ey(e,t,n){t=nc(n,t),t=kv(e,t,1),e=zo(e,t,1),t=Fi(),e!==null&&(Qf(e,1,t),Zi(e,t))}function Ar(e,t,n){if(e.tag===3)Ey(e,e,n);else for(;t!==null;){if(t.tag===3){Ey(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qo===null||!qo.has(r))){e=nc(n,e),e=Pv(t,e,1),t=zo(t,e,1),e=Fi(),t!==null&&(Qf(t,1,e),Zi(t,e));break}}t=t.return}}function zA(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Fi(),e.pingedLanes|=e.suspendedLanes&n,ni===e&&(fi&n)===n&&(Hr===4||Hr===3&&(fi&130023424)===fi&&500>Tr()-em?Ml(e,0):Jg|=n),Zi(e,t)}function Zv(e,t){t===0&&(e.mode&1?(t=Dh,Dh<<=1,!(Dh&130023424)&&(Dh=4194304)):t=1);var n=Fi();e=Za(e,t),e!==null&&(Qf(e,t,n),Zi(e,n))}function qA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zv(e,n)}function WA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ut(314))}r!==null&&r.delete(t),Zv(e,n)}var Jv;Jv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qi.current)Ki=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ki=!1,LA(e,t,n);Ki=!!(e.flags&131072)}else Ki=!1,lr&&t.flags&1048576&&rv(t,X1,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;w1(e,t),e=t.pendingProps;var s=Zu(t,Ti.current);zu(t,n),s=Xg(null,t,r,e,s,n);var a=Yg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$i(r)?(a=!0,H1(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qg(t),s.updater=kd,t.stateNode=s,s._reactInternals=t,J2(t,r,e,n),t=np(null,t,r,!0,a,n)):(t.tag=0,lr&&a&&Dg(t),Mi(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(w1(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=HA(r),e=Qs(r,e),s){case 0:t=tp(null,t,r,e,n);break e;case 1:t=dy(null,t,r,e,n);break e;case 11:t=fy(null,t,r,e,n);break e;case 14:t=hy(null,t,r,Qs(r.type,e),n);break e}throw Error(ut(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qs(r,s),tp(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qs(r,s),dy(e,t,r,s,n);case 3:e:{if(Mv(t),e===null)throw Error(ut(387));r=t.pendingProps,a=t.memoizedState,s=a.element,uv(e,t),Q1(t,r,null,n);var l=t.memoizedState;if(r=l.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=nc(Error(ut(423)),t),t=py(e,t,r,n,s);break e}else if(r!==s){s=nc(Error(ut(424)),t),t=py(e,t,r,n,s);break e}else for(hs=Uo(t.stateNode.containerInfo.firstChild),gs=t,lr=!0,Js=null,n=ov(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ju(),r===s){t=Ja(e,t,n);break e}Mi(e,t,r,n)}t=t.child}return t;case 5:return cv(t),e===null&&Q2(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,l=s.children,H2(r,s)?l=null:a!==null&&H2(r,a)&&(t.flags|=32),Dv(e,t),Mi(e,t,l,n),t.child;case 6:return e===null&&Q2(t),null;case 13:return Bv(e,t,n);case 4:return Wg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ec(t,null,r,n):Mi(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qs(r,s),fy(e,t,r,s,n);case 7:return Mi(e,t,t.pendingProps,n),t.child;case 8:return Mi(e,t,t.pendingProps.children,n),t.child;case 12:return Mi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,l=s.value,Vn(Y1,r._currentValue),r._currentValue=l,a!==null)if(ra(a.value,l)){if(a.children===s.children&&!Qi.current){t=Ja(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){l=a.child;for(var h=c.firstContext;h!==null;){if(h.context===r){if(a.tag===1){h=Xa(-1,n&-n),h.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var y=p.pending;y===null?h.next=h:(h.next=y.next,y.next=h),p.pending=h}}a.lanes|=n,h=a.alternate,h!==null&&(h.lanes|=n),$2(a.return,n,t),c.lanes|=n;break}h=h.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(ut(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),$2(l,n,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Mi(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,zu(t,n),s=Ms(s),r=r(s),t.flags|=1,Mi(e,t,r,n),t.child;case 14:return r=t.type,s=Qs(r,t.pendingProps),s=Qs(r.type,s),hy(e,t,r,s,n);case 15:return Ov(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qs(r,s),w1(e,t),t.tag=1,$i(r)?(e=!0,H1(t)):e=!1,zu(t,n),Lv(t,r,s),J2(t,r,s,n),np(null,t,r,!0,e,n);case 19:return Fv(e,t,n);case 22:return Rv(e,t,n)}throw Error(ut(156,t.tag))};function e3(e,t){return _x(e,t)}function VA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rs(e,t,n,r){return new VA(e,t,n,r)}function im(e){return e=e.prototype,!(!e||!e.isReactComponent)}function HA(e){if(typeof e=="function")return im(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Eg)return 11;if(e===Cg)return 14}return 2}function Vo(e,t){var n=e.alternate;return n===null?(n=Rs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function b1(e,t,n,r,s,a){var l=2;if(r=e,typeof e=="function")im(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Eu:return Bl(n.children,s,a,t);case Ag:l=8,s|=8;break;case E2:return e=Rs(12,n,t,s|2),e.elementType=E2,e.lanes=a,e;case C2:return e=Rs(13,n,t,s),e.elementType=C2,e.lanes=a,e;case S2:return e=Rs(19,n,t,s),e.elementType=S2,e.lanes=a,e;case cx:return Rd(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lx:l=10;break e;case ux:l=9;break e;case Eg:l=11;break e;case Cg:l=14;break e;case No:l=16,r=null;break e}throw Error(ut(130,e==null?e:typeof e,""))}return t=Rs(l,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function Bl(e,t,n,r){return e=Rs(7,e,r,t),e.lanes=n,e}function Rd(e,t,n,r){return e=Rs(22,e,r,t),e.elementType=cx,e.lanes=n,e.stateNode={isHidden:!1},e}function W0(e,t,n){return e=Rs(6,e,null,t),e.lanes=n,e}function V0(e,t,n){return t=Rs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function GA(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=C0(0),this.expirationTimes=C0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=C0(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sm(e,t,n,r,s,a,l,c,h){return e=new GA(e,t,n,c,h),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Rs(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qg(a),e}function XA(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Au,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function t3(e){if(!e)return Xo;e=e._reactInternals;e:{if($l(e)!==e||e.tag!==1)throw Error(ut(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($i(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ut(171))}if(e.tag===1){var n=e.type;if($i(n))return tv(e,n,t)}return t}function n3(e,t,n,r,s,a,l,c,h){return e=sm(n,r,!0,e,s,a,l,c,h),e.context=t3(null),n=e.current,r=Fi(),s=Wo(n),a=Xa(r,s),a.callback=t??null,zo(n,a,s),e.current.lanes=s,Qf(e,s,r),Zi(e,r),e}function Dd(e,t,n,r){var s=t.current,a=Fi(),l=Wo(s);return n=t3(n),t.context===null?t.context=n:t.pendingContext=n,t=Xa(a,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zo(s,t,l),e!==null&&(ta(e,s,l,a),g1(e,s,l)),l}function id(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function am(e,t){Cy(e,t),(e=e.alternate)&&Cy(e,t)}function YA(){return null}var r3=typeof reportError=="function"?reportError:function(e){console.error(e)};function om(e){this._internalRoot=e}Md.prototype.render=om.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ut(409));Dd(e,t,null,null)};Md.prototype.unmount=om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xl(function(){Dd(null,e,null,null)}),t[$a]=null}};function Md(e){this._internalRoot=e}Md.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<To.length&&t!==0&&t<To[n].priority;n++);To.splice(n,0,e),n===0&&Mx(e)}};function lm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sy(){}function KA(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var p=id(l);a.call(p)}}var l=n3(t,r,e,0,null,!1,!1,"",Sy);return e._reactRootContainer=l,e[$a]=l.current,If(e.nodeType===8?e.parentNode:e),Xl(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var p=id(h);c.call(p)}}var h=sm(e,0,!1,null,null,!1,!1,"",Sy);return e._reactRootContainer=h,e[$a]=h.current,If(e.nodeType===8?e.parentNode:e),Xl(function(){Dd(t,h,n,r)}),h}function Fd(e,t,n,r,s){var a=n._reactRootContainer;if(a){var l=a;if(typeof s=="function"){var c=s;s=function(){var h=id(l);c.call(h)}}Dd(t,l,e,s)}else l=KA(n,t,e,s,r);return id(l)}Px=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Yc(t.pendingLanes);n!==0&&(_g(t,n|1),Zi(t,Tr()),!(An&6)&&(rc=Tr()+500,rl()))}break;case 13:Xl(function(){var r=Za(e,1);if(r!==null){var s=Fi();ta(r,e,1,s)}}),am(e,1)}};Ig=function(e){if(e.tag===13){var t=Za(e,134217728);if(t!==null){var n=Fi();ta(t,e,134217728,n)}am(e,134217728)}};Ox=function(e){if(e.tag===13){var t=Wo(e),n=Za(e,t);if(n!==null){var r=Fi();ta(n,e,t,r)}am(e,t)}};Rx=function(){return Pn};Dx=function(e,t){var n=Pn;try{return Pn=e,t()}finally{Pn=n}};D2=function(e,t,n){switch(t){case"input":if(I2(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Id(r);if(!s)throw Error(ut(90));hx(r),I2(r,s)}}}break;case"textarea":px(e,n);break;case"select":t=n.value,t!=null&&Bu(e,!!n.multiple,t,!1)}};bx=tm;Ax=Xl;var QA={usingClientEntryPoint:!1,Events:[Zf,_u,Id,xx,vx,tm]},Mc={findFiberByHostInstance:Pl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$A={bundleType:Mc.bundleType,version:Mc.version,rendererPackageName:Mc.rendererPackageName,rendererConfig:Mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:to.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sx(e),e===null?null:e.stateNode},findFiberByHostInstance:Mc.findFiberByHostInstance||YA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{Cd=Gh.inject($A),va=Gh}catch{}}ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QA;ws.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lm(t))throw Error(ut(200));return XA(e,t,null,n)};ws.createRoot=function(e,t){if(!lm(e))throw Error(ut(299));var n=!1,r="",s=r3;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sm(e,1,!1,null,null,n,!1,r,s),e[$a]=t.current,If(e.nodeType===8?e.parentNode:e),new om(t)};ws.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ut(188)):(e=Object.keys(e).join(","),Error(ut(268,e)));return e=Sx(t),e=e===null?null:e.stateNode,e};ws.flushSync=function(e){return Xl(e)};ws.hydrate=function(e,t,n){if(!Bd(t))throw Error(ut(200));return Fd(null,e,t,!0,n)};ws.hydrateRoot=function(e,t,n){if(!lm(e))throw Error(ut(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",l=r3;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=n3(t,null,e,1,n??null,s,!1,a,l),e[$a]=t.current,If(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Md(t)};ws.render=function(e,t,n){if(!Bd(t))throw Error(ut(200));return Fd(null,e,t,!1,n)};ws.unmountComponentAtNode=function(e){if(!Bd(e))throw Error(ut(40));return e._reactRootContainer?(Xl(function(){Fd(null,null,e,!1,function(){e._reactRootContainer=null,e[$a]=null})}),!0):!1};ws.unstable_batchedUpdates=tm;ws.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bd(n))throw Error(ut(200));if(e==null||e._reactInternals===void 0)throw Error(ut(38));return Fd(e,t,n,!1,r)};ws.version="18.3.1-next-f1338f8080-20240426";function i3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i3)}catch(e){console.error(e)}}i3(),ix.exports=ws;var ZA=ix.exports,Ny=ZA;b2.createRoot=Ny.createRoot,b2.hydrateRoot=Ny.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bf(){return Bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bf.apply(this,arguments)}var Ro;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ro||(Ro={}));const _y="popstate";function JA(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:l,hash:c}=r.location;return pp("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:sd(s)}return tE(t,n,null,e)}function Or(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function s3(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eE(){return Math.random().toString(36).substr(2,8)}function Iy(e,t){return{usr:e.state,key:e.key,idx:t}}function pp(e,t,n,r){return n===void 0&&(n=null),Bf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?dc(t):t,{state:n,key:t&&t.key||r||eE()})}function sd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function dc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function tE(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c=Ro.Pop,h=null,p=y();p==null&&(p=0,l.replaceState(Bf({},l.state,{idx:p}),""));function y(){return(l.state||{idx:null}).idx}function w(){c=Ro.Pop;let k=y(),S=k==null?null:k-p;p=k,h&&h({action:c,location:A.location,delta:S})}function v(k,S){c=Ro.Push;let _=pp(A.location,k,S);p=y()+1;let L=Iy(_,p),z=A.createHref(_);try{l.pushState(L,"",z)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(z)}a&&h&&h({action:c,location:A.location,delta:1})}function b(k,S){c=Ro.Replace;let _=pp(A.location,k,S);p=y();let L=Iy(_,p),z=A.createHref(_);l.replaceState(L,"",z),a&&h&&h({action:c,location:A.location,delta:0})}function E(k){let S=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof k=="string"?k:sd(k);return _=_.replace(/ $/,"%20"),Or(S,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,S)}let A={get action(){return c},get location(){return e(s,l)},listen(k){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(_y,w),h=k,()=>{s.removeEventListener(_y,w),h=null}},createHref(k){return t(s,k)},createURL:E,encodeLocation(k){let S=E(k);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:b,go(k){return l.go(k)}};return A}var Ty;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ty||(Ty={}));function nE(e,t,n){return n===void 0&&(n="/"),rE(e,t,n)}function rE(e,t,n,r){let s=typeof t=="string"?dc(t):t,a=um(s.pathname||"/",n);if(a==null)return null;let l=a3(e);iE(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=mE(a);c=dE(l[h],p)}return c}function a3(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Or(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let p=Ho([r,h.relativePath]),y=n.concat(h);a.children&&a.children.length>0&&(Or(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),a3(a.children,t,y,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:fE(p,a.index),routesMeta:y})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of o3(a.path))s(a,l,h)}),t}function o3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=o3(r.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function iE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sE=/^:[\w-]+$/,aE=3,oE=2,lE=1,uE=10,cE=-2,Ly=e=>e==="*";function fE(e,t){let n=e.split("/"),r=n.length;return n.some(Ly)&&(r+=cE),t&&(r+=oE),n.filter(s=>!Ly(s)).reduce((s,a)=>s+(sE.test(a)?aE:a===""?lE:uE),r)}function hE(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function dE(e,t,n){let{routesMeta:r}=e,s={},a="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,y=a==="/"?t:t.slice(a.length)||"/",w=pE({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),v=h.route;if(!w)return null;Object.assign(s,w.params),l.push({params:s,pathname:Ho([a,w.pathname]),pathnameBase:vE(Ho([a,w.pathnameBase])),route:v}),w.pathnameBase!=="/"&&(a=Ho([a,w.pathnameBase]))}return l}function pE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=gE(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,y,w)=>{let{paramName:v,isOptional:b}=y;if(v==="*"){let A=c[w]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const E=c[w];return b&&!E?p[v]=void 0:p[v]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:e}}function gE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),s3(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function mE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return s3(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function um(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function yE(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?dc(e):e;return{pathname:n?n.startsWith("/")?n:wE(n,t):t,search:bE(r),hash:AE(s)}}function wE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function H0(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cm(e,t){let n=xE(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fm(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=dc(e):(s=Bf({},e),Or(!s.pathname||!s.pathname.includes("?"),H0("?","pathname","search",s)),Or(!s.pathname||!s.pathname.includes("#"),H0("#","pathname","hash",s)),Or(!s.search||!s.search.includes("#"),H0("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let w=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),w-=1;s.pathname=v.join("/")}c=w>=0?t[w]:"/"}let h=yE(s,c),p=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}const Ho=e=>e.join("/").replace(/\/\/+/g,"/"),vE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,AE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function EE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const l3=["post","put","patch","delete"];new Set(l3);const CE=["get",...l3];new Set(CE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ff(){return Ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ff.apply(this,arguments)}const hm=Ze.createContext(null),SE=Ze.createContext(null),il=Ze.createContext(null),jd=Ze.createContext(null),no=Ze.createContext({outlet:null,matches:[],isDataRoute:!1}),u3=Ze.createContext(null);function NE(e,t){let{relative:n}=t===void 0?{}:t;pc()||Or(!1);let{basename:r,navigator:s}=Ze.useContext(il),{hash:a,pathname:l,search:c}=f3(e,{relative:n}),h=l;return r!=="/"&&(h=l==="/"?r:Ho([r,l])),s.createHref({pathname:h,search:c,hash:a})}function pc(){return Ze.useContext(jd)!=null}function eh(){return pc()||Or(!1),Ze.useContext(jd).location}function c3(e){Ze.useContext(il).static||Ze.useLayoutEffect(e)}function Fs(){let{isDataRoute:e}=Ze.useContext(no);return e?jE():_E()}function _E(){pc()||Or(!1);let e=Ze.useContext(hm),{basename:t,future:n,navigator:r}=Ze.useContext(il),{matches:s}=Ze.useContext(no),{pathname:a}=eh(),l=JSON.stringify(cm(s,n.v7_relativeSplatPath)),c=Ze.useRef(!1);return c3(()=>{c.current=!0}),Ze.useCallback(function(p,y){if(y===void 0&&(y={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let w=fm(p,JSON.parse(l),a,y.relative==="path");e==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:Ho([t,w.pathname])),(y.replace?r.replace:r.push)(w,y.state,y)},[t,r,l,a,e])}function th(){let{matches:e}=Ze.useContext(no),t=e[e.length-1];return t?t.params:{}}function f3(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=Ze.useContext(il),{matches:s}=Ze.useContext(no),{pathname:a}=eh(),l=JSON.stringify(cm(s,r.v7_relativeSplatPath));return Ze.useMemo(()=>fm(e,JSON.parse(l),a,n==="path"),[e,l,a,n])}function IE(e,t){return TE(e,t)}function TE(e,t,n,r){pc()||Or(!1);let{navigator:s}=Ze.useContext(il),{matches:a}=Ze.useContext(no),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let p=eh(),y;if(t){var w;let k=typeof t=="string"?dc(t):t;h==="/"||(w=k.pathname)!=null&&w.startsWith(h)||Or(!1),y=k}else y=p;let v=y.pathname||"/",b=v;if(h!=="/"){let k=h.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let E=nE(e,{pathname:b}),A=RE(E&&E.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:Ho([h,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:Ho([h,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,n,r);return t&&A?Ze.createElement(jd.Provider,{value:{location:Ff({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Ro.Pop}},A):A}function LE(){let e=FE(),t=EE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ze.createElement(Ze.Fragment,null,Ze.createElement("h2",null,"Unexpected Application Error!"),Ze.createElement("h3",{style:{fontStyle:"italic"}},t),n?Ze.createElement("pre",{style:s},n):null,null)}const kE=Ze.createElement(LE,null);class PE extends Ze.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?Ze.createElement(no.Provider,{value:this.props.routeContext},Ze.createElement(u3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OE(e){let{routeContext:t,match:n,children:r}=e,s=Ze.useContext(hm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),Ze.createElement(no.Provider,{value:t},r)}function RE(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=(s=n)==null?void 0:s.errors;if(c!=null){let y=l.findIndex(w=>w.route.id&&(c==null?void 0:c[w.route.id])!==void 0);y>=0||Or(!1),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<l.length;y++){let w=l[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=y),w.route.id){let{loaderData:v,errors:b}=n,E=w.route.loader&&v[w.route.id]===void 0&&(!b||b[w.route.id]===void 0);if(w.route.lazy||E){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((y,w,v)=>{let b,E=!1,A=null,k=null;n&&(b=c&&w.route.id?c[w.route.id]:void 0,A=w.route.errorElement||kE,h&&(p<0&&v===0?(UE("route-fallback"),E=!0,k=null):p===v&&(E=!0,k=w.route.hydrateFallbackElement||null)));let S=t.concat(l.slice(0,v+1)),_=()=>{let L;return b?L=A:E?L=k:w.route.Component?L=Ze.createElement(w.route.Component,null):w.route.element?L=w.route.element:L=y,Ze.createElement(OE,{match:w,routeContext:{outlet:y,matches:S,isDataRoute:n!=null},children:L})};return n&&(w.route.ErrorBoundary||w.route.errorElement||v===0)?Ze.createElement(PE,{location:n.location,revalidation:n.revalidation,component:A,error:b,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):_()},null)}var h3=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(h3||{}),d3=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(d3||{});function DE(e){let t=Ze.useContext(hm);return t||Or(!1),t}function ME(e){let t=Ze.useContext(SE);return t||Or(!1),t}function BE(e){let t=Ze.useContext(no);return t||Or(!1),t}function p3(e){let t=BE(),n=t.matches[t.matches.length-1];return n.route.id||Or(!1),n.route.id}function FE(){var e;let t=Ze.useContext(u3),n=ME(),r=p3();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function jE(){let{router:e}=DE(h3.UseNavigateStable),t=p3(d3.UseNavigateStable),n=Ze.useRef(!1);return c3(()=>{n.current=!0}),Ze.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ff({fromRouteId:t},a)))},[e,t])}const ky={};function UE(e,t,n){ky[e]||(ky[e]=!0)}function zE(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function qE(e){let{to:t,replace:n,state:r,relative:s}=e;pc()||Or(!1);let{future:a,static:l}=Ze.useContext(il),{matches:c}=Ze.useContext(no),{pathname:h}=eh(),p=Fs(),y=fm(t,cm(c,a.v7_relativeSplatPath),h,s==="path"),w=JSON.stringify(y);return Ze.useEffect(()=>p(JSON.parse(w),{replace:n,state:r,relative:s}),[p,w,s,n,r]),null}function ls(e){Or(!1)}function WE(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ro.Pop,navigator:a,static:l=!1,future:c}=e;pc()&&Or(!1);let h=t.replace(/^\/*/,"/"),p=Ze.useMemo(()=>({basename:h,navigator:a,static:l,future:Ff({v7_relativeSplatPath:!1},c)}),[h,c,a,l]);typeof r=="string"&&(r=dc(r));let{pathname:y="/",search:w="",hash:v="",state:b=null,key:E="default"}=r,A=Ze.useMemo(()=>{let k=um(y,h);return k==null?null:{location:{pathname:k,search:w,hash:v,state:b,key:E},navigationType:s}},[h,y,w,v,b,E,s]);return A==null?null:Ze.createElement(il.Provider,{value:p},Ze.createElement(jd.Provider,{children:n,value:A}))}function VE(e){let{children:t,location:n}=e;return IE(gp(t),n)}new Promise(()=>{});function gp(e,t){t===void 0&&(t=[]);let n=[];return Ze.Children.forEach(e,(r,s)=>{if(!Ze.isValidElement(r))return;let a=[...t,s];if(r.type===Ze.Fragment){n.push.apply(n,gp(r.props.children,a));return}r.type!==ls&&Or(!1),!r.props.index||!r.props.children||Or(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=gp(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mp.apply(this,arguments)}function HE(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function GE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XE(e,t){return e.button===0&&(!t||t==="_self")&&!GE(e)}const YE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KE="6";try{window.__reactRouterVersion=KE}catch{}const QE="startTransition",Py=z6[QE];function $E(e){let{basename:t,children:n,future:r,window:s}=e,a=Ze.useRef();a.current==null&&(a.current=JA({window:s,v5Compat:!0}));let l=a.current,[c,h]=Ze.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},y=Ze.useCallback(w=>{p&&Py?Py(()=>h(w)):h(w)},[h,p]);return Ze.useLayoutEffect(()=>l.listen(y),[l,y]),Ze.useEffect(()=>zE(r),[r]),Ze.createElement(WE,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const ZE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g3=Ze.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:c,target:h,to:p,preventScrollReset:y,viewTransition:w}=t,v=HE(t,YE),{basename:b}=Ze.useContext(il),E,A=!1;if(typeof p=="string"&&JE.test(p)&&(E=p,ZE))try{let L=new URL(window.location.href),z=p.startsWith("//")?new URL(L.protocol+p):new URL(p),H=um(z.pathname,b);z.origin===L.origin&&H!=null?p=H+z.search+z.hash:A=!0}catch{}let k=NE(p,{relative:s}),S=eC(p,{replace:l,state:c,target:h,preventScrollReset:y,relative:s,viewTransition:w});function _(L){r&&r(L),L.defaultPrevented||S(L)}return Ze.createElement("a",mp({},v,{href:E||k,onClick:A||a?r:_,ref:n,target:h}))});var Oy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Oy||(Oy={}));var Ry;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ry||(Ry={}));function eC(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:c}=t===void 0?{}:t,h=Fs(),p=eh(),y=f3(e,{relative:l});return Ze.useCallback(w=>{if(XE(w,n)){w.preventDefault();let v=r!==void 0?r:sd(p)===sd(y);h(e,{replace:v,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[p,h,y,r,s,n,e,a,l,c])}const m3=Ze.createContext(null),Zl=()=>{const e=Ze.useContext(m3);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},tC=({children:e})=>{const[t,n]=Ze.useState(null),[r,s]=Ze.useState(!0);Ze.useEffect(()=>{const w=localStorage.getItem("eventsx_user");if(w)try{n(JSON.parse(w))}catch(v){console.error("Error parsing stored user:",v),localStorage.removeItem("eventsx_user")}s(!1)},[]);const y={user:t,loading:r,login:w=>{n(w),localStorage.setItem("eventsx_user",JSON.stringify(w))},logout:()=>{n(null),localStorage.removeItem("eventsx_user")},isSuperAdmin:()=>(t==null?void 0:t.role)==="superadmin",isOwner:()=>(t==null?void 0:t.role)==="owner",canEditEvent:w=>t?t.role==="superadmin":!1,isAuthenticated:!!t};return r?R.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:R.jsx("p",{className:"text-white",children:"Loading..."})}):R.jsx(m3.Provider,{value:y,children:e})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Hn=(e,t)=>{const n=Ze.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:h,...p},y)=>Ze.createElement("svg",{ref:y,...nC,width:s,height:s,stroke:r,strokeWidth:l?Number(a)*24/Number(s):a,className:["lucide",`lucide-${rC(e)}`,c].join(" "),...p},[...t.map(([w,v])=>Ze.createElement(w,v)),...Array.isArray(h)?h:[h]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=Hn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=Hn("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Hn("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=Hn("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=Hn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=Hn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=Hn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=Hn("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=Hn("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=Hn("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=Hn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=Hn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=Hn("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=Hn("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=Hn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=Hn("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=Hn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=Hn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=Hn("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=Hn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=Hn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=Hn("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=Hn("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=Hn("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=Hn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=Hn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wC=()=>{const e=Fs(),t=[{title:"Jobs",description:"Career opportunities and employment",icon:sC,color:"text-gray-900",bgColor:"bg-white",borderColor:"border-gray-200"},{title:"Physical Community",description:"Local connections and belonging",icon:vp,color:"text-gray-900",bgColor:"bg-white",borderColor:"border-gray-200"},{title:"Business Investors",description:"Investment and funding opportunities",icon:gC,color:"text-red-600",bgColor:"bg-white",borderColor:"border-gray-200",highlight:!0},{title:"Sports & Wellness",description:"Fitness, teams, and healthy living",icon:lC,color:"text-red-600",bgColor:"bg-white",borderColor:"border-gray-200",highlight:!0},{title:"Education",description:"Learning and skill development",icon:cC,color:"text-gray-900",bgColor:"bg-white",borderColor:"border-gray-200"},{title:"Events",description:"Experiences and celebrations",icon:Fl,color:"text-gray-900",bgColor:"bg-white",borderColor:"border-gray-200"}];return R.jsxs("div",{className:"min-h-screen bg-[#F5F5F0]",children:[R.jsx("nav",{className:"bg-white border-b border-gray-100",children:R.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:R.jsxs("div",{className:"flex items-center justify-between h-20",children:[R.jsxs("div",{className:"flex items-center space-x-3",children:[R.jsx("img",{src:"/linkmeu-logo.png",alt:"LinkMeU Logo",className:"h-14 w-auto"}),R.jsxs("div",{children:[R.jsxs("div",{className:"text-2xl font-bold leading-tight",children:[R.jsx("span",{className:"text-gray-900",children:"LINK"}),R.jsx("span",{className:"text-red-600",children:"MEU"})]}),R.jsx("div",{className:"text-xs text-gray-600 -mt-1",children:"Connecting Me to You"})]})]}),R.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[R.jsx("a",{href:"#categories",className:"text-gray-700 hover:text-gray-900 text-base font-medium",children:"Categories"}),R.jsx("a",{href:"#how-it-works",className:"text-gray-700 hover:text-gray-900 text-base font-medium",children:"How it works"}),R.jsx("button",{onClick:()=>e("/events"),className:"px-6 py-2.5 bg-black hover:bg-gray-900 text-white rounded-lg font-medium transition-all",children:"Get Early access"})]})]})})}),R.jsx("section",{className:"pt-24 pb-32 px-6 lg:px-8",children:R.jsx("div",{className:"max-w-4xl mx-auto",children:R.jsxs("div",{className:"text-left",children:[R.jsxs("h1",{className:"text-6xl lg:text-7xl font-bold mb-8 leading-tight",children:[R.jsx("span",{className:"text-gray-900",children:"Link Me. "}),R.jsx("span",{className:"text-red-600",children:"You Matter Most."})]}),R.jsx("p",{className:"text-xl lg:text-2xl text-gray-700 mb-12 max-w-2xl leading-relaxed",children:"One place to connect with the right people, for the right purpose  without noise."}),R.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[R.jsx("button",{onClick:()=>e("/events"),className:"px-8 py-4 bg-black hover:bg-gray-900 text-white rounded-xl font-semibold text-lg transition-all",children:"Get Started"}),R.jsx("button",{onClick:()=>e("/events"),className:"px-8 py-4 bg-white hover:bg-gray-50 text-gray-900 border-2 border-gray-900 rounded-xl font-semibold text-lg transition-all",children:"Explore Categories"})]})]})})}),R.jsx("section",{id:"categories",className:"py-20 px-6 lg:px-8 bg-white",children:R.jsxs("div",{className:"max-w-6xl mx-auto",children:[R.jsxs("div",{className:"mb-16",children:[R.jsx("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:"Connection Categories"}),R.jsx("p",{className:"text-xl text-gray-600 max-w-3xl leading-relaxed",children:"Designed to avoid overlap. Each category has one clear purpose, so matching stays clean and relevant."})]}),R.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((n,r)=>R.jsxs("div",{onClick:()=>e("/events"),className:`group cursor-pointer ${n.bgColor} border-2 ${n.borderColor} rounded-2xl p-8 hover:border-gray-400 transition-all duration-300 hover:shadow-lg`,children:[R.jsx(n.icon,{className:`w-8 h-8 ${n.color} mb-6`}),R.jsx("h3",{className:`text-2xl font-bold mb-3 ${n.color}`,children:n.title}),R.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.description})]},r))})]})}),R.jsx("section",{id:"how-it-works",className:"py-20 px-6 lg:px-8 bg-[#F5F5F0]",children:R.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[R.jsx("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:"How It Works"}),R.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-16 leading-relaxed",children:"Connect with people who share your purpose. Whether it's building community, growing professionally, or exploring new opportunities  LinkMeU makes meaningful connections simple."}),R.jsx("button",{onClick:()=>e("/events"),className:"px-8 py-4 bg-black hover:bg-gray-900 text-white rounded-xl font-semibold text-lg transition-all",children:"Explore Events"})]})}),R.jsx("footer",{className:"py-16 px-6 lg:px-8 bg-white border-t border-gray-100",children:R.jsx("div",{className:"max-w-6xl mx-auto",children:R.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[R.jsxs("div",{className:"flex items-center space-x-2 mb-4 md:mb-0",children:[R.jsx("img",{src:"/linkmeu-logo.png",alt:"LinkMeU Logo",className:"h-10 w-auto"}),R.jsx("div",{children:R.jsxs("div",{className:"text-xl font-bold leading-tight",children:[R.jsx("span",{className:"text-gray-900",children:"LINK"}),R.jsx("span",{className:"text-red-600",children:"MEU"})]})})]}),R.jsx("div",{className:"text-gray-600 text-sm",children:" 2025 LinkMeU. Link Me. You Matter Most."})]})})})]})},Jn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Fr=Object.keys,Ii=Array.isArray;function ji(e,t){return typeof t!="object"||Fr(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||Jn.Promise||(Jn.Promise=Promise);const jf=Object.getPrototypeOf,xC={}.hasOwnProperty;function ys(e,t){return xC.call(e,t)}function ic(e,t){typeof t=="function"&&(t=t(jf(e))),(typeof Reflect>"u"?Fr:Reflect.ownKeys)(t).forEach(n=>{Ya(e,n,t[n])})}const x3=Object.defineProperty;function Ya(e,t,n,r){x3(e,t,ji(n&&ys(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Vu(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Ya(e.prototype,"constructor",e),{extend:ic.bind(null,e.prototype)}}}}const vC=Object.getOwnPropertyDescriptor;function dm(e,t){let n;return vC(e,t)||(n=jf(e))&&dm(n,t)}const bC=[].slice;function ad(e,t,n){return bC.call(e,t,n)}function v3(e,t){return t(e)}function Qc(e){if(!e)throw new Error("Assertion Failed")}function b3(e){Jn.setImmediate?setImmediate(e):setTimeout(e,0)}function A3(e,t){return e.reduce((n,r,s)=>{var a=t(r,s);return a&&(n[a[0]]=a[1]),n},{})}function Ka(e,t){if(typeof t=="string"&&ys(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,s=t.length;r<s;++r){var a=Ka(e,t[r]);n.push(a)}return n}var l=t.indexOf(".");if(l!==-1){var c=e[t.substr(0,l)];return c==null?void 0:Ka(c,t.substr(l+1))}}function na(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Qc(typeof n!="string"&&"length"in n);for(var r=0,s=t.length;r<s;++r)na(e,t[r],n[r])}else{var a=t.indexOf(".");if(a!==-1){var l=t.substr(0,a),c=t.substr(a+1);if(c==="")n===void 0?Ii(e)&&!isNaN(parseInt(l))?e.splice(l,1):delete e[l]:e[l]=n;else{var h=e[l];h&&ys(e,l)||(h=e[l]={}),na(h,c,n)}}else n===void 0?Ii(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function E3(e){var t={};for(var n in e)ys(e,n)&&(t[n]=e[n]);return t}const AC=[].concat;function C3(e){return AC.apply([],e)}const S3="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(C3([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>Jn[e]),EC=S3.map(e=>Jn[e]);A3(S3,e=>[e,!0]);let Io=null;function nh(e){Io=typeof WeakMap<"u"&&new WeakMap;const t=bp(e);return Io=null,t}function bp(e){if(!e||typeof e!="object")return e;let t=Io&&Io.get(e);if(t)return t;if(Ii(e)){t=[],Io&&Io.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(bp(e[n]))}else if(EC.indexOf(e.constructor)>=0)t=e;else{const a=jf(e);for(var s in t=a===Object.prototype?{}:Object.create(a),Io&&Io.set(e,t),e)ys(e,s)&&(t[s]=bp(e[s]))}return t}const{toString:CC}={};function Ap(e){return CC.call(e).slice(8,-1)}const Ep=typeof Symbol<"u"?Symbol.iterator:"@@iterator",SC=typeof Ep=="symbol"?function(e){var t;return e!=null&&(t=e[Ep])&&t.apply(e)}:function(){return null},xu={};function Wa(e){var t,n,r,s;if(arguments.length===1){if(Ii(e))return e.slice();if(this===xu&&typeof e=="string")return[e];if(s=SC(e)){for(n=[];!(r=s.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const pm=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Ea=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function N3(e,t){Ea=e,_3=t}var _3=()=>!0;const NC=!new Error("").stack;function Jl(){if(NC)try{throw Jl.arguments,new Error}catch(e){return e}return new Error}function Cp(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(_3).map(r=>`
`+r).join("")):""}var I3=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],gm=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(I3),_C={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Hu(e,t){this._e=Jl(),this.name=e,this.message=t}function T3(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,s)=>s.indexOf(n)===r).join(`
`)}function od(e,t,n,r){this._e=Jl(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=T3(e,t)}function lf(e,t){this._e=Jl(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=T3(e,t)}Vu(Hu).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Cp(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Vu(od).from(Hu),Vu(lf).from(Hu);var mm=gm.reduce((e,t)=>(e[t]=t+"Error",e),{});const IC=Hu;var Gt=gm.reduce((e,t)=>{var n=t+"Error";function r(s,a){this._e=Jl(),this.name=n,s?typeof s=="string"?(this.message=`${s}${a?`
 `+a:""}`,this.inner=a||null):typeof s=="object"&&(this.message=`${s.name} ${s.message}`,this.inner=s):(this.message=_C[t]||n,this.inner=null)}return Vu(r).from(IC),e[t]=r,e},{});Gt.Syntax=SyntaxError,Gt.Type=TypeError,Gt.Range=RangeError;var By=I3.reduce((e,t)=>(e[t+"Error"]=Gt[t],e),{}),E1=gm.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=Gt[t]),e),{});function Fn(){}function Uf(e){return e}function TC(e,t){return e==null||e===Uf?t:function(n){return t(e(n))}}function Yl(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function LC(e,t){return e===Fn?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Yl(r,this.onsuccess):r),s&&(this.onerror=this.onerror?Yl(s,this.onerror):s),a!==void 0?a:n}}function kC(e,t){return e===Fn?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Yl(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Yl(r,this.onerror):r)}}function PC(e,t){return e===Fn?t:function(n){var r=e.apply(this,arguments);ji(n,r);var s=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var l=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?Yl(s,this.onsuccess):s),a&&(this.onerror=this.onerror?Yl(a,this.onerror):a),r===void 0?l===void 0?void 0:l:ji(r,l)}}function OC(e,t){return e===Fn?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function ym(e,t){return e===Fn?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,s=arguments.length,a=new Array(s);s--;)a[s]=arguments[s];return n.then(function(){return t.apply(r,a)})}return t.apply(this,arguments)}}E1.ModifyError=od,E1.DexieError=Hu,E1.BulkError=lf;var zf={};const L3=100,[Sp,ld,Np]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,jf(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,jf(t),e]})(),k3=ld&&ld.then,C1=Sp&&Sp.constructor,wm=!!Np;var _p=!1,RC=Np?()=>{Np.then(Xh)}:Jn.setImmediate?setImmediate.bind(null,Xh):Jn.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{Xh(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Xh,0)},uf=function(e,t){$c.push([e,t]),ud&&(RC(),ud=!1)},Ip=!0,ud=!0,jl=[],S1=[],Tp=null,Lp=Uf,Gu={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Uy,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{Uy(e[0],e[1])}catch{}})}},zt=Gu,$c=[],Ul=0,N1=[];function vt(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Fn,this._lib=!1;var t=this._PSD=zt;if(Ea&&(this._stackHolder=Jl(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==zf)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Pp(this,this._value))}this._state=null,this._value=null,++t.ref,O3(this,e)}const kp={get:function(){var e=zt,t=cd;function n(r,s){var a=!e.global&&(e!==zt||t!==cd);const l=a&&!eo();var c=new vt((h,p)=>{xm(this,new P3(fd(r,e,a,l),fd(s,e,a,l),h,p,e))});return Ea&&M3(c,this),c}return n.prototype=zf,n},set:function(e){Ya(this,"then",e&&e.prototype===zf?kp:{get:function(){return e},set:kp.set})}};function P3(e,t,n,r,s){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=s}function O3(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&rh();n&&typeof n.then=="function"?O3(e,(s,a)=>{n instanceof vt?n._then(s,a):n.then(s,a)}):(e._state=!0,e._value=n,R3(e)),r&&ih()}},Pp.bind(null,e))}catch(n){Pp(e,n)}}function Pp(e,t){if(S1.push(t),e._state===null){var n=e._lib&&rh();t=Lp(t),e._state=!1,e._value=t,Ea&&t!==null&&typeof t=="object"&&!t._promise&&function(r,s,a){try{r.apply(null,a)}catch{}}(()=>{var r=dm(t,"stack");t._promise=e,Ya(t,"stack",{get:()=>_p?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){jl.some(s=>s._value===r._value)||jl.push(r)}(e),R3(e),n&&ih()}}function R3(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)xm(e,t[n]);var s=e._PSD;--s.ref||s.finalize(),Ul===0&&(++Ul,uf(()=>{--Ul==0&&vm()},[]))}function xm(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Ul,uf(DC,[n,e,t])}else e._listeners.push(t)}function DC(e,t,n){try{Tp=t;var r,s=t._value;t._state?r=e(s):(S1.length&&(S1=[]),r=e(s),S1.indexOf(s)===-1&&function(a){for(var l=jl.length;l;)if(jl[--l]._value===a._value)return void jl.splice(l,1)}(t)),n.resolve(r)}catch(a){n.reject(a)}finally{Tp=null,--Ul==0&&vm(),--n.psd.ref||n.psd.finalize()}}function D3(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var s,a,l=e._value;l!=null?(s=l.name||"Error",a=l.message||l,r=Cp(l,0)):(s=l,a=""),t.push(s+(a?": "+a:"")+r)}return Ea&&((r=Cp(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&D3(e._prev,t,n)),t}function M3(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Xh(){rh()&&ih()}function rh(){var e=Ip;return Ip=!1,ud=!1,e}function ih(){var e,t,n;do for(;$c.length>0;)for(e=$c,$c=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while($c.length>0);Ip=!0,ud=!0}function vm(){var e=jl;jl=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=N1.slice(0),n=t.length;n;)t[--n]()}function Yh(e){return new vt(zf,!1,e)}function or(e,t){var n=zt;return function(){var r=rh(),s=zt;try{return Ko(n,!0),e.apply(this,arguments)}catch(a){t&&t(a)}finally{Ko(s,!1),r&&ih()}}}ic(vt.prototype,{then:kp,_then:function(e,t){xm(this,new P3(null,null,e,t,zt))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):Yh(r)):this.then(null,r=>r&&r.name===t?n(r):Yh(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Yh(t)))},stack:{get:function(){if(this._stack)return this._stack;try{_p=!0;var e=D3(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{_p=!1}}},timeout:function(e,t){return e<1/0?new vt((n,r)=>{var s=setTimeout(()=>r(new Gt.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Ya(vt.prototype,Symbol.toStringTag,"Dexie.Promise"),Gu.env=B3(),ic(vt,{all:function(){var e=Wa.apply(null,arguments).map(Kh);return new vt(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((s,a)=>vt.resolve(s).then(l=>{e[a]=l,--r||t(e)},n))})},resolve:e=>{if(e instanceof vt)return e;if(e&&typeof e.then=="function")return new vt((n,r)=>{e.then(n,r)});var t=new vt(zf,!0,e);return M3(t,Tp),t},reject:Yh,race:function(){var e=Wa.apply(null,arguments).map(Kh);return new vt((t,n)=>{e.map(r=>vt.resolve(r).then(t,n))})},PSD:{get:()=>zt,set:e=>zt=e},totalEchoes:{get:()=>cd},newPSD:Yo,usePSD:mc,scheduler:{get:()=>uf,set:e=>{uf=e}},rejectionMapper:{get:()=>Lp,set:e=>{Lp=e}},follow:(e,t)=>new vt((n,r)=>Yo((s,a)=>{var l=zt;l.unhandleds=[],l.onunhandled=a,l.finalize=Yl(function(){(function(c){function h(){c(),N1.splice(N1.indexOf(h),1)}N1.push(h),++Ul,uf(()=>{--Ul==0&&vm()},[])})(()=>{this.unhandleds.length===0?s():a(this.unhandleds[0])})},l.finalize),e()},t,n,r))}),C1&&(C1.allSettled&&Ya(vt,"allSettled",function(){const e=Wa.apply(null,arguments).map(Kh);return new vt(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((s,a)=>vt.resolve(s).then(l=>r[a]={status:"fulfilled",value:l},l=>r[a]={status:"rejected",reason:l}).then(()=>--n||t(r)))})}),C1.any&&typeof AggregateError<"u"&&Ya(vt,"any",function(){const e=Wa.apply(null,arguments).map(Kh);return new vt((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const s=new Array(r);e.forEach((a,l)=>vt.resolve(a).then(c=>t(c),c=>{s[l]=c,--r||n(new AggregateError(s))}))})}));const Ni={awaits:0,echoes:0,id:0};var MC=0,_1=[],X0=0,cd=0,BC=0;function Yo(e,t,n,r){var s=zt,a=Object.create(s);a.parent=s,a.ref=0,a.global=!1,a.id=++BC;var l=Gu.env;a.env=wm?{Promise:vt,PromiseProp:{value:vt,configurable:!0,writable:!0},all:vt.all,race:vt.race,allSettled:vt.allSettled,any:vt.any,resolve:vt.resolve,reject:vt.reject,nthen:Fy(l.nthen,a),gthen:Fy(l.gthen,a)}:{},t&&ji(a,t),++s.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var c=mc(a,e,n,r);return a.ref===0&&a.finalize(),c}function gc(){return Ni.id||(Ni.id=++MC),++Ni.awaits,Ni.echoes+=L3,Ni.id}function eo(){return!!Ni.awaits&&(--Ni.awaits==0&&(Ni.id=0),Ni.echoes=Ni.awaits*L3,!0)}function Kh(e){return Ni.echoes&&e&&e.constructor===C1?(gc(),e.then(t=>(eo(),t),t=>(eo(),Gr(t)))):e}function FC(e){++cd,Ni.echoes&&--Ni.echoes!=0||(Ni.echoes=Ni.id=0),_1.push(zt),Ko(e,!0)}function jC(){var e=_1[_1.length-1];_1.pop(),Ko(e,!1)}function Ko(e,t){var n=zt;if((t?!Ni.echoes||X0++&&e===zt:!X0||--X0&&e===zt)||F3(t?FC.bind(null,e):jC),e!==zt&&(zt=e,n===Gu&&(Gu.env=B3()),wm)){var r=Gu.env.Promise,s=e.env;ld.then=s.nthen,r.prototype.then=s.gthen,(n.global||e.global)&&(Object.defineProperty(Jn,"Promise",s.PromiseProp),r.all=s.all,r.race=s.race,r.resolve=s.resolve,r.reject=s.reject,s.allSettled&&(r.allSettled=s.allSettled),s.any&&(r.any=s.any))}}function B3(){var e=Jn.Promise;return wm?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Jn,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:ld.then,gthen:e.prototype.then}:{}}function mc(e,t,n,r,s){var a=zt;try{return Ko(e,!0),t(n,r,s)}finally{Ko(a,!1)}}function F3(e){k3.call(Sp,e)}function fd(e,t,n,r){return typeof e!="function"?e:function(){var s=zt;n&&gc(),Ko(t,!0);try{return e.apply(this,arguments)}finally{Ko(s,!1),r&&F3(eo)}}}function Fy(e,t){return function(n,r){return e.call(this,fd(n,t),fd(r,t))}}(""+k3).indexOf("[native code]")===-1&&(gc=eo=Fn);const jy="unhandledrejection";function Uy(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,s={promise:t,reason:e};if(Jn.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(jy,!0,!0),ji(r,s)):Jn.CustomEvent&&ji(r=new CustomEvent(jy,{detail:s}),s),r&&Jn.dispatchEvent&&(dispatchEvent(r),!Jn.PromiseRejectionEvent&&Jn.onunhandledrejection))try{Jn.onunhandledrejection(r)}catch{}Ea&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var Gr=vt.reject;function Op(e,t,n,r){if(e.idbdb&&(e._state.openComplete||zt.letThrough||e._vip)){var s=e._createTransaction(t,n,e._dbSchema);try{s.create(),e._state.PR1398_maxLoop=3}catch(a){return a.name===mm.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Op(e,t,n,r))):Gr(a)}return s._promise(t,(a,l)=>Yo(()=>(zt.trans=s,r(a,l,s)))).then(a=>s._completion.then(()=>a))}if(e._state.openComplete)return Gr(new Gt.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Gr(new Gt.DatabaseClosed);e.open().catch(Fn)}return e._state.dbReadyPromise.then(()=>Op(e,t,n,r))}const zy="3.2.7",Dl="",Rp=-1/0,Ma="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",j3="String expected.",cf=[],Ud=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),UC=Ud,zC=Ud,U3=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),zd="__dbnames",Y0="readonly",K0="readwrite";function Kl(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const z3={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Qh(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=nh(t))[e],t)}let qC=class{_trans(t,n,r){const s=this._tx||zt.trans,a=this.name;function l(h,p,y){if(!y.schema[a])throw new Gt.NotFound("Table "+a+" not part of transaction");return n(y.idbtrans,y)}const c=rh();try{return s&&s.db===this.db?s===zt.trans?s._promise(t,l,r):Yo(()=>s._promise(t,l,r),{trans:s,transless:zt.transless||zt}):Op(this.db,t,[this.name],l)}finally{c&&ih()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(s=>this.hook.reading.fire(s))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(Ii(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=Fr(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(p=>{if(p.compound&&n.every(y=>p.keyPath.indexOf(y)>=0)){for(let y=0;y<n.length;++y)if(n.indexOf(p.keyPath[y])===-1)return!1;return!0}return!1}).sort((p,y)=>p.keyPath.length-y.keyPath.length)[0];if(r&&this.db._maxKey!==Dl){const p=r.keyPath.slice(0,n.length);return this.where(p).equals(p.map(y=>t[y]))}!r&&Ea&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:s}=this.schema,a=this.db._deps.indexedDB;function l(p,y){try{return a.cmp(p,y)===0}catch{return!1}}const[c,h]=n.reduce(([p,y],w)=>{const v=s[w],b=t[w];return[p||v,p||!v?Kl(y,v&&v.multi?E=>{const A=Ka(E,w);return Ii(A)&&A.some(k=>l(b,k))}:E=>l(b,Ka(E,w))):y]},[null,null]);return c?this.where(c.name).equals(t[c.keyPath]).filter(h):r?this.filter(h):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,Ii(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const s=Object.create(t.prototype);for(var a in r)if(ys(r,a))try{s[a]=r[a]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){ji(this,t)})}add(t,n){const{auto:r,keyPath:s}=this.schema.primKey;let a=t;return s&&r&&(a=Qh(s)(t)),this._trans("readwrite",l=>this.core.mutate({trans:l,type:"add",keys:n!=null?[n]:null,values:[a]})).then(l=>l.numFailures?vt.reject(l.failures[0]):l.lastResult).then(l=>{if(s)try{na(t,s,l)}catch{}return l})}update(t,n){if(typeof t!="object"||Ii(t))return this.where(":id").equals(t).modify(n);{const r=Ka(t,this.schema.primKey.keyPath);if(r===void 0)return Gr(new Gt.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?Fr(n).forEach(s=>{na(t,s,n[s])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:s}=this.schema.primKey;let a=t;return s&&r&&(a=Qh(s)(t)),this._trans("readwrite",l=>this.core.mutate({trans:l,type:"put",values:[a],keys:n!=null?[n]:null})).then(l=>l.numFailures?vt.reject(l.failures[0]):l.lastResult).then(l=>{if(s)try{na(t,s,l)}catch{}return l})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?vt.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:z3})).then(t=>t.numFailures?vt.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(s=>this.hook.reading.fire(s))))}bulkAdd(t,n,r){const s=Array.isArray(n)?n:void 0,a=(r=r||(s?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",l=>{const{auto:c,keyPath:h}=this.schema.primKey;if(h&&s)throw new Gt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==t.length)throw new Gt.InvalidArgument("Arguments objects and keys must have the same length");const p=t.length;let y=h&&c?t.map(Qh(h)):t;return this.core.mutate({trans:l,type:"add",keys:s,values:y,wantResults:a}).then(({numFailures:w,results:v,lastResult:b,failures:E})=>{if(w===0)return a?v:b;throw new lf(`${this.name}.bulkAdd(): ${w} of ${p} operations failed`,E)})})}bulkPut(t,n,r){const s=Array.isArray(n)?n:void 0,a=(r=r||(s?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",l=>{const{auto:c,keyPath:h}=this.schema.primKey;if(h&&s)throw new Gt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==t.length)throw new Gt.InvalidArgument("Arguments objects and keys must have the same length");const p=t.length;let y=h&&c?t.map(Qh(h)):t;return this.core.mutate({trans:l,type:"put",keys:s,values:y,wantResults:a}).then(({numFailures:w,results:v,lastResult:b,failures:E})=>{if(w===0)return a?v:b;throw new lf(`${this.name}.bulkPut(): ${w} of ${p} operations failed`,E)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:s,failures:a})=>{if(r===0)return s;throw new lf(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,a)})}};function ff(e){var t={},n=function(l,c){if(c){for(var h=arguments.length,p=new Array(h-1);--h;)p[h-1]=arguments[h];return t[l].subscribe.apply(null,p),e}if(typeof l=="string")return t[l]};n.addEventType=a;for(var r=1,s=arguments.length;r<s;++r)a(arguments[r]);return n;function a(l,c,h){if(typeof l!="object"){var p;c||(c=OC),h||(h=Fn);var y={subscribers:[],fire:h,subscribe:function(w){y.subscribers.indexOf(w)===-1&&(y.subscribers.push(w),y.fire=c(y.fire,w))},unsubscribe:function(w){y.subscribers=y.subscribers.filter(function(v){return v!==w}),y.fire=y.subscribers.reduce(c,h)}};return t[l]=n[l]=y,y}Fr(p=l).forEach(function(w){var v=p[w];if(Ii(v))a(w,p[w][0],p[w][1]);else{if(v!=="asap")throw new Gt.InvalidArgument("Invalid event config");var b=a(w,Uf,function(){for(var E=arguments.length,A=new Array(E);E--;)A[E]=arguments[E];b.subscribers.forEach(function(k){b3(function(){k.apply(null,A)})})})}})}}function Bc(e,t){return Vu(t).from({prototype:e}),t}function du(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Q0(e,t){e.filter=Kl(e.filter,t)}function $0(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Kl(r(),t()):t,e.justLimit=n&&!r}function I1(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new Gt.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function qy(e,t,n){const r=I1(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function $h(e,t,n,r){const s=e.replayFilter?Kl(e.filter,e.replayFilter()):e.filter;if(e.or){const a={},l=(c,h,p)=>{if(!s||s(h,p,v=>h.stop(v),v=>h.fail(v))){var y=h.primaryKey,w=""+y;w==="[object ArrayBuffer]"&&(w=""+new Uint8Array(y)),ys(a,w)||(a[w]=!0,t(c,h,p))}};return Promise.all([e.or._iterate(l,n),Wy(qy(e,r,n),e.algorithm,l,!e.keysOnly&&e.valueMapper)])}return Wy(qy(e,r,n),Kl(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function Wy(e,t,n,r){var s=or(r?(a,l,c)=>n(r(a),l,c):n);return e.then(a=>{if(a)return a.start(()=>{var l=()=>a.continue();t&&!t(a,c=>l=c,c=>{a.stop(c),l=Fn},c=>{a.fail(c),l=Fn})||s(a.value,a,c=>l=c),l()})})}function Bi(e,t){try{const n=Vy(e),r=Vy(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(s,a){const l=s.length,c=a.length,h=l<c?l:c;for(let p=0;p<h;++p)if(s[p]!==a[p])return s[p]<a[p]?-1:1;return l===c?0:l<c?-1:1}(Hy(e),Hy(t));case"Array":return function(s,a){const l=s.length,c=a.length,h=l<c?l:c;for(let p=0;p<h;++p){const y=Bi(s[p],a[p]);if(y!==0)return y}return l===c?0:l<c?-1:1}(e,t)}}catch{}return NaN}function Vy(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=Ap(e);return n==="ArrayBuffer"?"binary":n}function Hy(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}let WC=class{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,Gr.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,Gr.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=Kl(n.algorithm,t)}_iterate(t,n){return $h(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&ji(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>$h(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,s=r.table.core;if(du(r,!0))return s.count({trans:n,query:{index:I1(r,s.schema),range:r.range}}).then(l=>Math.min(l,r.limit));var a=0;return $h(r,()=>(++a,!1),n,s).then(()=>a)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),s=r[0],a=r.length-1;function l(p,y){return y?l(p[r[y]],y-1):p[s]}var c=this._ctx.dir==="next"?1:-1;function h(p,y){var w=l(p,a),v=l(y,a);return w<v?-c:w>v?c:0}return this.toArray(function(p){return p.sort(h)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&du(r,!0)&&r.limit>0){const{valueMapper:s}=r,a=I1(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:a,range:r.range}}).then(({result:l})=>s?l.map(s):l)}{const s=[];return $h(r,a=>s.push(a),n,r.table.core).then(()=>s)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,du(n)?$0(n,()=>{var r=t;return(s,a)=>r===0||(r===1?(--r,!1):(a(()=>{s.advance(r),r=0}),!1))}):$0(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),$0(this._ctx,()=>{var n=t;return function(r,s,a){return--n<=0&&s(a),n>=0}},!0),this}until(t,n){return Q0(this._ctx,function(r,s,a){return!t(r.value)||(s(a),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return Q0(this._ctx,function(s){return t(s.value)}),n=this._ctx,r=t,n.isMatch=Kl(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){t(s.key,s)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){t(s.primaryKey,s)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,a){r.push(a.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&du(n,!0)&&n.limit>0)return this._read(s=>{var a=I1(n,n.table.core.schema);return n.table.core.query({trans:s,values:!1,limit:n.limit,query:{index:a,range:n.range}})}).then(({result:s})=>s).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,a){r.push(a.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Q0(this._ctx,function(s){var a=s.primaryKey.toString(),l=ys(r,a);return r[a]=!0,!l}),this}modify(t){var n=this._ctx;return this._write(r=>{var s;if(typeof t=="function")s=t;else{var a=Fr(t),l=a.length;s=function(A){for(var k=!1,S=0;S<l;++S){var _=a[S],L=t[_];Ka(A,_)!==L&&(na(A,_,L),k=!0)}return k}}const c=n.table.core,{outbound:h,extractKey:p}=c.schema.primaryKey,y=this.db._options.modifyChunkSize||200,w=[];let v=0;const b=[],E=(A,k)=>{const{failures:S,numFailures:_}=k;v+=A-_;for(let L of Fr(S))w.push(S[L])};return this.clone().primaryKeys().then(A=>{const k=S=>{const _=Math.min(y,A.length-S);return c.getMany({trans:r,keys:A.slice(S,S+_),cache:"immutable"}).then(L=>{const z=[],H=[],M=h?[]:null,D=[];for(let F=0;F<_;++F){const oe=L[F],W={value:nh(oe),primKey:A[S+F]};s.call(W,W.value,W)!==!1&&(W.value==null?D.push(A[S+F]):h||Bi(p(oe),p(W.value))===0?(H.push(W.value),h&&M.push(A[S+F])):(D.push(A[S+F]),z.push(W.value)))}const q=du(n)&&n.limit===1/0&&(typeof t!="function"||t===Z0)&&{index:n.index,range:n.range};return Promise.resolve(z.length>0&&c.mutate({trans:r,type:"add",values:z}).then(F=>{for(let oe in F.failures)D.splice(parseInt(oe),1);E(z.length,F)})).then(()=>(H.length>0||q&&typeof t=="object")&&c.mutate({trans:r,type:"put",keys:M,values:H,criteria:q,changeSpec:typeof t!="function"&&t}).then(F=>E(H.length,F))).then(()=>(D.length>0||q&&t===Z0)&&c.mutate({trans:r,type:"delete",keys:D,criteria:q}).then(F=>E(D.length,F))).then(()=>A.length>S+_&&k(S+y))})};return k(0).then(()=>{if(w.length>0)throw new od("Error modifying one or more objects",w,v,b);return A.length})})})}delete(){var t=this._ctx,n=t.range;return du(t)&&(t.isPrimKey&&!zC||n.type===3)?this._write(r=>{const{primaryKey:s}=t.table.core.schema,a=n;return t.table.core.count({trans:r,query:{index:s,range:a}}).then(l=>t.table.core.mutate({trans:r,type:"deleteRange",range:a}).then(({failures:c,lastResult:h,results:p,numFailures:y})=>{if(y)throw new od("Could not delete some values",Object.keys(c).map(w=>c[w]),l-y);return l-y}))}):this.modify(Z0)}};const Z0=(e,t)=>t.value=null;function VC(e,t){return e<t?-1:e===t?0:1}function HC(e,t){return e>t?-1:e===t?0:1}function us(e,t,n){var r=e instanceof W3?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function pu(e){return new e.Collection(e,()=>q3("")).limit(0)}function GC(e,t,n,r,s,a){for(var l=Math.min(e.length,r.length),c=-1,h=0;h<l;++h){var p=t[h];if(p!==r[h])return s(e[h],n[h])<0?e.substr(0,h)+n[h]+n.substr(h+1):s(e[h],r[h])<0?e.substr(0,h)+r[h]+n.substr(h+1):c>=0?e.substr(0,c)+t[c]+n.substr(c+1):null;s(e[h],p)<0&&(c=h)}return l<r.length&&a==="next"?e+n.substr(e.length):l<e.length&&a==="prev"?e.substr(0,n.length):c<0?null:e.substr(0,c)+r[c]+n.substr(c+1)}function Zh(e,t,n,r){var s,a,l,c,h,p,y,w=n.length;if(!n.every(A=>typeof A=="string"))return us(e,j3);function v(A){s=function(S){return S==="next"?_=>_.toUpperCase():_=>_.toLowerCase()}(A),a=function(S){return S==="next"?_=>_.toLowerCase():_=>_.toUpperCase()}(A),l=A==="next"?VC:HC;var k=n.map(function(S){return{lower:a(S),upper:s(S)}}).sort(function(S,_){return l(S.lower,_.lower)});c=k.map(function(S){return S.upper}),h=k.map(function(S){return S.lower}),p=A,y=A==="next"?"":r}v("next");var b=new e.Collection(e,()=>So(c[0],h[w-1]+r));b._ondirectionchange=function(A){v(A)};var E=0;return b._addAlgorithm(function(A,k,S){var _=A.key;if(typeof _!="string")return!1;var L=a(_);if(t(L,h,E))return!0;for(var z=null,H=E;H<w;++H){var M=GC(_,L,c[H],h[H],l,p);M===null&&z===null?E=H+1:(z===null||l(z,M)>0)&&(z=M)}return k(z!==null?function(){A.continue(z+y)}:S),!1}),b}function So(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function q3(e){return{type:1,lower:e,upper:e}}class W3{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,s){r=r!==!1,s=s===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||s)&&(!r||!s)?pu(this):new this.Collection(this,()=>So(t,n,!r,!s))}catch{return us(this,Ma)}}equals(t){return t==null?us(this,Ma):new this.Collection(this,()=>q3(t))}above(t){return t==null?us(this,Ma):new this.Collection(this,()=>So(t,void 0,!0))}aboveOrEqual(t){return t==null?us(this,Ma):new this.Collection(this,()=>So(t,void 0,!1))}below(t){return t==null?us(this,Ma):new this.Collection(this,()=>So(void 0,t,!1,!0))}belowOrEqual(t){return t==null?us(this,Ma):new this.Collection(this,()=>So(void 0,t))}startsWith(t){return typeof t!="string"?us(this,j3):this.between(t,t+Dl,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):Zh(this,(n,r)=>n.indexOf(r[0])===0,[t],Dl)}equalsIgnoreCase(t){return Zh(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=Wa.apply(xu,arguments);return t.length===0?pu(this):Zh(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=Wa.apply(xu,arguments);return t.length===0?pu(this):Zh(this,(n,r)=>r.some(s=>n.indexOf(s)===0),t,Dl)}anyOf(){const t=Wa.apply(xu,arguments);let n=this._cmp;try{t.sort(n)}catch{return us(this,Ma)}if(t.length===0)return pu(this);const r=new this.Collection(this,()=>So(t[0],t[t.length-1]));r._ondirectionchange=a=>{n=a==="next"?this._ascending:this._descending,t.sort(n)};let s=0;return r._addAlgorithm((a,l,c)=>{const h=a.key;for(;n(h,t[s])>0;)if(++s,s===t.length)return l(c),!1;return n(h,t[s])===0||(l(()=>{a.continue(t[s])}),!1)}),r}notEqual(t){return this.inAnyRange([[Rp,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Wa.apply(xu,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return us(this,Ma)}const n=t.reduce((r,s)=>r?r.concat([[r[r.length-1][1],s]]):[[Rp,s]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,s=this._ascending,a=this._descending,l=this._min,c=this._max;if(t.length===0)return pu(this);if(!t.every(_=>_[0]!==void 0&&_[1]!==void 0&&s(_[0],_[1])<=0))return us(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Gt.InvalidArgument);const h=!n||n.includeLowers!==!1,p=n&&n.includeUppers===!0;let y,w=s;function v(_,L){return w(_[0],L[0])}try{y=t.reduce(function(_,L){let z=0,H=_.length;for(;z<H;++z){const M=_[z];if(r(L[0],M[1])<0&&r(L[1],M[0])>0){M[0]=l(M[0],L[0]),M[1]=c(M[1],L[1]);break}}return z===H&&_.push(L),_},[]),y.sort(v)}catch{return us(this,Ma)}let b=0;const E=p?_=>s(_,y[b][1])>0:_=>s(_,y[b][1])>=0,A=h?_=>a(_,y[b][0])>0:_=>a(_,y[b][0])>=0;let k=E;const S=new this.Collection(this,()=>So(y[0][0],y[y.length-1][1],!h,!p));return S._ondirectionchange=_=>{_==="next"?(k=E,w=s):(k=A,w=a),y.sort(v)},S._addAlgorithm((_,L,z)=>{for(var H=_.key;k(H);)if(++b,b===y.length)return L(z),!1;return!!function(M){return!E(M)&&!A(M)}(H)||(this._cmp(H,y[b][1])===0||this._cmp(H,y[b][0])===0||L(()=>{w===s?_.continue(y[b][0]):_.continue(y[b][1])}),!1)}),S}startsWithAnyOf(){const t=Wa.apply(xu,arguments);return t.every(n=>typeof n=="string")?t.length===0?pu(this):this.inAnyRange(t.map(n=>[n,n+Dl])):us(this,"startsWithAnyOf() only works with strings")}}function ya(e){return or(function(t){return qf(t),e(t.target.error),!1})}function qf(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Wf="storagemutated",ko="x-storagemutated-1",Qo=ff(null,Wf);class XC{_lock(){return Qc(!zt.global),++this._reculock,this._reculock!==1||zt.global||(zt.lockOwnerFor=this),this}_unlock(){if(Qc(!zt.global),--this._reculock==0)for(zt.global||(zt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{mc(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&zt.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Qc(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new Gt.DatabaseClosed(r);case"MissingAPIError":throw new Gt.MissingAPI(r.message,r);default:throw new Gt.OpenFailed(r)}if(!this.active)throw new Gt.TransactionInactive;return Qc(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=or(s=>{qf(s),this._reject(t.error)}),t.onabort=or(s=>{qf(s),this.active&&this._reject(new Gt.Abort(t.error)),this.active=!1,this.on("abort").fire(s)}),t.oncomplete=or(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Qo.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return Gr(new Gt.ReadOnly("Transaction is readonly"));if(!this.active)return Gr(new Gt.TransactionInactive);if(this._locked())return new vt((a,l)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(a,l)},zt])});if(r)return Yo(()=>{var a=new vt((l,c)=>{this._lock();const h=n(l,c,this);h&&h.then&&h.then(l,c)});return a.finally(()=>this._unlock()),a._lib=!0,a});var s=new vt((a,l)=>{var c=n(a,l,this);c&&c.then&&c.then(a,l)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=vt.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var s=n.idbtrans.objectStore(n.storeNames[0]);(function l(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(s.get(-1/0).onsuccess=l)})()}var a=n._waitingFor;return new vt((l,c)=>{r.then(h=>n._waitingQueue.push(or(l.bind(null,h))),h=>n._waitingQueue.push(or(c.bind(null,h)))).finally(()=>{n._waitingFor===a&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Gt.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(ys(n,t))return n[t];const r=this.schema[t];if(!r)throw new Gt.NotFound("Table "+t+" not part of transaction");const s=new this.db.Table(t,r,this);return s.core=this.db.core.table(t),n[t]=s,s}}function Dp(e,t,n,r,s,a,l){return{name:e,keyPath:t,unique:n,multi:r,auto:s,compound:a,src:(n&&!l?"&":"")+(r?"*":"")+(s?"++":"")+V3(t)}}function V3(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function H3(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:A3(n,r=>[r.name,r])}}let Vf=e=>{try{return e.only([[]]),Vf=()=>[[]],[[]]}catch{return Vf=()=>Dl,Dl}};function Mp(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>Ka(r,t)}(e):t=>Ka(t,e)}function Gy(e){return[].slice.call(e)}let YC=0;function hf(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function KC(e,t,n){function r(h){if(h.type===3)return null;if(h.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:p,upper:y,lowerOpen:w,upperOpen:v}=h;return p===void 0?y===void 0?null:t.upperBound(y,!!v):y===void 0?t.lowerBound(p,!!w):t.bound(p,y,!!w,!!v)}const{schema:s,hasGetAll:a}=function(h,p){const y=Gy(h.objectStoreNames);return{schema:{name:h.name,tables:y.map(w=>p.objectStore(w)).map(w=>{const{keyPath:v,autoIncrement:b}=w,E=Ii(v),A=v==null,k={},S={name:w.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:A,compound:E,keyPath:v,autoIncrement:b,unique:!0,extractKey:Mp(v)},indexes:Gy(w.indexNames).map(_=>w.index(_)).map(_=>{const{name:L,unique:z,multiEntry:H,keyPath:M}=_,D={name:L,compound:Ii(M),keyPath:M,unique:z,multiEntry:H,extractKey:Mp(M)};return k[hf(M)]=D,D}),getIndexByKeyPath:_=>k[hf(_)]};return k[":id"]=S.primaryKey,v!=null&&(k[hf(v)]=S.primaryKey),S})},hasGetAll:y.length>0&&"getAll"in p.objectStore(y[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),l=s.tables.map(h=>function(p){const y=p.name;return{name:y,schema:p,mutate:function({trans:w,type:v,keys:b,values:E,range:A}){return new Promise((k,S)=>{k=or(k);const _=w.objectStore(y),L=_.keyPath==null,z=v==="put"||v==="add";if(!z&&v!=="delete"&&v!=="deleteRange")throw new Error("Invalid operation type: "+v);const{length:H}=b||E||{length:1};if(b&&E&&b.length!==E.length)throw new Error("Given keys array must have same length as given values array.");if(H===0)return k({numFailures:0,failures:{},results:[],lastResult:void 0});let M;const D=[],q=[];let F=0;const oe=X=>{++F,qf(X)};if(v==="deleteRange"){if(A.type===4)return k({numFailures:F,failures:q,results:[],lastResult:void 0});A.type===3?D.push(M=_.clear()):D.push(M=_.delete(r(A)))}else{const[X,ae]=z?L?[E,b]:[E,null]:[b,null];if(z)for(let J=0;J<H;++J)D.push(M=ae&&ae[J]!==void 0?_[v](X[J],ae[J]):_[v](X[J])),M.onerror=oe;else for(let J=0;J<H;++J)D.push(M=_[v](X[J])),M.onerror=oe}const W=X=>{const ae=X.target.result;D.forEach((J,ie)=>J.error!=null&&(q[ie]=J.error)),k({numFailures:F,failures:q,results:v==="delete"?b:D.map(J=>J.result),lastResult:ae})};M.onerror=X=>{oe(X),W(X)},M.onsuccess=W})},getMany:({trans:w,keys:v})=>new Promise((b,E)=>{b=or(b);const A=w.objectStore(y),k=v.length,S=new Array(k);let _,L=0,z=0;const H=D=>{const q=D.target;S[q._pos]=q.result,++z===L&&b(S)},M=ya(E);for(let D=0;D<k;++D)v[D]!=null&&(_=A.get(v[D]),_._pos=D,_.onsuccess=H,_.onerror=M,++L);L===0&&b(S)}),get:({trans:w,key:v})=>new Promise((b,E)=>{b=or(b);const A=w.objectStore(y).get(v);A.onsuccess=k=>b(k.target.result),A.onerror=ya(E)}),query:function(w){return v=>new Promise((b,E)=>{b=or(b);const{trans:A,values:k,limit:S,query:_}=v,L=S===1/0?void 0:S,{index:z,range:H}=_,M=A.objectStore(y),D=z.isPrimaryKey?M:M.index(z.name),q=r(H);if(S===0)return b({result:[]});if(w){const F=k?D.getAll(q,L):D.getAllKeys(q,L);F.onsuccess=oe=>b({result:oe.target.result}),F.onerror=ya(E)}else{let F=0;const oe=k||!("openKeyCursor"in D)?D.openCursor(q):D.openKeyCursor(q),W=[];oe.onsuccess=X=>{const ae=oe.result;return ae?(W.push(k?ae.value:ae.primaryKey),++F===S?b({result:W}):void ae.continue()):b({result:W})},oe.onerror=ya(E)}})}(a),openCursor:function({trans:w,values:v,query:b,reverse:E,unique:A}){return new Promise((k,S)=>{k=or(k);const{index:_,range:L}=b,z=w.objectStore(y),H=_.isPrimaryKey?z:z.index(_.name),M=E?A?"prevunique":"prev":A?"nextunique":"next",D=v||!("openKeyCursor"in H)?H.openCursor(r(L),M):H.openKeyCursor(r(L),M);D.onerror=ya(S),D.onsuccess=or(q=>{const F=D.result;if(!F)return void k(null);F.___id=++YC,F.done=!1;const oe=F.continue.bind(F);let W=F.continuePrimaryKey;W&&(W=W.bind(F));const X=F.advance.bind(F),ae=()=>{throw new Error("Cursor not stopped")};F.trans=w,F.stop=F.continue=F.continuePrimaryKey=F.advance=()=>{throw new Error("Cursor not started")},F.fail=or(S),F.next=function(){let J=1;return this.start(()=>J--?this.continue():this.stop()).then(()=>this)},F.start=J=>{const ie=new Promise((xe,pe)=>{xe=or(xe),D.onerror=ya(pe),F.fail=pe,F.stop=ve=>{F.stop=F.continue=F.continuePrimaryKey=F.advance=ae,xe(ve)}}),Ae=()=>{if(D.result)try{J()}catch(xe){F.fail(xe)}else F.done=!0,F.start=()=>{throw new Error("Cursor behind last entry")},F.stop()};return D.onsuccess=or(xe=>{D.onsuccess=Ae,Ae()}),F.continue=oe,F.continuePrimaryKey=W,F.advance=X,Ae(),ie},k(F)},S)})},count({query:w,trans:v}){const{index:b,range:E}=w;return new Promise((A,k)=>{const S=v.objectStore(y),_=b.isPrimaryKey?S:S.index(b.name),L=r(E),z=L?_.count(L):_.count();z.onsuccess=or(H=>A(H.target.result)),z.onerror=ya(k)})}}}(h)),c={};return l.forEach(h=>c[h.name]=h),{stack:"dbcore",transaction:e.transaction.bind(e),table(h){if(!c[h])throw new Error(`Table '${h}' not found`);return c[h]},MIN_KEY:-1/0,MAX_KEY:Vf(t),schema:s}}function Bp({_novip:e},t){const n=t.db,r=function(s,a,{IDBKeyRange:l,indexedDB:c},h){return{dbcore:function(y,w){return w.reduce((v,{create:b})=>({...v,...b(v)}),y)}(KC(a,l,h),s.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(s=>{const a=s.name;e.core.schema.tables.some(l=>l.name===a)&&(s.core=e.core.table(a),e[a]instanceof e.Table&&(e[a].core=s.core))})}function hd({_novip:e},t,n,r){n.forEach(s=>{const a=r[s];t.forEach(l=>{const c=dm(l,s);(!c||"value"in c&&c.value===void 0)&&(l===e.Transaction.prototype||l instanceof e.Transaction?Ya(l,s,{get(){return this.table(s)},set(h){x3(this,s,{value:h,writable:!0,configurable:!0,enumerable:!0})}}):l[s]=new e.Table(s,a))})})}function Fp({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function QC(e,t){return e._cfg.version-t._cfg.version}function $C(e,t,n,r){const s=e._dbSchema,a=e._createTransaction("readwrite",e._storeNames,s);a.create(n),a._completion.catch(r);const l=a._reject.bind(a),c=zt.transless||zt;Yo(()=>{zt.trans=a,zt.transless=c,t===0?(Fr(s).forEach(h=>{J0(n,h,s[h].primKey,s[h].indexes)}),Bp(e,n),vt.follow(()=>e.on.populate.fire(a)).catch(l)):function({_novip:h},p,y,w){const v=[],b=h._versions;let E=h._dbSchema=Up(h,h.idbdb,w),A=!1;const k=b.filter(_=>_._cfg.version>=p);function S(){return v.length?vt.resolve(v.shift()(y.idbtrans)).then(S):vt.resolve()}return k.forEach(_=>{v.push(()=>{const L=E,z=_._cfg.dbschema;zp(h,L,w),zp(h,z,w),E=h._dbSchema=z;const H=G3(L,z);H.add.forEach(D=>{J0(w,D[0],D[1].primKey,D[1].indexes)}),H.change.forEach(D=>{if(D.recreate)throw new Gt.Upgrade("Not yet support for changing primary key");{const q=w.objectStore(D.name);D.add.forEach(F=>jp(q,F)),D.change.forEach(F=>{q.deleteIndex(F.name),jp(q,F)}),D.del.forEach(F=>q.deleteIndex(F))}});const M=_._cfg.contentUpgrade;if(M&&_._cfg.version>p){Bp(h,w),y._memoizedTables={},A=!0;let D=E3(z);H.del.forEach(W=>{D[W]=L[W]}),Fp(h,[h.Transaction.prototype]),hd(h,[h.Transaction.prototype],Fr(D),D),y.schema=D;const q=pm(M);let F;q&&gc();const oe=vt.follow(()=>{if(F=M(y),F&&q){var W=eo.bind(null,null);F.then(W,W)}});return F&&typeof F.then=="function"?vt.resolve(F):oe.then(()=>F)}}),v.push(L=>{(!A||!UC)&&function(z,H){[].slice.call(H.db.objectStoreNames).forEach(M=>z[M]==null&&H.db.deleteObjectStore(M))}(_._cfg.dbschema,L),Fp(h,[h.Transaction.prototype]),hd(h,[h.Transaction.prototype],h._storeNames,h._dbSchema),y.schema=h._dbSchema})}),S().then(()=>{var _,L;L=w,Fr(_=E).forEach(z=>{L.db.objectStoreNames.contains(z)||J0(L,z,_[z].primKey,_[z].indexes)})})}(e,t,a,n).catch(l)})}function G3(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const s=e[r],a=t[r];if(s){const l={name:r,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||s.primKey.auto!==a.primKey.auto&&!Ud)l.recreate=!0,n.change.push(l);else{const c=s.idxByName,h=a.idxByName;let p;for(p in c)h[p]||l.del.push(p);for(p in h){const y=c[p],w=h[p];y?y.src!==w.src&&l.change.push(w):l.add.push(w)}(l.del.length>0||l.add.length>0||l.change.length>0)&&n.change.push(l)}}else n.add.push([r,a])}return n}function J0(e,t,n,r){const s=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(a=>jp(s,a)),s}function jp(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Up(e,t,n){const r={};return ad(t.objectStoreNames,0).forEach(s=>{const a=n.objectStore(s);let l=a.keyPath;const c=Dp(V3(l),l||"",!1,!1,!!a.autoIncrement,l&&typeof l!="string",!0),h=[];for(let y=0;y<a.indexNames.length;++y){const w=a.index(a.indexNames[y]);l=w.keyPath;var p=Dp(w.name,l,!!w.unique,!!w.multiEntry,!1,l&&typeof l!="string",!1);h.push(p)}r[s]=H3(s,c,h)}),r}function zp({_novip:e},t,n){const r=n.db.objectStoreNames;for(let s=0;s<r.length;++s){const a=r[s],l=n.objectStore(a);e._hasGetAll="getAll"in l;for(let c=0;c<l.indexNames.length;++c){const h=l.indexNames[c],p=l.index(h).keyPath,y=typeof p=="string"?p:"["+ad(p).join("+")+"]";if(t[a]){const w=t[a].idxByName[y];w&&(w.name=h,delete t[a].idxByName[y],t[a].idxByName[h]=w)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Jn.WorkerGlobalScope&&Jn instanceof Jn.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class ZC{_parseStoresSpec(t,n){Fr(t).forEach(r=>{if(t[r]!==null){var s=t[r].split(",").map((l,c)=>{const h=(l=l.trim()).replace(/([&*]|\+\+)/g,""),p=/^\[/.test(h)?h.match(/^\[(.*)\]$/)[1].split("+"):h;return Dp(h,p||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),Ii(p),c===0)}),a=s.shift();if(a.multi)throw new Gt.Schema("Primary key cannot be multi-valued");s.forEach(l=>{if(l.auto)throw new Gt.Schema("Only primary key can be marked as autoIncrement (++)");if(!l.keyPath)throw new Gt.Schema("Index must have a name and cannot be an empty string")}),n[r]=H3(r,a,s)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?ji(this._cfg.storesSource,t):t;const r=n._versions,s={};let a={};return r.forEach(l=>{ji(s,l._cfg.storesSource),a=l._cfg.dbschema={},l._parseStoresSpec(s,a)}),n._dbSchema=a,Fp(n,[n._allTables,n,n.Transaction.prototype]),hd(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],Fr(a),a),n._storeNames=Fr(a),this}upgrade(t){return this._cfg.contentUpgrade=ym(this._cfg.contentUpgrade||Fn,t),this}}function bm(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new zl(zd,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Am(e){return e&&typeof e.databases=="function"}function qp(e){return Yo(function(){return zt.letThrough=!0,e()})}function JC(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function eS(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?Gr(t.dbOpenError):e);Ea&&(t.openCanceller._stackHolder=Jl()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function s(){if(t.openCanceller!==r)throw new Gt.DatabaseClosed("db.open() was cancelled")}let a=t.dbReadyResolve,l=null,c=!1;const h=()=>new vt((p,y)=>{if(s(),!n)throw new Gt.MissingAPI;const w=e.name,v=t.autoSchema?n.open(w):n.open(w,Math.round(10*e.verno));if(!v)throw new Gt.MissingAPI;v.onerror=ya(y),v.onblocked=or(e._fireOnBlocked),v.onupgradeneeded=or(b=>{if(l=v.transaction,t.autoSchema&&!e._options.allowEmptyDB){v.onerror=qf,l.abort(),v.result.close();const A=n.deleteDatabase(w);A.onsuccess=A.onerror=or(()=>{y(new Gt.NoSuchDatabase(`Database ${w} doesnt exist`))})}else{l.onerror=ya(y);var E=b.oldVersion>Math.pow(2,62)?0:b.oldVersion;c=E<1,e._novip.idbdb=v.result,$C(e,E/10,l,y)}},y),v.onsuccess=or(()=>{l=null;const b=e._novip.idbdb=v.result,E=ad(b.objectStoreNames);if(E.length>0)try{const k=b.transaction((A=E).length===1?A[0]:A,"readonly");t.autoSchema?function({_novip:S},_,L){S.verno=_.version/10;const z=S._dbSchema=Up(0,_,L);S._storeNames=ad(_.objectStoreNames,0),hd(S,[S._allTables],Fr(z),z)}(e,b,k):(zp(e,e._dbSchema,k),function(S,_){const L=G3(Up(0,S.idbdb,_),S._dbSchema);return!(L.add.length||L.change.some(z=>z.add.length||z.change.length))}(e,k)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Bp(e,k)}catch{}var A;cf.push(e),b.onversionchange=or(k=>{t.vcFired=!0,e.on("versionchange").fire(k)}),b.onclose=or(k=>{e.on("close").fire(k)}),c&&function({indexedDB:k,IDBKeyRange:S},_){!Am(k)&&_!==zd&&bm(k,S).put({name:_}).catch(Fn)}(e._deps,w),p()},y)}).catch(p=>p&&p.name==="UnknownError"&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),h()):vt.reject(p));return vt.race([r,(typeof navigator>"u"?vt.resolve():JC()).then(h)]).then(()=>(s(),t.onReadyBeingFired=[],vt.resolve(qp(()=>e.on.ready.fire(e.vip))).then(function p(){if(t.onReadyBeingFired.length>0){let y=t.onReadyBeingFired.reduce(ym,Fn);return t.onReadyBeingFired=[],vt.resolve(qp(()=>y(e.vip))).then(p)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(p=>{t.dbOpenError=p;try{l&&l.abort()}catch{}return r===t.openCanceller&&e._close(),Gr(p)}).finally(()=>{t.openComplete=!0,a()})}function Wp(e){var t=a=>e.next(a),n=s(t),r=s(a=>e.throw(a));function s(a){return l=>{var c=a(l),h=c.value;return c.done?h:h&&typeof h.then=="function"?h.then(n,r):Ii(h)?Promise.all(h).then(n,r):n(h)}}return s(t)()}function tS(e,t,n){var r=arguments.length;if(r<2)throw new Gt.InvalidArgument("Too few arguments");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];return n=s.pop(),[e,C3(s),n]}function X3(e,t,n,r,s){return vt.resolve().then(()=>{const a=zt.transless||zt,l=e._createTransaction(t,n,e._dbSchema,r),c={trans:l,transless:a};if(r)l.idbtrans=r.idbtrans;else try{l.create(),e._state.PR1398_maxLoop=3}catch(w){return w.name===mm.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>X3(e,t,n,null,s))):Gr(w)}const h=pm(s);let p;h&&gc();const y=vt.follow(()=>{if(p=s.call(l,l),p)if(h){var w=eo.bind(null,null);p.then(w,w)}else typeof p.next=="function"&&typeof p.throw=="function"&&(p=Wp(p))},c);return(p&&typeof p.then=="function"?vt.resolve(p).then(w=>l.active?w:Gr(new Gt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):y.then(()=>p)).then(w=>(r&&l._resolve(),l._completion.then(()=>w))).catch(w=>(l._reject(w),Gr(w)))})}function Jh(e,t,n){const r=Ii(e)?e.slice():[e];for(let s=0;s<n;++s)r.push(t);return r}const nS={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,s={},a=[];function l(y,w,v){const b=hf(y),E=s[b]=s[b]||[],A=y==null?0:typeof y=="string"?1:y.length,k=w>0,S={...v,isVirtual:k,keyTail:w,keyLength:A,extractKey:Mp(y),unique:!k&&v.unique};return E.push(S),S.isPrimaryKey||a.push(S),A>1&&l(A===2?y[0]:y.slice(0,A-1),w+1,v),E.sort((_,L)=>_.keyTail-L.keyTail),S}const c=l(r.primaryKey.keyPath,0,r.primaryKey);s[":id"]=[c];for(const y of r.indexes)l(y.keyPath,0,y);function h(y){const w=y.query.index;return w.isVirtual?{...y,query:{index:w,range:(v=y.query.range,b=w.keyTail,{type:v.type===1?2:v.type,lower:Jh(v.lower,v.lowerOpen?e.MAX_KEY:e.MIN_KEY,b),lowerOpen:!0,upper:Jh(v.upper,v.upperOpen?e.MIN_KEY:e.MAX_KEY,b),upperOpen:!0})}}:y;var v,b}return{...n,schema:{...r,primaryKey:c,indexes:a,getIndexByKeyPath:function(y){const w=s[hf(y)];return w&&w[0]}},count:y=>n.count(h(y)),query:y=>n.query(h(y)),openCursor(y){const{keyTail:w,isVirtual:v,keyLength:b}=y.query.index;return v?n.openCursor(h(y)).then(E=>E&&function(A){return Object.create(A,{continue:{value:function(S){S!=null?A.continue(Jh(S,y.reverse?e.MAX_KEY:e.MIN_KEY,w)):y.unique?A.continue(A.key.slice(0,b).concat(y.reverse?e.MIN_KEY:e.MAX_KEY,w)):A.continue()}},continuePrimaryKey:{value(S,_){A.continuePrimaryKey(Jh(S,e.MAX_KEY,w),_)}},primaryKey:{get:()=>A.primaryKey},key:{get(){const S=A.key;return b===1?S[0]:S.slice(0,b)}},value:{get:()=>A.value}})}(E)):n.openCursor(y)}}}}}};function Em(e,t,n,r){return n=n||{},r=r||"",Fr(e).forEach(s=>{if(ys(t,s)){var a=e[s],l=t[s];if(typeof a=="object"&&typeof l=="object"&&a&&l){const c=Ap(a);c!==Ap(l)?n[r+s]=t[s]:c==="Object"?Em(a,l,n,r+s+"."):a!==l&&(n[r+s]=t[s])}else a!==l&&(n[r+s]=t[s])}else n[r+s]=void 0}),Fr(t).forEach(s=>{ys(e,s)||(n[r+s]=t[s])}),n}const rS={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(a){const l=zt.trans,{deleting:c,creating:h,updating:p}=l.table(t).hook;switch(a.type){case"add":if(h.fire===Fn)break;return l._promise("readwrite",()=>y(a),!0);case"put":if(h.fire===Fn&&p.fire===Fn)break;return l._promise("readwrite",()=>y(a),!0);case"delete":if(c.fire===Fn)break;return l._promise("readwrite",()=>y(a),!0);case"deleteRange":if(c.fire===Fn)break;return l._promise("readwrite",()=>function(v){return w(v.trans,v.range,1e4)}(a),!0)}return n.mutate(a);function y(v){const b=zt.trans,E=v.keys||function(A,k){return k.type==="delete"?k.keys:k.keys||k.values.map(A.extractKey)}(r,v);if(!E)throw new Error("Keys missing");return(v=v.type==="add"||v.type==="put"?{...v,keys:E}:{...v}).type!=="delete"&&(v.values=[...v.values]),v.keys&&(v.keys=[...v.keys]),function(A,k,S){return k.type==="add"?Promise.resolve([]):A.getMany({trans:k.trans,keys:S,cache:"immutable"})}(n,v,E).then(A=>{const k=E.map((S,_)=>{const L=A[_],z={onerror:null,onsuccess:null};if(v.type==="delete")c.fire.call(z,S,L,b);else if(v.type==="add"||L===void 0){const H=h.fire.call(z,S,v.values[_],b);S==null&&H!=null&&(S=H,v.keys[_]=S,r.outbound||na(v.values[_],r.keyPath,S))}else{const H=Em(L,v.values[_]),M=p.fire.call(z,H,S,L,b);if(M){const D=v.values[_];Object.keys(M).forEach(q=>{ys(D,q)?D[q]=M[q]:na(D,q,M[q])})}}return z});return n.mutate(v).then(({failures:S,results:_,numFailures:L,lastResult:z})=>{for(let H=0;H<E.length;++H){const M=_?_[H]:E[H],D=k[H];M==null?D.onerror&&D.onerror(S[H]):D.onsuccess&&D.onsuccess(v.type==="put"&&A[H]?v.values[H]:M)}return{failures:S,results:_,numFailures:L,lastResult:z}}).catch(S=>(k.forEach(_=>_.onerror&&_.onerror(S)),Promise.reject(S)))})}function w(v,b,E){return n.query({trans:v,values:!1,query:{index:r,range:b},limit:E}).then(({result:A})=>y({type:"delete",keys:A,trans:v}).then(k=>k.numFailures>0?Promise.reject(k.failures[0]):A.length<E?{failures:[],numFailures:0,lastResult:void 0}:w(v,{...b,lower:A[A.length-1],lowerOpen:!0},E)))}}}}})};function Y3(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let s=0,a=0;s<t.keys.length&&a<e.length;++s)Bi(t.keys[s],e[a])===0&&(r.push(n?nh(t.values[s]):t.values[s]),++a);return r.length===e.length?r:null}catch{return null}}const iS={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const s=Y3(r.keys,r.trans._cache,r.cache==="clone");return s?vt.resolve(s):n.getMany(r).then(a=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?nh(a):a},a))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function Cm(e){return!("from"in e)}const qa=function(e,t){if(!this){const n=new qa;return e&&"d"in e&&ji(n,e),n}ji(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Hf(e,t,n){const r=Bi(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Cm(e))return ji(e,{from:t,to:n,d:1});const s=e.l,a=e.r;if(Bi(n,e.from)<0)return s?Hf(s,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Xy(e);if(Bi(t,e.to)>0)return a?Hf(a,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Xy(e);Bi(t,e.from)<0&&(e.from=t,e.l=null,e.d=a?a.d+1:1),Bi(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const l=!e.r;s&&!e.l&&dd(e,s),a&&l&&dd(e,a)}function dd(e,t){Cm(t)||function n(r,{from:s,to:a,l,r:c}){Hf(r,s,a),l&&n(r,l),c&&n(r,c)}(e,t)}function sS(e,t){const n=Vp(t);let r=n.next();if(r.done)return!1;let s=r.value;const a=Vp(e);let l=a.next(s.from),c=l.value;for(;!r.done&&!l.done;){if(Bi(c.from,s.to)<=0&&Bi(c.to,s.from)>=0)return!0;Bi(s.from,c.from)<0?s=(r=n.next(c.from)).value:c=(l=a.next(s.from)).value}return!1}function Vp(e){let t=Cm(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Bi(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Bi(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Xy(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),s=r>1?"r":r<-1?"l":"";if(s){const a=s==="r"?"l":"r",l={...e},c=e[s];e.from=c.from,e.to=c.to,e[s]=c[s],l[s]=c[a],e[a]=l,l.d=Yy(l)}e.d=Yy(e)}function Yy({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}ic(qa.prototype,{add(e){return dd(this,e),this},addKey(e){return Hf(this,e,e),this},addKeys(e){return e.forEach(t=>Hf(this,t,t)),this},[Ep](){return Vp(this)}});const aS={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new qa(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const s=e.table(r),{schema:a}=s,{primaryKey:l}=a,{extractKey:c,outbound:h}=l,p={...s,mutate:v=>{const b=v.trans,E=b.mutatedParts||(b.mutatedParts={}),A=M=>{const D=`idb://${t}/${r}/${M}`;return E[D]||(E[D]=new qa)},k=A(""),S=A(":dels"),{type:_}=v;let[L,z]=v.type==="deleteRange"?[v.range]:v.type==="delete"?[v.keys]:v.values.length<50?[[],v.values]:[];const H=v.trans._cache;return s.mutate(v).then(M=>{if(Ii(L)){_!=="delete"&&(L=M.results),k.addKeys(L);const D=Y3(L,H);D||_==="add"||S.addKeys(L),(D||z)&&function(q,F,oe,W){function X(ae){const J=q(ae.name||"");function ie(xe){return xe!=null?ae.extractKey(xe):null}const Ae=xe=>ae.multiEntry&&Ii(xe)?xe.forEach(pe=>J.addKey(pe)):J.addKey(xe);(oe||W).forEach((xe,pe)=>{const ve=oe&&ie(oe[pe]),Le=W&&ie(W[pe]);Bi(ve,Le)!==0&&(ve!=null&&Ae(ve),Le!=null&&Ae(Le))})}F.indexes.forEach(X)}(A,a,D,z)}else if(L){const D={from:L.lower,to:L.upper};S.add(D),k.add(D)}else k.add(n),S.add(n),a.indexes.forEach(D=>A(D.name).add(n));return M})}},y=({query:{index:v,range:b}})=>{var E,A;return[v,new qa((E=b.lower)!==null&&E!==void 0?E:e.MIN_KEY,(A=b.upper)!==null&&A!==void 0?A:e.MAX_KEY)]},w={get:v=>[l,new qa(v.key)],getMany:v=>[l,new qa().addKeys(v.keys)],count:y,query:y,openCursor:y};return Fr(w).forEach(v=>{p[v]=function(b){const{subscr:E}=zt;if(E){const A=z=>{const H=`idb://${t}/${r}/${z}`;return E[H]||(E[H]=new qa)},k=A(""),S=A(":dels"),[_,L]=w[v](b);if(A(_.name||"").add(L),!_.isPrimaryKey){if(v!=="count"){const z=v==="query"&&h&&b.values&&s.query({...b,values:!1});return s[v].apply(this,arguments).then(H=>{if(v==="query"){if(h&&b.values)return z.then(({result:D})=>(k.addKeys(D),H));const M=b.values?H.result.map(c):H.result;b.values?k.addKeys(M):S.addKeys(M)}else if(v==="openCursor"){const M=H,D=b.values;return M&&Object.create(M,{key:{get:()=>(S.addKey(M.primaryKey),M.key)},primaryKey:{get(){const q=M.primaryKey;return S.addKey(q),q}},value:{get:()=>(D&&k.addKey(M.primaryKey),M.value)}})}return H})}S.add(n)}}return s[v].apply(this,arguments)}}),p}}}};class zl{constructor(t,n){this._middlewares={},this.verno=0;const r=zl.dependencies;this._options=n={addons:zl.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:s}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Fn,dbReadyPromise:null,cancelOpen:Fn,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var l;a.dbReadyPromise=new vt(c=>{a.dbReadyResolve=c}),a.openCanceller=new vt((c,h)=>{a.cancelOpen=h}),this._state=a,this.name=t,this.on=ff(this,"populate","blocked","versionchange","close",{ready:[ym,Fn]}),this.on.ready.subscribe=v3(this.on.ready.subscribe,c=>(h,p)=>{zl.vip(()=>{const y=this._state;if(y.openComplete)y.dbOpenError||vt.resolve().then(h),p&&c(h);else if(y.onReadyBeingFired)y.onReadyBeingFired.push(h),p&&c(h);else{c(h);const w=this;p||c(function v(){w.on.ready.unsubscribe(h),w.on.ready.unsubscribe(v)})}})}),this.Collection=(l=this,Bc(WC.prototype,function(c,h){this.db=l;let p=z3,y=null;if(h)try{p=h()}catch(E){y=E}const w=c._ctx,v=w.table,b=v.hook.reading.fire;this._ctx={table:v,index:w.index,isPrimKey:!w.index||v.schema.primKey.keyPath&&w.index===v.schema.primKey.name,range:p,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:y,or:w.or,valueMapper:b!==Uf?b:null}})),this.Table=function(c){return Bc(qC.prototype,function(h,p,y){this.db=c,this._tx=y,this.name=h,this.schema=p,this.hook=c._allTables[h]?c._allTables[h].hook:ff(null,{creating:[LC,Fn],reading:[TC,Uf],updating:[PC,Fn],deleting:[kC,Fn]})})}(this),this.Transaction=function(c){return Bc(XC.prototype,function(h,p,y,w,v){this.db=c,this.mode=h,this.storeNames=p,this.schema=y,this.chromeTransactionDurability=w,this.idbtrans=null,this.on=ff(this,"complete","error","abort"),this.parent=v||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new vt((b,E)=>{this._resolve=b,this._reject=E}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},b=>{var E=this.active;return this.active=!1,this.on.error.fire(b),this.parent?this.parent._reject(b):E&&this.idbtrans&&this.idbtrans.abort(),Gr(b)})})}(this),this.Version=function(c){return Bc(ZC.prototype,function(h){this.db=c,this._cfg={version:h,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(c){return Bc(W3.prototype,function(h,p,y){this.db=c,this._ctx={table:h,index:p===":id"?null:p,or:y};const w=c._deps.indexedDB;if(!w)throw new Gt.MissingAPI;this._cmp=this._ascending=w.cmp.bind(w),this._descending=(v,b)=>w.cmp(b,v),this._max=(v,b)=>w.cmp(v,b)>0?v:b,this._min=(v,b)=>w.cmp(v,b)<0?v:b,this._IDBKeyRange=c._deps.IDBKeyRange})}(this),this.on("versionchange",c=>{c.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",c=>{!c.newVersion||c.newVersion<c.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${c.oldVersion/10}`)}),this._maxKey=Vf(n.IDBKeyRange),this._createTransaction=(c,h,p,y)=>new this.Transaction(c,h,p,this._options.chromeTransactionDurability,y),this._fireOnBlocked=c=>{this.on("blocked").fire(c),cf.filter(h=>h.name===this.name&&h!==this&&!h._state.vcFired).map(h=>h.on("versionchange").fire(c))},this.use(nS),this.use(rS),this.use(aS),this.use(iS),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(c=>c(this))}version(t){if(isNaN(t)||t<.1)throw new Gt.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Gt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(s=>s._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(QC),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||zt.letThrough||this._vip)?t():new vt((n,r)=>{if(this._state.openComplete)return r(new Gt.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new Gt.DatabaseClosed);this.open().catch(Fn)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:s}){s&&this.unuse({stack:t,name:s});const a=this._middlewares[t]||(this._middlewares[t]=[]);return a.push({stack:t,create:n,level:r??10,name:s}),a.sort((l,c)=>l.level-c.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(s=>r?s.create!==r:!!n&&s.name!==n)),this}open(){return eS(this)}_close(){const t=this._state,n=cf.indexOf(this);if(n>=0&&cf.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new vt(r=>{t.dbReadyResolve=r}),t.openCanceller=new vt((r,s)=>{t.cancelOpen=s})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Gt.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new vt((r,s)=>{const a=()=>{this.close();var l=this._deps.indexedDB.deleteDatabase(this.name);l.onsuccess=or(()=>{(function({indexedDB:c,IDBKeyRange:h},p){!Am(c)&&p!==zd&&bm(c,h).delete(p).catch(Fn)})(this._deps,this.name),r()}),l.onerror=ya(s),l.onblocked=this._fireOnBlocked};if(t)throw new Gt.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(a):a()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Fr(this._allTables).map(t=>this._allTables[t])}transaction(){const t=tS.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let s=zt.trans;s&&s.db===this&&t.indexOf("!")===-1||(s=null);const a=t.indexOf("?")!==-1;let l,c;t=t.replace("!","").replace("?","");try{if(c=n.map(p=>{var y=p instanceof this.Table?p.name:p;if(typeof y!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return y}),t=="r"||t===Y0)l=Y0;else{if(t!="rw"&&t!=K0)throw new Gt.InvalidArgument("Invalid transaction mode: "+t);l=K0}if(s){if(s.mode===Y0&&l===K0){if(!a)throw new Gt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&c.forEach(p=>{if(s&&s.storeNames.indexOf(p)===-1){if(!a)throw new Gt.SubTransaction("Table "+p+" not included in parent transaction.");s=null}}),a&&s&&!s.active&&(s=null)}}catch(p){return s?s._promise(null,(y,w)=>{w(p)}):Gr(p)}const h=X3.bind(null,this,l,c,s,r);return s?s._promise(l,h,"lock"):zt.trans?mc(zt.transless,()=>this._whenReady(h)):this._whenReady(h)}table(t){if(!ys(this._allTables,t))throw new Gt.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const oS=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class lS{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[oS](){return this}}function K3(e,t){return Fr(t).forEach(n=>{dd(e[n]||(e[n]=new qa),t[n])}),e}function Q3(e){let t,n=!1;const r=new lS(s=>{const a=pm(e);let l=!1,c={},h={};const p={get closed(){return l},unsubscribe:()=>{l=!0,Qo.storagemutated.unsubscribe(b)}};s.start&&s.start(p);let y=!1,w=!1;function v(){return Fr(h).some(A=>c[A]&&sS(c[A],h[A]))}const b=A=>{K3(c,A),v()&&E()},E=()=>{if(y||l)return;c={};const A={},k=function(S){a&&gc();const _=()=>Yo(e,{subscr:S,trans:null}),L=zt.trans?mc(zt.transless,_):_();return a&&L.then(eo,eo),L}(A);w||(Qo(Wf,b),w=!0),y=!0,Promise.resolve(k).then(S=>{n=!0,t=S,y=!1,l||(v()?E():(c={},h=A,s.next&&s.next(S)))},S=>{y=!1,n=!1,s.error&&s.error(S),p.unsubscribe()})};return E(),p});return r.hasValue=()=>n,r.getValue=()=>t,r}let Hp;try{Hp={indexedDB:Jn.indexedDB||Jn.mozIndexedDB||Jn.webkitIndexedDB||Jn.msIndexedDB,IDBKeyRange:Jn.IDBKeyRange||Jn.webkitIDBKeyRange}}catch{Hp={indexedDB:null,IDBKeyRange:null}}const Cl=zl;function T1(e){let t=Ga;try{Ga=!0,Qo.storagemutated.fire(e)}finally{Ga=t}}ic(Cl,{...E1,delete:e=>new Cl(e,{addons:[]}).delete(),exists:e=>new Cl(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return Am(t)?Promise.resolve(t.databases()).then(r=>r.map(s=>s.name).filter(s=>s!==zd)):bm(t,n).toCollection().primaryKeys()}(Cl.dependencies).then(e)}catch{return Gr(new Gt.MissingAPI)}},defineClass:()=>function(e){ji(this,e)},ignoreTransaction:e=>zt.trans?mc(zt.transless,e):e(),vip:qp,async:function(e){return function(){try{var t=Wp(e.apply(this,arguments));return t&&typeof t.then=="function"?t:vt.resolve(t)}catch(n){return Gr(n)}}},spawn:function(e,t,n){try{var r=Wp(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:vt.resolve(r)}catch(s){return Gr(s)}},currentTransaction:{get:()=>zt.trans||null},waitFor:function(e,t){const n=vt.resolve(typeof e=="function"?Cl.ignoreTransaction(e):e).timeout(t||6e4);return zt.trans?zt.trans.waitFor(n):n},Promise:vt,debug:{get:()=>Ea,set:e=>{N3(e,e==="dexie"?()=>!0:U3)}},derive:Vu,extend:ji,props:ic,override:v3,Events:ff,on:Qo,liveQuery:Q3,extendObservabilitySet:K3,getByKeyPath:Ka,setByKeyPath:na,delByKeyPath:function(e,t){typeof t=="string"?na(e,t,void 0):"length"in t&&[].map.call(t,function(n){na(e,n,void 0)})},shallowClone:E3,deepClone:nh,getObjectDiff:Em,cmp:Bi,asap:b3,minKey:Rp,addons:[],connections:cf,errnames:mm,dependencies:Hp,semVer:zy,version:zy.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),Cl.maxKey=Vf(Cl.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Qo(Wf,e=>{if(!Ga){let t;Ud?(t=document.createEvent("CustomEvent"),t.initCustomEvent(ko,!0,!0,e)):t=new CustomEvent(ko,{detail:e}),Ga=!0,dispatchEvent(t),Ga=!1}}),addEventListener(ko,({detail:e})=>{Ga||T1(e)}));let Ga=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(ko);typeof e.unref=="function"&&e.unref(),Qo(Wf,t=>{Ga||e.postMessage(t)}),e.onmessage=t=>{t.data&&T1(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Qo(Wf,t=>{try{Ga||(typeof localStorage<"u"&&localStorage.setItem(ko,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:ko,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===ko){const n=JSON.parse(t.newValue);n&&T1(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===ko&&T1(t.changedParts)})}vt.rejectionMapper=function(e,t){if(!e||e instanceof Hu||e instanceof TypeError||e instanceof SyntaxError||!e.name||!By[e.name])return e;var n=new By[e.name](t||e.message,e);return"stack"in e&&Ya(n,"stack",{get:function(){return this.inner.stack}}),n},N3(Ea,U3);var uS=Object.create,yc=Object.defineProperty,cS=Object.getOwnPropertyDescriptor,fS=Object.getOwnPropertyNames,hS=Object.getPrototypeOf,dS=Object.prototype.hasOwnProperty,pS=(e,t,n)=>t in e?yc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ee=(e,t)=>yc(e,"name",{value:t,configurable:!0}),Ji=(e,t)=>()=>(e&&(t=e(e=0)),t),ln=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ia=(e,t)=>{for(var n in t)yc(e,n,{get:t[n],enumerable:!0})},$3=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of fS(t))!dS.call(e,s)&&s!==n&&yc(e,s,{get:()=>t[s],enumerable:!(r=cS(t,s))||r.enumerable});return e},eu=(e,t,n)=>(n=e!=null?uS(hS(e)):{},$3(t||!e||!e.__esModule?yc(n,"default",{value:e,enumerable:!0}):n,e)),ri=e=>$3(yc({},"__esModule",{value:!0}),e),$t=(e,t,n)=>pS(e,typeof t!="symbol"?t+"":t,n),gS=ln(e=>{Ot(),e.byteLength=h,e.toByteArray=y,e.fromByteArray=b;var t=[],n=[],r=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(a=0,l=s.length;a<l;++a)t[a]=s[a],n[s.charCodeAt(a)]=a;var a,l;n[45]=62,n[95]=63;function c(E){var A=E.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=E.indexOf("=");k===-1&&(k=A);var S=k===A?0:4-k%4;return[k,S]}ee(c,"getLens");function h(E){var A=c(E),k=A[0],S=A[1];return(k+S)*3/4-S}ee(h,"byteLength");function p(E,A,k){return(A+k)*3/4-k}ee(p,"_byteLength");function y(E){var A,k=c(E),S=k[0],_=k[1],L=new r(p(E,S,_)),z=0,H=_>0?S-4:S,M;for(M=0;M<H;M+=4)A=n[E.charCodeAt(M)]<<18|n[E.charCodeAt(M+1)]<<12|n[E.charCodeAt(M+2)]<<6|n[E.charCodeAt(M+3)],L[z++]=A>>16&255,L[z++]=A>>8&255,L[z++]=A&255;return _===2&&(A=n[E.charCodeAt(M)]<<2|n[E.charCodeAt(M+1)]>>4,L[z++]=A&255),_===1&&(A=n[E.charCodeAt(M)]<<10|n[E.charCodeAt(M+1)]<<4|n[E.charCodeAt(M+2)]>>2,L[z++]=A>>8&255,L[z++]=A&255),L}ee(y,"toByteArray");function w(E){return t[E>>18&63]+t[E>>12&63]+t[E>>6&63]+t[E&63]}ee(w,"tripletToBase64");function v(E,A,k){for(var S,_=[],L=A;L<k;L+=3)S=(E[L]<<16&16711680)+(E[L+1]<<8&65280)+(E[L+2]&255),_.push(w(S));return _.join("")}ee(v,"encodeChunk");function b(E){for(var A,k=E.length,S=k%3,_=[],L=16383,z=0,H=k-S;z<H;z+=L)_.push(v(E,z,z+L>H?H:z+L));return S===1?(A=E[k-1],_.push(t[A>>2]+t[A<<4&63]+"==")):S===2&&(A=(E[k-2]<<8)+E[k-1],_.push(t[A>>10]+t[A>>4&63]+t[A<<2&63]+"=")),_.join("")}ee(b,"fromByteArray")}),mS=ln(e=>{Ot(),e.read=function(t,n,r,s,a){var l,c,h=a*8-s-1,p=(1<<h)-1,y=p>>1,w=-7,v=r?a-1:0,b=r?-1:1,E=t[n+v];for(v+=b,l=E&(1<<-w)-1,E>>=-w,w+=h;w>0;l=l*256+t[n+v],v+=b,w-=8);for(c=l&(1<<-w)-1,l>>=-w,w+=s;w>0;c=c*256+t[n+v],v+=b,w-=8);if(l===0)l=1-y;else{if(l===p)return c?NaN:(E?-1:1)*(1/0);c=c+Math.pow(2,s),l=l-y}return(E?-1:1)*c*Math.pow(2,l-s)},e.write=function(t,n,r,s,a,l){var c,h,p,y=l*8-a-1,w=(1<<y)-1,v=w>>1,b=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=s?0:l-1,A=s?1:-1,k=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(h=isNaN(n)?1:0,c=w):(c=Math.floor(Math.log(n)/Math.LN2),n*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+v>=1?n+=b/p:n+=b*Math.pow(2,1-v),n*p>=2&&(c++,p/=2),c+v>=w?(h=0,c=w):c+v>=1?(h=(n*p-1)*Math.pow(2,a),c=c+v):(h=n*Math.pow(2,v-1)*Math.pow(2,a),c=0));a>=8;t[r+E]=h&255,E+=A,h/=256,a-=8);for(c=c<<a|h,y+=a;y>0;t[r+E]=c&255,E+=A,c/=256,y-=8);t[r+E-A]|=k*128}}),yS=ln(e=>{Ot();var t=gS(),n=mS(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=_,e.INSPECT_MAX_BYTES=50;var s=2147483647;e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=a(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{let O=new Uint8Array(1),U={foo:ee(function(){return 42},"foo")};return Object.setPrototypeOf(U,Uint8Array.prototype),Object.setPrototypeOf(O,U),O.foo()===42}catch{return!1}}ee(a,"typedArraySupport"),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:ee(function(){if(c.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:ee(function(){if(c.isBuffer(this))return this.byteOffset},"get")});function l(O){if(O>s)throw new RangeError('The value "'+O+'" is invalid for option "size"');let U=new Uint8Array(O);return Object.setPrototypeOf(U,c.prototype),U}ee(l,"createBuffer");function c(O,U,V){if(typeof O=="number"){if(typeof U=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(O)}return h(O,U,V)}ee(c,"Buffer"),c.poolSize=8192;function h(O,U,V){if(typeof O=="string")return v(O,U);if(ArrayBuffer.isView(O))return E(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(ct(O,ArrayBuffer)||O&&ct(O.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ct(O,SharedArrayBuffer)||O&&ct(O.buffer,SharedArrayBuffer)))return A(O,U,V);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let me=O.valueOf&&O.valueOf();if(me!=null&&me!==O)return c.from(me,U,V);let we=k(O);if(we)return we;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return c.from(O[Symbol.toPrimitive]("string"),U,V);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}ee(h,"from"),c.from=function(O,U,V){return h(O,U,V)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function p(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}ee(p,"assertSize");function y(O,U,V){return p(O),O<=0?l(O):U!==void 0?typeof V=="string"?l(O).fill(U,V):l(O).fill(U):l(O)}ee(y,"alloc"),c.alloc=function(O,U,V){return y(O,U,V)};function w(O){return p(O),l(O<0?0:S(O)|0)}ee(w,"allocUnsafe"),c.allocUnsafe=function(O){return w(O)},c.allocUnsafeSlow=function(O){return w(O)};function v(O,U){if((typeof U!="string"||U==="")&&(U="utf8"),!c.isEncoding(U))throw new TypeError("Unknown encoding: "+U);let V=L(O,U)|0,me=l(V),we=me.write(O,U);return we!==V&&(me=me.slice(0,we)),me}ee(v,"fromString");function b(O){let U=O.length<0?0:S(O.length)|0,V=l(U);for(let me=0;me<U;me+=1)V[me]=O[me]&255;return V}ee(b,"fromArrayLike");function E(O){if(ct(O,Uint8Array)){let U=new Uint8Array(O);return A(U.buffer,U.byteOffset,U.byteLength)}return b(O)}ee(E,"fromArrayView");function A(O,U,V){if(U<0||O.byteLength<U)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<U+(V||0))throw new RangeError('"length" is outside of buffer bounds');let me;return U===void 0&&V===void 0?me=new Uint8Array(O):V===void 0?me=new Uint8Array(O,U):me=new Uint8Array(O,U,V),Object.setPrototypeOf(me,c.prototype),me}ee(A,"fromArrayBuffer");function k(O){if(c.isBuffer(O)){let U=S(O.length)|0,V=l(U);return V.length===0||O.copy(V,0,0,U),V}if(O.length!==void 0)return typeof O.length!="number"||It(O.length)?l(0):b(O);if(O.type==="Buffer"&&Array.isArray(O.data))return b(O.data)}ee(k,"fromObject");function S(O){if(O>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return O|0}ee(S,"checked");function _(O){return+O!=O&&(O=0),c.alloc(+O)}ee(_,"SlowBuffer"),c.isBuffer=ee(function(O){return O!=null&&O._isBuffer===!0&&O!==c.prototype},"isBuffer"),c.compare=ee(function(O,U){if(ct(O,Uint8Array)&&(O=c.from(O,O.offset,O.byteLength)),ct(U,Uint8Array)&&(U=c.from(U,U.offset,U.byteLength)),!c.isBuffer(O)||!c.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===U)return 0;let V=O.length,me=U.length;for(let we=0,We=Math.min(V,me);we<We;++we)if(O[we]!==U[we]){V=O[we],me=U[we];break}return V<me?-1:me<V?1:0},"compare"),c.isEncoding=ee(function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),c.concat=ee(function(O,U){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return c.alloc(0);let V;if(U===void 0)for(U=0,V=0;V<O.length;++V)U+=O[V].length;let me=c.allocUnsafe(U),we=0;for(V=0;V<O.length;++V){let We=O[V];if(ct(We,Uint8Array))we+We.length>me.length?(c.isBuffer(We)||(We=c.from(We)),We.copy(me,we)):Uint8Array.prototype.set.call(me,We,we);else if(c.isBuffer(We))We.copy(me,we);else throw new TypeError('"list" argument must be an Array of Buffers');we+=We.length}return me},"concat");function L(O,U){if(c.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||ct(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);let V=O.length,me=arguments.length>2&&arguments[2]===!0;if(!me&&V===0)return 0;let we=!1;for(;;)switch(U){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return At(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V*2;case"hex":return V>>>1;case"base64":return ht(O).length;default:if(we)return me?-1:At(O).length;U=(""+U).toLowerCase(),we=!0}}ee(L,"byteLength"),c.byteLength=L;function z(O,U,V){let me=!1;if((U===void 0||U<0)&&(U=0),U>this.length||((V===void 0||V>this.length)&&(V=this.length),V<=0)||(V>>>=0,U>>>=0,V<=U))return"";for(O||(O="utf8");;)switch(O){case"hex":return ve(this,U,V);case"utf8":case"utf-8":return J(this,U,V);case"ascii":return xe(this,U,V);case"latin1":case"binary":return pe(this,U,V);case"base64":return ae(this,U,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Le(this,U,V);default:if(me)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),me=!0}}ee(z,"slowToString"),c.prototype._isBuffer=!0;function H(O,U,V){let me=O[U];O[U]=O[V],O[V]=me}ee(H,"swap"),c.prototype.swap16=ee(function(){let O=this.length;if(O%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let U=0;U<O;U+=2)H(this,U,U+1);return this},"swap16"),c.prototype.swap32=ee(function(){let O=this.length;if(O%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let U=0;U<O;U+=4)H(this,U,U+3),H(this,U+1,U+2);return this},"swap32"),c.prototype.swap64=ee(function(){let O=this.length;if(O%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let U=0;U<O;U+=8)H(this,U,U+7),H(this,U+1,U+6),H(this,U+2,U+5),H(this,U+3,U+4);return this},"swap64"),c.prototype.toString=ee(function(){let O=this.length;return O===0?"":arguments.length===0?J(this,0,O):z.apply(this,arguments)},"toString"),c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=ee(function(O){if(!c.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O?!0:c.compare(this,O)===0},"equals"),c.prototype.inspect=ee(function(){let O="",U=e.INSPECT_MAX_BYTES;return O=this.toString("hex",0,U).replace(/(.{2})/g,"$1 ").trim(),this.length>U&&(O+=" ... "),"<Buffer "+O+">"},"inspect"),r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=ee(function(O,U,V,me,we){if(ct(O,Uint8Array)&&(O=c.from(O,O.offset,O.byteLength)),!c.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(U===void 0&&(U=0),V===void 0&&(V=O?O.length:0),me===void 0&&(me=0),we===void 0&&(we=this.length),U<0||V>O.length||me<0||we>this.length)throw new RangeError("out of range index");if(me>=we&&U>=V)return 0;if(me>=we)return-1;if(U>=V)return 1;if(U>>>=0,V>>>=0,me>>>=0,we>>>=0,this===O)return 0;let We=we-me,Ve=V-U,Ke=Math.min(We,Ve),Et=this.slice(me,we),gt=O.slice(U,V);for(let Lt=0;Lt<Ke;++Lt)if(Et[Lt]!==gt[Lt]){We=Et[Lt],Ve=gt[Lt];break}return We<Ve?-1:Ve<We?1:0},"compare");function M(O,U,V,me,we){if(O.length===0)return-1;if(typeof V=="string"?(me=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),V=+V,It(V)&&(V=we?0:O.length-1),V<0&&(V=O.length+V),V>=O.length){if(we)return-1;V=O.length-1}else if(V<0)if(we)V=0;else return-1;if(typeof U=="string"&&(U=c.from(U,me)),c.isBuffer(U))return U.length===0?-1:D(O,U,V,me,we);if(typeof U=="number")return U=U&255,typeof Uint8Array.prototype.indexOf=="function"?we?Uint8Array.prototype.indexOf.call(O,U,V):Uint8Array.prototype.lastIndexOf.call(O,U,V):D(O,[U],V,me,we);throw new TypeError("val must be string, number or Buffer")}ee(M,"bidirectionalIndexOf");function D(O,U,V,me,we){let We=1,Ve=O.length,Ke=U.length;if(me!==void 0&&(me=String(me).toLowerCase(),me==="ucs2"||me==="ucs-2"||me==="utf16le"||me==="utf-16le")){if(O.length<2||U.length<2)return-1;We=2,Ve/=2,Ke/=2,V/=2}function Et(Lt,Dt){return We===1?Lt[Dt]:Lt.readUInt16BE(Dt*We)}ee(Et,"read");let gt;if(we){let Lt=-1;for(gt=V;gt<Ve;gt++)if(Et(O,gt)===Et(U,Lt===-1?0:gt-Lt)){if(Lt===-1&&(Lt=gt),gt-Lt+1===Ke)return Lt*We}else Lt!==-1&&(gt-=gt-Lt),Lt=-1}else for(V+Ke>Ve&&(V=Ve-Ke),gt=V;gt>=0;gt--){let Lt=!0;for(let Dt=0;Dt<Ke;Dt++)if(Et(O,gt+Dt)!==Et(U,Dt)){Lt=!1;break}if(Lt)return gt}return-1}ee(D,"arrayIndexOf"),c.prototype.includes=ee(function(O,U,V){return this.indexOf(O,U,V)!==-1},"includes"),c.prototype.indexOf=ee(function(O,U,V){return M(this,O,U,V,!0)},"indexOf"),c.prototype.lastIndexOf=ee(function(O,U,V){return M(this,O,U,V,!1)},"lastIndexOf");function q(O,U,V,me){V=Number(V)||0;let we=O.length-V;me?(me=Number(me),me>we&&(me=we)):me=we;let We=U.length;me>We/2&&(me=We/2);let Ve;for(Ve=0;Ve<me;++Ve){let Ke=parseInt(U.substr(Ve*2,2),16);if(It(Ke))return Ve;O[V+Ve]=Ke}return Ve}ee(q,"hexWrite");function F(O,U,V,me){return ze(At(U,O.length-V),O,V,me)}ee(F,"utf8Write");function oe(O,U,V,me){return ze(ft(U),O,V,me)}ee(oe,"asciiWrite");function W(O,U,V,me){return ze(ht(U),O,V,me)}ee(W,"base64Write");function X(O,U,V,me){return ze(Xe(U,O.length-V),O,V,me)}ee(X,"ucs2Write"),c.prototype.write=ee(function(O,U,V,me){if(U===void 0)me="utf8",V=this.length,U=0;else if(V===void 0&&typeof U=="string")me=U,V=this.length,U=0;else if(isFinite(U))U=U>>>0,isFinite(V)?(V=V>>>0,me===void 0&&(me="utf8")):(me=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let we=this.length-U;if((V===void 0||V>we)&&(V=we),O.length>0&&(V<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");me||(me="utf8");let We=!1;for(;;)switch(me){case"hex":return q(this,O,U,V);case"utf8":case"utf-8":return F(this,O,U,V);case"ascii":case"latin1":case"binary":return oe(this,O,U,V);case"base64":return W(this,O,U,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,O,U,V);default:if(We)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),We=!0}},"write"),c.prototype.toJSON=ee(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function ae(O,U,V){return U===0&&V===O.length?t.fromByteArray(O):t.fromByteArray(O.slice(U,V))}ee(ae,"base64Slice");function J(O,U,V){V=Math.min(O.length,V);let me=[],we=U;for(;we<V;){let We=O[we],Ve=null,Ke=We>239?4:We>223?3:We>191?2:1;if(we+Ke<=V){let Et,gt,Lt,Dt;switch(Ke){case 1:We<128&&(Ve=We);break;case 2:Et=O[we+1],(Et&192)===128&&(Dt=(We&31)<<6|Et&63,Dt>127&&(Ve=Dt));break;case 3:Et=O[we+1],gt=O[we+2],(Et&192)===128&&(gt&192)===128&&(Dt=(We&15)<<12|(Et&63)<<6|gt&63,Dt>2047&&(Dt<55296||Dt>57343)&&(Ve=Dt));break;case 4:Et=O[we+1],gt=O[we+2],Lt=O[we+3],(Et&192)===128&&(gt&192)===128&&(Lt&192)===128&&(Dt=(We&15)<<18|(Et&63)<<12|(gt&63)<<6|Lt&63,Dt>65535&&Dt<1114112&&(Ve=Dt))}}Ve===null?(Ve=65533,Ke=1):Ve>65535&&(Ve-=65536,me.push(Ve>>>10&1023|55296),Ve=56320|Ve&1023),me.push(Ve),we+=Ke}return Ae(me)}ee(J,"utf8Slice");var ie=4096;function Ae(O){let U=O.length;if(U<=ie)return String.fromCharCode.apply(String,O);let V="",me=0;for(;me<U;)V+=String.fromCharCode.apply(String,O.slice(me,me+=ie));return V}ee(Ae,"decodeCodePointsArray");function xe(O,U,V){let me="";V=Math.min(O.length,V);for(let we=U;we<V;++we)me+=String.fromCharCode(O[we]&127);return me}ee(xe,"asciiSlice");function pe(O,U,V){let me="";V=Math.min(O.length,V);for(let we=U;we<V;++we)me+=String.fromCharCode(O[we]);return me}ee(pe,"latin1Slice");function ve(O,U,V){let me=O.length;(!U||U<0)&&(U=0),(!V||V<0||V>me)&&(V=me);let we="";for(let We=U;We<V;++We)we+=Bt[O[We]];return we}ee(ve,"hexSlice");function Le(O,U,V){let me=O.slice(U,V),we="";for(let We=0;We<me.length-1;We+=2)we+=String.fromCharCode(me[We]+me[We+1]*256);return we}ee(Le,"utf16leSlice"),c.prototype.slice=ee(function(O,U){let V=this.length;O=~~O,U=U===void 0?V:~~U,O<0?(O+=V,O<0&&(O=0)):O>V&&(O=V),U<0?(U+=V,U<0&&(U=0)):U>V&&(U=V),U<O&&(U=O);let me=this.subarray(O,U);return Object.setPrototypeOf(me,c.prototype),me},"slice");function Ye(O,U,V){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+U>V)throw new RangeError("Trying to access beyond buffer length")}ee(Ye,"checkOffset"),c.prototype.readUintLE=c.prototype.readUIntLE=ee(function(O,U,V){O=O>>>0,U=U>>>0,V||Ye(O,U,this.length);let me=this[O],we=1,We=0;for(;++We<U&&(we*=256);)me+=this[O+We]*we;return me},"readUIntLE"),c.prototype.readUintBE=c.prototype.readUIntBE=ee(function(O,U,V){O=O>>>0,U=U>>>0,V||Ye(O,U,this.length);let me=this[O+--U],we=1;for(;U>0&&(we*=256);)me+=this[O+--U]*we;return me},"readUIntBE"),c.prototype.readUint8=c.prototype.readUInt8=ee(function(O,U){return O=O>>>0,U||Ye(O,1,this.length),this[O]},"readUInt8"),c.prototype.readUint16LE=c.prototype.readUInt16LE=ee(function(O,U){return O=O>>>0,U||Ye(O,2,this.length),this[O]|this[O+1]<<8},"readUInt16LE"),c.prototype.readUint16BE=c.prototype.readUInt16BE=ee(function(O,U){return O=O>>>0,U||Ye(O,2,this.length),this[O]<<8|this[O+1]},"readUInt16BE"),c.prototype.readUint32LE=c.prototype.readUInt32LE=ee(function(O,U){return O=O>>>0,U||Ye(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+this[O+3]*16777216},"readUInt32LE"),c.prototype.readUint32BE=c.prototype.readUInt32BE=ee(function(O,U){return O=O>>>0,U||Ye(O,4,this.length),this[O]*16777216+(this[O+1]<<16|this[O+2]<<8|this[O+3])},"readUInt32BE"),c.prototype.readBigUInt64LE=Ft(ee(function(O){O=O>>>0,Qe(O,"offset");let U=this[O],V=this[O+7];(U===void 0||V===void 0)&&_t(O,this.length-8);let me=U+this[++O]*2**8+this[++O]*2**16+this[++O]*2**24,we=this[++O]+this[++O]*2**8+this[++O]*2**16+V*2**24;return BigInt(me)+(BigInt(we)<<BigInt(32))},"readBigUInt64LE")),c.prototype.readBigUInt64BE=Ft(ee(function(O){O=O>>>0,Qe(O,"offset");let U=this[O],V=this[O+7];(U===void 0||V===void 0)&&_t(O,this.length-8);let me=U*2**24+this[++O]*2**16+this[++O]*2**8+this[++O],we=this[++O]*2**24+this[++O]*2**16+this[++O]*2**8+V;return(BigInt(me)<<BigInt(32))+BigInt(we)},"readBigUInt64BE")),c.prototype.readIntLE=ee(function(O,U,V){O=O>>>0,U=U>>>0,V||Ye(O,U,this.length);let me=this[O],we=1,We=0;for(;++We<U&&(we*=256);)me+=this[O+We]*we;return we*=128,me>=we&&(me-=Math.pow(2,8*U)),me},"readIntLE"),c.prototype.readIntBE=ee(function(O,U,V){O=O>>>0,U=U>>>0,V||Ye(O,U,this.length);let me=U,we=1,We=this[O+--me];for(;me>0&&(we*=256);)We+=this[O+--me]*we;return we*=128,We>=we&&(We-=Math.pow(2,8*U)),We},"readIntBE"),c.prototype.readInt8=ee(function(O,U){return O=O>>>0,U||Ye(O,1,this.length),this[O]&128?(255-this[O]+1)*-1:this[O]},"readInt8"),c.prototype.readInt16LE=ee(function(O,U){O=O>>>0,U||Ye(O,2,this.length);let V=this[O]|this[O+1]<<8;return V&32768?V|4294901760:V},"readInt16LE"),c.prototype.readInt16BE=ee(function(O,U){O=O>>>0,U||Ye(O,2,this.length);let V=this[O+1]|this[O]<<8;return V&32768?V|4294901760:V},"readInt16BE"),c.prototype.readInt32LE=ee(function(O,U){return O=O>>>0,U||Ye(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},"readInt32LE"),c.prototype.readInt32BE=ee(function(O,U){return O=O>>>0,U||Ye(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},"readInt32BE"),c.prototype.readBigInt64LE=Ft(ee(function(O){O=O>>>0,Qe(O,"offset");let U=this[O],V=this[O+7];(U===void 0||V===void 0)&&_t(O,this.length-8);let me=this[O+4]+this[O+5]*2**8+this[O+6]*2**16+(V<<24);return(BigInt(me)<<BigInt(32))+BigInt(U+this[++O]*2**8+this[++O]*2**16+this[++O]*2**24)},"readBigInt64LE")),c.prototype.readBigInt64BE=Ft(ee(function(O){O=O>>>0,Qe(O,"offset");let U=this[O],V=this[O+7];(U===void 0||V===void 0)&&_t(O,this.length-8);let me=(U<<24)+this[++O]*2**16+this[++O]*2**8+this[++O];return(BigInt(me)<<BigInt(32))+BigInt(this[++O]*2**24+this[++O]*2**16+this[++O]*2**8+V)},"readBigInt64BE")),c.prototype.readFloatLE=ee(function(O,U){return O=O>>>0,U||Ye(O,4,this.length),n.read(this,O,!0,23,4)},"readFloatLE"),c.prototype.readFloatBE=ee(function(O,U){return O=O>>>0,U||Ye(O,4,this.length),n.read(this,O,!1,23,4)},"readFloatBE"),c.prototype.readDoubleLE=ee(function(O,U){return O=O>>>0,U||Ye(O,8,this.length),n.read(this,O,!0,52,8)},"readDoubleLE"),c.prototype.readDoubleBE=ee(function(O,U){return O=O>>>0,U||Ye(O,8,this.length),n.read(this,O,!1,52,8)},"readDoubleBE");function K(O,U,V,me,we,We){if(!c.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>we||U<We)throw new RangeError('"value" argument is out of bounds');if(V+me>O.length)throw new RangeError("Index out of range")}ee(K,"checkInt"),c.prototype.writeUintLE=c.prototype.writeUIntLE=ee(function(O,U,V,me){if(O=+O,U=U>>>0,V=V>>>0,!me){let Ve=Math.pow(2,8*V)-1;K(this,O,U,V,Ve,0)}let we=1,We=0;for(this[U]=O&255;++We<V&&(we*=256);)this[U+We]=O/we&255;return U+V},"writeUIntLE"),c.prototype.writeUintBE=c.prototype.writeUIntBE=ee(function(O,U,V,me){if(O=+O,U=U>>>0,V=V>>>0,!me){let Ve=Math.pow(2,8*V)-1;K(this,O,U,V,Ve,0)}let we=V-1,We=1;for(this[U+we]=O&255;--we>=0&&(We*=256);)this[U+we]=O/We&255;return U+V},"writeUIntBE"),c.prototype.writeUint8=c.prototype.writeUInt8=ee(function(O,U,V){return O=+O,U=U>>>0,V||K(this,O,U,1,255,0),this[U]=O&255,U+1},"writeUInt8"),c.prototype.writeUint16LE=c.prototype.writeUInt16LE=ee(function(O,U,V){return O=+O,U=U>>>0,V||K(this,O,U,2,65535,0),this[U]=O&255,this[U+1]=O>>>8,U+2},"writeUInt16LE"),c.prototype.writeUint16BE=c.prototype.writeUInt16BE=ee(function(O,U,V){return O=+O,U=U>>>0,V||K(this,O,U,2,65535,0),this[U]=O>>>8,this[U+1]=O&255,U+2},"writeUInt16BE"),c.prototype.writeUint32LE=c.prototype.writeUInt32LE=ee(function(O,U,V){return O=+O,U=U>>>0,V||K(this,O,U,4,4294967295,0),this[U+3]=O>>>24,this[U+2]=O>>>16,this[U+1]=O>>>8,this[U]=O&255,U+4},"writeUInt32LE"),c.prototype.writeUint32BE=c.prototype.writeUInt32BE=ee(function(O,U,V){return O=+O,U=U>>>0,V||K(this,O,U,4,4294967295,0),this[U]=O>>>24,this[U+1]=O>>>16,this[U+2]=O>>>8,this[U+3]=O&255,U+4},"writeUInt32BE");function he(O,U,V,me,we){dt(U,me,we,O,V,7);let We=Number(U&BigInt(4294967295));O[V++]=We,We=We>>8,O[V++]=We,We=We>>8,O[V++]=We,We=We>>8,O[V++]=We;let Ve=Number(U>>BigInt(32)&BigInt(4294967295));return O[V++]=Ve,Ve=Ve>>8,O[V++]=Ve,Ve=Ve>>8,O[V++]=Ve,Ve=Ve>>8,O[V++]=Ve,V}ee(he,"wrtBigUInt64LE");function de(O,U,V,me,we){dt(U,me,we,O,V,7);let We=Number(U&BigInt(4294967295));O[V+7]=We,We=We>>8,O[V+6]=We,We=We>>8,O[V+5]=We,We=We>>8,O[V+4]=We;let Ve=Number(U>>BigInt(32)&BigInt(4294967295));return O[V+3]=Ve,Ve=Ve>>8,O[V+2]=Ve,Ve=Ve>>8,O[V+1]=Ve,Ve=Ve>>8,O[V]=Ve,V+8}ee(de,"wrtBigUInt64BE"),c.prototype.writeBigUInt64LE=Ft(ee(function(O,U=0){return he(this,O,U,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),c.prototype.writeBigUInt64BE=Ft(ee(function(O,U=0){return de(this,O,U,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),c.prototype.writeIntLE=ee(function(O,U,V,me){if(O=+O,U=U>>>0,!me){let Ke=Math.pow(2,8*V-1);K(this,O,U,V,Ke-1,-Ke)}let we=0,We=1,Ve=0;for(this[U]=O&255;++we<V&&(We*=256);)O<0&&Ve===0&&this[U+we-1]!==0&&(Ve=1),this[U+we]=(O/We>>0)-Ve&255;return U+V},"writeIntLE"),c.prototype.writeIntBE=ee(function(O,U,V,me){if(O=+O,U=U>>>0,!me){let Ke=Math.pow(2,8*V-1);K(this,O,U,V,Ke-1,-Ke)}let we=V-1,We=1,Ve=0;for(this[U+we]=O&255;--we>=0&&(We*=256);)O<0&&Ve===0&&this[U+we+1]!==0&&(Ve=1),this[U+we]=(O/We>>0)-Ve&255;return U+V},"writeIntBE"),c.prototype.writeInt8=ee(function(O,U,V){return O=+O,U=U>>>0,V||K(this,O,U,1,127,-128),O<0&&(O=255+O+1),this[U]=O&255,U+1},"writeInt8"),c.prototype.writeInt16LE=ee(function(O,U,V){return O=+O,U=U>>>0,V||K(this,O,U,2,32767,-32768),this[U]=O&255,this[U+1]=O>>>8,U+2},"writeInt16LE"),c.prototype.writeInt16BE=ee(function(O,U,V){return O=+O,U=U>>>0,V||K(this,O,U,2,32767,-32768),this[U]=O>>>8,this[U+1]=O&255,U+2},"writeInt16BE"),c.prototype.writeInt32LE=ee(function(O,U,V){return O=+O,U=U>>>0,V||K(this,O,U,4,2147483647,-2147483648),this[U]=O&255,this[U+1]=O>>>8,this[U+2]=O>>>16,this[U+3]=O>>>24,U+4},"writeInt32LE"),c.prototype.writeInt32BE=ee(function(O,U,V){return O=+O,U=U>>>0,V||K(this,O,U,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[U]=O>>>24,this[U+1]=O>>>16,this[U+2]=O>>>8,this[U+3]=O&255,U+4},"writeInt32BE"),c.prototype.writeBigInt64LE=Ft(ee(function(O,U=0){return he(this,O,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),c.prototype.writeBigInt64BE=Ft(ee(function(O,U=0){return de(this,O,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function Ce(O,U,V,me,we,We){if(V+me>O.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}ee(Ce,"checkIEEE754");function ye(O,U,V,me,we){return U=+U,V=V>>>0,we||Ce(O,U,V,4),n.write(O,U,V,me,23,4),V+4}ee(ye,"writeFloat"),c.prototype.writeFloatLE=ee(function(O,U,V){return ye(this,O,U,!0,V)},"writeFloatLE"),c.prototype.writeFloatBE=ee(function(O,U,V){return ye(this,O,U,!1,V)},"writeFloatBE");function Re(O,U,V,me,we){return U=+U,V=V>>>0,we||Ce(O,U,V,8),n.write(O,U,V,me,52,8),V+8}ee(Re,"writeDouble"),c.prototype.writeDoubleLE=ee(function(O,U,V){return Re(this,O,U,!0,V)},"writeDoubleLE"),c.prototype.writeDoubleBE=ee(function(O,U,V){return Re(this,O,U,!1,V)},"writeDoubleBE"),c.prototype.copy=ee(function(O,U,V,me){if(!c.isBuffer(O))throw new TypeError("argument should be a Buffer");if(V||(V=0),!me&&me!==0&&(me=this.length),U>=O.length&&(U=O.length),U||(U=0),me>0&&me<V&&(me=V),me===V||O.length===0||this.length===0)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length),O.length-U<me-V&&(me=O.length-U+V);let we=me-V;return this===O&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(U,V,me):Uint8Array.prototype.set.call(O,this.subarray(V,me),U),we},"copy"),c.prototype.fill=ee(function(O,U,V,me){if(typeof O=="string"){if(typeof U=="string"?(me=U,U=0,V=this.length):typeof V=="string"&&(me=V,V=this.length),me!==void 0&&typeof me!="string")throw new TypeError("encoding must be a string");if(typeof me=="string"&&!c.isEncoding(me))throw new TypeError("Unknown encoding: "+me);if(O.length===1){let We=O.charCodeAt(0);(me==="utf8"&&We<128||me==="latin1")&&(O=We)}}else typeof O=="number"?O=O&255:typeof O=="boolean"&&(O=Number(O));if(U<0||this.length<U||this.length<V)throw new RangeError("Out of range index");if(V<=U)return this;U=U>>>0,V=V===void 0?this.length:V>>>0,O||(O=0);let we;if(typeof O=="number")for(we=U;we<V;++we)this[we]=O;else{let We=c.isBuffer(O)?O:c.from(O,me),Ve=We.length;if(Ve===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(we=0;we<V-U;++we)this[we+U]=We[we%Ve]}return this},"fill");var Oe={};function Fe(O,U,V){var me;Oe[O]=(me=class extends V{constructor(){super(),Object.defineProperty(this,"message",{value:U.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${O}]`,this.stack,delete this.name}get code(){return O}set code(we){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:we,writable:!0})}toString(){return`${this.name} [${O}]: ${this.message}`}},ee(me,"NodeError"),me)}ee(Fe,"E"),Fe("ERR_BUFFER_OUT_OF_BOUNDS",function(O){return O?`${O} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Fe("ERR_INVALID_ARG_TYPE",function(O,U){return`The "${O}" argument must be of type number. Received type ${typeof U}`},TypeError),Fe("ERR_OUT_OF_RANGE",function(O,U,V){let me=`The value of "${O}" is out of range.`,we=V;return Number.isInteger(V)&&Math.abs(V)>2**32?we=lt(String(V)):typeof V=="bigint"&&(we=String(V),(V>BigInt(2)**BigInt(32)||V<-(BigInt(2)**BigInt(32)))&&(we=lt(we)),we+="n"),me+=` It must be ${U}. Received ${we}`,me},RangeError);function lt(O){let U="",V=O.length,me=O[0]==="-"?1:0;for(;V>=me+4;V-=3)U=`_${O.slice(V-3,V)}${U}`;return`${O.slice(0,V)}${U}`}ee(lt,"addNumericalSeparator");function rt(O,U,V){Qe(U,"offset"),(O[U]===void 0||O[U+V]===void 0)&&_t(U,O.length-(V+1))}ee(rt,"checkBounds");function dt(O,U,V,me,we,We){if(O>V||O<U){let Ve=typeof U=="bigint"?"n":"",Ke;throw We>3?U===0||U===BigInt(0)?Ke=`>= 0${Ve} and < 2${Ve} ** ${(We+1)*8}${Ve}`:Ke=`>= -(2${Ve} ** ${(We+1)*8-1}${Ve}) and < 2 ** ${(We+1)*8-1}${Ve}`:Ke=`>= ${U}${Ve} and <= ${V}${Ve}`,new Oe.ERR_OUT_OF_RANGE("value",Ke,O)}rt(me,we,We)}ee(dt,"checkIntBI");function Qe(O,U){if(typeof O!="number")throw new Oe.ERR_INVALID_ARG_TYPE(U,"number",O)}ee(Qe,"validateNumber");function _t(O,U,V){throw Math.floor(O)!==O?(Qe(O,V),new Oe.ERR_OUT_OF_RANGE(V||"offset","an integer",O)):U<0?new Oe.ERR_BUFFER_OUT_OF_BOUNDS:new Oe.ERR_OUT_OF_RANGE(V||"offset",`>= ${V?1:0} and <= ${U}`,O)}ee(_t,"boundsError");var qe=/[^+/0-9A-Za-z-_]/g;function ge(O){if(O=O.split("=")[0],O=O.trim().replace(qe,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}ee(ge,"base64clean");function At(O,U){U=U||1/0;let V,me=O.length,we=null,We=[];for(let Ve=0;Ve<me;++Ve){if(V=O.charCodeAt(Ve),V>55295&&V<57344){if(!we){if(V>56319){(U-=3)>-1&&We.push(239,191,189);continue}else if(Ve+1===me){(U-=3)>-1&&We.push(239,191,189);continue}we=V;continue}if(V<56320){(U-=3)>-1&&We.push(239,191,189),we=V;continue}V=(we-55296<<10|V-56320)+65536}else we&&(U-=3)>-1&&We.push(239,191,189);if(we=null,V<128){if((U-=1)<0)break;We.push(V)}else if(V<2048){if((U-=2)<0)break;We.push(V>>6|192,V&63|128)}else if(V<65536){if((U-=3)<0)break;We.push(V>>12|224,V>>6&63|128,V&63|128)}else if(V<1114112){if((U-=4)<0)break;We.push(V>>18|240,V>>12&63|128,V>>6&63|128,V&63|128)}else throw new Error("Invalid code point")}return We}ee(At,"utf8ToBytes");function ft(O){let U=[];for(let V=0;V<O.length;++V)U.push(O.charCodeAt(V)&255);return U}ee(ft,"asciiToBytes");function Xe(O,U){let V,me,we,We=[];for(let Ve=0;Ve<O.length&&!((U-=2)<0);++Ve)V=O.charCodeAt(Ve),me=V>>8,we=V%256,We.push(we),We.push(me);return We}ee(Xe,"utf16leToBytes");function ht(O){return t.toByteArray(ge(O))}ee(ht,"base64ToBytes");function ze(O,U,V,me){let we;for(we=0;we<me&&!(we+V>=U.length||we>=O.length);++we)U[we+V]=O[we];return we}ee(ze,"blitBuffer");function ct(O,U){return O instanceof U||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===U.name}ee(ct,"isInstance");function It(O){return O!==O}ee(It,"numberIsNaN");var Bt=function(){let O="0123456789abcdef",U=new Array(256);for(let V=0;V<16;++V){let me=V*16;for(let we=0;we<16;++we)U[me+we]=O[V]+O[we]}return U}();function Ft(O){return typeof BigInt>"u"?Ut:O}ee(Ft,"defineBigIntMethod");function Ut(){throw new Error("BigInt not supported")}ee(Ut,"BufferBigIntNotDefined")}),qd,Sm,Xt,on,Ot=Ji(()=>{qd=globalThis,Sm=globalThis.setImmediate??(e=>setTimeout(e,0)),Xt=typeof globalThis.Buffer=="function"&&typeof globalThis.Buffer.allocUnsafe=="function"?globalThis.Buffer:yS().Buffer,on=globalThis.process??{},on.env??(on.env={});try{on.nextTick(()=>{})}catch{let e=Promise.resolve();on.nextTick=e.then.bind(e)}}),tu=ln((e,t)=>{Ot();var n=typeof Reflect=="object"?Reflect:null,r=n&&typeof n.apply=="function"?n.apply:ee(function(M,D,q){return Function.prototype.apply.call(M,D,q)},"ReflectApply"),s;n&&typeof n.ownKeys=="function"?s=n.ownKeys:Object.getOwnPropertySymbols?s=ee(function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))},"ReflectOwnKeys"):s=ee(function(M){return Object.getOwnPropertyNames(M)},"ReflectOwnKeys");function a(M){console&&console.warn&&console.warn(M)}ee(a,"ProcessEmitWarning");var l=Number.isNaN||ee(function(M){return M!==M},"NumberIsNaN");function c(){c.init.call(this)}ee(c,"EventEmitter"),t.exports=c,t.exports.once=L,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var h=10;function p(M){if(typeof M!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof M)}ee(p,"checkListener"),Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:ee(function(){return h},"get"),set:ee(function(M){if(typeof M!="number"||M<0||l(M))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+M+".");h=M},"set")}),c.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=ee(function(M){if(typeof M!="number"||M<0||l(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this},"setMaxListeners");function y(M){return M._maxListeners===void 0?c.defaultMaxListeners:M._maxListeners}ee(y,"_getMaxListeners"),c.prototype.getMaxListeners=ee(function(){return y(this)},"getMaxListeners"),c.prototype.emit=ee(function(M){for(var D=[],q=1;q<arguments.length;q++)D.push(arguments[q]);var F=M==="error",oe=this._events;if(oe!==void 0)F=F&&oe.error===void 0;else if(!F)return!1;if(F){var W;if(D.length>0&&(W=D[0]),W instanceof Error)throw W;var X=new Error("Unhandled error."+(W?" ("+W.message+")":""));throw X.context=W,X}var ae=oe[M];if(ae===void 0)return!1;if(typeof ae=="function")r(ae,this,D);else for(var J=ae.length,ie=k(ae,J),q=0;q<J;++q)r(ie[q],this,D);return!0},"emit");function w(M,D,q,F){var oe,W,X;if(p(q),W=M._events,W===void 0?(W=M._events=Object.create(null),M._eventsCount=0):(W.newListener!==void 0&&(M.emit("newListener",D,q.listener?q.listener:q),W=M._events),X=W[D]),X===void 0)X=W[D]=q,++M._eventsCount;else if(typeof X=="function"?X=W[D]=F?[q,X]:[X,q]:F?X.unshift(q):X.push(q),oe=y(M),oe>0&&X.length>oe&&!X.warned){X.warned=!0;var ae=new Error("Possible EventEmitter memory leak detected. "+X.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");ae.name="MaxListenersExceededWarning",ae.emitter=M,ae.type=D,ae.count=X.length,a(ae)}return M}ee(w,"_addListener"),c.prototype.addListener=ee(function(M,D){return w(this,M,D,!1)},"addListener"),c.prototype.on=c.prototype.addListener,c.prototype.prependListener=ee(function(M,D){return w(this,M,D,!0)},"prependListener");function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}ee(v,"onceWrapper");function b(M,D,q){var F={fired:!1,wrapFn:void 0,target:M,type:D,listener:q},oe=v.bind(F);return oe.listener=q,F.wrapFn=oe,oe}ee(b,"_onceWrap"),c.prototype.once=ee(function(M,D){return p(D),this.on(M,b(this,M,D)),this},"once"),c.prototype.prependOnceListener=ee(function(M,D){return p(D),this.prependListener(M,b(this,M,D)),this},"prependOnceListener"),c.prototype.removeListener=ee(function(M,D){var q,F,oe,W,X;if(p(D),F=this._events,F===void 0)return this;if(q=F[M],q===void 0)return this;if(q===D||q.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete F[M],F.removeListener&&this.emit("removeListener",M,q.listener||D));else if(typeof q!="function"){for(oe=-1,W=q.length-1;W>=0;W--)if(q[W]===D||q[W].listener===D){X=q[W].listener,oe=W;break}if(oe<0)return this;oe===0?q.shift():S(q,oe),q.length===1&&(F[M]=q[0]),F.removeListener!==void 0&&this.emit("removeListener",M,X||D)}return this},"removeListener"),c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=ee(function(M){var D,q,F;if(q=this._events,q===void 0)return this;if(q.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):q[M]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete q[M]),this;if(arguments.length===0){var oe=Object.keys(q),W;for(F=0;F<oe.length;++F)W=oe[F],W!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=q[M],typeof D=="function")this.removeListener(M,D);else if(D!==void 0)for(F=D.length-1;F>=0;F--)this.removeListener(M,D[F]);return this},"removeAllListeners");function E(M,D,q){var F=M._events;if(F===void 0)return[];var oe=F[D];return oe===void 0?[]:typeof oe=="function"?q?[oe.listener||oe]:[oe]:q?_(oe):k(oe,oe.length)}ee(E,"_listeners"),c.prototype.listeners=ee(function(M){return E(this,M,!0)},"listeners"),c.prototype.rawListeners=ee(function(M){return E(this,M,!1)},"rawListeners"),c.listenerCount=function(M,D){return typeof M.listenerCount=="function"?M.listenerCount(D):A.call(M,D)},c.prototype.listenerCount=A;function A(M){var D=this._events;if(D!==void 0){var q=D[M];if(typeof q=="function")return 1;if(q!==void 0)return q.length}return 0}ee(A,"listenerCount"),c.prototype.eventNames=ee(function(){return this._eventsCount>0?s(this._events):[]},"eventNames");function k(M,D){for(var q=new Array(D),F=0;F<D;++F)q[F]=M[F];return q}ee(k,"arrayClone");function S(M,D){for(;D+1<M.length;D++)M[D]=M[D+1];M.pop()}ee(S,"spliceOne");function _(M){for(var D=new Array(M.length),q=0;q<D.length;++q)D[q]=M[q].listener||M[q];return D}ee(_,"unwrapListeners");function L(M,D){return new Promise(function(q,F){function oe(X){M.removeListener(D,W),F(X)}ee(oe,"errorListener");function W(){typeof M.removeListener=="function"&&M.removeListener("error",oe),q([].slice.call(arguments))}ee(W,"resolver"),H(M,D,W,{once:!0}),D!=="error"&&z(M,oe,{once:!0})})}ee(L,"once");function z(M,D,q){typeof M.on=="function"&&H(M,"error",D,q)}ee(z,"addErrorHandlerIfEventEmitter");function H(M,D,q,F){if(typeof M.on=="function")F.once?M.once(D,q):M.on(D,q);else if(typeof M.addEventListener=="function")M.addEventListener(D,ee(function oe(W){F.once&&M.removeEventListener(D,oe),q(W)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof M)}ee(H,"eventTargetAgnosticAddListener")}),Z3={};ia(Z3,{Socket:()=>Gf,isIP:()=>J3});function J3(e){return 0}var Ky,e2,Fc,Gf,sh=Ji(()=>{Ot(),Ky=eu(tu(),1),ee(J3,"isIP"),e2=/^[^.]+\./,Fc=class jt extends Ky.EventEmitter{constructor(){super(...arguments),$t(this,"opts",{}),$t(this,"connecting",!1),$t(this,"pending",!0),$t(this,"writable",!0),$t(this,"encrypted",!1),$t(this,"authorized",!1),$t(this,"destroyed",!1),$t(this,"ws",null),$t(this,"writeBuffer"),$t(this,"tlsState",0),$t(this,"tlsRead"),$t(this,"tlsWrite")}static get poolQueryViaFetch(){return jt.opts.poolQueryViaFetch??jt.defaults.poolQueryViaFetch}static set poolQueryViaFetch(t){jt.opts.poolQueryViaFetch=t}static get fetchEndpoint(){return jt.opts.fetchEndpoint??jt.defaults.fetchEndpoint}static set fetchEndpoint(t){jt.opts.fetchEndpoint=t}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(t){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return jt.opts.fetchFunction??jt.defaults.fetchFunction}static set fetchFunction(t){jt.opts.fetchFunction=t}static get webSocketConstructor(){return jt.opts.webSocketConstructor??jt.defaults.webSocketConstructor}static set webSocketConstructor(t){jt.opts.webSocketConstructor=t}get webSocketConstructor(){return this.opts.webSocketConstructor??jt.webSocketConstructor}set webSocketConstructor(t){this.opts.webSocketConstructor=t}static get wsProxy(){return jt.opts.wsProxy??jt.defaults.wsProxy}static set wsProxy(t){jt.opts.wsProxy=t}get wsProxy(){return this.opts.wsProxy??jt.wsProxy}set wsProxy(t){this.opts.wsProxy=t}static get coalesceWrites(){return jt.opts.coalesceWrites??jt.defaults.coalesceWrites}static set coalesceWrites(t){jt.opts.coalesceWrites=t}get coalesceWrites(){return this.opts.coalesceWrites??jt.coalesceWrites}set coalesceWrites(t){this.opts.coalesceWrites=t}static get useSecureWebSocket(){return jt.opts.useSecureWebSocket??jt.defaults.useSecureWebSocket}static set useSecureWebSocket(t){jt.opts.useSecureWebSocket=t}get useSecureWebSocket(){return this.opts.useSecureWebSocket??jt.useSecureWebSocket}set useSecureWebSocket(t){this.opts.useSecureWebSocket=t}static get forceDisablePgSSL(){return jt.opts.forceDisablePgSSL??jt.defaults.forceDisablePgSSL}static set forceDisablePgSSL(t){jt.opts.forceDisablePgSSL=t}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??jt.forceDisablePgSSL}set forceDisablePgSSL(t){this.opts.forceDisablePgSSL=t}static get disableSNI(){return jt.opts.disableSNI??jt.defaults.disableSNI}static set disableSNI(t){jt.opts.disableSNI=t}get disableSNI(){return this.opts.disableSNI??jt.disableSNI}set disableSNI(t){this.opts.disableSNI=t}static get disableWarningInBrowsers(){return jt.opts.disableWarningInBrowsers??jt.defaults.disableWarningInBrowsers}static set disableWarningInBrowsers(t){jt.opts.disableWarningInBrowsers=t}get disableWarningInBrowsers(){return this.opts.disableWarningInBrowsers??jt.disableWarningInBrowsers}set disableWarningInBrowsers(t){this.opts.disableWarningInBrowsers=t}static get pipelineConnect(){return jt.opts.pipelineConnect??jt.defaults.pipelineConnect}static set pipelineConnect(t){jt.opts.pipelineConnect=t}get pipelineConnect(){return this.opts.pipelineConnect??jt.pipelineConnect}set pipelineConnect(t){this.opts.pipelineConnect=t}static get subtls(){return jt.opts.subtls??jt.defaults.subtls}static set subtls(t){jt.opts.subtls=t}get subtls(){return this.opts.subtls??jt.subtls}set subtls(t){this.opts.subtls=t}static get pipelineTLS(){return jt.opts.pipelineTLS??jt.defaults.pipelineTLS}static set pipelineTLS(t){jt.opts.pipelineTLS=t}get pipelineTLS(){return this.opts.pipelineTLS??jt.pipelineTLS}set pipelineTLS(t){this.opts.pipelineTLS=t}static get rootCerts(){return jt.opts.rootCerts??jt.defaults.rootCerts}static set rootCerts(t){jt.opts.rootCerts=t}get rootCerts(){return this.opts.rootCerts??jt.rootCerts}set rootCerts(t){this.opts.rootCerts=t}wsProxyAddrForHost(t,n){let r=this.wsProxy;if(r===void 0)throw new Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return typeof r=="function"?r(t,n):`${r}?address=${t}:${n}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(t,n,r){this.connecting=!0,r&&this.once("connect",r);let s=ee(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),a=ee((c,h=!1)=>{c.binaryType="arraybuffer",c.addEventListener("error",p=>{this.emit("error",p),this.emit("close")}),c.addEventListener("message",p=>{if(this.tlsState===0){let y=Xt.from(p.data);this.emit("data",y)}}),c.addEventListener("close",()=>{this.emit("close")}),h?s():c.addEventListener("open",s)},"configureWebSocket"),l;try{l=this.wsProxyAddrForHost(n,typeof t=="string"?parseInt(t,10):t)}catch(c){this.emit("error",c),this.emit("close");return}try{let c=(this.useSecureWebSocket?"wss:":"ws:")+"//"+l;if(this.webSocketConstructor!==void 0)this.ws=new this.webSocketConstructor(c),a(this.ws);else try{this.ws=new WebSocket(c),a(this.ws)}catch{this.ws=new __unstable_WebSocket(c),a(this.ws)}}catch(c){let h=(this.useSecureWebSocket?"https:":"http:")+"//"+l;fetch(h,{headers:{Upgrade:"websocket"}}).then(p=>{if(this.ws=p.webSocket,this.ws==null)throw c;this.ws.accept(),a(this.ws,!0)}).catch(p=>{this.emit("error",new Error(`All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: ${p}`)),this.emit("close")})}}async startTls(t){if(this.subtls===void 0)throw new Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let n=await this.subtls.TrustedCert.databaseFromPEM(this.rootCerts),r=new this.subtls.WebSocketReadQueue(this.ws),s=r.read.bind(r),a=this.rawWrite.bind(this),{read:l,write:c}=await this.subtls.startTls(t,n,s,a,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=l,this.tlsWrite=c,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let t=await this.tlsRead();if(t===void 0)break;{let n=Xt.from(t);this.emit("data",n)}}}rawWrite(t){if(!this.coalesceWrites){this.ws&&this.ws.send(t);return}if(this.writeBuffer===void 0)this.writeBuffer=t,setTimeout(()=>{this.ws&&this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let n=new Uint8Array(this.writeBuffer.length+t.length);n.set(this.writeBuffer),n.set(t,this.writeBuffer.length),this.writeBuffer=n}}write(t,n="utf8",r=s=>{}){return t.length===0?(r(),!0):(typeof t=="string"&&(t=Xt.from(t,n)),this.tlsState===0?(this.rawWrite(t),r()):this.tlsState===1?this.once("secureConnection",()=>{this.write(t,n,r)}):(this.tlsWrite(t),r()),!0)}end(t=Xt.alloc(0),n="utf8",r=()=>{}){return this.write(t,n,()=>{this.ws.close(),r()}),this}destroy(){return this.destroyed=!0,this.end()}},ee(Fc,"Socket"),$t(Fc,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:ee((e,t,n)=>{let r;return n!=null&&n.jwtAuth?r=e.replace(e2,"apiauth."):r=e.replace(e2,"api."),"https://"+r+"/sql"},"fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:ee(e=>e+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1,disableWarningInBrowsers:!1}),$t(Fc,"opts",{}),Gf=Fc}),e4={};ia(e4,{parse:()=>Nm});function Nm(e,t=!1){let{protocol:n}=new URL(e),r="http:"+e.substring(n.length),{username:s,password:a,host:l,hostname:c,port:h,pathname:p,search:y,searchParams:w,hash:v}=new URL(r);a=decodeURIComponent(a),s=decodeURIComponent(s),p=decodeURIComponent(p);let b=s+":"+a,E=t?Object.fromEntries(w.entries()):y;return{href:e,protocol:n,auth:b,username:s,password:a,host:l,hostname:c,port:h,pathname:p,search:y,query:E,hash:v}}var t4=Ji(()=>{Ot(),ee(Nm,"parse")}),n4=ln(e=>{Ot(),e.parse=function(s,a){return new n(s,a).parse()};var t=class r4{constructor(a,l){this.source=a,this.transform=l||r,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var a=this.source[this.position++];return a==="\\"?{value:this.source[this.position++],escaped:!0}:{value:a,escaped:!1}}record(a){this.recorded.push(a)}newEntry(a){var l;(this.recorded.length>0||a)&&(l=this.recorded.join(""),l==="NULL"&&!a&&(l=null),l!==null&&(l=this.transform(l)),this.entries.push(l),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var a=this.nextCharacter();if(a.value==="=")break}}parse(a){var l,c,h;for(this.consumeDimensions();!this.isEof();)if(l=this.nextCharacter(),l.value==="{"&&!h)this.dimension++,this.dimension>1&&(c=new r4(this.source.substr(this.position-1),this.transform),this.entries.push(c.parse(!0)),this.position+=c.position-2);else if(l.value==="}"&&!h){if(this.dimension--,!this.dimension&&(this.newEntry(),a))return this.entries}else l.value==='"'&&!l.escaped?(h&&this.newEntry(!0),h=!h):l.value===","&&!h?this.newEntry():this.record(l.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};ee(t,"ArrayParser");var n=t;function r(s){return s}ee(r,"identity")}),i4=ln((e,t)=>{Ot();var n=n4();t.exports={create:ee(function(r,s){return{parse:ee(function(){return n.parse(r,s)},"parse")}},"create")}}),wS=ln((e,t)=>{Ot();var n=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,r=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,s=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,a=/^-?infinity$/;t.exports=ee(function(y){if(a.test(y))return Number(y.replace("i","I"));var w=n.exec(y);if(!w)return l(y)||null;var v=!!w[8],b=parseInt(w[1],10);v&&(b=h(b));var E=parseInt(w[2],10)-1,A=w[3],k=parseInt(w[4],10),S=parseInt(w[5],10),_=parseInt(w[6],10),L=w[7];L=L?1e3*parseFloat(L):0;var z,H=c(y);return H!=null?(z=new Date(Date.UTC(b,E,A,k,S,_,L)),p(b)&&z.setUTCFullYear(b),H!==0&&z.setTime(z.getTime()-H)):(z=new Date(b,E,A,k,S,_,L),p(b)&&z.setFullYear(b)),z},"parseDate");function l(y){var w=r.exec(y);if(w){var v=parseInt(w[1],10),b=!!w[4];b&&(v=h(v));var E=parseInt(w[2],10)-1,A=w[3],k=new Date(v,E,A);return p(v)&&k.setFullYear(v),k}}ee(l,"getDate");function c(y){if(y.endsWith("+00"))return 0;var w=s.exec(y.split(" ")[1]);if(w){var v=w[1];if(v==="Z")return 0;var b=v==="-"?-1:1,E=parseInt(w[2],10)*3600+parseInt(w[3]||0,10)*60+parseInt(w[4]||0,10);return E*b*1e3}}ee(c,"timeZoneOffset");function h(y){return-(y-1)}ee(h,"bcYearToNegativeYear");function p(y){return y>=0&&y<100}ee(p,"is0To99")}),xS=ln((e,t)=>{Ot(),t.exports=r;var n=Object.prototype.hasOwnProperty;function r(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)n.call(l,c)&&(s[c]=l[c])}return s}ee(r,"extend")}),vS=ln((e,t)=>{Ot();var n=xS();t.exports=r;function r(_){if(!(this instanceof r))return new r(_);n(this,S(_))}ee(r,"PostgresInterval");var s=["seconds","minutes","hours","days","months","years"];r.prototype.toPostgres=function(){var _=s.filter(this.hasOwnProperty,this);return this.milliseconds&&_.indexOf("seconds")<0&&_.push("seconds"),_.length===0?"0":_.map(function(L){var z=this[L]||0;return L==="seconds"&&this.milliseconds&&(z=(z+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),z+" "+L},this).join(" ")};var a={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},l=["years","months","days"],c=["hours","minutes","seconds"];r.prototype.toISOString=r.prototype.toISO=function(){var _=l.map(z,this).join(""),L=c.map(z,this).join("");return"P"+_+"T"+L;function z(H){var M=this[H]||0;return H==="seconds"&&this.milliseconds&&(M=(M+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),M+a[H]}};var h="([+-]?\\d+)",p=h+"\\s+years?",y=h+"\\s+mons?",w=h+"\\s+days?",v="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",b=new RegExp([p,y,w,v].map(function(_){return"("+_+")?"}).join("\\s*")),E={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},A=["hours","minutes","seconds","milliseconds"];function k(_){var L=_+"000000".slice(_.length);return parseInt(L,10)/1e3}ee(k,"parseMilliseconds");function S(_){if(!_)return{};var L=b.exec(_),z=L[8]==="-";return Object.keys(E).reduce(function(H,M){var D=E[M],q=L[D];return!q||(q=M==="milliseconds"?k(q):parseInt(q,10),!q)||(z&&~A.indexOf(M)&&(q*=-1),H[M]=q),H},{})}ee(S,"parse")}),bS=ln((e,t)=>{Ot(),t.exports=ee(function(n){if(/^\\x/.test(n))return new Xt(n.substr(2),"hex");for(var r="",s=0;s<n.length;)if(n[s]!=="\\")r+=n[s],++s;else if(/[0-7]{3}/.test(n.substr(s+1,3)))r+=String.fromCharCode(parseInt(n.substr(s+1,3),8)),s+=4;else{for(var a=1;s+a<n.length&&n[s+a]==="\\";)a++;for(var l=0;l<Math.floor(a/2);++l)r+="\\";s+=Math.floor(a/2)*2}return new Xt(r,"binary")},"parseBytea")}),AS=ln((e,t)=>{Ot();var n=n4(),r=i4(),s=wS(),a=vS(),l=bS();function c(F){return ee(function(oe){return oe===null?oe:F(oe)},"nullAllowed")}ee(c,"allowNull");function h(F){return F===null?F:F==="TRUE"||F==="t"||F==="true"||F==="y"||F==="yes"||F==="on"||F==="1"}ee(h,"parseBool");function p(F){return F?n.parse(F,h):null}ee(p,"parseBoolArray");function y(F){return parseInt(F,10)}ee(y,"parseBaseTenInt");function w(F){return F?n.parse(F,c(y)):null}ee(w,"parseIntegerArray");function v(F){return F?n.parse(F,c(function(oe){return z(oe).trim()})):null}ee(v,"parseBigIntegerArray");var b=ee(function(F){if(!F)return null;var oe=r.create(F,function(W){return W!==null&&(W=M(W)),W});return oe.parse()},"parsePointArray"),E=ee(function(F){if(!F)return null;var oe=r.create(F,function(W){return W!==null&&(W=parseFloat(W)),W});return oe.parse()},"parseFloatArray"),A=ee(function(F){if(!F)return null;var oe=r.create(F);return oe.parse()},"parseStringArray"),k=ee(function(F){if(!F)return null;var oe=r.create(F,function(W){return W!==null&&(W=s(W)),W});return oe.parse()},"parseDateArray"),S=ee(function(F){if(!F)return null;var oe=r.create(F,function(W){return W!==null&&(W=a(W)),W});return oe.parse()},"parseIntervalArray"),_=ee(function(F){return F?n.parse(F,c(l)):null},"parseByteAArray"),L=ee(function(F){return parseInt(F,10)},"parseInteger"),z=ee(function(F){var oe=String(F);return/^\d+$/.test(oe)?oe:F},"parseBigInteger"),H=ee(function(F){return F?n.parse(F,c(JSON.parse)):null},"parseJsonArray"),M=ee(function(F){return F[0]!=="("?null:(F=F.substring(1,F.length-1).split(","),{x:parseFloat(F[0]),y:parseFloat(F[1])})},"parsePoint"),D=ee(function(F){if(F[0]!=="<"&&F[1]!=="(")return null;for(var oe="(",W="",X=!1,ae=2;ae<F.length-1;ae++){if(X||(oe+=F[ae]),F[ae]===")"){X=!0;continue}else if(!X)continue;F[ae]!==","&&(W+=F[ae])}var J=M(oe);return J.radius=parseFloat(W),J},"parseCircle"),q=ee(function(F){F(20,z),F(21,L),F(23,L),F(26,L),F(700,parseFloat),F(701,parseFloat),F(16,h),F(1082,s),F(1114,s),F(1184,s),F(600,M),F(651,A),F(718,D),F(1e3,p),F(1001,_),F(1005,w),F(1007,w),F(1028,w),F(1016,v),F(1017,b),F(1021,E),F(1022,E),F(1231,E),F(1014,A),F(1015,A),F(1008,A),F(1009,A),F(1040,A),F(1041,A),F(1115,k),F(1182,k),F(1185,k),F(1186,a),F(1187,S),F(17,l),F(114,JSON.parse.bind(JSON)),F(3802,JSON.parse.bind(JSON)),F(199,H),F(3807,H),F(3907,A),F(2951,A),F(791,A),F(1183,A),F(1270,A)},"init");t.exports={init:q}}),ES=ln((e,t)=>{Ot();var n=1e6;function r(s){var a=s.readInt32BE(0),l=s.readUInt32BE(4),c="";a<0&&(a=~a+(l===0),l=~l+1>>>0,c="-");var h="",p,y,w,v,b,E;{if(p=a%n,a=a/n>>>0,y=4294967296*p+l,l=y/n>>>0,w=""+(y-n*l),l===0&&a===0)return c+w+h;for(v="",b=6-w.length,E=0;E<b;E++)v+="0";h=v+w+h}{if(p=a%n,a=a/n>>>0,y=4294967296*p+l,l=y/n>>>0,w=""+(y-n*l),l===0&&a===0)return c+w+h;for(v="",b=6-w.length,E=0;E<b;E++)v+="0";h=v+w+h}{if(p=a%n,a=a/n>>>0,y=4294967296*p+l,l=y/n>>>0,w=""+(y-n*l),l===0&&a===0)return c+w+h;for(v="",b=6-w.length,E=0;E<b;E++)v+="0";h=v+w+h}return p=a%n,y=4294967296*p+l,w=""+y%n,c+w+h}ee(r,"readInt8"),t.exports=r}),CS=ln((e,t)=>{Ot();var n=ES(),r=ee(function(A,k,S,_,L){S=S||0,_=_||!1,L=L||function(X,ae,J){return X*Math.pow(2,J)+ae};var z=S>>3,H=ee(function(X){return _?~X&255:X},"inv"),M=255,D=8-S%8;k<D&&(M=255<<8-k&255,D=k),S&&(M=M>>S%8);var q=0;S%8+k>=8&&(q=L(0,H(A[z])&M,D));for(var F=k+S>>3,oe=z+1;oe<F;oe++)q=L(q,H(A[oe]),8);var W=(k+S)%8;return W>0&&(q=L(q,H(A[F])>>8-W,W)),q},"parseBits"),s=ee(function(A,k,S){var _=Math.pow(2,S-1)-1,L=r(A,1),z=r(A,S,1);if(z===0)return 0;var H=1,M=ee(function(q,F,oe){q===0&&(q=1);for(var W=1;W<=oe;W++)H/=2,(F&1<<oe-W)>0&&(q+=H);return q},"parsePrecisionBits"),D=r(A,k,S+1,!1,M);return z==Math.pow(2,S+1)-1?D===0?L===0?1/0:-1/0:NaN:(L===0?1:-1)*Math.pow(2,z-_)*D},"parseFloatFromBits"),a=ee(function(A){return r(A,1)==1?-1*(r(A,15,1,!0)+1):r(A,15,1)},"parseInt16"),l=ee(function(A){return r(A,1)==1?-1*(r(A,31,1,!0)+1):r(A,31,1)},"parseInt32"),c=ee(function(A){return s(A,23,8)},"parseFloat32"),h=ee(function(A){return s(A,52,11)},"parseFloat64"),p=ee(function(A){var k=r(A,16,32);if(k==49152)return NaN;for(var S=Math.pow(1e4,r(A,16,16)),_=0,L=[],z=r(A,16),H=0;H<z;H++)_+=r(A,16,64+16*H)*S,S/=1e4;var M=Math.pow(10,r(A,16,48));return(k===0?1:-1)*Math.round(_*M)/M},"parseNumeric"),y=ee(function(A,k){var S=r(k,1),_=r(k,63,1),L=new Date((S===0?1:-1)*_/1e3+9466848e5);return A||L.setTime(L.getTime()+L.getTimezoneOffset()*6e4),L.usec=_%1e3,L.getMicroSeconds=function(){return this.usec},L.setMicroSeconds=function(z){this.usec=z},L.getUTCMicroSeconds=function(){return this.usec},L},"parseDate"),w=ee(function(A){for(var k=r(A,32),S=r(A,32,32),_=r(A,32,64),L=96,z=[],H=0;H<k;H++)z[H]=r(A,32,L),L+=32,L+=32;var M=ee(function(q){var F=r(A,32,L);if(L+=32,F==4294967295)return null;var oe;if(q==23||q==20)return oe=r(A,F*8,L),L+=F*8,oe;if(q==25)return oe=A.toString(this.encoding,L>>3,(L+=F<<3)>>3),oe;console.log("ERROR: ElementType not implemented: "+q)},"parseElement"),D=ee(function(q,F){var oe=[],W;if(q.length>1){var X=q.shift();for(W=0;W<X;W++)oe[W]=D(q,F);q.unshift(X)}else for(W=0;W<q[0];W++)oe[W]=M(F);return oe},"parse");return D(z,_)},"parseArray"),v=ee(function(A){return A.toString("utf8")},"parseText"),b=ee(function(A){return A===null?null:r(A,8)>0},"parseBool"),E=ee(function(A){A(20,n),A(21,a),A(23,l),A(26,l),A(1700,p),A(700,c),A(701,h),A(16,b),A(1114,y.bind(null,!1)),A(1184,y.bind(null,!0)),A(1e3,w),A(1007,w),A(1016,w),A(1008,w),A(1009,w),A(25,v)},"init");t.exports={init:E}}),SS=ln((e,t)=>{Ot(),t.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),Wd=ln(e=>{Ot();var t=AS(),n=CS(),r=i4(),s=SS();e.getTypeParser=c,e.setTypeParser=h,e.arrayParser=r,e.builtins=s;var a={text:{},binary:{}};function l(p){return String(p)}ee(l,"noParse");function c(p,y){return y=y||"text",a[y]&&a[y][p]||l}ee(c,"getTypeParser");function h(p,y,w){typeof y=="function"&&(w=y,y="text"),a[y][p]=w}ee(h,"setTypeParser"),t.init(function(p,y){a.text[p]=y}),n.init(function(p,y){a.binary[p]=y})}),_m=ln((e,t)=>{Ot();var n=Wd();function r(s){this._types=s||n,this.text={},this.binary={}}ee(r,"TypeOverrides"),r.prototype.getOverrides=function(s){switch(s){case"text":return this.text;case"binary":return this.binary;default:return{}}},r.prototype.setTypeParser=function(s,a,l){typeof a=="function"&&(l=a,a="text"),this.getOverrides(a)[s]=l},r.prototype.getTypeParser=function(s,a){return a=a||"text",this.getOverrides(a)[s]||this._types.getTypeParser(s,a)},t.exports=r});function df(e){let t=1779033703,n=3144134277,r=1013904242,s=2773480762,a=1359893119,l=2600822924,c=528734635,h=1541459225,p=0,y=0,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],v=ee((_,L)=>_>>>L|_<<32-L,"rrot"),b=new Uint32Array(64),E=new Uint8Array(64),A=ee(()=>{for(let oe=0,W=0;oe<16;oe++,W+=4)b[oe]=E[W]<<24|E[W+1]<<16|E[W+2]<<8|E[W+3];for(let oe=16;oe<64;oe++){let W=v(b[oe-15],7)^v(b[oe-15],18)^b[oe-15]>>>3,X=v(b[oe-2],17)^v(b[oe-2],19)^b[oe-2]>>>10;b[oe]=b[oe-16]+W+b[oe-7]+X|0}let _=t,L=n,z=r,H=s,M=a,D=l,q=c,F=h;for(let oe=0;oe<64;oe++){let W=v(M,6)^v(M,11)^v(M,25),X=M&D^~M&q,ae=F+W+X+w[oe]+b[oe]|0,J=v(_,2)^v(_,13)^v(_,22),ie=_&L^_&z^L&z,Ae=J+ie|0;F=q,q=D,D=M,M=H+ae|0,H=z,z=L,L=_,_=ae+Ae|0}t=t+_|0,n=n+L|0,r=r+z|0,s=s+H|0,a=a+M|0,l=l+D|0,c=c+q|0,h=h+F|0,y=0},"process"),k=ee(_=>{typeof _=="string"&&(_=new TextEncoder().encode(_));for(let L=0;L<_.length;L++)E[y++]=_[L],y===64&&A();p+=_.length},"add"),S=ee(()=>{if(E[y++]=128,y==64&&A(),y+8>64){for(;y<64;)E[y++]=0;A()}for(;y<58;)E[y++]=0;let _=p*8;E[y++]=_/1099511627776&255,E[y++]=_/4294967296&255,E[y++]=_>>>24,E[y++]=_>>>16&255,E[y++]=_>>>8&255,E[y++]=_&255,A();let L=new Uint8Array(32);return L[0]=t>>>24,L[1]=t>>>16&255,L[2]=t>>>8&255,L[3]=t&255,L[4]=n>>>24,L[5]=n>>>16&255,L[6]=n>>>8&255,L[7]=n&255,L[8]=r>>>24,L[9]=r>>>16&255,L[10]=r>>>8&255,L[11]=r&255,L[12]=s>>>24,L[13]=s>>>16&255,L[14]=s>>>8&255,L[15]=s&255,L[16]=a>>>24,L[17]=a>>>16&255,L[18]=a>>>8&255,L[19]=a&255,L[20]=l>>>24,L[21]=l>>>16&255,L[22]=l>>>8&255,L[23]=l&255,L[24]=c>>>24,L[25]=c>>>16&255,L[26]=c>>>8&255,L[27]=c&255,L[28]=h>>>24,L[29]=h>>>16&255,L[30]=h>>>8&255,L[31]=h&255,L},"digest");return e===void 0?{add:k,digest:S}:(k(e),S())}var NS=Ji(()=>{Ot(),ee(df,"sha256")}),Ba,Gp,_S=Ji(()=>{Ot(),Ba=class ks{constructor(){$t(this,"_dataLength",0),$t(this,"_bufferLength",0),$t(this,"_state",new Int32Array(4)),$t(this,"_buffer",new ArrayBuffer(68)),$t(this,"_buffer8"),$t(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(t,n=!1){return this.onePassHasher.start().appendByteArray(t).end(n)}static hashStr(t,n=!1){return this.onePassHasher.start().appendStr(t).end(n)}static hashAsciiStr(t,n=!1){return this.onePassHasher.start().appendAsciiStr(t).end(n)}static _hex(t){let n=ks.hexChars,r=ks.hexOut,s,a,l,c;for(c=0;c<4;c+=1)for(a=c*8,s=t[c],l=0;l<8;l+=2)r[a+1+l]=n.charAt(s&15),s>>>=4,r[a+0+l]=n.charAt(s&15),s>>>=4;return r.join("")}static _md5cycle(t,n){let r=t[0],s=t[1],a=t[2],l=t[3];r+=(s&a|~s&l)+n[0]-680876936|0,r=(r<<7|r>>>25)+s|0,l+=(r&s|~r&a)+n[1]-389564586|0,l=(l<<12|l>>>20)+r|0,a+=(l&r|~l&s)+n[2]+606105819|0,a=(a<<17|a>>>15)+l|0,s+=(a&l|~a&r)+n[3]-1044525330|0,s=(s<<22|s>>>10)+a|0,r+=(s&a|~s&l)+n[4]-176418897|0,r=(r<<7|r>>>25)+s|0,l+=(r&s|~r&a)+n[5]+1200080426|0,l=(l<<12|l>>>20)+r|0,a+=(l&r|~l&s)+n[6]-1473231341|0,a=(a<<17|a>>>15)+l|0,s+=(a&l|~a&r)+n[7]-45705983|0,s=(s<<22|s>>>10)+a|0,r+=(s&a|~s&l)+n[8]+1770035416|0,r=(r<<7|r>>>25)+s|0,l+=(r&s|~r&a)+n[9]-1958414417|0,l=(l<<12|l>>>20)+r|0,a+=(l&r|~l&s)+n[10]-42063|0,a=(a<<17|a>>>15)+l|0,s+=(a&l|~a&r)+n[11]-1990404162|0,s=(s<<22|s>>>10)+a|0,r+=(s&a|~s&l)+n[12]+1804603682|0,r=(r<<7|r>>>25)+s|0,l+=(r&s|~r&a)+n[13]-40341101|0,l=(l<<12|l>>>20)+r|0,a+=(l&r|~l&s)+n[14]-1502002290|0,a=(a<<17|a>>>15)+l|0,s+=(a&l|~a&r)+n[15]+1236535329|0,s=(s<<22|s>>>10)+a|0,r+=(s&l|a&~l)+n[1]-165796510|0,r=(r<<5|r>>>27)+s|0,l+=(r&a|s&~a)+n[6]-1069501632|0,l=(l<<9|l>>>23)+r|0,a+=(l&s|r&~s)+n[11]+643717713|0,a=(a<<14|a>>>18)+l|0,s+=(a&r|l&~r)+n[0]-373897302|0,s=(s<<20|s>>>12)+a|0,r+=(s&l|a&~l)+n[5]-701558691|0,r=(r<<5|r>>>27)+s|0,l+=(r&a|s&~a)+n[10]+38016083|0,l=(l<<9|l>>>23)+r|0,a+=(l&s|r&~s)+n[15]-660478335|0,a=(a<<14|a>>>18)+l|0,s+=(a&r|l&~r)+n[4]-405537848|0,s=(s<<20|s>>>12)+a|0,r+=(s&l|a&~l)+n[9]+568446438|0,r=(r<<5|r>>>27)+s|0,l+=(r&a|s&~a)+n[14]-1019803690|0,l=(l<<9|l>>>23)+r|0,a+=(l&s|r&~s)+n[3]-187363961|0,a=(a<<14|a>>>18)+l|0,s+=(a&r|l&~r)+n[8]+1163531501|0,s=(s<<20|s>>>12)+a|0,r+=(s&l|a&~l)+n[13]-1444681467|0,r=(r<<5|r>>>27)+s|0,l+=(r&a|s&~a)+n[2]-51403784|0,l=(l<<9|l>>>23)+r|0,a+=(l&s|r&~s)+n[7]+1735328473|0,a=(a<<14|a>>>18)+l|0,s+=(a&r|l&~r)+n[12]-1926607734|0,s=(s<<20|s>>>12)+a|0,r+=(s^a^l)+n[5]-378558|0,r=(r<<4|r>>>28)+s|0,l+=(r^s^a)+n[8]-2022574463|0,l=(l<<11|l>>>21)+r|0,a+=(l^r^s)+n[11]+1839030562|0,a=(a<<16|a>>>16)+l|0,s+=(a^l^r)+n[14]-35309556|0,s=(s<<23|s>>>9)+a|0,r+=(s^a^l)+n[1]-1530992060|0,r=(r<<4|r>>>28)+s|0,l+=(r^s^a)+n[4]+1272893353|0,l=(l<<11|l>>>21)+r|0,a+=(l^r^s)+n[7]-155497632|0,a=(a<<16|a>>>16)+l|0,s+=(a^l^r)+n[10]-1094730640|0,s=(s<<23|s>>>9)+a|0,r+=(s^a^l)+n[13]+681279174|0,r=(r<<4|r>>>28)+s|0,l+=(r^s^a)+n[0]-358537222|0,l=(l<<11|l>>>21)+r|0,a+=(l^r^s)+n[3]-722521979|0,a=(a<<16|a>>>16)+l|0,s+=(a^l^r)+n[6]+76029189|0,s=(s<<23|s>>>9)+a|0,r+=(s^a^l)+n[9]-640364487|0,r=(r<<4|r>>>28)+s|0,l+=(r^s^a)+n[12]-421815835|0,l=(l<<11|l>>>21)+r|0,a+=(l^r^s)+n[15]+530742520|0,a=(a<<16|a>>>16)+l|0,s+=(a^l^r)+n[2]-995338651|0,s=(s<<23|s>>>9)+a|0,r+=(a^(s|~l))+n[0]-198630844|0,r=(r<<6|r>>>26)+s|0,l+=(s^(r|~a))+n[7]+1126891415|0,l=(l<<10|l>>>22)+r|0,a+=(r^(l|~s))+n[14]-1416354905|0,a=(a<<15|a>>>17)+l|0,s+=(l^(a|~r))+n[5]-57434055|0,s=(s<<21|s>>>11)+a|0,r+=(a^(s|~l))+n[12]+1700485571|0,r=(r<<6|r>>>26)+s|0,l+=(s^(r|~a))+n[3]-1894986606|0,l=(l<<10|l>>>22)+r|0,a+=(r^(l|~s))+n[10]-1051523|0,a=(a<<15|a>>>17)+l|0,s+=(l^(a|~r))+n[1]-2054922799|0,s=(s<<21|s>>>11)+a|0,r+=(a^(s|~l))+n[8]+1873313359|0,r=(r<<6|r>>>26)+s|0,l+=(s^(r|~a))+n[15]-30611744|0,l=(l<<10|l>>>22)+r|0,a+=(r^(l|~s))+n[6]-1560198380|0,a=(a<<15|a>>>17)+l|0,s+=(l^(a|~r))+n[13]+1309151649|0,s=(s<<21|s>>>11)+a|0,r+=(a^(s|~l))+n[4]-145523070|0,r=(r<<6|r>>>26)+s|0,l+=(s^(r|~a))+n[11]-1120210379|0,l=(l<<10|l>>>22)+r|0,a+=(r^(l|~s))+n[2]+718787259|0,a=(a<<15|a>>>17)+l|0,s+=(l^(a|~r))+n[9]-343485551|0,s=(s<<21|s>>>11)+a|0,t[0]=r+t[0]|0,t[1]=s+t[1]|0,t[2]=a+t[2]|0,t[3]=l+t[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(ks.stateIdentity),this}appendStr(t){let n=this._buffer8,r=this._buffer32,s=this._bufferLength,a,l;for(l=0;l<t.length;l+=1){if(a=t.charCodeAt(l),a<128)n[s++]=a;else if(a<2048)n[s++]=(a>>>6)+192,n[s++]=a&63|128;else if(a<55296||a>56319)n[s++]=(a>>>12)+224,n[s++]=a>>>6&63|128,n[s++]=a&63|128;else{if(a=(a-55296)*1024+(t.charCodeAt(++l)-56320)+65536,a>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[s++]=(a>>>18)+240,n[s++]=a>>>12&63|128,n[s++]=a>>>6&63|128,n[s++]=a&63|128}s>=64&&(this._dataLength+=64,ks._md5cycle(this._state,r),s-=64,r[0]=r[16])}return this._bufferLength=s,this}appendAsciiStr(t){let n=this._buffer8,r=this._buffer32,s=this._bufferLength,a,l=0;for(;;){for(a=Math.min(t.length-l,64-s);a--;)n[s++]=t.charCodeAt(l++);if(s<64)break;this._dataLength+=64,ks._md5cycle(this._state,r),s=0}return this._bufferLength=s,this}appendByteArray(t){let n=this._buffer8,r=this._buffer32,s=this._bufferLength,a,l=0;for(;;){for(a=Math.min(t.length-l,64-s);a--;)n[s++]=t[l++];if(s<64)break;this._dataLength+=64,ks._md5cycle(this._state,r),s=0}return this._bufferLength=s,this}getState(){let t=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}}setState(t){let n=t.buffer,r=t.state,s=this._state,a;for(this._dataLength=t.length,this._bufferLength=t.buflen,s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],a=0;a<n.length;a+=1)this._buffer8[a]=n.charCodeAt(a)}end(t=!1){let n=this._bufferLength,r=this._buffer8,s=this._buffer32,a=(n>>2)+1;this._dataLength+=n;let l=this._dataLength*8;if(r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,s.set(ks.buffer32Identity.subarray(a),a),n>55&&(ks._md5cycle(this._state,s),s.set(ks.buffer32Identity)),l<=4294967295)s[14]=l;else{let c=l.toString(16).match(/(.*?)(.{0,8})$/);if(c===null)return;let h=parseInt(c[2],16),p=parseInt(c[1],16)||0;s[14]=h,s[15]=p}return ks._md5cycle(this._state,s),t?this._state:ks._hex(this._state)}},ee(Ba,"Md5"),$t(Ba,"stateIdentity",new Int32Array([1732584193,-271733879,-1732584194,271733878])),$t(Ba,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),$t(Ba,"hexChars","0123456789abcdef"),$t(Ba,"hexOut",[]),$t(Ba,"onePassHasher",new Ba),Gp=Ba}),Im={};ia(Im,{createHash:()=>a4,createHmac:()=>o4,randomBytes:()=>s4});function s4(e){return crypto.getRandomValues(Xt.alloc(e))}function a4(e){if(e==="sha256")return{update:ee(function(t){return{digest:ee(function(){return Xt.from(df(t))},"digest")}},"update")};if(e==="md5")return{update:ee(function(t){return{digest:ee(function(){return typeof t=="string"?Gp.hashStr(t):Gp.hashByteArray(t)},"digest")}},"update")};throw new Error(`Hash type '${e}' not supported`)}function o4(e,t){if(e!=="sha256")throw new Error(`Only sha256 is supported (requested: '${e}')`);return{update:ee(function(n){return{digest:ee(function(){typeof t=="string"&&(t=new TextEncoder().encode(t)),typeof n=="string"&&(n=new TextEncoder().encode(n));let r=t.length;if(r>64)t=df(t);else if(r<64){let h=new Uint8Array(64);h.set(t),t=h}let s=new Uint8Array(64),a=new Uint8Array(64);for(let h=0;h<64;h++)s[h]=54^t[h],a[h]=92^t[h];let l=new Uint8Array(n.length+64);l.set(s,0),l.set(n,64);let c=new Uint8Array(96);return c.set(a,0),c.set(df(l),64),Xt.from(df(c))},"digest")}},"update")}}var l4=Ji(()=>{Ot(),NS(),_S(),ee(s4,"randomBytes"),ee(a4,"createHash"),ee(o4,"createHmac")}),Vd=ln((e,t)=>{Ot(),t.exports={host:"localhost",user:on.platform==="win32"?on.env.USERNAME:on.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var n=Wd(),r=n.getTypeParser(20,"text"),s=n.getTypeParser(1016,"text");t.exports.__defineSetter__("parseInt8",function(a){n.setTypeParser(20,"text",a?n.getTypeParser(23,"text"):r),n.setTypeParser(1016,"text",a?n.getTypeParser(1007,"text"):s)})}),Hd=ln((e,t)=>{Ot();var n=(l4(),ri(Im)),r=Vd();function s(E){var A=E.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return'"'+A+'"'}ee(s,"escapeElement");function a(E){for(var A="{",k=0;k<E.length;k++)k>0&&(A=A+","),E[k]===null||typeof E[k]>"u"?A=A+"NULL":Array.isArray(E[k])?A=A+a(E[k]):E[k]instanceof Xt?A+="\\\\x"+E[k].toString("hex"):A+=s(l(E[k]));return A=A+"}",A}ee(a,"arrayString");var l=ee(function(E,A){if(E==null)return null;if(E instanceof Xt)return E;if(ArrayBuffer.isView(E)){var k=Xt.from(E.buffer,E.byteOffset,E.byteLength);return k.length===E.byteLength?k:k.slice(E.byteOffset,E.byteOffset+E.byteLength)}return E instanceof Date?r.parseInputDatesAsUTC?y(E):p(E):Array.isArray(E)?a(E):typeof E=="object"?c(E,A):E.toString()},"prepareValue");function c(E,A){if(E&&typeof E.toPostgres=="function"){if(A=A||[],A.indexOf(E)!==-1)throw new Error('circular reference detected while preparing "'+E+'" for query');return A.push(E),l(E.toPostgres(l),A)}return JSON.stringify(E)}ee(c,"prepareObject");function h(E,A){for(E=""+E;E.length<A;)E="0"+E;return E}ee(h,"pad");function p(E){var A=-E.getTimezoneOffset(),k=E.getFullYear(),S=k<1;S&&(k=Math.abs(k)+1);var _=h(k,4)+"-"+h(E.getMonth()+1,2)+"-"+h(E.getDate(),2)+"T"+h(E.getHours(),2)+":"+h(E.getMinutes(),2)+":"+h(E.getSeconds(),2)+"."+h(E.getMilliseconds(),3);return A<0?(_+="-",A*=-1):_+="+",_+=h(Math.floor(A/60),2)+":"+h(A%60,2),S&&(_+=" BC"),_}ee(p,"dateToString");function y(E){var A=E.getUTCFullYear(),k=A<1;k&&(A=Math.abs(A)+1);var S=h(A,4)+"-"+h(E.getUTCMonth()+1,2)+"-"+h(E.getUTCDate(),2)+"T"+h(E.getUTCHours(),2)+":"+h(E.getUTCMinutes(),2)+":"+h(E.getUTCSeconds(),2)+"."+h(E.getUTCMilliseconds(),3);return S+="+00:00",k&&(S+=" BC"),S}ee(y,"dateToStringUTC");function w(E,A,k){return E=typeof E=="string"?{text:E}:E,A&&(typeof A=="function"?E.callback=A:E.values=A),k&&(E.callback=k),E}ee(w,"normalizeQueryConfig");var v=ee(function(E){return n.createHash("md5").update(E,"utf-8").digest("hex")},"md5"),b=ee(function(E,A,k){var S=v(A+E),_=v(Xt.concat([Xt.from(S),k]));return"md5"+_},"postgresMd5PasswordHash");t.exports={prepareValue:ee(function(E){return l(E)},"prepareValueWrapper"),normalizeQueryConfig:w,postgresMd5PasswordHash:b,md5:v}}),ah={};ia(ah,{default:()=>u4});var u4,Gd=Ji(()=>{Ot(),u4={}}),IS=ln((e,t)=>{Ot();var n=(l4(),ri(Im));function r(A){if(A.indexOf("SCRAM-SHA-256")===-1)throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let k=n.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:k,response:"n,,n=*,r="+k,message:"SASLInitialResponse"}}ee(r,"startSession");function s(A,k,S){if(A.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof k!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(typeof S!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let _=p(S);if(_.nonce.startsWith(A.clientNonce)){if(_.nonce.length===A.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var L=Xt.from(_.salt,"base64"),z=E(k,L,_.iteration),H=b(z,"Client Key"),M=v(H),D="n=*,r="+A.clientNonce,q="r="+_.nonce+",s="+_.salt+",i="+_.iteration,F="c=biws,r="+_.nonce,oe=D+","+q+","+F,W=b(M,oe),X=w(H,W),ae=X.toString("base64"),J=b(z,"Server Key"),ie=b(J,oe);A.message="SASLResponse",A.serverSignature=ie.toString("base64"),A.response=F+",p="+ae}ee(s,"continueSession");function a(A,k){if(A.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof k!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:S}=y(k);if(S!==A.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}ee(a,"finalizeSession");function l(A){if(typeof A!="string")throw new TypeError("SASL: text must be a string");return A.split("").map((k,S)=>A.charCodeAt(S)).every(k=>k>=33&&k<=43||k>=45&&k<=126)}ee(l,"isPrintableChars");function c(A){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(A)}ee(c,"isBase64");function h(A){if(typeof A!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(A.split(",").map(k=>{if(!/^.=/.test(k))throw new Error("SASL: Invalid attribute pair entry");let S=k[0],_=k.substring(2);return[S,_]}))}ee(h,"parseAttributePairs");function p(A){let k=h(A),S=k.get("r");if(S){if(!l(S))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let _=k.get("s");if(_){if(!c(_))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let L=k.get("i");if(L){if(!/^[1-9][0-9]*$/.test(L))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");let z=parseInt(L,10);return{nonce:S,salt:_,iteration:z}}ee(p,"parseServerFirstMessage");function y(A){let k=h(A).get("v");if(k){if(!c(k))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:k}}ee(y,"parseServerFinalMessage");function w(A,k){if(!Xt.isBuffer(A))throw new TypeError("first argument must be a Buffer");if(!Xt.isBuffer(k))throw new TypeError("second argument must be a Buffer");if(A.length!==k.length)throw new Error("Buffer lengths must match");if(A.length===0)throw new Error("Buffers cannot be empty");return Xt.from(A.map((S,_)=>A[_]^k[_]))}ee(w,"xorBuffers");function v(A){return n.createHash("sha256").update(A).digest()}ee(v,"sha256");function b(A,k){return n.createHmac("sha256",A).update(k).digest()}ee(b,"hmacSha256");function E(A,k,S){for(var _=b(A,Xt.concat([k,Xt.from([0,0,0,1])])),L=_,z=0;z<S-1;z++)_=b(A,_),L=w(L,_);return L}ee(E,"Hi"),t.exports={startSession:r,continueSession:s,finalizeSession:a}}),Tm={};ia(Tm,{join:()=>c4});function c4(...e){return e.join("/")}var f4=Ji(()=>{Ot(),ee(c4,"join")}),Lm={};ia(Lm,{stat:()=>h4});function h4(e,t){t(new Error("No filesystem"))}var d4=Ji(()=>{Ot(),ee(h4,"stat")}),km={};ia(km,{default:()=>p4});var p4,g4=Ji(()=>{Ot(),p4={}}),m4={};ia(m4,{StringDecoder:()=>y4});var t2,y4,TS=Ji(()=>{Ot(),t2=class{constructor(t){$t(this,"td"),this.td=new TextDecoder(t)}write(t){return this.td.decode(t,{stream:!0})}end(t){return this.td.decode(t)}},ee(t2,"StringDecoder"),y4=t2}),LS=ln((e,t)=>{Ot();var{Transform:n}=(g4(),ri(km)),{StringDecoder:r}=(TS(),ri(m4)),s=Symbol("last"),a=Symbol("decoder");function l(w,v,b){let E;if(this.overflow){if(E=this[a].write(w).split(this.matcher),E.length===1)return b();E.shift(),this.overflow=!1}else this[s]+=this[a].write(w),E=this[s].split(this.matcher);this[s]=E.pop();for(let A=0;A<E.length;A++)try{h(this,this.mapper(E[A]))}catch(k){return b(k)}if(this.overflow=this[s].length>this.maxLength,this.overflow&&!this.skipOverflow){b(new Error("maximum buffer reached"));return}b()}ee(l,"transform");function c(w){if(this[s]+=this[a].end(),this[s])try{h(this,this.mapper(this[s]))}catch(v){return w(v)}w()}ee(c,"flush");function h(w,v){v!==void 0&&w.push(v)}ee(h,"push");function p(w){return w}ee(p,"noop");function y(w,v,b){switch(w=w||/\r?\n/,v=v||p,b=b||{},arguments.length){case 1:typeof w=="function"?(v=w,w=/\r?\n/):typeof w=="object"&&!(w instanceof RegExp)&&!w[Symbol.split]&&(b=w,w=/\r?\n/);break;case 2:typeof w=="function"?(b=v,v=w,w=/\r?\n/):typeof v=="object"&&(b=v,v=p)}b=Object.assign({},b),b.autoDestroy=!0,b.transform=l,b.flush=c,b.readableObjectMode=!0;let E=new n(b);return E[s]="",E[a]=new r("utf8"),E.matcher=w,E.mapper=v,E.maxLength=b.maxLength,E.skipOverflow=b.skipOverflow||!1,E.overflow=!1,E._destroy=function(A,k){this._writableState.errorEmitted=!1,k(A)},E}ee(y,"split"),t.exports=y}),kS=ln((e,t)=>{Ot();var n=(f4(),ri(Tm)),r=(g4(),ri(km)).Stream,s=LS(),a=(Gd(),ri(ah)),l=5432,c=on.platform==="win32",h=on.stderr,p=56,y=7,w=61440,v=32768;function b(H){return(H&w)==v}ee(b,"isRegFile");var E=["host","port","database","user","password"],A=E.length,k=E[A-1];function S(){var H=h instanceof r&&h.writable===!0;if(H){var M=Array.prototype.slice.call(arguments).concat(`
`);h.write(a.format.apply(a,M))}}ee(S,"warn"),Object.defineProperty(t.exports,"isWin",{get:ee(function(){return c},"get"),set:ee(function(H){c=H},"set")}),t.exports.warnTo=function(H){var M=h;return h=H,M},t.exports.getFileName=function(H){var M=H||on.env,D=M.PGPASSFILE||(c?n.join(M.APPDATA||"./","postgresql","pgpass.conf"):n.join(M.HOME||"./",".pgpass"));return D},t.exports.usePgPass=function(H,M){return Object.prototype.hasOwnProperty.call(on.env,"PGPASSWORD")?!1:c?!0:(M=M||"<unkn>",b(H.mode)?H.mode&(p|y)?(S('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',M),!1):!0:(S('WARNING: password file "%s" is not a plain file',M),!1))};var _=t.exports.match=function(H,M){return E.slice(0,-1).reduce(function(D,q,F){return F==1&&Number(H[q]||l)===Number(M[q])?D&&!0:D&&(M[q]==="*"||M[q]===H[q])},!0)};t.exports.getPassword=function(H,M,D){var q,F=M.pipe(s());function oe(ae){var J=L(ae);J&&z(J)&&_(H,J)&&(q=J[k],F.end())}ee(oe,"onLine");var W=ee(function(){M.destroy(),D(q)},"onEnd"),X=ee(function(ae){M.destroy(),S("WARNING: error on reading file: %s",ae),D(void 0)},"onErr");M.on("error",X),F.on("data",oe).on("end",W).on("error",X)};var L=t.exports.parseLine=function(H){if(H.length<11||H.match(/^\s+#/))return null;for(var M="",D="",q=0,F=0,oe=0,W={},X=!1,ae=ee(function(ie,Ae,xe){var pe=H.substring(Ae,xe);Object.hasOwnProperty.call(on.env,"PGPASS_NO_DEESCAPE")||(pe=pe.replace(/\\([:\\])/g,"$1")),W[E[ie]]=pe},"addToObj"),J=0;J<H.length-1;J+=1){if(M=H.charAt(J+1),D=H.charAt(J),X=q==A-1,X){ae(q,F);break}J>=0&&M==":"&&D!=="\\"&&(ae(q,F,J+1),F=J+2,q+=1)}return W=Object.keys(W).length===A?W:null,W},z=t.exports.isValidEntry=function(H){for(var M={0:function(W){return W.length>0},1:function(W){return W==="*"?!0:(W=Number(W),isFinite(W)&&W>0&&W<9007199254740992&&Math.floor(W)===W)},2:function(W){return W.length>0},3:function(W){return W.length>0},4:function(W){return W.length>0}},D=0;D<E.length;D+=1){var q=M[D],F=H[E[D]]||"",oe=q(F);if(!oe)return!1}return!0}}),PS=ln((e,t)=>{Ot(),f4(),ri(Tm);var n=(d4(),ri(Lm)),r=kS();t.exports=function(s,a){var l=r.getFileName();n.stat(l,function(c,h){if(c||!r.usePgPass(h,l))return a(void 0);var p=n.createReadStream(l);r.getPassword(s,p,a)})},t.exports.warnTo=r.warnTo}),w4={};ia(w4,{default:()=>x4});var x4,OS=Ji(()=>{Ot(),x4={}}),RS=ln((e,t)=>{Ot();var n=(t4(),ri(e4)),r=(d4(),ri(Lm));function s(a){if(a.charAt(0)==="/"){var c=a.split(" ");return{host:c[0],database:c[1]}}var l=n.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(a)?encodeURI(a).replace(/\%25(\d\d)/g,"%$1"):a,!0),c=l.query;for(var h in c)Array.isArray(c[h])&&(c[h]=c[h][c[h].length-1]);var p=(l.auth||":").split(":");if(c.user=p[0],c.password=p.splice(1).join(":"),c.port=l.port,l.protocol=="socket:")return c.host=decodeURI(l.pathname),c.database=l.query.db,c.client_encoding=l.query.encoding,c;c.host||(c.host=l.hostname);var y=l.pathname;if(!c.host&&y&&/^%2f/i.test(y)){var w=y.split("/");c.host=decodeURIComponent(w[0]),y=w.splice(1).join("/")}switch(y&&y.charAt(0)==="/"&&(y=y.slice(1)||null),c.database=y&&decodeURI(y),(c.ssl==="true"||c.ssl==="1")&&(c.ssl=!0),c.ssl==="0"&&(c.ssl=!1),(c.sslcert||c.sslkey||c.sslrootcert||c.sslmode)&&(c.ssl={}),c.sslcert&&(c.ssl.cert=r.readFileSync(c.sslcert).toString()),c.sslkey&&(c.ssl.key=r.readFileSync(c.sslkey).toString()),c.sslrootcert&&(c.ssl.ca=r.readFileSync(c.sslrootcert).toString()),c.sslmode){case"disable":{c.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":{c.ssl.rejectUnauthorized=!1;break}}return c}ee(s,"parse"),t.exports=s,s.parse=s}),Pm=ln((e,t)=>{Ot();var n=(OS(),ri(w4)),r=Vd(),s=RS().parse,a=ee(function(w,v,b){return b===void 0?b=on.env["PG"+w.toUpperCase()]:b===!1||(b=on.env[b]),v[w]||b||r[w]},"val"),l=ee(function(){switch(on.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return r.ssl},"readSSLConfigFromEnvironment"),c=ee(function(w){return"'"+(""+w).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),h=ee(function(w,v,b){var E=v[b];E!=null&&w.push(b+"="+c(E))},"add"),p=class{constructor(v){v=typeof v=="string"?s(v):v||{},v.connectionString&&(v=Object.assign({},v,s(v.connectionString))),this.user=a("user",v),this.database=a("database",v),this.database===void 0&&(this.database=this.user),this.port=parseInt(a("port",v),10),this.host=a("host",v),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:a("password",v)}),this.binary=a("binary",v),this.options=a("options",v),this.ssl=typeof v.ssl>"u"?l():v.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=a("client_encoding",v),this.replication=a("replication",v),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=a("application_name",v,"PGAPPNAME"),this.fallback_application_name=a("fallback_application_name",v,!1),this.statement_timeout=a("statement_timeout",v,!1),this.lock_timeout=a("lock_timeout",v,!1),this.idle_in_transaction_session_timeout=a("idle_in_transaction_session_timeout",v,!1),this.query_timeout=a("query_timeout",v,!1),v.connectionTimeoutMillis===void 0?this.connect_timeout=on.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(v.connectionTimeoutMillis/1e3),v.keepAlive===!1?this.keepalives=0:v.keepAlive===!0&&(this.keepalives=1),typeof v.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(v.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(v){var b=[];h(b,this,"user"),h(b,this,"password"),h(b,this,"port"),h(b,this,"application_name"),h(b,this,"fallback_application_name"),h(b,this,"connect_timeout"),h(b,this,"options");var E=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(h(b,E,"sslmode"),h(b,E,"sslca"),h(b,E,"sslkey"),h(b,E,"sslcert"),h(b,E,"sslrootcert"),this.database&&b.push("dbname="+c(this.database)),this.replication&&b.push("replication="+c(this.replication)),this.host&&b.push("host="+c(this.host)),this.isDomainSocket)return v(null,b.join(" "));this.client_encoding&&b.push("client_encoding="+c(this.client_encoding)),n.lookup(this.host,function(A,k){return A?v(A,null):(b.push("hostaddr="+c(k)),v(null,b.join(" ")))})}};ee(p,"ConnectionParameters");var y=p;t.exports=y}),DS=ln((e,t)=>{Ot();var n=Wd(),r=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,s=class{constructor(c,h){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=h,this.RowCtor=null,this.rowAsArray=c==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(c){var h;c.text?h=r.exec(c.text):h=r.exec(c.command),h&&(this.command=h[1],h[3]?(this.oid=parseInt(h[2],10),this.rowCount=parseInt(h[3],10)):h[2]&&(this.rowCount=parseInt(h[2],10)))}_parseRowAsArray(c){for(var h=new Array(c.length),p=0,y=c.length;p<y;p++){var w=c[p];w!==null?h[p]=this._parsers[p](w):h[p]=null}return h}parseRow(c){for(var h={},p=0,y=c.length;p<y;p++){var w=c[p],v=this.fields[p].name;w!==null?h[v]=this._parsers[p](w):h[v]=null}return h}addRow(c){this.rows.push(c)}addFields(c){this.fields=c,this.fields.length&&(this._parsers=new Array(c.length));for(var h=0;h<c.length;h++){var p=c[h];this._types?this._parsers[h]=this._types.getTypeParser(p.dataTypeID,p.format||"text"):this._parsers[h]=n.getTypeParser(p.dataTypeID,p.format||"text")}}};ee(s,"Result");var a=s;t.exports=a}),MS=ln((e,t)=>{Ot();var{EventEmitter:n}=tu(),r=DS(),s=Hd(),a=class extends n{constructor(h,p,y){super(),h=s.normalizeQueryConfig(h,p,y),this.text=h.text,this.values=h.values,this.rows=h.rows,this.types=h.types,this.name=h.name,this.binary=h.binary,this.portal=h.portal||"",this.callback=h.callback,this._rowMode=h.rowMode,on.domain&&h.callback&&(this.callback=on.domain.bind(h.callback)),this._result=new r(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new r(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(h){this._checkForMultirow(),this._result.addFields(h.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(h){let p;if(!this._canceledDueToError){try{p=this._result.parseRow(h.fields)}catch(y){this._canceledDueToError=y;return}this.emit("row",p,this._result),this._accumulateRows&&this._result.addRow(p)}}handleCommandComplete(h,p){this._checkForMultirow(),this._result.addCommandComplete(h),this.rows&&p.sync()}handleEmptyQuery(h){this.rows&&h.sync()}handleError(h,p){if(this._canceledDueToError&&(h=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(h);this.emit("error",h)}handleReadyForQuery(h){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,h);if(this.callback)try{this.callback(null,this._results)}catch(p){on.nextTick(()=>{throw p})}this.emit("end",this._results)}submit(h){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let p=h.parsedStatements[this.name];return this.text&&p&&this.text!==p?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(h):h.query(this.text),null)}hasBeenParsed(h){return this.name&&h.parsedStatements[this.name]}handlePortalSuspended(h){this._getRows(h,this.rows)}_getRows(h,p){h.execute({portal:this.portal,rows:p}),p?h.flush():h.sync()}prepare(h){this.isPreparedStatement=!0,this.hasBeenParsed(h)||h.parse({text:this.text,name:this.name,types:this.types});try{h.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:s.prepareValue})}catch(p){this.handleError(p,h);return}h.describe({type:"P",name:this.portal||""}),this._getRows(h,this.rows)}handleCopyInResponse(h){h.sendCopyFail("No source stream defined")}handleCopyData(h,p){}};ee(a,"Query");var l=a;t.exports=l}),v4=ln(e=>{Ot(),Object.defineProperty(e,"__esModule",{value:!0}),e.NoticeMessage=e.DataRowMessage=e.CommandCompleteMessage=e.ReadyForQueryMessage=e.NotificationResponseMessage=e.BackendKeyDataMessage=e.AuthenticationMD5Password=e.ParameterStatusMessage=e.ParameterDescriptionMessage=e.RowDescriptionMessage=e.Field=e.CopyResponse=e.CopyDataMessage=e.DatabaseError=e.copyDone=e.emptyQuery=e.replicationStart=e.portalSuspended=e.noData=e.closeComplete=e.bindComplete=e.parseComplete=void 0,e.parseComplete={name:"parseComplete",length:5},e.bindComplete={name:"bindComplete",length:5},e.closeComplete={name:"closeComplete",length:5},e.noData={name:"noData",length:5},e.portalSuspended={name:"portalSuspended",length:5},e.replicationStart={name:"replicationStart",length:4},e.emptyQuery={name:"emptyQuery",length:4},e.copyDone={name:"copyDone",length:4};var t=class extends Error{constructor(J,ie,Ae){super(J),this.length=ie,this.name=Ae}};ee(t,"DatabaseError");var n=t;e.DatabaseError=n;var r=class{constructor(J,ie){this.length=J,this.chunk=ie,this.name="copyData"}};ee(r,"CopyDataMessage");var s=r;e.CopyDataMessage=s;var a=class{constructor(J,ie,Ae,xe){this.length=J,this.name=ie,this.binary=Ae,this.columnTypes=new Array(xe)}};ee(a,"CopyResponse");var l=a;e.CopyResponse=l;var c=class{constructor(J,ie,Ae,xe,pe,ve,Le){this.name=J,this.tableID=ie,this.columnID=Ae,this.dataTypeID=xe,this.dataTypeSize=pe,this.dataTypeModifier=ve,this.format=Le}};ee(c,"Field");var h=c;e.Field=h;var p=class{constructor(J,ie){this.length=J,this.fieldCount=ie,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};ee(p,"RowDescriptionMessage");var y=p;e.RowDescriptionMessage=y;var w=class{constructor(J,ie){this.length=J,this.parameterCount=ie,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}};ee(w,"ParameterDescriptionMessage");var v=w;e.ParameterDescriptionMessage=v;var b=class{constructor(J,ie,Ae){this.length=J,this.parameterName=ie,this.parameterValue=Ae,this.name="parameterStatus"}};ee(b,"ParameterStatusMessage");var E=b;e.ParameterStatusMessage=E;var A=class{constructor(J,ie){this.length=J,this.salt=ie,this.name="authenticationMD5Password"}};ee(A,"AuthenticationMD5Password");var k=A;e.AuthenticationMD5Password=k;var S=class{constructor(J,ie,Ae){this.length=J,this.processID=ie,this.secretKey=Ae,this.name="backendKeyData"}};ee(S,"BackendKeyDataMessage");var _=S;e.BackendKeyDataMessage=_;var L=class{constructor(J,ie,Ae,xe){this.length=J,this.processId=ie,this.channel=Ae,this.payload=xe,this.name="notification"}};ee(L,"NotificationResponseMessage");var z=L;e.NotificationResponseMessage=z;var H=class{constructor(J,ie){this.length=J,this.status=ie,this.name="readyForQuery"}};ee(H,"ReadyForQueryMessage");var M=H;e.ReadyForQueryMessage=M;var D=class{constructor(J,ie){this.length=J,this.text=ie,this.name="commandComplete"}};ee(D,"CommandCompleteMessage");var q=D;e.CommandCompleteMessage=q;var F=class{constructor(J,ie){this.length=J,this.fields=ie,this.name="dataRow",this.fieldCount=ie.length}};ee(F,"DataRowMessage");var oe=F;e.DataRowMessage=oe;var W=class{constructor(J,ie){this.length=J,this.message=ie,this.name="notice"}};ee(W,"NoticeMessage");var X=W;e.NoticeMessage=X}),BS=ln(e=>{Ot(),Object.defineProperty(e,"__esModule",{value:!0}),e.Writer=void 0;var t=class{constructor(s=256){this.size=s,this.offset=5,this.headerPosition=0,this.buffer=Xt.allocUnsafe(s)}ensure(s){if(this.buffer.length-this.offset<s){let a=this.buffer,l=a.length+(a.length>>1)+s;this.buffer=Xt.allocUnsafe(l),a.copy(this.buffer)}}addInt32(s){return this.ensure(4),this.buffer[this.offset++]=s>>>24&255,this.buffer[this.offset++]=s>>>16&255,this.buffer[this.offset++]=s>>>8&255,this.buffer[this.offset++]=s>>>0&255,this}addInt16(s){return this.ensure(2),this.buffer[this.offset++]=s>>>8&255,this.buffer[this.offset++]=s>>>0&255,this}addCString(s){if(!s)this.ensure(1);else{let a=Xt.byteLength(s);this.ensure(a+1),this.buffer.write(s,this.offset,"utf-8"),this.offset+=a}return this.buffer[this.offset++]=0,this}addString(s=""){let a=Xt.byteLength(s);return this.ensure(a),this.buffer.write(s,this.offset),this.offset+=a,this}add(s){return this.ensure(s.length),s.copy(this.buffer,this.offset),this.offset+=s.length,this}join(s){if(s){this.buffer[this.headerPosition]=s;let a=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(a,this.headerPosition+1)}return this.buffer.slice(s?0:5,this.offset)}flush(s){let a=this.join(s);return this.offset=5,this.headerPosition=0,this.buffer=Xt.allocUnsafe(this.size),a}};ee(t,"Writer");var n=t;e.Writer=n}),FS=ln(e=>{Ot(),Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=void 0;var t=BS(),n=new t.Writer,r=ee(J=>{n.addInt16(3).addInt16(0);for(let xe of Object.keys(J))n.addCString(xe).addCString(J[xe]);n.addCString("client_encoding").addCString("UTF8");let ie=n.addCString("").flush(),Ae=ie.length+4;return new t.Writer().addInt32(Ae).add(ie).flush()},"startup"),s=ee(()=>{let J=Xt.allocUnsafe(8);return J.writeInt32BE(8,0),J.writeInt32BE(80877103,4),J},"requestSsl"),a=ee(J=>n.addCString(J).flush(112),"password"),l=ee(function(J,ie){return n.addCString(J).addInt32(Xt.byteLength(ie)).addString(ie),n.flush(112)},"sendSASLInitialResponseMessage"),c=ee(function(J){return n.addString(J).flush(112)},"sendSCRAMClientFinalMessage"),h=ee(J=>n.addCString(J).flush(81),"query"),p=[],y=ee(J=>{let ie=J.name||"";ie.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",ie,ie.length),console.error("This can cause conflicts and silent errors executing queries"));let Ae=J.types||p,xe=Ae.length,pe=n.addCString(ie).addCString(J.text).addInt16(xe);for(let ve=0;ve<xe;ve++)pe.addInt32(Ae[ve]);return n.flush(80)},"parse"),w=new t.Writer,v=ee(function(J,ie){for(let Ae=0;Ae<J.length;Ae++){let xe=ie?ie(J[Ae],Ae):J[Ae];xe==null?(n.addInt16(0),w.addInt32(-1)):xe instanceof Xt?(n.addInt16(1),w.addInt32(xe.length),w.add(xe)):(n.addInt16(0),w.addInt32(Xt.byteLength(xe)),w.addString(xe))}},"writeValues"),b=ee((J={})=>{let ie=J.portal||"",Ae=J.statement||"",xe=J.binary||!1,pe=J.values||p,ve=pe.length;return n.addCString(ie).addCString(Ae),n.addInt16(ve),v(pe,J.valueMapper),n.addInt16(ve),n.add(w.flush()),n.addInt16(xe?1:0),n.flush(66)},"bind"),E=Xt.from([69,0,0,0,9,0,0,0,0,0]),A=ee(J=>{if(!J||!J.portal&&!J.rows)return E;let ie=J.portal||"",Ae=J.rows||0,xe=Xt.byteLength(ie),pe=4+xe+1+4,ve=Xt.allocUnsafe(1+pe);return ve[0]=69,ve.writeInt32BE(pe,1),ve.write(ie,5,"utf-8"),ve[xe+5]=0,ve.writeUInt32BE(Ae,ve.length-4),ve},"execute"),k=ee((J,ie)=>{let Ae=Xt.allocUnsafe(16);return Ae.writeInt32BE(16,0),Ae.writeInt16BE(1234,4),Ae.writeInt16BE(5678,6),Ae.writeInt32BE(J,8),Ae.writeInt32BE(ie,12),Ae},"cancel"),S=ee((J,ie)=>{let Ae=4+Xt.byteLength(ie)+1,xe=Xt.allocUnsafe(1+Ae);return xe[0]=J,xe.writeInt32BE(Ae,1),xe.write(ie,5,"utf-8"),xe[Ae]=0,xe},"cstringMessage"),_=n.addCString("P").flush(68),L=n.addCString("S").flush(68),z=ee(J=>J.name?S(68,`${J.type}${J.name||""}`):J.type==="P"?_:L,"describe"),H=ee(J=>{let ie=`${J.type}${J.name||""}`;return S(67,ie)},"close"),M=ee(J=>n.add(J).flush(100),"copyData"),D=ee(J=>S(102,J),"copyFail"),q=ee(J=>Xt.from([J,0,0,0,4]),"codeOnlyBuffer"),F=q(72),oe=q(83),W=q(88),X=q(99),ae={startup:r,password:a,requestSsl:s,sendSASLInitialResponseMessage:l,sendSCRAMClientFinalMessage:c,query:h,parse:y,bind:b,execute:A,describe:z,close:H,flush:ee(()=>F,"flush"),sync:ee(()=>oe,"sync"),end:ee(()=>W,"end"),copyData:M,copyDone:ee(()=>X,"copyDone"),copyFail:D,cancel:k};e.serialize=ae}),jS=ln(e=>{Ot(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferReader=void 0;var t=Xt.allocUnsafe(0),n=class{constructor(a=0){this.offset=a,this.buffer=t,this.encoding="utf-8"}setBuffer(a,l){this.offset=a,this.buffer=l}int16(){let a=this.buffer.readInt16BE(this.offset);return this.offset+=2,a}byte(){let a=this.buffer[this.offset];return this.offset++,a}int32(){let a=this.buffer.readInt32BE(this.offset);return this.offset+=4,a}uint32(){let a=this.buffer.readUInt32BE(this.offset);return this.offset+=4,a}string(a){let l=this.buffer.toString(this.encoding,this.offset,this.offset+a);return this.offset+=a,l}cstring(){let a=this.offset,l=a;for(;this.buffer[l++]!==0;);return this.offset=l,this.buffer.toString(this.encoding,a,l-1)}bytes(a){let l=this.buffer.slice(this.offset,this.offset+a);return this.offset+=a,l}};ee(n,"BufferReader");var r=n;e.BufferReader=r}),US=ln(e=>{Ot(),Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var t=v4(),n=jS(),r=1,s=4,a=r+s,l=Xt.allocUnsafe(0),c=class{constructor(y){if(this.buffer=l,this.bufferLength=0,this.bufferOffset=0,this.reader=new n.BufferReader,(y==null?void 0:y.mode)==="binary")throw new Error("Binary mode not supported yet");this.mode=(y==null?void 0:y.mode)||"text"}parse(y,w){this.mergeBuffer(y);let v=this.bufferOffset+this.bufferLength,b=this.bufferOffset;for(;b+a<=v;){let E=this.buffer[b],A=this.buffer.readUInt32BE(b+r),k=r+A;if(k+b<=v){let S=this.handlePacket(b+a,E,A,this.buffer);w(S),b+=k}else break}b===v?(this.buffer=l,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=v-b,this.bufferOffset=b)}mergeBuffer(y){if(this.bufferLength>0){let w=this.bufferLength+y.byteLength;if(w+this.bufferOffset>this.buffer.byteLength){let v;if(w<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)v=this.buffer;else{let b=this.buffer.byteLength*2;for(;w>=b;)b*=2;v=Xt.allocUnsafe(b)}this.buffer.copy(v,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=v,this.bufferOffset=0}y.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=w}else this.buffer=y,this.bufferOffset=0,this.bufferLength=y.byteLength}handlePacket(y,w,v,b){switch(w){case 50:return t.bindComplete;case 49:return t.parseComplete;case 51:return t.closeComplete;case 110:return t.noData;case 115:return t.portalSuspended;case 99:return t.copyDone;case 87:return t.replicationStart;case 73:return t.emptyQuery;case 68:return this.parseDataRowMessage(y,v,b);case 67:return this.parseCommandCompleteMessage(y,v,b);case 90:return this.parseReadyForQueryMessage(y,v,b);case 65:return this.parseNotificationMessage(y,v,b);case 82:return this.parseAuthenticationResponse(y,v,b);case 83:return this.parseParameterStatusMessage(y,v,b);case 75:return this.parseBackendKeyData(y,v,b);case 69:return this.parseErrorMessage(y,v,b,"error");case 78:return this.parseErrorMessage(y,v,b,"notice");case 84:return this.parseRowDescriptionMessage(y,v,b);case 116:return this.parseParameterDescriptionMessage(y,v,b);case 71:return this.parseCopyInMessage(y,v,b);case 72:return this.parseCopyOutMessage(y,v,b);case 100:return this.parseCopyData(y,v,b);default:return new t.DatabaseError("received invalid response: "+w.toString(16),v,"error")}}parseReadyForQueryMessage(y,w,v){this.reader.setBuffer(y,v);let b=this.reader.string(1);return new t.ReadyForQueryMessage(w,b)}parseCommandCompleteMessage(y,w,v){this.reader.setBuffer(y,v);let b=this.reader.cstring();return new t.CommandCompleteMessage(w,b)}parseCopyData(y,w,v){let b=v.slice(y,y+(w-4));return new t.CopyDataMessage(w,b)}parseCopyInMessage(y,w,v){return this.parseCopyMessage(y,w,v,"copyInResponse")}parseCopyOutMessage(y,w,v){return this.parseCopyMessage(y,w,v,"copyOutResponse")}parseCopyMessage(y,w,v,b){this.reader.setBuffer(y,v);let E=this.reader.byte()!==0,A=this.reader.int16(),k=new t.CopyResponse(w,b,E,A);for(let S=0;S<A;S++)k.columnTypes[S]=this.reader.int16();return k}parseNotificationMessage(y,w,v){this.reader.setBuffer(y,v);let b=this.reader.int32(),E=this.reader.cstring(),A=this.reader.cstring();return new t.NotificationResponseMessage(w,b,E,A)}parseRowDescriptionMessage(y,w,v){this.reader.setBuffer(y,v);let b=this.reader.int16(),E=new t.RowDescriptionMessage(w,b);for(let A=0;A<b;A++)E.fields[A]=this.parseField();return E}parseField(){let y=this.reader.cstring(),w=this.reader.uint32(),v=this.reader.int16(),b=this.reader.uint32(),E=this.reader.int16(),A=this.reader.int32(),k=this.reader.int16()===0?"text":"binary";return new t.Field(y,w,v,b,E,A,k)}parseParameterDescriptionMessage(y,w,v){this.reader.setBuffer(y,v);let b=this.reader.int16(),E=new t.ParameterDescriptionMessage(w,b);for(let A=0;A<b;A++)E.dataTypeIDs[A]=this.reader.int32();return E}parseDataRowMessage(y,w,v){this.reader.setBuffer(y,v);let b=this.reader.int16(),E=new Array(b);for(let A=0;A<b;A++){let k=this.reader.int32();E[A]=k===-1?null:this.reader.string(k)}return new t.DataRowMessage(w,E)}parseParameterStatusMessage(y,w,v){this.reader.setBuffer(y,v);let b=this.reader.cstring(),E=this.reader.cstring();return new t.ParameterStatusMessage(w,b,E)}parseBackendKeyData(y,w,v){this.reader.setBuffer(y,v);let b=this.reader.int32(),E=this.reader.int32();return new t.BackendKeyDataMessage(w,b,E)}parseAuthenticationResponse(y,w,v){this.reader.setBuffer(y,v);let b=this.reader.int32(),E={name:"authenticationOk",length:w};switch(b){case 0:break;case 3:E.length===8&&(E.name="authenticationCleartextPassword");break;case 5:if(E.length===12){E.name="authenticationMD5Password";let A=this.reader.bytes(4);return new t.AuthenticationMD5Password(w,A)}break;case 10:{E.name="authenticationSASL",E.mechanisms=[];let A;do A=this.reader.cstring(),A&&E.mechanisms.push(A);while(A)}break;case 11:E.name="authenticationSASLContinue",E.data=this.reader.string(w-8);break;case 12:E.name="authenticationSASLFinal",E.data=this.reader.string(w-8);break;default:throw new Error("Unknown authenticationOk message type "+b)}return E}parseErrorMessage(y,w,v,b){this.reader.setBuffer(y,v);let E={},A=this.reader.string(1);for(;A!=="\0";)E[A]=this.reader.cstring(),A=this.reader.string(1);let k=E.M,S=b==="notice"?new t.NoticeMessage(w,k):new t.DatabaseError(k,w,b);return S.severity=E.S,S.code=E.C,S.detail=E.D,S.hint=E.H,S.position=E.P,S.internalPosition=E.p,S.internalQuery=E.q,S.where=E.W,S.schema=E.s,S.table=E.t,S.column=E.c,S.dataType=E.d,S.constraint=E.n,S.file=E.F,S.line=E.L,S.routine=E.R,S}};ee(c,"Parser");var h=c;e.Parser=h}),b4=ln(e=>{Ot(),Object.defineProperty(e,"__esModule",{value:!0}),e.DatabaseError=e.serialize=e.parse=void 0;var t=v4();Object.defineProperty(e,"DatabaseError",{enumerable:!0,get:ee(function(){return t.DatabaseError},"get")});var n=FS();Object.defineProperty(e,"serialize",{enumerable:!0,get:ee(function(){return n.serialize},"get")});var r=US();function s(a,l){let c=new r.Parser;return a.on("data",h=>c.parse(h,l)),new Promise(h=>a.on("end",()=>h()))}ee(s,"parse"),e.parse=s}),A4={};ia(A4,{connect:()=>E4});function E4({socket:e,servername:t}){return e.startTls(t),e}var zS=Ji(()=>{Ot(),ee(E4,"connect")}),C4=ln((e,t)=>{Ot();var n=(sh(),ri(Z3)),r=tu().EventEmitter,{parse:s,serialize:a}=b4(),l=a.flush(),c=a.sync(),h=a.end(),p=class extends r{constructor(v){super(),v=v||{},this.stream=v.stream||new n.Socket,this._keepAlive=v.keepAlive,this._keepAliveInitialDelayMillis=v.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=v.ssl||!1,this._ending=!1,this._emitMessage=!1;var b=this;this.on("newListener",function(E){E==="message"&&(b._emitMessage=!0)})}connect(v,b){var E=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(v,b),this.stream.once("connect",function(){E._keepAlive&&E.stream.setKeepAlive(!0,E._keepAliveInitialDelayMillis),E.emit("connect")});let A=ee(function(k){E._ending&&(k.code==="ECONNRESET"||k.code==="EPIPE")||E.emit("error",k)},"reportStreamError");if(this.stream.on("error",A),this.stream.on("close",function(){E.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(k){var S=k.toString("utf8");switch(S){case"S":break;case"N":return E.stream.end(),E.emit("error",new Error("The server does not support SSL connections"));default:return E.stream.end(),E.emit("error",new Error("There was an error establishing an SSL connection"))}var _=(zS(),ri(A4));let L={socket:E.stream};E.ssl!==!0&&(Object.assign(L,E.ssl),"key"in E.ssl&&(L.key=E.ssl.key)),n.isIP(b)===0&&(L.servername=b);try{E.stream=_.connect(L)}catch(z){return E.emit("error",z)}E.attachListeners(E.stream),E.stream.on("error",A),E.emit("sslconnect")})}attachListeners(v){v.on("end",()=>{this.emit("end")}),s(v,b=>{var E=b.name==="error"?"errorMessage":b.name;this._emitMessage&&this.emit("message",b),this.emit(E,b)})}requestSsl(){this.stream.write(a.requestSsl())}startup(v){this.stream.write(a.startup(v))}cancel(v,b){this._send(a.cancel(v,b))}password(v){this._send(a.password(v))}sendSASLInitialResponseMessage(v,b){this._send(a.sendSASLInitialResponseMessage(v,b))}sendSCRAMClientFinalMessage(v){this._send(a.sendSCRAMClientFinalMessage(v))}_send(v){return this.stream.writable?this.stream.write(v):!1}query(v){this._send(a.query(v))}parse(v){this._send(a.parse(v))}bind(v){this._send(a.bind(v))}execute(v){this._send(a.execute(v))}flush(){this.stream.writable&&this.stream.write(l)}sync(){this._ending=!0,this._send(l),this._send(c)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(h,()=>{this.stream.end()})}close(v){this._send(a.close(v))}describe(v){this._send(a.describe(v))}sendCopyFromChunk(v){this._send(a.copyData(v))}endCopyFrom(){this._send(a.copyDone())}sendCopyFail(v){this._send(a.copyFail(v))}};ee(p,"Connection");var y=p;t.exports=y}),qS=ln((e,t)=>{Ot();var n=tu().EventEmitter;Gd(),ri(ah);var r=Hd(),s=IS(),a=PS(),l=_m(),c=Pm(),h=MS(),p=Vd(),y=C4(),w=class extends n{constructor(E){super(),this.connectionParameters=new c(E),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var A=E||{};this._Promise=A.Promise||qd.Promise,this._types=new l(A.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=A.connection||new y({stream:A.stream,ssl:this.connectionParameters.ssl,keepAlive:A.keepAlive||!1,keepAliveInitialDelayMillis:A.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=A.binary||p.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=A.connectionTimeoutMillis||0}_errorAllQueries(E){let A=ee(k=>{on.nextTick(()=>{k.handleError(E,this.connection)})},"enqueueError");this.activeQuery&&(A(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(A),this.queryQueue.length=0}_connect(E){var A=this,k=this.connection;if(this._connectionCallback=E,this._connecting||this._connected){let S=new Error("Client has already been connected. You cannot reuse a client.");on.nextTick(()=>{E(S)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{k._ending=!0,k.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf("/")===0?k.connect(this.host+"/.s.PGSQL."+this.port):k.connect(this.port,this.host),k.on("connect",function(){A.ssl?k.requestSsl():k.startup(A.getStartupConf())}),k.on("sslconnect",function(){k.startup(A.getStartupConf())}),this._attachListeners(k),k.once("end",()=>{let S=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(S),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(S):this._handleErrorEvent(S):this._connectionError||this._handleErrorEvent(S)),on.nextTick(()=>{this.emit("end")})})}connect(E){if(E){this._connect(E);return}return new this._Promise((A,k)=>{this._connect(S=>{S?k(S):A()})})}_attachListeners(E){E.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),E.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),E.on("authenticationSASL",this._handleAuthSASL.bind(this)),E.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),E.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),E.on("backendKeyData",this._handleBackendKeyData.bind(this)),E.on("error",this._handleErrorEvent.bind(this)),E.on("errorMessage",this._handleErrorMessage.bind(this)),E.on("readyForQuery",this._handleReadyForQuery.bind(this)),E.on("notice",this._handleNotice.bind(this)),E.on("rowDescription",this._handleRowDescription.bind(this)),E.on("dataRow",this._handleDataRow.bind(this)),E.on("portalSuspended",this._handlePortalSuspended.bind(this)),E.on("emptyQuery",this._handleEmptyQuery.bind(this)),E.on("commandComplete",this._handleCommandComplete.bind(this)),E.on("parseComplete",this._handleParseComplete.bind(this)),E.on("copyInResponse",this._handleCopyInResponse.bind(this)),E.on("copyData",this._handleCopyData.bind(this)),E.on("notification",this._handleNotification.bind(this))}_checkPgPass(E){let A=this.connection;typeof this.password=="function"?this._Promise.resolve().then(()=>this.password()).then(k=>{if(k!==void 0){if(typeof k!="string"){A.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=k}else this.connectionParameters.password=this.password=null;E()}).catch(k=>{A.emit("error",k)}):this.password!==null?E():a(this.connectionParameters,k=>{k!==void 0&&(this.connectionParameters.password=this.password=k),E()})}_handleAuthCleartextPassword(E){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(E){this._checkPgPass(()=>{let A=r.postgresMd5PasswordHash(this.user,this.password,E.salt);this.connection.password(A)})}_handleAuthSASL(E){this._checkPgPass(()=>{this.saslSession=s.startSession(E.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(E){s.continueSession(this.saslSession,this.password,E.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(E){s.finalizeSession(this.saslSession,E.data),this.saslSession=null}_handleBackendKeyData(E){this.processID=E.processID,this.secretKey=E.secretKey}_handleReadyForQuery(E){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:A}=this;this.activeQuery=null,this.readyForQuery=!0,A&&A.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(E){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(E);this.emit("error",E)}}_handleErrorEvent(E){if(this._connecting)return this._handleErrorWhileConnecting(E);this._queryable=!1,this._errorAllQueries(E),this.emit("error",E)}_handleErrorMessage(E){if(this._connecting)return this._handleErrorWhileConnecting(E);let A=this.activeQuery;if(!A){this._handleErrorEvent(E);return}this.activeQuery=null,A.handleError(E,this.connection)}_handleRowDescription(E){this.activeQuery.handleRowDescription(E)}_handleDataRow(E){this.activeQuery.handleDataRow(E)}_handlePortalSuspended(E){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(E){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(E){this.activeQuery.handleCommandComplete(E,this.connection)}_handleParseComplete(E){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(E){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(E){this.activeQuery.handleCopyData(E,this.connection)}_handleNotification(E){this.emit("notification",E)}_handleNotice(E){this.emit("notice",E)}getStartupConf(){var E=this.connectionParameters,A={user:E.user,database:E.database},k=E.application_name||E.fallback_application_name;return k&&(A.application_name=k),E.replication&&(A.replication=""+E.replication),E.statement_timeout&&(A.statement_timeout=String(parseInt(E.statement_timeout,10))),E.lock_timeout&&(A.lock_timeout=String(parseInt(E.lock_timeout,10))),E.idle_in_transaction_session_timeout&&(A.idle_in_transaction_session_timeout=String(parseInt(E.idle_in_transaction_session_timeout,10))),E.options&&(A.options=E.options),A}cancel(E,A){if(E.activeQuery===A){var k=this.connection;this.host&&this.host.indexOf("/")===0?k.connect(this.host+"/.s.PGSQL."+this.port):k.connect(this.port,this.host),k.on("connect",function(){k.cancel(E.processID,E.secretKey)})}else E.queryQueue.indexOf(A)!==-1&&E.queryQueue.splice(E.queryQueue.indexOf(A),1)}setTypeParser(E,A,k){return this._types.setTypeParser(E,A,k)}getTypeParser(E,A){return this._types.getTypeParser(E,A)}escapeIdentifier(E){return'"'+E.replace(/"/g,'""')+'"'}escapeLiteral(E){for(var A=!1,k="'",S=0;S<E.length;S++){var _=E[S];_==="'"?k+=_+_:_==="\\"?(k+=_+_,A=!0):k+=_}return k+="'",A===!0&&(k=" E"+k),k}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let E=this.activeQuery.submit(this.connection);E&&on.nextTick(()=>{this.activeQuery.handleError(E,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(E,A,k){var S,_,L,z,H;if(E==null)throw new TypeError("Client was passed a null or undefined query");return typeof E.submit=="function"?(L=E.query_timeout||this.connectionParameters.query_timeout,_=S=E,typeof A=="function"&&(S.callback=S.callback||A)):(L=this.connectionParameters.query_timeout,S=new h(E,A,k),S.callback||(_=new this._Promise((M,D)=>{S.callback=(q,F)=>q?D(q):M(F)}))),L&&(H=S.callback,z=setTimeout(()=>{var M=new Error("Query read timeout");on.nextTick(()=>{S.handleError(M,this.connection)}),H(M),S.callback=()=>{};var D=this.queryQueue.indexOf(S);D>-1&&this.queryQueue.splice(D,1),this._pulseQueryQueue()},L),S.callback=(M,D)=>{clearTimeout(z),H(M,D)}),this.binary&&!S.binary&&(S.binary=!0),S._result&&!S._result._types&&(S._result._types=this._types),this._queryable?this._ending?(on.nextTick(()=>{S.handleError(new Error("Client was closed and is not queryable"),this.connection)}),_):(this.queryQueue.push(S),this._pulseQueryQueue(),_):(on.nextTick(()=>{S.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),_)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(E){if(this._ending=!0,!this.connection._connecting)if(E)E();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),E)this.connection.once("end",E);else return new this._Promise(A=>{this.connection.once("end",A)})}};ee(w,"Client");var v=w;v.Query=h,t.exports=v}),WS=ln((e,t)=>{Ot();var n=tu().EventEmitter,r=ee(function(){},"NOOP"),s=ee((E,A)=>{let k=E.findIndex(A);return k===-1?void 0:E.splice(k,1)[0]},"removeWhere"),a=class{constructor(A,k,S){this.client=A,this.idleListener=k,this.timeoutId=S}};ee(a,"IdleItem");var l=a,c=class{constructor(A){this.callback=A}};ee(c,"PendingItem");var h=c;function p(){throw new Error("Release called on client which has already been released to the pool.")}ee(p,"throwOnDoubleRelease");function y(E,A){if(A)return{callback:A,result:void 0};let k,S,_=ee(function(z,H){z?k(z):S(H)},"cb"),L=new E(function(z,H){S=z,k=H}).catch(z=>{throw Error.captureStackTrace(z),z});return{callback:_,result:L}}ee(y,"promisify");function w(E,A){return ee(function k(S){S.client=A,A.removeListener("error",k),A.on("error",()=>{E.log("additional client error after disconnection due to error",S)}),E._remove(A),E.emit("error",S,A)},"idleListener")}ee(w,"makeIdleListener");var v=class extends n{constructor(A,k){super(),this.options=Object.assign({},A),A!=null&&"password"in A&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:A.password}),A!=null&&A.ssl&&A.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||k||Xd().Client,this.Promise=this.options.Promise||qd.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(k=>{this._remove(k.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let A=this._pendingQueue.shift();if(this._idle.length){let k=this._idle.pop();clearTimeout(k.timeoutId);let S=k.client;S.ref&&S.ref();let _=k.idleListener;return this._acquireClient(S,A,_,!1)}if(!this._isFull())return this.newClient(A);throw new Error("unexpected condition")}_remove(A){let k=s(this._idle,S=>S.client===A);k!==void 0&&clearTimeout(k.timeoutId),this._clients=this._clients.filter(S=>S!==A),A.end(),this.emit("remove",A)}connect(A){if(this.ending){let _=new Error("Cannot use a pool after calling end on the pool");return A?A(_):this.Promise.reject(_)}let k=y(this.Promise,A),S=k.result;if(this._isFull()||this._idle.length){if(this._idle.length&&on.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new h(k.callback)),S;let _=ee((H,M,D)=>{clearTimeout(z),k.callback(H,M,D)},"queueCallback"),L=new h(_),z=setTimeout(()=>{s(this._pendingQueue,H=>H.callback===_),L.timedOut=!0,k.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return z.unref&&z.unref(),this._pendingQueue.push(L),S}return this.newClient(new h(k.callback)),S}newClient(A){let k=new this.Client(this.options);this._clients.push(k);let S=w(this,k);this.log("checking client timeout");let _,L=!1;this.options.connectionTimeoutMillis&&(_=setTimeout(()=>{this.log("ending client due to timeout"),L=!0,k.connection?k.connection.stream.destroy():k.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),k.connect(z=>{if(_&&clearTimeout(_),k.on("error",S),z)this.log("client failed to connect",z),this._clients=this._clients.filter(H=>H!==k),L&&(z=new Error("Connection terminated due to connection timeout",{cause:z})),this._pulseQueue(),A.timedOut||A.callback(z,void 0,r);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let H=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(k),this._idle.findIndex(M=>M.client===k)!==-1&&this._acquireClient(k,new h((M,D,q)=>q()),S,!1)},this.options.maxLifetimeSeconds*1e3);H.unref(),k.once("end",()=>clearTimeout(H))}return this._acquireClient(k,A,S,!0)}})}_acquireClient(A,k,S,_){_&&this.emit("connect",A),this.emit("acquire",A),A.release=this._releaseOnce(A,S),A.removeListener("error",S),k.timedOut?_&&this.options.verify?this.options.verify(A,A.release):A.release():_&&this.options.verify?this.options.verify(A,L=>{if(L)return A.release(L),k.callback(L,void 0,r);k.callback(void 0,A,A.release)}):k.callback(void 0,A,A.release)}_releaseOnce(A,k){let S=!1;return _=>{S&&p(),S=!0,this._release(A,k,_)}}_release(A,k,S){if(A.on("error",k),A._poolUseCount=(A._poolUseCount||0)+1,this.emit("release",S,A),S||this.ending||!A._queryable||A._ending||A._poolUseCount>=this.options.maxUses){A._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(A),this._pulseQueue();return}if(this._expired.has(A)){this.log("remove expired client"),this._expired.delete(A),this._remove(A),this._pulseQueue();return}let _;this.options.idleTimeoutMillis&&this._isAboveMin()&&(_=setTimeout(()=>{this.log("remove idle client"),this._remove(A)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&_.unref()),this.options.allowExitOnIdle&&A.unref(),this._idle.push(new l(A,k,_)),this._pulseQueue()}query(A,k,S){if(typeof A=="function"){let L=y(this.Promise,A);return Sm(function(){return L.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),L.result}typeof k=="function"&&(S=k,k=void 0);let _=y(this.Promise,S);return S=_.callback,this.connect((L,z)=>{if(L)return S(L);let H=!1,M=ee(D=>{H||(H=!0,z.release(D),S(D))},"onError");z.once("error",M),this.log("dispatching query");try{z.query(A,k,(D,q)=>{if(this.log("query dispatched"),z.removeListener("error",M),!H)return H=!0,z.release(D),D?S(D):S(void 0,q)})}catch(D){return z.release(D),S(D)}}),_.result}end(A){if(this.log("ending"),this.ending){let S=new Error("Called end on pool more than once");return A?A(S):this.Promise.reject(S)}this.ending=!0;let k=y(this.Promise,A);return this._endCallback=k.callback,this._pulseQueue(),k.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((A,k)=>A+(this._expired.has(k)?1:0),0)}get totalCount(){return this._clients.length}};ee(v,"Pool");var b=v;t.exports=b}),S4={};ia(S4,{default:()=>N4});var N4,VS=Ji(()=>{Ot(),N4={}}),HS=ln((e,t)=>{t.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),GS=ln((e,t)=>{Ot();var n=tu().EventEmitter,r=(Gd(),ri(ah)),s=Hd(),a=t.exports=function(c,h,p){n.call(this),c=s.normalizeQueryConfig(c,h,p),this.text=c.text,this.values=c.values,this.name=c.name,this.callback=c.callback,this.state="new",this._arrayMode=c.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",(function(y){y==="row"&&(this._emitRowEvents=!0)}).bind(this))};r.inherits(a,n);var l={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};a.prototype.handleError=function(c){var h=this.native.pq.resultErrorFields();if(h)for(var p in h){var y=l[p]||p;c[y]=h[p]}this.callback?this.callback(c):this.emit("error",c),this.state="error"},a.prototype.then=function(c,h){return this._getPromise().then(c,h)},a.prototype.catch=function(c){return this._getPromise().catch(c)},a.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise((function(c,h){this._once("end",c),this._once("error",h)}).bind(this)),this._promise)},a.prototype.submit=function(c){this.state="running";var h=this;this.native=c.native,c.native.arrayMode=this._arrayMode;var p=ee(function(v,b,E){if(c.native.arrayMode=!1,Sm(function(){h.emit("_done")}),v)return h.handleError(v);h._emitRowEvents&&(E.length>1?b.forEach((A,k)=>{A.forEach(S=>{h.emit("row",S,E[k])})}):b.forEach(function(A){h.emit("row",A,E)})),h.state="end",h.emit("end",E),h.callback&&h.callback(null,E)},"after");if(on.domain&&(p=on.domain.bind(p)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var y=(this.values||[]).map(s.prepareValue);if(c.namedQueries[this.name]){if(this.text&&c.namedQueries[this.name]!==this.text){let v=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return p(v)}return c.native.execute(this.name,y,p)}return c.native.prepare(this.name,this.text,y.length,function(v){return v?p(v):(c.namedQueries[h.name]=h.text,h.native.execute(h.name,y,p))})}else if(this.values){if(!Array.isArray(this.values)){let v=new Error("Query values must be an array");return p(v)}var w=this.values.map(s.prepareValue);c.native.query(this.text,w,p)}else c.native.query(this.text,p)}}),XS=ln((e,t)=>{Ot();var n=(VS(),ri(S4)),r=_m();HS();var s=tu().EventEmitter,a=(Gd(),ri(ah)),l=Pm(),c=GS(),h=t.exports=function(p){s.call(this),p=p||{},this._Promise=p.Promise||qd.Promise,this._types=new r(p.types),this.native=new n({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var y=this.connectionParameters=new l(p);this.user=y.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:y.password}),this.database=y.database,this.host=y.host,this.port=y.port,this.namedQueries={}};h.Query=c,a.inherits(h,s),h.prototype._errorAllQueries=function(p){let y=ee(w=>{on.nextTick(()=>{w.native=this.native,w.handleError(p)})},"enqueueError");this._hasActiveQuery()&&(y(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(y),this._queryQueue.length=0},h.prototype._connect=function(p){var y=this;if(this._connecting){on.nextTick(()=>p(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(w,v){if(w)return p(w);y.native.connect(v,function(b){if(b)return y.native.end(),p(b);y._connected=!0,y.native.on("error",function(E){y._queryable=!1,y._errorAllQueries(E),y.emit("error",E)}),y.native.on("notification",function(E){y.emit("notification",{channel:E.relname,payload:E.extra})}),y.emit("connect"),y._pulseQueryQueue(!0),p()})})},h.prototype.connect=function(p){if(p){this._connect(p);return}return new this._Promise((y,w)=>{this._connect(v=>{v?w(v):y()})})},h.prototype.query=function(p,y,w){var v,b,E,A,k;if(p==null)throw new TypeError("Client was passed a null or undefined query");if(typeof p.submit=="function")E=p.query_timeout||this.connectionParameters.query_timeout,b=v=p,typeof y=="function"&&(p.callback=y);else if(E=this.connectionParameters.query_timeout,v=new c(p,y,w),!v.callback){let S,_;b=new this._Promise((L,z)=>{S=L,_=z}),v.callback=(L,z)=>L?_(L):S(z)}return E&&(k=v.callback,A=setTimeout(()=>{var S=new Error("Query read timeout");on.nextTick(()=>{v.handleError(S,this.connection)}),k(S),v.callback=()=>{};var _=this._queryQueue.indexOf(v);_>-1&&this._queryQueue.splice(_,1),this._pulseQueryQueue()},E),v.callback=(S,_)=>{clearTimeout(A),k(S,_)}),this._queryable?this._ending?(v.native=this.native,on.nextTick(()=>{v.handleError(new Error("Client was closed and is not queryable"))}),b):(this._queryQueue.push(v),this._pulseQueryQueue(),b):(v.native=this.native,on.nextTick(()=>{v.handleError(new Error("Client has encountered a connection error and is not queryable"))}),b)},h.prototype.end=function(p){var y=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,p));var w;return p||(w=new this._Promise(function(v,b){p=ee(E=>E?b(E):v(),"cb")})),this.native.end(function(){y._errorAllQueries(new Error("Connection terminated")),on.nextTick(()=>{y.emit("end"),p&&p()})}),w},h.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"},h.prototype._pulseQueryQueue=function(p){if(this._connected&&!this._hasActiveQuery()){var y=this._queryQueue.shift();if(!y){p||this.emit("drain");return}this._activeQuery=y,y.submit(this);var w=this;y.once("_done",function(){w._pulseQueryQueue()})}},h.prototype.cancel=function(p){this._activeQuery===p?this.native.cancel(function(){}):this._queryQueue.indexOf(p)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(p),1)},h.prototype.ref=function(){},h.prototype.unref=function(){},h.prototype.setTypeParser=function(p,y,w){return this._types.setTypeParser(p,y,w)},h.prototype.getTypeParser=function(p,y){return this._types.getTypeParser(p,y)}}),Qy=ln((e,t)=>{Ot(),t.exports=XS()}),Xd=ln((e,t)=>{Ot();var n=qS(),r=Vd(),s=C4(),a=WS(),{DatabaseError:l}=b4(),c=ee(p=>{var y;return y=class extends a{constructor(w){super(w,p)}},ee(y,"BoundPool"),y},"poolFactory"),h=ee(function(p){this.defaults=r,this.Client=p,this.Query=this.Client.Query,this.Pool=c(this.Client),this._pools=[],this.Connection=s,this.types=Wd(),this.DatabaseError=l},"PG");typeof on.env.NODE_PG_FORCE_NATIVE<"u"?t.exports=new h(Qy()):(t.exports=new h(n),Object.defineProperty(t.exports,"native",{configurable:!0,enumerable:!1,get(){var p=null;try{p=new h(Qy())}catch(y){if(y.code!=="MODULE_NOT_FOUND")throw y}return Object.defineProperty(t.exports,"native",{value:p}),p}}))});Ot();Ot();sh();t4();Ot();var YS=Object.defineProperty,KS=Object.defineProperties,QS=Object.getOwnPropertyDescriptors,$y=Object.getOwnPropertySymbols,$S=Object.prototype.hasOwnProperty,ZS=Object.prototype.propertyIsEnumerable,Zy=ee((e,t,n)=>t in e?YS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"__defNormalProp"),JS=ee((e,t)=>{for(var n in t||(t={}))$S.call(t,n)&&Zy(e,n,t[n]);if($y)for(var n of $y(t))ZS.call(t,n)&&Zy(e,n,t[n]);return e},"__spreadValues"),eN=ee((e,t)=>KS(e,QS(t)),"__spreadProps"),tN=1008e3,Jy=new Uint8Array(new Uint16Array([258]).buffer)[0]===2,nN=new TextDecoder,Om=new TextEncoder,e1=Om.encode("0123456789abcdef"),t1=Om.encode("0123456789ABCDEF"),rN=Om.encode("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),_4=rN.slice();_4[62]=45;_4[63]=95;var jc,n1;function I4(e,{alphabet:t,scratchArr:n}={}){if(!jc)if(jc=new Uint16Array(256),n1=new Uint16Array(256),Jy)for(let b=0;b<256;b++)jc[b]=e1[b&15]<<8|e1[b>>>4],n1[b]=t1[b&15]<<8|t1[b>>>4];else for(let b=0;b<256;b++)jc[b]=e1[b&15]|e1[b>>>4]<<8,n1[b]=t1[b&15]|t1[b>>>4]<<8;e.byteOffset%4!==0&&(e=new Uint8Array(e));let r=e.length,s=r>>>1,a=r>>>2,l=n||new Uint16Array(r),c=new Uint32Array(e.buffer,e.byteOffset,a),h=new Uint32Array(l.buffer,l.byteOffset,s),p=t==="upper"?n1:jc,y=0,w=0,v;if(Jy)for(;y<a;)v=c[y++],h[w++]=p[v>>>8&255]<<16|p[v&255],h[w++]=p[v>>>24]<<16|p[v>>>16&255];else for(;y<a;)v=c[y++],h[w++]=p[v>>>24]<<16|p[v>>>16&255],h[w++]=p[v>>>8&255]<<16|p[v&255];for(y<<=2;y<r;)l[y]=p[e[y++]];return nN.decode(l.subarray(0,r))}ee(I4,"_toHex");function T4(e,t={}){let n="",r=e.length,s=tN>>>1,a=Math.ceil(r/s),l=new Uint16Array(a>1?s:r);for(let c=0;c<a;c++){let h=c*s,p=h+s;n+=I4(e.subarray(h,p),eN(JS({},t),{scratchArr:l}))}return n}ee(T4,"_toHexChunked");function L4(e,t={}){return t.alphabet!=="upper"&&typeof e.toHex=="function"?e.toHex():T4(e,t)}ee(L4,"toHex");Ot();var k4=class P4{constructor(t,n){this.strings=t,this.values=n}toParameterizedQuery(t={query:"",params:[]}){var s;let{strings:n,values:r}=this;for(let a=0,l=n.length;a<l;a++)if(t.query+=n[a],a<r.length){let c=r[a];if(c instanceof D4)t.query+=c.sql;else if(c instanceof L1)if(c.queryData instanceof P4)c.queryData.toParameterizedQuery(t);else{if((s=c.queryData.params)!=null&&s.length)throw new Error("This query is not composable");t.query+=c.queryData.query}else{let{params:h}=t;h.push(c),t.query+="$"+h.length,(c instanceof Xt||ArrayBuffer.isView(c))&&(t.query+="::bytea")}}return t}};ee(k4,"SqlTemplate");var O4=k4,R4=class{constructor(t){this.sql=t}};ee(R4,"UnsafeRawSql");var D4=R4;Ot();function Rm(){typeof window<"u"&&typeof document<"u"&&typeof console<"u"&&typeof console.warn=="function"&&console.warn(`          
        ************************************************************
        *                                                          *
        *  WARNING: Running SQL directly from the browser can have *
        *  security implications. Even if your database is         *
        *  protected by Row-Level Security (RLS), use it at your   *
        *  own risk. This approach is great for fast prototyping,  *
        *  but ensure proper safeguards are in place to prevent    *
        *  misuse or execution of expensive SQL queries by your    *
        *  end users.                                              *
        *                                                          *
        *  If you've assessed the risks, suppress this message     *
        *  using the disableWarningInBrowsers configuration        *
        *  parameter.                                              *
        *                                                          *
        ************************************************************`)}ee(Rm,"warnIfBrowser");sh();var iN=eu(_m()),sN=eu(Hd()),M4=class B4 extends Error{constructor(t){super(t),$t(this,"name","NeonDbError"),$t(this,"severity"),$t(this,"code"),$t(this,"detail"),$t(this,"hint"),$t(this,"position"),$t(this,"internalPosition"),$t(this,"internalQuery"),$t(this,"where"),$t(this,"schema"),$t(this,"table"),$t(this,"column"),$t(this,"dataType"),$t(this,"constraint"),$t(this,"file"),$t(this,"line"),$t(this,"routine"),$t(this,"sourceError"),"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,B4)}};ee(M4,"NeonDbError");var Ru=M4,ew="transaction() expects an array of queries, or a function returning an array of queries",aN=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];function F4(e){return e instanceof Xt?"\\x"+L4(e):e}ee(F4,"encodeBuffersAsBytea");function Xp(e){let{query:t,params:n}=e instanceof O4?e.toParameterizedQuery():e;return{query:t,params:n.map(r=>F4((0,sN.prepareValue)(r)))}}ee(Xp,"prepareQuery");function Dm(e,{arrayMode:t,fullResults:n,fetchOptions:r,isolationLevel:s,readOnly:a,deferrable:l,authToken:c,disableWarningInBrowsers:h}={}){if(!e)throw new Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");let p;try{p=Nm(e)}catch{throw new Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(e))}let{protocol:y,username:w,hostname:v,port:b,pathname:E}=p;if(y!=="postgres:"&&y!=="postgresql:"||!w||!v||!E)throw new Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function A(S,..._){if(!(Array.isArray(S)&&Array.isArray(S.raw)&&Array.isArray(_)))throw new Error('This function can now be called only as a tagged-template function: sql`SELECT ${value}`, not sql("SELECT $1", [value], options). For a conventional function call with value placeholders ($1, $2, etc.), use sql.query("SELECT $1", [value], options).');return new L1(k,new O4(S,_))}ee(A,"templateFn"),A.query=(S,_,L)=>new L1(k,{query:S,params:_??[]},L),A.unsafe=S=>new D4(S),A.transaction=async(S,_)=>{if(typeof S=="function"&&(S=S(A)),!Array.isArray(S))throw new Error(ew);S.forEach(H=>{if(!(H instanceof L1))throw new Error(ew)});let L=S.map(H=>H.queryData),z=S.map(H=>H.opts??{});return k(L,z,_)};async function k(S,_,L){let{fetchEndpoint:z,fetchFunction:H}=Gf,M=Array.isArray(S)?{queries:S.map(pe=>Xp(pe))}:Xp(S),D=r??{},q=t??!1,F=n??!1,oe=s,W=a,X=l;L!==void 0&&(L.fetchOptions!==void 0&&(D={...D,...L.fetchOptions}),L.arrayMode!==void 0&&(q=L.arrayMode),L.fullResults!==void 0&&(F=L.fullResults),L.isolationLevel!==void 0&&(oe=L.isolationLevel),L.readOnly!==void 0&&(W=L.readOnly),L.deferrable!==void 0&&(X=L.deferrable)),_!==void 0&&!Array.isArray(_)&&_.fetchOptions!==void 0&&(D={...D,..._.fetchOptions});let ae=c;!Array.isArray(_)&&(_==null?void 0:_.authToken)!==void 0&&(ae=_.authToken);let J=typeof z=="function"?z(v,b,{jwtAuth:ae!==void 0}):z,ie={"Neon-Connection-String":e,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"},Ae=await U4(ae);Ae&&(ie.Authorization=`Bearer ${Ae}`),Array.isArray(S)&&(oe!==void 0&&(ie["Neon-Batch-Isolation-Level"]=oe),W!==void 0&&(ie["Neon-Batch-Read-Only"]=String(W)),X!==void 0&&(ie["Neon-Batch-Deferrable"]=String(X))),h||Gf.disableWarningInBrowsers||Rm();let xe;try{xe=await(H??fetch)(J,{method:"POST",body:JSON.stringify(M),headers:ie,...D})}catch(pe){let ve=new Ru(`Error connecting to database: ${pe}`);throw ve.sourceError=pe,ve}if(xe.ok){let pe=await xe.json();if(Array.isArray(S)){let ve=pe.results;if(!Array.isArray(ve))throw new Ru("Neon internal error: unexpected result format");return ve.map((Le,Ye)=>{let K=_[Ye]??{},he=K.arrayMode??q,de=K.fullResults??F;return Yp(Le,{arrayMode:he,fullResults:de,types:K.types})})}else{let ve=_??{},Le=ve.arrayMode??q,Ye=ve.fullResults??F;return Yp(pe,{arrayMode:Le,fullResults:Ye,types:ve.types})}}else{let{status:pe}=xe;if(pe===400){let ve=await xe.json(),Le=new Ru(ve.message);for(let Ye of aN)Le[Ye]=ve[Ye]??void 0;throw Le}else{let ve=await xe.text();throw new Ru(`Server error (HTTP status ${pe}): ${ve}`)}}}return ee(k,"execute"),A}ee(Dm,"neon");var j4=class{constructor(t,n,r){this.execute=t,this.queryData=n,this.opts=r}then(t,n){return this.execute(this.queryData,this.opts).then(t,n)}catch(t){return this.execute(this.queryData,this.opts).catch(t)}finally(t){return this.execute(this.queryData,this.opts).finally(t)}};ee(j4,"NeonQueryPromise");var L1=j4;function Yp(e,{arrayMode:t,fullResults:n,types:r}){let s=new iN.default(r),a=e.fields.map(h=>h.name),l=e.fields.map(h=>s.getTypeParser(h.dataTypeID)),c=t===!0?e.rows.map(h=>h.map((p,y)=>p===null?null:l[y](p))):e.rows.map(h=>Object.fromEntries(h.map((p,y)=>[a[y],p===null?null:l[y](p)])));return n?(e.viaNeonFetch=!0,e.rowAsArray=t,e.rows=c,e._parsers=l,e._types=s,e):c}ee(Yp,"processQueryResult");async function U4(e){if(typeof e=="string")return e;if(typeof e=="function")try{return await Promise.resolve(e())}catch(t){let n=new Ru("Error getting auth token.");throw t instanceof Error&&(n=new Ru(`Error getting auth token: ${t.message}`)),n}}ee(U4,"getAuthToken");Ot();var oN=eu(Xd());Ot();var lN=eu(Xd()),z4=class extends lN.Client{constructor(t){super(t),this.config=t}get neonConfig(){return this.connection.stream}connect(t){var p,y;let{neonConfig:n}=this;n.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&n.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let r=typeof this.config!="string"&&((p=this.config)==null?void 0:p.host)!==void 0||typeof this.config!="string"&&((y=this.config)==null?void 0:y.connectionString)!==void 0||on.env.PGHOST!==void 0,s=on.env.USER??on.env.USERNAME;if(!r&&this.host==="localhost"&&this.user===s&&this.database===s&&this.password===null)throw new Error(`No database host or connection string was set, and key parameters have default values (host: localhost, user: ${s}, db: ${s}, password: null). Is an environment variable missing? Alternatively, if you intended to connect with these parameters, please set the host to 'localhost' explicitly.`);let a=super.connect(t),l=n.pipelineTLS&&this.ssl,c=n.pipelineConnect==="password";if(!l&&!n.pipelineConnect)return a;let h=this.connection;if(l&&h.on("connect",()=>h.stream.emit("data","S")),c){h.removeAllListeners("authenticationCleartextPassword"),h.removeAllListeners("readyForQuery"),h.once("readyForQuery",()=>h.on("readyForQuery",this._handleReadyForQuery.bind(this)));let w=this.ssl?"sslconnect":"connect";h.on(w,()=>{this.neonConfig.disableWarningInBrowsers||Rm(),this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return a}async _handleAuthSASLContinue(t){if(typeof crypto>"u"||crypto.subtle===void 0||crypto.subtle.importKey===void 0)throw new Error("Cannot use SASL auth when `crypto.subtle` is not defined");let n=crypto.subtle,r=this.saslSession,s=this.password,a=t.data;if(r.message!=="SASLInitialResponse"||typeof s!="string"||typeof a!="string")throw new Error("SASL: protocol error");let l=Object.fromEntries(a.split(",").map(pe=>{if(!/^.=/.test(pe))throw new Error("SASL: Invalid attribute pair entry");let ve=pe[0],Le=pe.substring(2);return[ve,Le]})),c=l.r,h=l.s,p=l.i;if(!c||!/^[!-+--~]+$/.test(c))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!h||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(h))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!p||!/^[1-9][0-9]*$/.test(p))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!c.startsWith(r.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(c.length===r.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let y=parseInt(p,10),w=Xt.from(h,"base64"),v=new TextEncoder,b=v.encode(s),E=await n.importKey("raw",b,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),A=new Uint8Array(await n.sign("HMAC",E,Xt.concat([w,Xt.from([0,0,0,1])]))),k=A;for(var S=0;S<y-1;S++)A=new Uint8Array(await n.sign("HMAC",E,A)),k=Xt.from(k.map((pe,ve)=>k[ve]^A[ve]));let _=k,L=await n.importKey("raw",_,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),z=new Uint8Array(await n.sign("HMAC",L,v.encode("Client Key"))),H=await n.digest("SHA-256",z),M="n=*,r="+r.clientNonce,D="r="+c+",s="+h+",i="+y,q="c=biws,r="+c,F=M+","+D+","+q,oe=await n.importKey("raw",H,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var W=new Uint8Array(await n.sign("HMAC",oe,v.encode(F))),X=Xt.from(z.map((pe,ve)=>z[ve]^W[ve])),ae=X.toString("base64");let J=await n.importKey("raw",_,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),ie=await n.sign("HMAC",J,v.encode("Server Key")),Ae=await n.importKey("raw",ie,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var xe=Xt.from(await n.sign("HMAC",Ae,v.encode(F)));r.message="SASLResponse",r.serverSignature=xe.toString("base64"),r.response=q+",p="+ae,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};ee(z4,"NeonClient");var uN=z4;sh();var cN=eu(Pm());function q4(e,t){if(t)return{callback:t,result:void 0};let n,r,s=ee(function(l,c){l?n(l):r(c)},"cb"),a=new e(function(l,c){r=l,n=c});return{callback:s,result:a}}ee(q4,"promisify");var fN=class extends oN.Pool{constructor(){super(...arguments),$t(this,"Client",uN),$t(this,"hasFetchUnsupportedListeners",!1),$t(this,"addListener",this.on)}on(t,n){return t!=="error"&&(this.hasFetchUnsupportedListeners=!0),super.on(t,n)}query(t,n,r){var a;if(!Gf.poolQueryViaFetch||this.hasFetchUnsupportedListeners||typeof t=="function")return super.query(t,n,r);typeof n=="function"&&(r=n,n=void 0);let s=q4(this.Promise,r);r=s.callback;try{let l=new cN.default(this.options),c=encodeURIComponent,h=encodeURI,p=`postgresql://${c(l.user)}:${c(l.password)}@${c(l.host)}/${h(l.database)}`,y=typeof t=="string"?t:t.text,w=n??t.values??[];Dm(p,{fullResults:!0,arrayMode:t.rowMode==="array"}).query(y,w,{types:t.types??((a=this.options)==null?void 0:a.types)}).then(v=>r(void 0,v)).catch(v=>r(v))}catch(l){r(l)}return s.result}};ee(fN,"NeonPool");sh();var oh=eu(Xd());oh.DatabaseError;oh.defaults;oh.escapeIdentifier;oh.escapeLiteral;oh.types;/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/const Ll={connectionString:"postgresql://neondb_owner:npg_VQ5HOeibEsR9@ep-cool-mud-a1val5vs-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require",timeout:parseInt("10000")||1e4,maxRetries:3,retryDelay:1e3};let pf=null;const W4=()=>{if(Ll.connectionString.includes("username:password"))return console.warn(" Neon database not configured. Using fallback mode."),null;try{return pf=Dm(Ll.connectionString),console.log(" Neon database connection initialized"),pf}catch(e){return console.error(" Failed to initialize Neon database:",e),null}},V4=()=>(pf||(pf=W4()),pf),n2=async(e,t=[])=>{const n=V4();if(!n)throw new Error("Database not available. Please configure Neon database connection.");let r=0;for(;r<Ll.maxRetries;)try{console.log(" Executing query:",e.substring(0,100)+"...");let s;return t&&t.length>0?s=await n.unsafe(e,t):s=await n.unsafe(e),console.log(" Query executed successfully"),s}catch(s){if(r++,console.error(` Query failed (attempt ${r}/${Ll.maxRetries}):`,s.message),r>=Ll.maxRetries)throw new Error(`Database query failed after ${Ll.maxRetries} attempts: ${s.message}`);await new Promise(a=>setTimeout(a,Ll.retryDelay*r))}},H4=async()=>{try{const e=V4();if(!e)return{healthy:!1,error:"Database not configured",timestamp:new Date().toISOString()};const t=await e`SELECT 1 as health_check`;return{healthy:!0,timestamp:new Date().toISOString()}}catch(e){return{healthy:!1,error:e.message,timestamp:new Date().toISOString()}}};W4();class hN{constructor(){this.migrations=[]}async runInitialMigration(){try{console.log(" Starting database migration...");const t=await H4();if(!t.healthy)throw new Error(`Database health check failed: ${t.error}`);const r=`
        -- EventsX Database Schema for Neon PostgreSQL
        CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
        
        CREATE TABLE IF NOT EXISTS users (
          id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
          email VARCHAR(255) UNIQUE NOT NULL,
          password_hash VARCHAR(255) NOT NULL,
          role VARCHAR(50) NOT NULL DEFAULT 'user' CHECK (role IN ('user', 'owner', 'superadmin')),
          contact VARCHAR(50),
          first_name VARCHAR(100),
          last_name VARCHAR(100),
          is_active BOOLEAN DEFAULT true,
          email_verified BOOLEAN DEFAULT false,
          last_login TIMESTAMP WITH TIME ZONE,
          created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
          updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
        );
        
        CREATE TABLE IF NOT EXISTS events (
          id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
          title VARCHAR(255) NOT NULL,
          description TEXT,
          event_date DATE NOT NULL,
          start_time TIME,
          end_time TIME,
          venue VARCHAR(255),
          address TEXT,
          max_attendees INTEGER,
          registration_deadline TIMESTAMP WITH TIME ZONE,
          owner_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
          status VARCHAR(50) DEFAULT 'active' CHECK (status IN ('draft', 'active', 'cancelled', 'completed')),
          image_url TEXT,
          logo_url TEXT,
          registration_fee DECIMAL(10,2) DEFAULT 0.00,
          currency VARCHAR(3) DEFAULT 'USD',
          is_public BOOLEAN DEFAULT true,
          requires_approval BOOLEAN DEFAULT false,
          created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
          updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
        );
        
        CREATE TABLE IF NOT EXISTS attendees (
          id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
          event_id UUID NOT NULL REFERENCES events(id) ON DELETE CASCADE,
          user_id UUID REFERENCES users(id) ON DELETE SET NULL,
          name VARCHAR(255) NOT NULL,
          email VARCHAR(255) NOT NULL,
          contact VARCHAR(50),
          company VARCHAR(255),
          job_title VARCHAR(255),
          dietary_requirements TEXT,
          special_needs TEXT,
          registration_date TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
          attended BOOLEAN DEFAULT false,
          check_in_time TIMESTAMP WITH TIME ZONE,
          check_in_by UUID REFERENCES users(id),
          qr_code_data TEXT,
          status VARCHAR(50) DEFAULT 'registered' CHECK (status IN ('registered', 'confirmed', 'cancelled', 'attended')),
          created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
          updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
          UNIQUE(event_id, email)
        );
        
        CREATE INDEX IF NOT EXISTS idx_users_email ON users(email);
        CREATE INDEX IF NOT EXISTS idx_events_owner_id ON events(owner_id);
        CREATE INDEX IF NOT EXISTS idx_events_date ON events(event_date);
        CREATE INDEX IF NOT EXISTS idx_attendees_event_id ON attendees(event_id);
        CREATE INDEX IF NOT EXISTS idx_attendees_email ON attendees(email);
        
        INSERT INTO users (email, password_hash, role, first_name, last_name, contact, email_verified)
        VALUES (
          'Robocorpsg@gmail.com',
          'Admin@7990',
          'superadmin',
          'Super',
          'Admin',
          '+65 0000 0000',
          true
        ) ON CONFLICT (email) DO NOTHING;
      `.split(";").map(s=>s.trim()).filter(s=>s.length>0&&!s.startsWith("--"));console.log(` Executing ${r.length} migration statements...`);for(let s=0;s<r.length;s++){const a=r[s];if(a.trim())try{await n2(a+";"),console.log(` Statement ${s+1}/${r.length} executed`)}catch(l){l.message.includes("already exists")||console.warn(` Statement ${s+1} warning:`,l.message)}}return console.log(" Database migration completed successfully!"),{success:!0,message:"Migration completed"}}catch(t){return console.error(" Database migration failed:",t),{success:!1,error:t.message}}}async verifyMigration(){var t;try{const n=["users","events","attendees","event_organizers","event_speakers","event_sponsors","notifications"],r={};for(const a of n)try{const l=await n2(`
            SELECT COUNT(*) as count 
            FROM information_schema.tables 
            WHERE table_name = $1
          `,[a]);r[a]=((t=l[0])==null?void 0:t.count)>0}catch{r[a]=!1}const s=Object.values(r).every(a=>a);return{success:s,tables:r,message:s?"All tables verified":"Some tables missing"}}catch(n){return{success:!1,error:n.message,message:"Verification failed"}}}async getDatabaseStats(){var t;try{const n={},r=["users","events","attendees"];for(const s of r)try{const a=await n2(`SELECT COUNT(*) as count FROM ${s}`);n[s]=parseInt(((t=a[0])==null?void 0:t.count)||0)}catch{n[s]=0}return{success:!0,stats:n}}catch(n){return{success:!1,error:n.message}}}async resetDatabase(){throw new Error("Database reset is not allowed in production")}}const tw=new hN,dN=async()=>{try{if(console.log(" Checking database initialization..."),(await tw.verifyMigration()).success)return console.log(" Database already initialized"),{initialized:!0,migrated:!1};{console.log(" Database not initialized, running migration...");const t=await tw.runInitialMigration();return t.success?(console.log(" Database initialized successfully"),{initialized:!0,migrated:!0}):(console.error(" Database initialization failed"),{initialized:!1,error:t.error})}}catch(e){return console.error(" Database initialization check failed:",e),{initialized:!1,error:e.message}}};dN().then(e=>(e.initialized,e));let gu="detecting",r2=!1;const pN=async()=>{if(gu!=="detecting")return gu;try{(await H4()).healthy?(console.log(" Neon database available - using production mode"),gu="neon",r2=!0):(console.log(" Neon database not available - falling back to IndexedDB"),gu="indexeddb",r2=!1)}catch{console.log(" Neon database check failed - using IndexedDB fallback"),gu="indexeddb",r2=!1}return gu};pN();const ti=new zl("EventsXDatabase");ti.version(1).stores({users:"++id, email, role",events:"++id, title, date, ownerId",attendees:"++id, eventId, name, email, contact, attended"});ti.on("ready",async()=>{await ti.users.where("email").equals("Robocorpsg@gmail.com").first()||await ti.users.add({email:"Robocorpsg@gmail.com",password:"Admin@7990",role:"superadmin",contact:"+65 0000 0000",createdAt:new Date().toISOString()}),await ti.events.count()===0&&await gN()});const gN=async()=>{const e=[{id:1,title:"Tech Conference 2025",description:"Annual technology conference featuring the latest innovations in AI, blockchain, and web development.",date:"2025-03-15",venue:"Singapore Convention Centre",ownerId:1,organisers:[{name:"TechCorp Singapore",detail:"Leading technology company"}],speakers:[{name:"Dr. Sarah Chen",title:"AI Research Director",photo:null},{name:"Mike Johnson",title:"Blockchain Expert",photo:null}],sponsors:[{name:"TechCorp",logo:null},{name:"InnovateLab",logo:null}],createdAt:new Date().toISOString()},{id:2,title:"Digital Marketing Summit",description:"Learn the latest digital marketing strategies and network with industry professionals.",date:"2025-04-20",venue:"Marina Bay Sands",ownerId:1,organisers:[{name:"Marketing Pro",detail:"Digital marketing agency"}],speakers:[{name:"Lisa Wong",title:"Social Media Strategist",photo:null},{name:"David Kim",title:"SEO Specialist",photo:null}],createdAt:new Date().toISOString()},{id:3,title:"Startup Pitch Night",description:"Watch innovative startups pitch their ideas to investors and vote for your favorite.",date:"2025-05-10",venue:"The Hive Singapore",ownerId:1,organisers:[{name:"Startup Hub",detail:"Entrepreneurship community"}],createdAt:new Date().toISOString()},{id:4,title:"Web Development Workshop",description:"Hands-on workshop covering React, Node.js, and modern web development practices.",date:"2025-06-05",venue:"NUS School of Computing",ownerId:1,organisers:[{name:"CodeCraft Academy",detail:"Programming education center"}],speakers:[{name:"Alex Tan",title:"Full Stack Developer",photo:null}],createdAt:new Date().toISOString()},{id:5,title:"Cybersecurity Awareness Seminar",description:"Essential cybersecurity knowledge for businesses and individuals in the digital age.",date:"2025-07-12",venue:"Raffles City Convention Centre",ownerId:1,organisers:[{name:"SecureNet Solutions",detail:"Cybersecurity consultancy"}],speakers:[{name:"Jennifer Lee",title:"Security Analyst",photo:null},{name:"Robert Zhang",title:"Ethical Hacker",photo:null}],sponsors:[{name:"CyberGuard",logo:null}],createdAt:new Date().toISOString()}];for(const t of e)await ti.events.put(t);console.log("Sample events seeded successfully")},mN=async e=>{try{return await ti.events.put(e)}catch(t){throw console.error("Error saving event:",t),t}},sc=async e=>{try{return await ti.events.get(e)}catch(t){throw console.error("Error getting event:",t),t}},yN=async e=>{try{return await ti.attendees.add(e)}catch(t){throw console.error("Error saving attendee:",t),t}},G4=async e=>{try{return await ti.attendees.where("eventId").equals(e).toArray()}catch(t){throw console.error("Error getting attendees:",t),t}},wN=async(e,t)=>{try{await ti.attendees.update(e,{attended:t})}catch(n){throw console.error("Error updating attendee:",n),n}},nw=async(e,t)=>{try{const n=await ti.attendees.where("eventId").equals(e).toArray(),r=t.toLowerCase();return n.filter(s=>s.name.toLowerCase().includes(r)||s.email.toLowerCase().includes(r)||s.contact&&s.contact.toLowerCase().includes(r))}catch(n){throw console.error("Error searching attendees:",n),n}},X4=async e=>{try{if(await ti.users.where("email").equals(e.email).first())throw new Error("User with this email already exists");return await ti.users.add({...e,role:"owner",createdAt:new Date().toISOString()})}catch(t){throw console.error("Error registering user:",t),t}},Kp=async(e,t)=>{try{const n=await ti.users.where("email").equals(e).first();if(!n)throw new Error("User not found");if(n.password!==t)throw new Error("Invalid password");const{password:r,...s}=n;return s}catch(n){throw console.error("Error logging in:",n),n}},xN=()=>{const e=Fs(),{login:t}=Zl(),[n,r]=Ze.useState({email:"",password:""}),[s,a]=Ze.useState(!1),[l,c]=Ze.useState(""),h=(y,w)=>{r(v=>({...v,[y]:w})),c("")},p=async y=>{if(y.preventDefault(),!n.email||!n.password){c("Please fill in all fields");return}a(!0),c("");try{const w=await Kp(n.email,n.password);t(w),e("/events")}catch(w){c(w.message||"Login failed. Please check your credentials.")}finally{a(!1)}};return R.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:R.jsxs("div",{className:"max-w-md w-full",children:[R.jsxs("div",{className:"text-center mb-8",children:[R.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:R.jsx("span",{className:"text-5xl font-bold",children:"EX"})}),R.jsx("h1",{className:"text-3xl font-bold",children:"EventsX"}),R.jsx("p",{className:"text-gray-400 mt-2",children:"Event Management System"})]}),R.jsxs("div",{className:"bg-dark-lighter border border-gray-800 rounded-lg p-8",children:[R.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Login"}),l&&R.jsx("div",{className:"bg-red-900/20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:l}),R.jsxs("form",{onSubmit:p,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),R.jsx("input",{type:"email",value:n.email,onChange:y=>h("email",y.target.value),placeholder:"your@email.com",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password"}),R.jsx("input",{type:"password",value:n.password,onChange:y=>h("password",y.target.value),placeholder:"Enter your password",required:!0})]}),R.jsxs("button",{type:"submit",disabled:s,className:"btn-primary w-full flex items-center justify-center gap-2",children:[R.jsx(fC,{size:20}),s?"Logging in...":"Login"]})]}),R.jsx("div",{className:"mt-6 text-center",children:R.jsx(g3,{to:"/events",className:"text-sm text-gray-500 hover:text-gray-400",children:" Back to events"})})]}),R.jsx("p",{className:"text-center text-xs text-gray-500 mt-6",children:"Powered by Robocorp"})]})})},vN=()=>{const e=Fs(),{login:t}=Zl(),[n,r]=Ze.useState({email:"",password:"",confirmPassword:"",contact:"",countryCode:"+65"}),[s,a]=Ze.useState(!1),[l,c]=Ze.useState(""),h=(y,w)=>{r(v=>({...v,[y]:w})),c("")},p=async y=>{if(y.preventDefault(),!n.email||!n.password||!n.contact){c("Please fill in all required fields");return}if(n.password!==n.confirmPassword){c("Passwords do not match");return}if(n.password.length<6){c("Password must be at least 6 characters");return}a(!0),c("");try{const v={id:await X4({email:n.email,password:n.password,contact:`${n.countryCode} ${n.contact}`}),email:n.email,contact:`${n.countryCode} ${n.contact}`,role:"owner"};t(v),e("/events")}catch(w){c(w.message||"Registration failed. Please try again.")}finally{a(!1)}};return R.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-4 py-8",children:R.jsxs("div",{className:"max-w-md w-full",children:[R.jsxs("div",{className:"text-center mb-8",children:[R.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:R.jsx("span",{className:"text-5xl font-bold",children:"EX"})}),R.jsx("h1",{className:"text-3xl font-bold",children:"EventsX"}),R.jsx("p",{className:"text-gray-400 mt-2",children:"Create your account"})]}),R.jsxs("div",{className:"bg-dark-lighter border border-gray-800 rounded-lg p-8",children:[R.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Register"}),l&&R.jsx("div",{className:"bg-red-900/20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:l}),R.jsxs("form",{onSubmit:p,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),R.jsx("input",{type:"email",value:n.email,onChange:y=>h("email",y.target.value),placeholder:"your@email.com",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password *"}),R.jsx("input",{type:"password",value:n.password,onChange:y=>h("password",y.target.value),placeholder:"At least 6 characters",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirm Password *"}),R.jsx("input",{type:"password",value:n.confirmPassword,onChange:y=>h("confirmPassword",y.target.value),placeholder:"Re-enter password",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Contact Number *"}),R.jsxs("div",{className:"flex gap-2",children:[R.jsxs("select",{value:n.countryCode,onChange:y=>h("countryCode",y.target.value),className:"w-32",children:[R.jsx("option",{value:"+65",children:"+65 (SG)"}),R.jsx("option",{value:"+1",children:"+1 (US)"}),R.jsx("option",{value:"+44",children:"+44 (UK)"}),R.jsx("option",{value:"+91",children:"+91 (IN)"}),R.jsx("option",{value:"+86",children:"+86 (CN)"}),R.jsx("option",{value:"+81",children:"+81 (JP)"}),R.jsx("option",{value:"+82",children:"+82 (KR)"}),R.jsx("option",{value:"+61",children:"+61 (AU)"}),R.jsx("option",{value:"+49",children:"+49 (DE)"}),R.jsx("option",{value:"+33",children:"+33 (FR)"})]}),R.jsx("input",{type:"tel",value:n.contact,onChange:y=>h("contact",y.target.value),placeholder:"Phone number",className:"flex-1",required:!0})]})]}),R.jsxs("button",{type:"submit",disabled:s,className:"btn-primary w-full flex items-center justify-center gap-2",children:[R.jsx(mC,{size:20}),s?"Creating account...":"Register"]})]}),R.jsx("div",{className:"mt-6 text-center",children:R.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",R.jsx(g3,{to:"/login",className:"text-primary hover:text-primary-dark",children:"Login here"})]})})]}),R.jsx("p",{className:"text-center text-xs text-gray-500 mt-6",children:"Powered by Robocorp"})]})})};function bN(e,t,n){var r,s;typeof e=="function"?(r=t||[],s=n):(r=[],s=t);var a=Tl.useRef({hasResult:!1,result:s,error:null}),l=Tl.useReducer(function(p){return p+1},0);l[0];var c=l[1],h=Tl.useMemo(function(){var p=typeof e=="function"?e():e;if(!p||typeof p.subscribe!="function")throw e===p?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!a.current.hasResult&&typeof window<"u"&&(typeof p.hasValue!="function"||p.hasValue()))if(typeof p.getValue=="function")a.current.result=p.getValue(),a.current.hasResult=!0;else{var y=p.subscribe(function(w){a.current.result=w,a.current.hasResult=!0});typeof y=="function"?y():y.unsubscribe()}return p},r);if(Tl.useDebugValue(a.current.result),Tl.useEffect(function(){var p=h.subscribe(function(y){var w=a.current;(w.error!==null||w.result!==y)&&(w.error=null,w.result=y,w.hasResult=!0,c())},function(y){var w=a.current;w.error!==y&&(w.error=y,c())});return typeof p=="function"?p:p.unsubscribe.bind(p)},r),a.current.error)throw a.current.error;return a.current.result}function Qp(e,t,n){return bN(function(){return Q3(e)},t||[],n)}function Nn(e){"@babel/helpers - typeof";return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(e)}function $o(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function jr(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function js(e){jr(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Nn(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function AN(e,t){jr(2,arguments);var n=js(e).getTime(),r=$o(t);return new Date(n+r)}var EN={};function Yd(){return EN}function CN(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function rw(e){jr(1,arguments);var t=js(e);return t.setHours(0,0,0,0),t}var Y4=6e4,K4=36e5;function SN(e,t){jr(2,arguments);var n=rw(e),r=rw(t);return n.getTime()===r.getTime()}function NN(e){return jr(1,arguments),e instanceof Date||Nn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function _N(e){if(jr(1,arguments),!NN(e)&&typeof e!="number")return!1;var t=js(e);return!isNaN(Number(t))}function IN(e,t){jr(2,arguments);var n=$o(t);return AN(e,-n)}var TN=864e5;function LN(e){jr(1,arguments);var t=js(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/TN)+1}function pd(e){jr(1,arguments);var t=1,n=js(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function Q4(e){jr(1,arguments);var t=js(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=pd(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var l=pd(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function kN(e){jr(1,arguments);var t=Q4(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=pd(n);return r}var PN=6048e5;function ON(e){jr(1,arguments);var t=js(e),n=pd(t).getTime()-kN(t).getTime();return Math.round(n/PN)+1}function gd(e,t){var n,r,s,a,l,c,h,p;jr(1,arguments);var y=Yd(),w=$o((n=(r=(s=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(l=t.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&s!==void 0?s:y.weekStartsOn)!==null&&r!==void 0?r:(h=y.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&n!==void 0?n:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=js(e),b=v.getUTCDay(),E=(b<w?7:0)+b-w;return v.setUTCDate(v.getUTCDate()-E),v.setUTCHours(0,0,0,0),v}function $4(e,t){var n,r,s,a,l,c,h,p;jr(1,arguments);var y=js(e),w=y.getUTCFullYear(),v=Yd(),b=$o((n=(r=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(l=t.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:v.firstWeekContainsDate)!==null&&r!==void 0?r:(h=v.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=new Date(0);E.setUTCFullYear(w+1,0,b),E.setUTCHours(0,0,0,0);var A=gd(E,t),k=new Date(0);k.setUTCFullYear(w,0,b),k.setUTCHours(0,0,0,0);var S=gd(k,t);return y.getTime()>=A.getTime()?w+1:y.getTime()>=S.getTime()?w:w-1}function RN(e,t){var n,r,s,a,l,c,h,p;jr(1,arguments);var y=Yd(),w=$o((n=(r=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(l=t.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:y.firstWeekContainsDate)!==null&&r!==void 0?r:(h=y.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&n!==void 0?n:1),v=$4(e,t),b=new Date(0);b.setUTCFullYear(v,0,w),b.setUTCHours(0,0,0,0);var E=gd(b,t);return E}var DN=6048e5;function MN(e,t){jr(1,arguments);var n=js(e),r=gd(n,t).getTime()-RN(n,t).getTime();return Math.round(r/DN)+1}function kn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Ao={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return kn(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):kn(r+1,2)},d:function(t,n){return kn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return kn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return kn(t.getUTCHours(),n.length)},m:function(t,n){return kn(t.getUTCMinutes(),n.length)},s:function(t,n){return kn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),a=Math.floor(s*Math.pow(10,r-3));return kn(a,n.length)}},mu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},BN={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return Ao.y(t,n)},Y:function(t,n,r,s){var a=$4(t,s),l=a>0?a:1-a;if(n==="YY"){var c=l%100;return kn(c,2)}return n==="Yo"?r.ordinalNumber(l,{unit:"year"}):kn(l,n.length)},R:function(t,n){var r=Q4(t);return kn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return kn(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return kn(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return kn(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return Ao.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return kn(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var a=MN(t,s);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):kn(a,n.length)},I:function(t,n,r){var s=ON(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):kn(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ao.d(t,n)},D:function(t,n,r){var s=LN(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):kn(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var a=t.getUTCDay(),l=(a-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(l);case"ee":return kn(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var a=t.getUTCDay(),l=(a-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(l);case"cc":return kn(l,n.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),a=s===0?7:s;switch(n){case"i":return String(a);case"ii":return kn(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),a=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),a;switch(s===12?a=mu.noon:s===0?a=mu.midnight:a=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),a;switch(s>=17?a=mu.evening:s>=12?a=mu.afternoon:s>=4?a=mu.morning:a=mu.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ao.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ao.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):kn(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):kn(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ao.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ao.s(t,n)},S:function(t,n){return Ao.S(t,n)},X:function(t,n,r,s){var a=s._originalDate||t,l=a.getTimezoneOffset();if(l===0)return"Z";switch(n){case"X":return sw(l);case"XXXX":case"XX":return _l(l);case"XXXXX":case"XXX":default:return _l(l,":")}},x:function(t,n,r,s){var a=s._originalDate||t,l=a.getTimezoneOffset();switch(n){case"x":return sw(l);case"xxxx":case"xx":return _l(l);case"xxxxx":case"xxx":default:return _l(l,":")}},O:function(t,n,r,s){var a=s._originalDate||t,l=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+iw(l,":");case"OOOO":default:return"GMT"+_l(l,":")}},z:function(t,n,r,s){var a=s._originalDate||t,l=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+iw(l,":");case"zzzz":default:return"GMT"+_l(l,":")}},t:function(t,n,r,s){var a=s._originalDate||t,l=Math.floor(a.getTime()/1e3);return kn(l,n.length)},T:function(t,n,r,s){var a=s._originalDate||t,l=a.getTime();return kn(l,n.length)}};function iw(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),a=r%60;if(a===0)return n+String(s);var l=t;return n+String(s)+l+kn(a,2)}function sw(e,t){if(e%60===0){var n=e>0?"-":"+";return n+kn(Math.abs(e)/60,2)}return _l(e,t)}function _l(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),a=kn(Math.floor(s/60),2),l=kn(s%60,2);return r+a+n+l}var aw=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Z4=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},FN=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return aw(t,n);var l;switch(s){case"P":l=n.dateTime({width:"short"});break;case"PP":l=n.dateTime({width:"medium"});break;case"PPP":l=n.dateTime({width:"long"});break;case"PPPP":default:l=n.dateTime({width:"full"});break}return l.replace("{{date}}",aw(s,n)).replace("{{time}}",Z4(a,n))},jN={p:Z4,P:FN},UN=["D","DD"],zN=["YY","YYYY"];function qN(e){return UN.indexOf(e)!==-1}function WN(e){return zN.indexOf(e)!==-1}function ow(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var VN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},HN=function(t,n,r){var s,a=VN[t];return typeof a=="string"?s=a:n===1?s=a.one:s=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function i2(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var GN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},KN={date:i2({formats:GN,defaultWidth:"full"}),time:i2({formats:XN,defaultWidth:"full"}),dateTime:i2({formats:YN,defaultWidth:"full"})},QN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$N=function(t,n,r,s){return QN[t]};function Uc(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{var c=e.defaultWidth,h=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[h]||e.values[c]}var p=e.argumentCallback?e.argumentCallback(t):t;return s[p]}}var ZN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},e7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},t7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},n7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},r7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},i7=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},s7={ordinalNumber:i7,era:Uc({values:ZN,defaultWidth:"wide"}),quarter:Uc({values:JN,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Uc({values:e7,defaultWidth:"wide"}),day:Uc({values:t7,defaultWidth:"wide"}),dayPeriod:Uc({values:n7,defaultWidth:"wide",formattingValues:r7,defaultFormattingWidth:"wide"})};function zc(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;var l=a[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(c)?o7(c,function(w){return w.test(l)}):a7(c,function(w){return w.test(l)}),p;p=e.valueCallback?e.valueCallback(h):h,p=n.valueCallback?n.valueCallback(p):p;var y=t.slice(l.length);return{value:p,rest:y}}}function a7(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function o7(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function l7(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],a=t.match(e.parsePattern);if(!a)return null;var l=e.valueCallback?e.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;var c=t.slice(s.length);return{value:l,rest:c}}}var u7=/^(\d+)(th|st|nd|rd)?/i,c7=/\d+/i,f7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},h7={any:[/^b/i,/^(a|c)/i]},d7={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},p7={any:[/1/i,/2/i,/3/i,/4/i]},g7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},m7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},y7={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},w7={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},x7={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},v7={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},b7={ordinalNumber:l7({matchPattern:u7,parsePattern:c7,valueCallback:function(t){return parseInt(t,10)}}),era:zc({matchPatterns:f7,defaultMatchWidth:"wide",parsePatterns:h7,defaultParseWidth:"any"}),quarter:zc({matchPatterns:d7,defaultMatchWidth:"wide",parsePatterns:p7,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:zc({matchPatterns:g7,defaultMatchWidth:"wide",parsePatterns:m7,defaultParseWidth:"any"}),day:zc({matchPatterns:y7,defaultMatchWidth:"wide",parsePatterns:w7,defaultParseWidth:"any"}),dayPeriod:zc({matchPatterns:x7,defaultMatchWidth:"any",parsePatterns:v7,defaultParseWidth:"any"})},A7={code:"en-US",formatDistance:HN,formatLong:KN,formatRelative:$N,localize:s7,match:b7,options:{weekStartsOn:0,firstWeekContainsDate:1}},E7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,C7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S7=/^'([^]*?)'?$/,N7=/''/g,_7=/[a-zA-Z]/;function ds(e,t,n){var r,s,a,l,c,h,p,y,w,v,b,E,A,k;jr(2,arguments);var S=String(t),_=Yd(),L=(r=(s=void 0)!==null&&s!==void 0?s:_.locale)!==null&&r!==void 0?r:A7,z=$o((a=(l=(c=(h=void 0)!==null&&h!==void 0?h:void 0)!==null&&c!==void 0?c:_.firstWeekContainsDate)!==null&&l!==void 0?l:(p=_.locale)===null||p===void 0||(y=p.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(z>=1&&z<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var H=$o((w=(v=(b=(E=void 0)!==null&&E!==void 0?E:void 0)!==null&&b!==void 0?b:_.weekStartsOn)!==null&&v!==void 0?v:(A=_.locale)===null||A===void 0||(k=A.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&w!==void 0?w:0);if(!(H>=0&&H<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!L.localize)throw new RangeError("locale must contain localize property");if(!L.formatLong)throw new RangeError("locale must contain formatLong property");var M=js(e);if(!_N(M))throw new RangeError("Invalid time value");var D=CN(M),q=IN(M,D),F={firstWeekContainsDate:z,weekStartsOn:H,locale:L,_originalDate:M},oe=S.match(C7).map(function(W){var X=W[0];if(X==="p"||X==="P"){var ae=jN[X];return ae(W,L.formatLong)}return W}).join("").match(E7).map(function(W){if(W==="''")return"'";var X=W[0];if(X==="'")return I7(W);var ae=BN[X];if(ae)return WN(W)&&ow(W,t,String(e)),qN(W)&&ow(W,t,String(e)),ae(q,W,L.localize,F);if(X.match(_7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");return W}).join("");return oe}function I7(e){var t=e.match(S7);return t?t[1].replace(N7,"'"):e}function s2(e){return jr(1,arguments),js(e).getTime()>Date.now()}function gf(e){return jr(1,arguments),SN(e,Date.now())}function mf(e,t){var n;jr(1,arguments);var r=$o((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=P7(e),a;if(s.date){var l=O7(s.date,r);a=R7(l.restDateString,l.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var c=a.getTime(),h=0,p;if(s.time&&(h=D7(s.time),isNaN(h)))return new Date(NaN);if(s.timezone){if(p=M7(s.timezone),isNaN(p))return new Date(NaN)}else{var y=new Date(c+h),w=new Date(0);return w.setFullYear(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()),w.setHours(y.getUTCHours(),y.getUTCMinutes(),y.getUTCSeconds(),y.getUTCMilliseconds()),w}return new Date(c+h+p)}var r1={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},T7=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,L7=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,k7=/^([+-])(\d{2})(?::?(\d{2}))?$/;function P7(e){var t={},n=e.split(r1.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],r1.timeZoneDelimiter.test(t.date)&&(t.date=e.split(r1.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var s=r1.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function O7(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?s:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function R7(e,t){if(t===null)return new Date(NaN);var n=e.match(T7);if(!n)return new Date(NaN);var r=!!n[4],s=qc(n[1]),a=qc(n[2])-1,l=qc(n[3]),c=qc(n[4]),h=qc(n[5])-1;if(r)return z7(t,c,h)?B7(t,c,h):new Date(NaN);var p=new Date(0);return!j7(t,a,l)||!U7(t,s)?new Date(NaN):(p.setUTCFullYear(t,a,Math.max(s,l)),p)}function qc(e){return e?parseInt(e):1}function D7(e){var t=e.match(L7);if(!t)return NaN;var n=a2(t[1]),r=a2(t[2]),s=a2(t[3]);return q7(n,r,s)?n*K4+r*Y4+s*1e3:NaN}function a2(e){return e&&parseFloat(e.replace(",","."))||0}function M7(e){if(e==="Z")return 0;var t=e.match(k7);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return W7(r,s)?n*(r*K4+s*Y4):NaN}function B7(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,a=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+a),r}var F7=[31,null,31,30,31,30,31,31,30,31,30,31];function J4(e){return e%400===0||e%4===0&&e%100!==0}function j7(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(F7[t]||(J4(e)?29:28))}function U7(e,t){return t>=1&&t<=(J4(e)?366:365)}function z7(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function q7(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function W7(e,t){return t>=0&&t<=59}const Zo=({title:e,showBack:t=!1,rightAction:n=null})=>{const r=Fs();return R.jsx("header",{className:"bg-black border-b border-gray-800 sticky top-0 z-50",children:R.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[R.jsxs("div",{className:"flex items-center gap-4",children:[t&&R.jsx("button",{onClick:()=>r(-1),className:"text-white hover:text-gray-300",children:R.jsx(iC,{size:24})}),R.jsxs("div",{children:[R.jsx("div",{className:"flex items-center gap-2",children:R.jsx("span",{className:"text-2xl font-bold",children:"EX"})}),R.jsx("p",{className:"text-xs text-gray-400",children:"EventsX - Powered by Robocorp"})]})]}),e&&R.jsx("h1",{className:"text-lg font-semibold absolute left-1/2 transform -translate-x-1/2",children:e}),n&&R.jsx("div",{children:n})]})})},V7=()=>{const e=Fs(),{user:t,logout:n,isSuperAdmin:r}=Zl(),s=Qp(()=>ti.events.toArray(),[]),a=Qp(()=>ti.users.toArray(),[]);Ze.useEffect(()=>{(!t||!r())&&e("/login")},[t]);const l=()=>{n(),e("/login")};return!s||!a?R.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:R.jsx("p",{className:"text-gray-400",children:"Loading..."})}):R.jsxs("div",{className:"min-h-screen bg-black",children:[R.jsx(Zo,{rightAction:R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsxs("button",{onClick:()=>e("/new"),className:"btn-primary flex items-center gap-2",children:[R.jsx(Wu,{size:20}),"New Event"]}),R.jsxs("button",{onClick:l,className:"btn-secondary flex items-center gap-2",children:[R.jsx(yp,{size:18}),"Logout"]})]})}),R.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[R.jsxs("div",{className:"mb-6",children:[R.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Super Admin Dashboard"}),R.jsx("p",{className:"text-gray-400",children:"Full system access"})]}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[R.jsx("div",{className:"bg-dark-lighter border border-gray-800 rounded-lg p-6",children:R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{children:[R.jsx("p",{className:"text-gray-400 text-sm",children:"Total Events"}),R.jsx("p",{className:"text-3xl font-bold text-primary",children:(s==null?void 0:s.length)||0})]}),R.jsx(Fl,{size:40,className:"text-gray-600"})]})}),R.jsx("div",{className:"bg-dark-lighter border border-gray-800 rounded-lg p-6",children:R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{children:[R.jsx("p",{className:"text-gray-400 text-sm",children:"Total Users"}),R.jsx("p",{className:"text-3xl font-bold text-primary",children:(a==null?void 0:a.length)||0})]}),R.jsx(vp,{size:40,className:"text-gray-600"})]})}),R.jsx("div",{className:"bg-dark-lighter border border-gray-800 rounded-lg p-6",children:R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{children:[R.jsx("p",{className:"text-gray-400 text-sm",children:"Event Owners"}),R.jsx("p",{className:"text-3xl font-bold text-primary",children:(a==null?void 0:a.filter(c=>c.role==="owner").length)||0})]}),R.jsx(vp,{size:40,className:"text-gray-600"})]})})]}),R.jsxs("div",{className:"mb-8",children:[R.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Events"}),!s||s.length===0?R.jsxs("div",{className:"text-center py-20 bg-dark-lighter rounded-lg border border-gray-800",children:[R.jsx(Fl,{size:64,className:"mx-auto text-gray-600 mb-4"}),R.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Events Yet"}),R.jsx("p",{className:"text-gray-400 mb-6",children:"Create the first event"}),R.jsxs("button",{onClick:()=>e("/new"),className:"btn-primary inline-flex items-center gap-2",children:[R.jsx(Wu,{size:20}),"Create Event"]})]}):R.jsx("div",{className:"grid gap-4",children:s.map(c=>R.jsx("div",{onClick:()=>e(`/${c.id}`),className:"bg-dark-lighter border border-gray-800 rounded-lg p-5 cursor-pointer hover:border-primary transition-colors",children:R.jsxs("div",{className:"flex items-start gap-4",children:[c.logo&&R.jsx("img",{src:c.logo,alt:c.title,className:"w-16 h-16 object-cover rounded"}),R.jsx("div",{className:"flex-1",children:R.jsxs("div",{className:"flex items-start justify-between",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg font-semibold mb-2",children:c.title}),R.jsxs("div",{className:"space-y-1 text-sm text-gray-400",children:[c.date&&R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(Fl,{size:16}),ds(new Date(c.date),"PPP")]}),c.venue&&R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(y3,{size:16}),c.venue]})]})]}),R.jsxs("span",{className:"text-xs bg-primary/20 text-primary px-2 py-1 rounded",children:["Owner ID: ",c.ownerId]})]})})]})},c.id))})]})]})]})},H7=()=>{const e=Fs(),{user:t,logout:n,isSuperAdmin:r}=Zl(),s=Qp(()=>ti.events.toArray(),[]),[a,l]=Ze.useState(null),c=s?[...s].sort((v,b)=>{if(!v.date&&!b.date)return 0;if(!v.date)return 1;if(!b.date)return-1;const E=new Date(v.date),A=new Date(b.date);if(isNaN(E.getTime())&&isNaN(A.getTime()))return 0;if(isNaN(E.getTime()))return 1;if(isNaN(A.getTime()))return-1;const k=gf(E),S=gf(A),_=s2(E),L=s2(A);return k&&!S?-1:!k&&S?1:_&&!L&&!S?-1:!_&&L&&!k?1:_&&L?E-A:!_&&!L&&!k&&!S?A-E:E-A}):[],h=()=>{n(),e("/events")},p=(v,b)=>{b.stopPropagation();const E=`${window.location.origin}/event/${v}`;navigator.clipboard.writeText(E),l(v),setTimeout(()=>l(null),2e3)},y=v=>gf(new Date(v))?R.jsx("span",{className:"text-green-500 font-semibold",children:"Today"}):s2(new Date(v))?R.jsx("span",{className:"text-blue-500",children:"Upcoming"}):R.jsx("span",{className:"text-gray-500",children:"Past"}),w=()=>r()?R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("button",{onClick:()=>e("/admin"),className:"btn-secondary flex items-center gap-2",children:"Admin Panel"}),R.jsxs("button",{onClick:()=>e("/new"),className:"btn-primary flex items-center gap-2",children:[R.jsx(Wu,{size:20}),"New Event"]}),R.jsx("button",{onClick:h,className:"btn-secondary flex items-center gap-2",children:R.jsx(yp,{size:18})})]}):R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsxs("button",{onClick:()=>e("/new"),className:"btn-primary flex items-center gap-2",children:[R.jsx(Wu,{size:20}),"New Event"]}),t&&R.jsx("button",{onClick:h,className:"btn-secondary flex items-center gap-2",children:R.jsx(yp,{size:18})})]});return s===void 0?R.jsxs("div",{className:"min-h-screen bg-black",children:[R.jsx(Zo,{rightAction:w()}),R.jsx("div",{className:"flex items-center justify-center py-20",children:R.jsx("p",{className:"text-gray-400",children:"Loading events..."})})]}):R.jsxs("div",{className:"min-h-screen bg-black",children:[R.jsx(Zo,{rightAction:w()}),R.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[R.jsxs("div",{className:"mb-6",children:[R.jsx("h1",{className:"text-2xl font-bold",children:r()?"All Events - Admin View":"Events"}),R.jsx("p",{className:"text-gray-400",children:t?R.jsxs(R.Fragment,{children:["Welcome back, ",t.email,r()&&R.jsx("span",{className:"text-primary ml-2",children:"(Super Admin)"})]}):"Browse, create, and register for events"})]}),c.length===0?R.jsxs("div",{className:"text-center py-20",children:[R.jsx(Fl,{size:64,className:"mx-auto text-gray-600 mb-4"}),R.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No Events Yet"}),R.jsx("p",{className:"text-gray-400 mb-6",children:"Create your first event to get started"}),R.jsxs("button",{onClick:()=>e("/new"),className:"btn-primary inline-flex items-center gap-2",children:[R.jsx(Wu,{size:20}),"Create Event"]})]}):R.jsx("div",{className:"grid gap-4",children:c.map(v=>R.jsx("div",{onClick:()=>e(`/${v.id}`),className:"bg-dark-lighter border border-gray-800 rounded-lg p-5 cursor-pointer hover:border-primary transition-colors",children:R.jsxs("div",{className:"flex items-start gap-4",children:[R.jsx("div",{className:"flex-shrink-0",children:v.image?R.jsx("img",{src:v.image,alt:v.title,className:"w-20 h-20 object-cover rounded"}):v.logo?R.jsx("img",{src:v.logo,alt:v.title,className:"w-20 h-20 object-cover rounded"}):R.jsx("div",{className:"w-20 h-20 bg-dark-light rounded flex items-center justify-center",children:R.jsx(Fl,{size:32,className:"text-gray-600"})})}),R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[R.jsx("h3",{className:"text-lg font-semibold truncate",children:v.title}),v.date&&y(v.date)]}),R.jsxs("div",{className:"space-y-1 text-sm text-gray-400",children:[v.date&&R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(Fl,{size:16}),(()=>{try{return ds(new Date(v.date),"PPP")}catch{return v.date}})()]}),v.venue&&R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(y3,{size:16}),R.jsx("span",{className:"truncate",children:v.venue})]})]})]}),R.jsx("div",{className:"flex-shrink-0",children:R.jsx("button",{onClick:b=>p(v.id,b),className:"p-2 bg-dark-light rounded-full hover:bg-gray-700 transition-colors",title:"Copy event link",children:a===v.id?R.jsx(oC,{size:18,className:"text-green-500"}):R.jsx(w3,{size:18,className:"text-gray-400"})})})]})},v.id))})]})]})},eb=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}),tb=(e,t=800,n=800)=>new Promise(r=>{const s=new Image;s.onload=()=>{const a=document.createElement("canvas");let l=s.width,c=s.height;l>c?l>t&&(c*=t/l,l=t):c>n&&(l*=n/c,c=n),a.width=l,a.height=c,a.getContext("2d").drawImage(s,0,0,l,c),r(a.toDataURL("image/jpeg",.8))},s.src=e}),Wc=({title:e,items:t,onChange:n,fields:r})=>{const s=()=>{const h={};r.forEach(p=>{h[p.name]=p.type==="image"?null:""}),n([...t,h])},a=h=>{n(t.filter((p,y)=>y!==h))},l=(h,p,y)=>{const w=[...t];w[h]={...w[h],[p]:y},n(w)},c=async(h,p,y)=>{if(y)try{const w=await eb(y),v=await tb(w,400,400);l(h,p,v)}catch(w){console.error("Error uploading image:",w),alert("Failed to upload image")}};return R.jsxs("div",{className:"mb-6",children:[R.jsxs("div",{className:"flex items-center justify-between mb-3",children:[R.jsx("label",{className:"block text-sm font-medium text-gray-300",children:e}),R.jsxs("button",{type:"button",onClick:s,className:"flex items-center gap-1 text-primary hover:text-primary-dark text-sm",children:[R.jsx(Wu,{size:16}),"Add"]})]}),R.jsxs("div",{className:"space-y-3",children:[t.map((h,p)=>R.jsx("div",{className:"bg-dark-lighter p-4 rounded-lg border border-gray-800",children:R.jsxs("div",{className:"flex items-start gap-3",children:[R.jsx("div",{className:"flex-1 space-y-3",children:r.map(y=>R.jsx("div",{children:y.type==="image"?R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:y.label}),R.jsxs("div",{className:"flex items-center gap-3",children:[h[y.name]&&R.jsx("img",{src:h[y.name],alt:y.label,className:"w-16 h-16 object-cover rounded"}),R.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-dark-light rounded cursor-pointer hover:bg-gray-700 text-sm",children:[R.jsx(xp,{size:16}),h[y.name]?"Change":"Upload",R.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:w=>c(p,y.name,w.target.files[0])})]})]})]}):R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:y.label}),R.jsx("input",{type:"text",value:h[y.name]||"",onChange:w=>l(p,y.name,w.target.value),placeholder:y.placeholder,className:"w-full"})]})},y.name))}),R.jsx("button",{type:"button",onClick:()=>a(p),className:"text-red-500 hover:text-red-400 mt-1",children:R.jsx(pC,{size:18})})]})},p)),t.length===0&&R.jsxs("p",{className:"text-gray-500 text-sm text-center py-4",children:["No ",e.toLowerCase(),' added yet. Click "Add" to create one.']})]})]})},lw=()=>{const e=Fs(),{id:t}=th(),{user:n,canEditEvent:r,login:s}=Zl(),a=!!t;Ze.useEffect(()=>{a&&l()},[n,t]);const l=async()=>{try{const S=await sc(parseInt(t));(!n||!r(S.ownerId))&&(alert("Only Super Admin can edit events. Events cannot be edited after creation."),e("/events"))}catch(S){console.error("Error checking permissions:",S)}},[c,h]=Ze.useState({title:"",description:"",date:"",venue:"",organisers:[],logo:null,image:null,guestsOfHonour:[],speakers:[],sponsors:[],media:[],creatorEmail:"",creatorPassword:"",creatorContact:"",creatorCountryCode:"+65"}),[p,y]=Ze.useState(!1),[w,v]=Ze.useState(!a);Ze.useEffect(()=>{a&&b()},[t]);const b=async()=>{try{const S=await sc(parseInt(t));S&&h(S)}catch(S){console.error("Error loading event:",S),alert("Failed to load event")}},E=(S,_)=>{h(L=>({...L,[S]:_}))},A=async(S,_)=>{if(_)try{const L=await eb(_),z=await tb(L,800,800);E(S,z)}catch(L){console.error("Error uploading image:",L),alert("Failed to upload image")}},k=async S=>{if(S.preventDefault(),!c.title||!c.date){alert("Please fill in title and date");return}if(!a&&!n){if(!c.creatorEmail||!c.creatorPassword||!c.creatorContact){alert("Please fill in your registration details (Email, Password, Contact)");return}if(c.creatorPassword.length<6){alert("Password must be at least 6 characters");return}}y(!0);try{let _=n==null?void 0:n.id;if(!a&&!n)try{_=await X4({email:c.creatorEmail,password:c.creatorPassword,contact:`${c.creatorCountryCode} ${c.creatorContact}`});const H=await Kp(c.creatorEmail,c.creatorPassword);s(H)}catch(H){if(H.message.includes("already exists"))try{const M=await Kp(c.creatorEmail,c.creatorPassword);s(M),_=M.id}catch{alert("Email already exists. Please use correct password or use a different email."),y(!1);return}else throw H}const L={...c,id:a?parseInt(t):void 0,ownerId:_,updatedAt:new Date().toISOString(),creatorEmail:void 0,creatorPassword:void 0,creatorContact:void 0,creatorCountryCode:void 0};a||(L.createdAt=new Date().toISOString());const z=await mN(L);e("/events")}catch(_){console.error("Error saving event:",_),alert("Failed to save event: "+_.message)}finally{y(!1)}};return R.jsxs("div",{className:"min-h-screen bg-black",children:[R.jsx(Zo,{title:a?"Edit Event":"New Event",showBack:!0}),R.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:R.jsxs("form",{onSubmit:k,className:"space-y-6",children:[!a&&!n&&R.jsxs("div",{className:"bg-primary/10 border border-primary rounded-lg p-6 space-y-4",children:[R.jsx("h2",{className:"text-xl font-semibold text-primary",children:"Your Registration Details"}),R.jsx("p",{className:"text-sm text-gray-400",children:"Register to create and manage your event. If you already have an account, use the same email and password."}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),R.jsx("input",{type:"email",value:c.creatorEmail,onChange:S=>E("creatorEmail",S.target.value),placeholder:"your@email.com",required:!n})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password *"}),R.jsx("input",{type:"password",value:c.creatorPassword,onChange:S=>E("creatorPassword",S.target.value),placeholder:"At least 6 characters",required:!n})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Contact Number *"}),R.jsxs("div",{className:"flex gap-2",children:[R.jsxs("select",{value:c.creatorCountryCode,onChange:S=>E("creatorCountryCode",S.target.value),className:"w-32",children:[R.jsx("option",{value:"+65",children:"+65 (SG)"}),R.jsx("option",{value:"+1",children:"+1 (US)"}),R.jsx("option",{value:"+44",children:"+44 (UK)"}),R.jsx("option",{value:"+91",children:"+91 (IN)"}),R.jsx("option",{value:"+86",children:"+86 (CN)"}),R.jsx("option",{value:"+81",children:"+81 (JP)"}),R.jsx("option",{value:"+82",children:"+82 (KR)"}),R.jsx("option",{value:"+61",children:"+61 (AU)"})]}),R.jsx("input",{type:"tel",value:c.creatorContact,onChange:S=>E("creatorContact",S.target.value),placeholder:"Phone number",className:"flex-1",required:!n})]})]})]}),R.jsxs("div",{className:"bg-dark-lighter border border-gray-800 rounded-lg p-6 space-y-6",children:[R.jsx("h2",{className:"text-xl font-semibold",children:"Event Details"}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Event Date"}),R.jsx("input",{type:"date",value:c.date,onChange:S=>E("date",S.target.value),required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),R.jsx("input",{type:"text",value:c.title,onChange:S=>E("title",S.target.value),placeholder:"Event title",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),R.jsx("textarea",{value:c.description,onChange:S=>E("description",S.target.value),placeholder:"Event description here",rows:4})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Venue"}),R.jsx("input",{type:"text",value:c.venue,onChange:S=>E("venue",S.target.value),placeholder:"Venue"})]}),R.jsx(Wc,{title:"Organisers",items:c.organisers,onChange:S=>E("organisers",S),fields:[{name:"name",label:"Name",placeholder:"Name",type:"text"},{name:"detail",label:"Detail",placeholder:"Detail",type:"text"}]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Logo"}),R.jsxs("div",{className:"flex items-center gap-4",children:[c.logo&&R.jsx("img",{src:c.logo,alt:"Logo",className:"w-20 h-20 object-cover rounded"}),R.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-dark-light rounded cursor-pointer hover:bg-gray-700",children:[R.jsx(xp,{size:18}),c.logo?"Change Logo":"Choose Logo",R.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:S=>A("logo",S.target.files[0])})]})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Event Image"}),R.jsxs("div",{className:"flex items-center gap-4",children:[c.image&&R.jsx("img",{src:c.image,alt:"Event",className:"w-32 h-20 object-cover rounded"}),R.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-dark-light rounded cursor-pointer hover:bg-gray-700",children:[R.jsx(xp,{size:18}),c.image?"Change Image":"Choose Image",R.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:S=>A("image",S.target.files[0])})]})]})]}),R.jsx(Wc,{title:"Guests of Honour",items:c.guestsOfHonour,onChange:S=>E("guestsOfHonour",S),fields:[{name:"name",label:"Name",placeholder:"Name",type:"text"},{name:"title",label:"Title",placeholder:"Title/Position",type:"text"},{name:"photo",label:"Photo",type:"image"}]}),R.jsx(Wc,{title:"Speakers",items:c.speakers,onChange:S=>E("speakers",S),fields:[{name:"name",label:"Name",placeholder:"Name",type:"text"},{name:"title",label:"Title",placeholder:"Title/Position",type:"text"},{name:"photo",label:"Photo",type:"image"}]}),R.jsx(Wc,{title:"Sponsors",items:c.sponsors,onChange:S=>E("sponsors",S),fields:[{name:"name",label:"Name",placeholder:"Sponsor Name",type:"text"},{name:"logo",label:"Logo",type:"image"}]}),R.jsx(Wc,{title:"Media Partners",items:c.media,onChange:S=>E("media",S),fields:[{name:"name",label:"Name",placeholder:"Media Name",type:"text"},{name:"logo",label:"Logo",type:"image"}]})]}),R.jsx("button",{type:"submit",disabled:p,className:"btn-primary w-full",children:p?"Saving...":a?"Update Event":"Create Event"})]})})]})},G7=({tabs:e,activeTab:t,onTabChange:n})=>R.jsx("div",{className:"flex border-b border-gray-800 mb-6",children:e.map(r=>R.jsx("button",{onClick:()=>n(r.id),className:`px-4 py-3 font-medium transition-colors ${t===r.id?"text-white border-b-2 border-primary":"text-gray-400 hover:text-gray-300"}`,children:r.label},r.id))}),uw=(e,t)=>{if(!e||e.length===0){alert("No data to export");return}const n=Object.keys(e[0]),r=[n.join(","),...e.map(c=>n.map(h=>{const p=c[h]||"";return`"${String(p).replace(/"/g,'""')}"`}).join(","))].join(`
`),s=new Blob([r],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),l=URL.createObjectURL(s);a.setAttribute("href",l),a.setAttribute("download",t),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},cw=(e,t=!1)=>e.map(n=>({Name:n.name,Email:n.email,Contact:n.contact||"",Notes:n.notes||"",Attended:t?n.attended?"Yes":"No":"Registered","Registration Date":new Date(n.registeredAt).toLocaleString()}));var lh={},X7=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},nb={},vs={};let Mm;const Y7=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];vs.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};vs.getSymbolTotalCodewords=function(t){return Y7[t]};vs.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};vs.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Mm=t};vs.isKanjiModeEnabled=function(){return typeof Mm<"u"};vs.toSJIS=function(t){return Mm(t)};var Kd={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,s){if(e.isValid(r))return r;try{return t(r)}catch{return s}}})(Kd);function rb(){this.buffer=[],this.length=0}rb.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var K7=rb;function uh(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}uh.prototype.set=function(e,t,n,r){const s=e*this.size+t;this.data[s]=n,r&&(this.reservedBit[s]=!0)};uh.prototype.get=function(e,t){return this.data[e*this.size+t]};uh.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};uh.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var Q7=uh,ib={};(function(e){const t=vs.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,a=t(r),l=a===145?26:Math.ceil((a-13)/(2*s-2))*2,c=[a-7];for(let h=1;h<s-1;h++)c[h]=c[h-1]-l;return c.push(6),c.reverse()},e.getPositions=function(r){const s=[],a=e.getRowColCoords(r),l=a.length;for(let c=0;c<l;c++)for(let h=0;h<l;h++)c===0&&h===0||c===0&&h===l-1||c===l-1&&h===0||s.push([a[c],a[h]]);return s}})(ib);var sb={};const $7=vs.getSymbolSize,fw=7;sb.getPositions=function(t){const n=$7(t);return[[0,0],[n-fw,0],[0,n-fw]]};var ab={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const a=s.size;let l=0,c=0,h=0,p=null,y=null;for(let w=0;w<a;w++){c=h=0,p=y=null;for(let v=0;v<a;v++){let b=s.get(w,v);b===p?c++:(c>=5&&(l+=t.N1+(c-5)),p=b,c=1),b=s.get(v,w),b===y?h++:(h>=5&&(l+=t.N1+(h-5)),y=b,h=1)}c>=5&&(l+=t.N1+(c-5)),h>=5&&(l+=t.N1+(h-5))}return l},e.getPenaltyN2=function(s){const a=s.size;let l=0;for(let c=0;c<a-1;c++)for(let h=0;h<a-1;h++){const p=s.get(c,h)+s.get(c,h+1)+s.get(c+1,h)+s.get(c+1,h+1);(p===4||p===0)&&l++}return l*t.N2},e.getPenaltyN3=function(s){const a=s.size;let l=0,c=0,h=0;for(let p=0;p<a;p++){c=h=0;for(let y=0;y<a;y++)c=c<<1&2047|s.get(p,y),y>=10&&(c===1488||c===93)&&l++,h=h<<1&2047|s.get(y,p),y>=10&&(h===1488||h===93)&&l++}return l*t.N3},e.getPenaltyN4=function(s){let a=0;const l=s.data.length;for(let h=0;h<l;h++)a+=s.data[h];return Math.abs(Math.ceil(a*100/l/5)-10)*t.N4};function n(r,s,a){switch(r){case e.Patterns.PATTERN000:return(s+a)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(s+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return s*a%2+s*a%3===0;case e.Patterns.PATTERN110:return(s*a%2+s*a%3)%2===0;case e.Patterns.PATTERN111:return(s*a%3+(s+a)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(s,a){const l=a.size;for(let c=0;c<l;c++)for(let h=0;h<l;h++)a.isReserved(h,c)||a.xor(h,c,n(s,h,c))},e.getBestMask=function(s,a){const l=Object.keys(e.Patterns).length;let c=0,h=1/0;for(let p=0;p<l;p++){a(p),e.applyMask(p,s);const y=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(p,s),y<h&&(h=y,c=p)}return c}})(ab);var Qd={};const Do=Kd,i1=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],s1=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Qd.getBlocksCount=function(t,n){switch(n){case Do.L:return i1[(t-1)*4+0];case Do.M:return i1[(t-1)*4+1];case Do.Q:return i1[(t-1)*4+2];case Do.H:return i1[(t-1)*4+3];default:return}};Qd.getTotalCodewordsCount=function(t,n){switch(n){case Do.L:return s1[(t-1)*4+0];case Do.M:return s1[(t-1)*4+1];case Do.Q:return s1[(t-1)*4+2];case Do.H:return s1[(t-1)*4+3];default:return}};var ob={},$d={};const yf=new Uint8Array(512),md=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)yf[n]=t,md[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)yf[n]=yf[n-255]})();$d.log=function(t){if(t<1)throw new Error("log("+t+")");return md[t]};$d.exp=function(t){return yf[t]};$d.mul=function(t,n){return t===0||n===0?0:yf[md[t]+md[n]]};(function(e){const t=$d;e.mul=function(r,s){const a=new Uint8Array(r.length+s.length-1);for(let l=0;l<r.length;l++)for(let c=0;c<s.length;c++)a[l+c]^=t.mul(r[l],s[c]);return a},e.mod=function(r,s){let a=new Uint8Array(r);for(;a.length-s.length>=0;){const l=a[0];for(let h=0;h<s.length;h++)a[h]^=t.mul(s[h],l);let c=0;for(;c<a.length&&a[c]===0;)c++;a=a.slice(c)}return a},e.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let a=0;a<r;a++)s=e.mul(s,new Uint8Array([1,t.exp(a)]));return s}})(ob);const lb=ob;function Bm(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Bm.prototype.initialize=function(t){this.degree=t,this.genPoly=lb.generateECPolynomial(this.degree)};Bm.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=lb.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const a=new Uint8Array(this.degree);return a.set(r,s),a}return r};var Z7=Bm,ub={},sl={},Fm={};Fm.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Ca={};const cb="[0-9]+",J7="[A-Z $%*+\\-./:]+";let Xf="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Xf=Xf.replace(/u/g,"\\u");const e_="(?:(?![A-Z0-9 $%*+\\-./:]|"+Xf+`)(?:.|[\r
]))+`;Ca.KANJI=new RegExp(Xf,"g");Ca.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ca.BYTE=new RegExp(e_,"g");Ca.NUMERIC=new RegExp(cb,"g");Ca.ALPHANUMERIC=new RegExp(J7,"g");const t_=new RegExp("^"+Xf+"$"),n_=new RegExp("^"+cb+"$"),r_=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ca.testKanji=function(t){return t_.test(t)};Ca.testNumeric=function(t){return n_.test(t)};Ca.testAlphanumeric=function(t){return r_.test(t)};(function(e){const t=Fm,n=Ca;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,l){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?a.ccBits[0]:l<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return n.testNumeric(a)?e.NUMERIC:n.testAlphanumeric(a)?e.ALPHANUMERIC:n.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(a,l){if(e.isValid(a))return a;try{return r(a)}catch{return l}}})(sl);(function(e){const t=vs,n=Qd,r=Kd,s=sl,a=Fm,l=7973,c=t.getBCHDigit(l);function h(v,b,E){for(let A=1;A<=40;A++)if(b<=e.getCapacity(A,E,v))return A}function p(v,b){return s.getCharCountIndicator(v,b)+4}function y(v,b){let E=0;return v.forEach(function(A){const k=p(A.mode,b);E+=k+A.getBitsLength()}),E}function w(v,b){for(let E=1;E<=40;E++)if(y(v,E)<=e.getCapacity(E,b,s.MIXED))return E}e.from=function(b,E){return a.isValid(b)?parseInt(b,10):E},e.getCapacity=function(b,E,A){if(!a.isValid(b))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=s.BYTE);const k=t.getSymbolTotalCodewords(b),S=n.getTotalCodewordsCount(b,E),_=(k-S)*8;if(A===s.MIXED)return _;const L=_-p(A,b);switch(A){case s.NUMERIC:return Math.floor(L/10*3);case s.ALPHANUMERIC:return Math.floor(L/11*2);case s.KANJI:return Math.floor(L/13);case s.BYTE:default:return Math.floor(L/8)}},e.getBestVersionForData=function(b,E){let A;const k=r.from(E,r.M);if(Array.isArray(b)){if(b.length>1)return w(b,k);if(b.length===0)return 1;A=b[0]}else A=b;return h(A.mode,A.getLength(),k)},e.getEncodedBits=function(b){if(!a.isValid(b)||b<7)throw new Error("Invalid QR Code version");let E=b<<12;for(;t.getBCHDigit(E)-c>=0;)E^=l<<t.getBCHDigit(E)-c;return b<<12|E}})(ub);var fb={};const $p=vs,hb=1335,i_=21522,hw=$p.getBCHDigit(hb);fb.getEncodedBits=function(t,n){const r=t.bit<<3|n;let s=r<<10;for(;$p.getBCHDigit(s)-hw>=0;)s^=hb<<$p.getBCHDigit(s)-hw;return(r<<10|s)^i_};var db={};const s_=sl;function ac(e){this.mode=s_.NUMERIC,this.data=e.toString()}ac.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};ac.prototype.getLength=function(){return this.data.length};ac.prototype.getBitsLength=function(){return ac.getBitsLength(this.data.length)};ac.prototype.write=function(t){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),t.put(s,10);const a=this.data.length-n;a>0&&(r=this.data.substr(n),s=parseInt(r,10),t.put(s,a*3+1))};var a_=ac;const o_=sl,o2=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function oc(e){this.mode=o_.ALPHANUMERIC,this.data=e}oc.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};oc.prototype.getLength=function(){return this.data.length};oc.prototype.getBitsLength=function(){return oc.getBitsLength(this.data.length)};oc.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=o2.indexOf(this.data[n])*45;r+=o2.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(o2.indexOf(this.data[n]),6)};var l_=oc;const u_=sl;function lc(e){this.mode=u_.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}lc.getBitsLength=function(t){return t*8};lc.prototype.getLength=function(){return this.data.length};lc.prototype.getBitsLength=function(){return lc.getBitsLength(this.data.length)};lc.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var c_=lc;const f_=sl,h_=vs;function uc(e){this.mode=f_.KANJI,this.data=e}uc.getBitsLength=function(t){return t*13};uc.prototype.getLength=function(){return this.data.length};uc.prototype.getBitsLength=function(){return uc.getBitsLength(this.data.length)};uc.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=h_.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var d_=uc,pb={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,s){var a={},l={};l[r]=0;var c=t.PriorityQueue.make();c.push(r,0);for(var h,p,y,w,v,b,E,A,k;!c.empty();){h=c.pop(),p=h.value,w=h.cost,v=n[p]||{};for(y in v)v.hasOwnProperty(y)&&(b=v[y],E=w+b,A=l[y],k=typeof l[y]>"u",(k||A>E)&&(l[y]=E,c.push(y,E),a[y]=p))}if(typeof s<"u"&&typeof l[s]>"u"){var S=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(S)}return a},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],a=r;a;)s.push(a),n[a],a=n[a];return s.reverse(),s},find_path:function(n,r,s){var a=t.single_source_shortest_paths(n,r,s);return t.extract_shortest_path_from_predecessor_list(a,s)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,s={},a;n=n||{};for(a in r)r.hasOwnProperty(a)&&(s[a]=r[a]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(pb);var p_=pb.exports;(function(e){const t=sl,n=a_,r=l_,s=c_,a=d_,l=Ca,c=vs,h=p_;function p(S){return unescape(encodeURIComponent(S)).length}function y(S,_,L){const z=[];let H;for(;(H=S.exec(L))!==null;)z.push({data:H[0],index:H.index,mode:_,length:H[0].length});return z}function w(S){const _=y(l.NUMERIC,t.NUMERIC,S),L=y(l.ALPHANUMERIC,t.ALPHANUMERIC,S);let z,H;return c.isKanjiModeEnabled()?(z=y(l.BYTE,t.BYTE,S),H=y(l.KANJI,t.KANJI,S)):(z=y(l.BYTE_KANJI,t.BYTE,S),H=[]),_.concat(L,z,H).sort(function(D,q){return D.index-q.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function v(S,_){switch(_){case t.NUMERIC:return n.getBitsLength(S);case t.ALPHANUMERIC:return r.getBitsLength(S);case t.KANJI:return a.getBitsLength(S);case t.BYTE:return s.getBitsLength(S)}}function b(S){return S.reduce(function(_,L){const z=_.length-1>=0?_[_.length-1]:null;return z&&z.mode===L.mode?(_[_.length-1].data+=L.data,_):(_.push(L),_)},[])}function E(S){const _=[];for(let L=0;L<S.length;L++){const z=S[L];switch(z.mode){case t.NUMERIC:_.push([z,{data:z.data,mode:t.ALPHANUMERIC,length:z.length},{data:z.data,mode:t.BYTE,length:z.length}]);break;case t.ALPHANUMERIC:_.push([z,{data:z.data,mode:t.BYTE,length:z.length}]);break;case t.KANJI:_.push([z,{data:z.data,mode:t.BYTE,length:p(z.data)}]);break;case t.BYTE:_.push([{data:z.data,mode:t.BYTE,length:p(z.data)}])}}return _}function A(S,_){const L={},z={start:{}};let H=["start"];for(let M=0;M<S.length;M++){const D=S[M],q=[];for(let F=0;F<D.length;F++){const oe=D[F],W=""+M+F;q.push(W),L[W]={node:oe,lastCount:0},z[W]={};for(let X=0;X<H.length;X++){const ae=H[X];L[ae]&&L[ae].node.mode===oe.mode?(z[ae][W]=v(L[ae].lastCount+oe.length,oe.mode)-v(L[ae].lastCount,oe.mode),L[ae].lastCount+=oe.length):(L[ae]&&(L[ae].lastCount=oe.length),z[ae][W]=v(oe.length,oe.mode)+4+t.getCharCountIndicator(oe.mode,_))}}H=q}for(let M=0;M<H.length;M++)z[H[M]].end=0;return{map:z,table:L}}function k(S,_){let L;const z=t.getBestModeForData(S);if(L=t.from(_,z),L!==t.BYTE&&L.bit<z.bit)throw new Error('"'+S+'" cannot be encoded with mode '+t.toString(L)+`.
 Suggested mode is: `+t.toString(z));switch(L===t.KANJI&&!c.isKanjiModeEnabled()&&(L=t.BYTE),L){case t.NUMERIC:return new n(S);case t.ALPHANUMERIC:return new r(S);case t.KANJI:return new a(S);case t.BYTE:return new s(S)}}e.fromArray=function(_){return _.reduce(function(L,z){return typeof z=="string"?L.push(k(z,null)):z.data&&L.push(k(z.data,z.mode)),L},[])},e.fromString=function(_,L){const z=w(_,c.isKanjiModeEnabled()),H=E(z),M=A(H,L),D=h.find_path(M.map,"start","end"),q=[];for(let F=1;F<D.length-1;F++)q.push(M.table[D[F]].node);return e.fromArray(b(q))},e.rawSplit=function(_){return e.fromArray(w(_,c.isKanjiModeEnabled()))}})(db);const Zd=vs,l2=Kd,g_=K7,m_=Q7,y_=ib,w_=sb,Zp=ab,Jp=Qd,x_=Z7,yd=ub,v_=fb,b_=sl,u2=db;function A_(e,t){const n=e.size,r=w_.getPositions(t);for(let s=0;s<r.length;s++){const a=r[s][0],l=r[s][1];for(let c=-1;c<=7;c++)if(!(a+c<=-1||n<=a+c))for(let h=-1;h<=7;h++)l+h<=-1||n<=l+h||(c>=0&&c<=6&&(h===0||h===6)||h>=0&&h<=6&&(c===0||c===6)||c>=2&&c<=4&&h>=2&&h<=4?e.set(a+c,l+h,!0,!0):e.set(a+c,l+h,!1,!0))}}function E_(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function C_(e,t){const n=y_.getPositions(t);for(let r=0;r<n.length;r++){const s=n[r][0],a=n[r][1];for(let l=-2;l<=2;l++)for(let c=-2;c<=2;c++)l===-2||l===2||c===-2||c===2||l===0&&c===0?e.set(s+l,a+c,!0,!0):e.set(s+l,a+c,!1,!0)}}function S_(e,t){const n=e.size,r=yd.getEncodedBits(t);let s,a,l;for(let c=0;c<18;c++)s=Math.floor(c/3),a=c%3+n-8-3,l=(r>>c&1)===1,e.set(s,a,l,!0),e.set(a,s,l,!0)}function c2(e,t,n){const r=e.size,s=v_.getEncodedBits(t,n);let a,l;for(a=0;a<15;a++)l=(s>>a&1)===1,a<6?e.set(a,8,l,!0):a<8?e.set(a+1,8,l,!0):e.set(r-15+a,8,l,!0),a<8?e.set(8,r-a-1,l,!0):a<9?e.set(8,15-a-1+1,l,!0):e.set(8,15-a-1,l,!0);e.set(r-8,8,1,!0)}function N_(e,t){const n=e.size;let r=-1,s=n-1,a=7,l=0;for(let c=n-1;c>0;c-=2)for(c===6&&c--;;){for(let h=0;h<2;h++)if(!e.isReserved(s,c-h)){let p=!1;l<t.length&&(p=(t[l]>>>a&1)===1),e.set(s,c-h,p),a--,a===-1&&(l++,a=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function __(e,t,n){const r=new g_;n.forEach(function(h){r.put(h.mode.bit,4),r.put(h.getLength(),b_.getCharCountIndicator(h.mode,e)),h.write(r)});const s=Zd.getSymbolTotalCodewords(e),a=Jp.getTotalCodewordsCount(e,t),l=(s-a)*8;for(r.getLengthInBits()+4<=l&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const c=(l-r.getLengthInBits())/8;for(let h=0;h<c;h++)r.put(h%2?17:236,8);return I_(r,e,t)}function I_(e,t,n){const r=Zd.getSymbolTotalCodewords(t),s=Jp.getTotalCodewordsCount(t,n),a=r-s,l=Jp.getBlocksCount(t,n),c=r%l,h=l-c,p=Math.floor(r/l),y=Math.floor(a/l),w=y+1,v=p-y,b=new x_(v);let E=0;const A=new Array(l),k=new Array(l);let S=0;const _=new Uint8Array(e.buffer);for(let D=0;D<l;D++){const q=D<h?y:w;A[D]=_.slice(E,E+q),k[D]=b.encode(A[D]),E+=q,S=Math.max(S,q)}const L=new Uint8Array(r);let z=0,H,M;for(H=0;H<S;H++)for(M=0;M<l;M++)H<A[M].length&&(L[z++]=A[M][H]);for(H=0;H<v;H++)for(M=0;M<l;M++)L[z++]=k[M][H];return L}function T_(e,t,n,r){let s;if(Array.isArray(e))s=u2.fromArray(e);else if(typeof e=="string"){let p=t;if(!p){const y=u2.rawSplit(e);p=yd.getBestVersionForData(y,n)}s=u2.fromString(e,p||40)}else throw new Error("Invalid data");const a=yd.getBestVersionForData(s,n);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const l=__(t,n,s),c=Zd.getSymbolSize(t),h=new m_(c);return A_(h,t),E_(h),C_(h,t),c2(h,n,0),t>=7&&S_(h,t),N_(h,l),isNaN(r)&&(r=Zp.getBestMask(h,c2.bind(null,h,n))),Zp.applyMask(r,h),c2(h,n,r),{modules:h,version:t,errorCorrectionLevel:n,maskPattern:r,segments:s}}nb.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=l2.M,s,a;return typeof n<"u"&&(r=l2.from(n.errorCorrectionLevel,l2.M),s=yd.from(n.version),a=Zp.from(n.maskPattern),n.toSJISFunc&&Zd.setToSJISFunction(n.toSJISFunc)),T_(t,s,r,a)};var gb={},jm={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(a){return[a,a]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,a=r.width&&r.width>=21?r.width:void 0,l=r.scale||4;return{width:a,scale:a?4:l,margin:s,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},e.getImageWidth=function(r,s){const a=e.getScale(r,s);return Math.floor((r+s.margin*2)*a)},e.qrToImageData=function(r,s,a){const l=s.modules.size,c=s.modules.data,h=e.getScale(l,a),p=Math.floor((l+a.margin*2)*h),y=a.margin*h,w=[a.color.light,a.color.dark];for(let v=0;v<p;v++)for(let b=0;b<p;b++){let E=(v*p+b)*4,A=a.color.light;if(v>=y&&b>=y&&v<p-y&&b<p-y){const k=Math.floor((v-y)/h),S=Math.floor((b-y)/h);A=w[c[k*l+S]?1:0]}r[E++]=A.r,r[E++]=A.g,r[E++]=A.b,r[E]=A.a}}})(jm);(function(e){const t=jm;function n(s,a,l){s.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=l,a.width=l,a.style.height=l+"px",a.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,l,c){let h=c,p=l;typeof h>"u"&&(!l||!l.getContext)&&(h=l,l=void 0),l||(p=r()),h=t.getOptions(h);const y=t.getImageWidth(a.modules.size,h),w=p.getContext("2d"),v=w.createImageData(y,y);return t.qrToImageData(v.data,a,h),n(w,p,y),w.putImageData(v,0,0),p},e.renderToDataURL=function(a,l,c){let h=c;typeof h>"u"&&(!l||!l.getContext)&&(h=l,l=void 0),h||(h={});const p=e.render(a,l,h),y=h.type||"image/png",w=h.rendererOpts||{};return p.toDataURL(y,w.quality)}})(gb);var mb={};const L_=jm;function dw(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function f2(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function k_(e,t,n){let r="",s=0,a=!1,l=0;for(let c=0;c<e.length;c++){const h=Math.floor(c%t),p=Math.floor(c/t);!h&&!a&&(a=!0),e[c]?(l++,c>0&&h>0&&e[c-1]||(r+=a?f2("M",h+n,.5+p+n):f2("m",s,0),s=0,a=!1),h+1<t&&e[c+1]||(r+=f2("h",l),l=0)):s++}return r}mb.render=function(t,n,r){const s=L_.getOptions(n),a=t.modules.size,l=t.modules.data,c=a+s.margin*2,h=s.color.light.a?"<path "+dw(s.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",p="<path "+dw(s.color.dark,"stroke")+' d="'+k_(l,a,s.margin)+'"/>',y='viewBox="0 0 '+c+" "+c+'"',v='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+y+' shape-rendering="crispEdges">'+h+p+`</svg>
`;return typeof r=="function"&&r(null,v),v};const P_=X7,eg=nb,yb=gb,O_=mb;function Um(e,t,n,r,s){const a=[].slice.call(arguments,1),l=a.length,c=typeof a[l-1]=="function";if(!c&&!P_())throw new Error("Callback required as last argument");if(c){if(l<2)throw new Error("Too few arguments provided");l===2?(s=n,n=t,t=r=void 0):l===3&&(t.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=t,t=void 0))}else{if(l<1)throw new Error("Too few arguments provided");return l===1?(n=t,t=r=void 0):l===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(h,p){try{const y=eg.create(n,r);h(e(y,t,r))}catch(y){p(y)}})}try{const h=eg.create(n,r);s(null,e(h,t,r))}catch(h){s(h)}}lh.create=eg.create;lh.toCanvas=Um.bind(null,yb.render);lh.toDataURL=Um.bind(null,yb.renderToDataURL);lh.toString=Um.bind(null,function(e,t,n){return O_.render(e,n)});const wb=async e=>{try{return await lh.toDataURL(e,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}})}catch(t){throw console.error("Error generating QR code:",t),t}},wf=e=>`${window.location.origin}/${e}/register`,R_=()=>{const{id:e}=th(),t=Fs(),{user:n,canEditEvent:r,isSuperAdmin:s}=Zl(),[a,l]=Ze.useState(null),[c,h]=Ze.useState([]),[p,y]=Ze.useState("event"),[w,v]=Ze.useState(!0),[b,E]=Ze.useState(null),[A,k]=Ze.useState(null),S=()=>{if(!(a!=null&&a.date))return!1;try{const M=mf(a.date);return gf(M)}catch(M){return console.error("Error parsing event date:",M),!1}};Ze.useEffect(()=>{_()},[e]);const _=async()=>{try{v(!0),E(null);const M=await sc(parseInt(e));if(!M){E(`Event with ID ${e} not found. This event may not exist or may have been created on a different device.`),v(!1);return}l(M);const D=await G4(parseInt(e));h(D);try{const q=wf(e),F=await wb(q);k(F)}catch(q){console.error("Error generating QR code:",q)}v(!1)}catch(M){console.error("Error loading data:",M),E("Failed to load event data. Please try again."),v(!1)}},L=()=>{if(!s()){alert("Export feature is only available for Super Admin. Please contact Robocorpsg@gmail.com");return}const M=cw(c);uw(M,`${a.title}-registered.csv`)},z=()=>{if(!s()){alert("Export feature is only available for Super Admin. Please contact Robocorpsg@gmail.com");return}const M=c.filter(q=>q.attended),D=cw(M,!0);uw(D,`${a.title}-attended.csv`)};if(w)return R.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:R.jsx("p",{className:"text-gray-400",children:"Loading..."})});if(b)return R.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:R.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[R.jsx("div",{className:"text-6xl mb-4",children:""}),R.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Not Found"}),R.jsx("p",{className:"text-gray-400 mb-6",children:b}),R.jsxs("div",{className:"space-y-3",children:[R.jsx("button",{onClick:()=>t("/events"),className:"btn-primary w-full",children:"View All Events"}),R.jsx("button",{onClick:()=>window.location.reload(),className:"btn-secondary w-full",children:"Try Again"})]})]})});if(!a)return R.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:R.jsx("p",{className:"text-gray-400",children:"No event data available"})});const H=[{id:"event",label:"Event"},{id:"details",label:"Details"},{id:"flyer",label:"Flyer"},...s()&&S()?[{id:"checkin",label:"Check-in (Today Only)"}]:[]];return R.jsxs("div",{className:"min-h-screen bg-black",children:[R.jsx(Zo,{showBack:!0,rightAction:r(a==null?void 0:a.ownerId)?R.jsx("button",{onClick:()=>t(`/${e}/edit`),className:"text-white hover:text-gray-300",children:R.jsx(hC,{size:20})}):null}),R.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[(a.image||a.logo)&&R.jsxs("div",{className:"mb-6",children:[a.image&&R.jsx("img",{src:a.image,alt:a.title,className:"w-full h-48 object-cover rounded-lg mb-4"}),R.jsxs("div",{className:"flex items-center gap-4",children:[a.logo&&!a.image&&R.jsx("img",{src:a.logo,alt:"Logo",className:"w-20 h-20 object-cover rounded"}),R.jsxs("div",{children:[R.jsx("h1",{className:"text-2xl font-bold",children:a.title}),a.date&&R.jsx("p",{className:"text-gray-400 mt-1",children:ds(new Date(a.date),"PPP")})]})]})]}),!a.image&&!a.logo&&R.jsxs("div",{className:"mb-6",children:[R.jsx("h1",{className:"text-2xl font-bold",children:a.title}),a.date&&R.jsx("p",{className:"text-gray-400 mt-1",children:ds(new Date(a.date),"PPP")})]}),R.jsxs("div",{className:"mb-6 bg-blue-900/20 border border-blue-500 rounded-lg p-6",children:[R.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[R.jsx(w3,{size:20,className:"text-blue-500"}),"Share This Event"]}),R.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Copy and share this link to invite people"}),R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsxs("div",{className:"flex-1 bg-dark-light border border-gray-700 rounded-lg px-4 py-3 font-mono text-sm text-gray-300 overflow-x-auto",children:[window.location.origin,"/event/",e]}),R.jsxs("button",{onClick:()=>{const M=`${window.location.origin}/event/${e}`;navigator.clipboard.writeText(M),alert(" Link copied to clipboard!")},className:"btn-primary flex items-center gap-2 px-6 py-3 whitespace-nowrap",children:[R.jsx(Dy,{size:18}),"Copy Link"]})]})]}),R.jsx("div",{className:"mb-6 bg-primary/10 border border-primary rounded-lg p-6",children:R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Join This Event"}),R.jsxs("p",{className:"text-gray-400 flex items-center gap-2",children:[R.jsx(G0,{size:18}),c.length," people registered"]})]}),R.jsxs("button",{onClick:()=>t(`/${e}/register`),className:"btn-primary flex items-center gap-2 px-8 py-4 text-lg",children:[R.jsx(G0,{size:24}),"Register Now"]})]})}),R.jsxs("div",{className:"mb-6 bg-dark-lighter rounded-lg p-6",children:[R.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[R.jsx(wp,{size:20,className:"text-primary"}),"Quick Registration"]}),R.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Scan this QR code with your phone to register instantly"}),R.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[A?R.jsx("div",{className:"flex-shrink-0",children:R.jsx("div",{className:"bg-white p-4 rounded-lg inline-block",children:R.jsx("img",{src:A,alt:"Registration QR Code",className:"w-32 h-32 md:w-40 md:h-40"})})}):R.jsx("div",{className:"flex-shrink-0 w-32 h-32 md:w-40 md:h-40 bg-gray-800 rounded-lg flex items-center justify-center",children:R.jsxs("div",{className:"text-center",children:[R.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-primary border-t-transparent rounded-full mx-auto mb-2"}),R.jsx("p",{className:"text-xs text-gray-400",children:"Loading..."})]})}),R.jsxs("div",{className:"flex-1 text-center md:text-left",children:[R.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Or copy this registration link:"}),R.jsx("div",{className:"bg-dark-light border border-gray-700 rounded-lg px-4 py-3 font-mono text-sm text-gray-300 mb-3 break-all",children:wf(e)}),R.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[R.jsxs("button",{onClick:()=>{const M=wf(e);navigator.clipboard.writeText(M),alert(" Registration link copied to clipboard!")},className:"btn-secondary flex items-center justify-center gap-2 text-sm",children:[R.jsx(Dy,{size:16}),"Copy Link"]}),A&&R.jsxs("button",{onClick:()=>{const M=document.createElement("a");M.download=`${a.title}-registration-qr.png`,M.href=A,M.click()},className:"btn-secondary flex items-center justify-center gap-2 text-sm",children:[R.jsx(A1,{size:16}),"Download QR"]})]})]})]})]}),R.jsx(G7,{tabs:H,activeTab:p,onTabChange:y}),p==="event"&&R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event date"}),R.jsx("p",{className:"text-white",children:a.date?ds(new Date(a.date),"yyyy-MM-dd"):"-"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Title"}),R.jsx("p",{className:"text-white",children:a.title})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Desc"}),R.jsx("p",{className:"text-white",children:a.description||"-"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Venue"}),R.jsx("p",{className:"text-white",children:a.venue||"-"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Organiser name"}),a.organisers&&a.organisers.length>0?R.jsx("div",{className:"space-y-2",children:a.organisers.map((M,D)=>R.jsxs("div",{className:"bg-dark-lighter p-3 rounded",children:[R.jsx("p",{className:"text-white",children:M.name}),M.detail&&R.jsx("p",{className:"text-sm text-gray-400",children:M.detail})]},D))}):R.jsx("p",{className:"text-white",children:"-"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Logo"}),a.logo?R.jsx("img",{src:a.logo,alt:"Logo",className:"w-24 h-24 object-cover rounded"}):R.jsx("p",{className:"text-white",children:"No file chosen"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Image"}),a.image?R.jsx("img",{src:a.image,alt:"Event",className:"w-full max-w-md rounded"}):R.jsx("p",{className:"text-white",children:"No file chosen"})]})]}),p==="details"&&R.jsxs("div",{className:"space-y-6",children:[a.guestsOfHonour&&a.guestsOfHonour.length>0&&R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Guests of Honour"}),R.jsx("div",{className:"grid gap-3",children:a.guestsOfHonour.map((M,D)=>R.jsxs("div",{className:"bg-dark-lighter p-4 rounded flex items-center gap-4",children:[M.photo&&R.jsx("img",{src:M.photo,alt:M.name,className:"w-16 h-16 object-cover rounded-full"}),R.jsxs("div",{children:[R.jsx("p",{className:"font-medium",children:M.name}),M.title&&R.jsx("p",{className:"text-sm text-gray-400",children:M.title})]})]},D))})]}),a.speakers&&a.speakers.length>0&&R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Speakers"}),R.jsx("div",{className:"grid gap-3",children:a.speakers.map((M,D)=>R.jsxs("div",{className:"bg-dark-lighter p-4 rounded flex items-center gap-4",children:[M.photo&&R.jsx("img",{src:M.photo,alt:M.name,className:"w-16 h-16 object-cover rounded-full"}),R.jsxs("div",{children:[R.jsx("p",{className:"font-medium",children:M.name}),M.title&&R.jsx("p",{className:"text-sm text-gray-400",children:M.title})]})]},D))})]}),a.sponsors&&a.sponsors.length>0&&R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Sponsors"}),R.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.sponsors.map((M,D)=>R.jsxs("div",{className:"bg-dark-lighter p-4 rounded text-center",children:[M.logo&&R.jsx("img",{src:M.logo,alt:M.name,className:"w-20 h-20 object-contain mx-auto mb-2"}),R.jsx("p",{className:"text-sm",children:M.name})]},D))})]}),a.media&&a.media.length>0&&R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Media Partners"}),R.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.media.map((M,D)=>R.jsxs("div",{className:"bg-dark-lighter p-4 rounded text-center",children:[M.logo&&R.jsx("img",{src:M.logo,alt:M.name,className:"w-20 h-20 object-contain mx-auto mb-2"}),R.jsx("p",{className:"text-sm",children:M.name})]},D))})]})]}),p==="flyer"&&R.jsxs("div",{className:"space-y-4",children:[R.jsxs("button",{onClick:()=>t(`/${e}/flyer`),className:"btn-primary w-full flex items-center justify-center gap-2",children:[R.jsx(uC,{size:20}),"View & Download Flyer"]}),R.jsxs("button",{onClick:()=>t(`/${e}/register`),className:"btn-secondary w-full flex items-center justify-center gap-2",children:[R.jsx(wp,{size:20}),"Registration Page"]}),R.jsx("div",{className:"bg-dark-lighter rounded-lg p-4 text-center",children:R.jsx("p",{className:"text-sm text-gray-400",children:" The QR code for registration is now available on the main event page above"})})]}),p==="checkin"&&R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-500 rounded-lg p-4",children:[R.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[R.jsx("div",{className:"w-5 h-5 bg-yellow-500 rounded-full flex items-center justify-center",children:R.jsx("span",{className:"text-black text-xs font-bold",children:"!"})}),R.jsx("h3",{className:"font-semibold text-yellow-400",children:"Admin Only - Event Day Only"})]}),R.jsxs("p",{className:"text-sm text-gray-300",children:["Check-in and export functions are restricted to Super Admin users and only available on the event day.",a.date&&R.jsxs("span",{className:"block mt-1",children:["Event Date: ",ds(mf(a.date),"PPP"),S()?" (Today - Check-in Available)":" (Check-in Not Available Today)"]})]})]}),R.jsx("div",{className:"bg-dark-lighter p-4 rounded",children:R.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[R.jsxs("div",{children:[R.jsx("p",{className:"text-3xl font-bold text-primary",children:c.length}),R.jsx("p",{className:"text-sm text-gray-400",children:"Registered"})]}),R.jsxs("div",{children:[R.jsx("p",{className:"text-3xl font-bold text-green-500",children:c.filter(M=>M.attended).length}),R.jsx("p",{className:"text-sm text-gray-400",children:"Attended"})]})]})}),R.jsxs("button",{onClick:()=>t(`/${e}/checkin`),className:"btn-primary w-full flex items-center justify-center gap-2",children:[R.jsx(G0,{size:20}),"Check-in Attendees (Admin Only)"]}),R.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[R.jsxs("button",{onClick:L,disabled:c.length===0,className:"btn-secondary flex items-center justify-center gap-2",children:[R.jsx(A1,{size:18}),"Export Registered"]}),R.jsxs("button",{onClick:z,disabled:c.filter(M=>M.attended).length===0,className:"btn-secondary flex items-center justify-center gap-2",children:[R.jsx(A1,{size:18}),"Export Attended"]})]}),R.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Only Super Admin (Robocorpsg@gmail.com) can perform check-in operations"})]})]})]})},D_="modulepreload",M_=function(e){return"/"+e},pw={},tg=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(h=>{if(h=M_(h),h in pw)return;pw[h]=!0;const p=h.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":D_,p||(w.as="script"),w.crossOrigin="",w.href=h,c&&w.setAttribute("nonce",c),document.head.appendChild(w),p)return new Promise((v,b)=>{w.addEventListener("load",v),w.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};var _i=Uint8Array,ps=Uint16Array,zm=Int32Array,Jd=new _i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),e0=new _i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ng=new _i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xb=function(e,t){for(var n=new ps(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var s=new zm(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)s[a]=a-n[r]<<5|r;return{b:n,r:s}},vb=xb(Jd,2),bb=vb.b,rg=vb.r;bb[28]=258,rg[258]=28;var Ab=xb(e0,0),B_=Ab.b,gw=Ab.r,ig=new ps(32768);for(var er=0;er<32768;++er){var Eo=(er&43690)>>1|(er&21845)<<1;Eo=(Eo&52428)>>2|(Eo&13107)<<2,Eo=(Eo&61680)>>4|(Eo&3855)<<4,ig[er]=((Eo&65280)>>8|(Eo&255)<<8)>>1}var Aa=function(e,t,n){for(var r=e.length,s=0,a=new ps(t);s<r;++s)e[s]&&++a[e[s]-1];var l=new ps(t);for(s=1;s<t;++s)l[s]=l[s-1]+a[s-1]<<1;var c;if(n){c=new ps(1<<t);var h=15-t;for(s=0;s<r;++s)if(e[s])for(var p=s<<4|e[s],y=t-e[s],w=l[e[s]-1]++<<y,v=w|(1<<y)-1;w<=v;++w)c[ig[w]>>h]=p}else for(c=new ps(r),s=0;s<r;++s)e[s]&&(c[s]=ig[l[e[s]-1]++]>>15-e[s]);return c},Jo=new _i(288);for(var er=0;er<144;++er)Jo[er]=8;for(var er=144;er<256;++er)Jo[er]=9;for(var er=256;er<280;++er)Jo[er]=7;for(var er=280;er<288;++er)Jo[er]=8;var Yf=new _i(32);for(var er=0;er<32;++er)Yf[er]=5;var F_=Aa(Jo,9,0),j_=Aa(Jo,9,1),U_=Aa(Yf,5,0),z_=Aa(Yf,5,1),h2=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ys=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},d2=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},qm=function(e){return(e+7)/8|0},Eb=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new _i(e.subarray(t,n))},q_=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$s=function(e,t,n){var r=new Error(t||q_[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,$s),!n)throw r;return r},W_=function(e,t,n,r){var s=e.length,a=0;if(!s||t.f&&!t.l)return n||new _i(0);var l=!n,c=l||t.i!=2,h=t.i;l&&(n=new _i(s*3));var p=function(rt){var dt=n.length;if(rt>dt){var Qe=new _i(Math.max(dt*2,rt));Qe.set(n),n=Qe}},y=t.f||0,w=t.p||0,v=t.b||0,b=t.l,E=t.d,A=t.m,k=t.n,S=s*8;do{if(!b){y=Ys(e,w,1);var _=Ys(e,w+1,3);if(w+=3,_)if(_==1)b=j_,E=z_,A=9,k=5;else if(_==2){var M=Ys(e,w,31)+257,D=Ys(e,w+10,15)+4,q=M+Ys(e,w+5,31)+1;w+=14;for(var F=new _i(q),oe=new _i(19),W=0;W<D;++W)oe[ng[W]]=Ys(e,w+W*3,7);w+=D*3;for(var X=h2(oe),ae=(1<<X)-1,J=Aa(oe,X,1),W=0;W<q;){var ie=J[Ys(e,w,ae)];w+=ie&15;var L=ie>>4;if(L<16)F[W++]=L;else{var Ae=0,xe=0;for(L==16?(xe=3+Ys(e,w,3),w+=2,Ae=F[W-1]):L==17?(xe=3+Ys(e,w,7),w+=3):L==18&&(xe=11+Ys(e,w,127),w+=7);xe--;)F[W++]=Ae}}var pe=F.subarray(0,M),ve=F.subarray(M);A=h2(pe),k=h2(ve),b=Aa(pe,A,1),E=Aa(ve,k,1)}else $s(1);else{var L=qm(w)+4,z=e[L-4]|e[L-3]<<8,H=L+z;if(H>s){h&&$s(0);break}c&&p(v+z),n.set(e.subarray(L,H),v),t.b=v+=z,t.p=w=H*8,t.f=y;continue}if(w>S){h&&$s(0);break}}c&&p(v+131072);for(var Le=(1<<A)-1,Ye=(1<<k)-1,K=w;;K=w){var Ae=b[d2(e,w)&Le],he=Ae>>4;if(w+=Ae&15,w>S){h&&$s(0);break}if(Ae||$s(2),he<256)n[v++]=he;else if(he==256){K=w,b=null;break}else{var de=he-254;if(he>264){var W=he-257,Ce=Jd[W];de=Ys(e,w,(1<<Ce)-1)+bb[W],w+=Ce}var ye=E[d2(e,w)&Ye],Re=ye>>4;ye||$s(3),w+=ye&15;var ve=B_[Re];if(Re>3){var Ce=e0[Re];ve+=d2(e,w)&(1<<Ce)-1,w+=Ce}if(w>S){h&&$s(0);break}c&&p(v+131072);var Oe=v+de;if(v<ve){var Fe=a-ve,lt=Math.min(ve,Oe);for(Fe+v<0&&$s(3);v<lt;++v)n[v]=r[Fe+v]}for(;v<Oe;++v)n[v]=n[v-ve]}}t.l=b,t.p=K,t.b=v,t.f=y,b&&(y=1,t.m=A,t.d=E,t.n=k)}while(!y);return v!=n.length&&l?Eb(n,0,v):n.subarray(0,v)},Fa=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Vc=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},p2=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,a=n.slice();if(!s)return{t:Sb,l:0};if(s==1){var l=new _i(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function(H,M){return H.f-M.f}),n.push({s:-1,f:25001});var c=n[0],h=n[1],p=0,y=1,w=2;for(n[0]={s:-1,f:c.f+h.f,l:c,r:h};y!=s-1;)c=n[n[p].f<n[w].f?p++:w++],h=n[p!=y&&n[p].f<n[w].f?p++:w++],n[y++]={s:-1,f:c.f+h.f,l:c,r:h};for(var v=a[0].s,r=1;r<s;++r)a[r].s>v&&(v=a[r].s);var b=new ps(v+1),E=sg(n[y-1],b,0);if(E>t){var r=0,A=0,k=E-t,S=1<<k;for(a.sort(function(M,D){return b[D.s]-b[M.s]||M.f-D.f});r<s;++r){var _=a[r].s;if(b[_]>t)A+=S-(1<<E-b[_]),b[_]=t;else break}for(A>>=k;A>0;){var L=a[r].s;b[L]<t?A-=1<<t-b[L]++-1:++r}for(;r>=0&&A;--r){var z=a[r].s;b[z]==t&&(--b[z],++A)}E=t}return{t:new _i(b),l:E}},sg=function(e,t,n){return e.s==-1?Math.max(sg(e.l,t,n+1),sg(e.r,t,n+1)):t[e.s]=n},mw=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ps(++t),r=0,s=e[0],a=1,l=function(h){n[r++]=h},c=1;c<=t;++c)if(e[c]==s&&c!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(s),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(s);a=1,s=e[c]}return{c:n.subarray(0,r),n:t}},Hc=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Cb=function(e,t,n){var r=n.length,s=qm(t+2);e[s]=r&255,e[s+1]=r>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var a=0;a<r;++a)e[s+a+4]=n[a];return(s+4+r)*8},yw=function(e,t,n,r,s,a,l,c,h,p,y){Fa(t,y++,n),++s[256];for(var w=p2(s,15),v=w.t,b=w.l,E=p2(a,15),A=E.t,k=E.l,S=mw(v),_=S.c,L=S.n,z=mw(A),H=z.c,M=z.n,D=new ps(19),q=0;q<_.length;++q)++D[_[q]&31];for(var q=0;q<H.length;++q)++D[H[q]&31];for(var F=p2(D,7),oe=F.t,W=F.l,X=19;X>4&&!oe[ng[X-1]];--X);var ae=p+5<<3,J=Hc(s,Jo)+Hc(a,Yf)+l,ie=Hc(s,v)+Hc(a,A)+l+14+3*X+Hc(D,oe)+2*D[16]+3*D[17]+7*D[18];if(h>=0&&ae<=J&&ae<=ie)return Cb(t,y,e.subarray(h,h+p));var Ae,xe,pe,ve;if(Fa(t,y,1+(ie<J)),y+=2,ie<J){Ae=Aa(v,b,0),xe=v,pe=Aa(A,k,0),ve=A;var Le=Aa(oe,W,0);Fa(t,y,L-257),Fa(t,y+5,M-1),Fa(t,y+10,X-4),y+=14;for(var q=0;q<X;++q)Fa(t,y+3*q,oe[ng[q]]);y+=3*X;for(var Ye=[_,H],K=0;K<2;++K)for(var he=Ye[K],q=0;q<he.length;++q){var de=he[q]&31;Fa(t,y,Le[de]),y+=oe[de],de>15&&(Fa(t,y,he[q]>>5&127),y+=he[q]>>12)}}else Ae=F_,xe=Jo,pe=U_,ve=Yf;for(var q=0;q<c;++q){var Ce=r[q];if(Ce>255){var de=Ce>>18&31;Vc(t,y,Ae[de+257]),y+=xe[de+257],de>7&&(Fa(t,y,Ce>>23&31),y+=Jd[de]);var ye=Ce&31;Vc(t,y,pe[ye]),y+=ve[ye],ye>3&&(Vc(t,y,Ce>>5&8191),y+=e0[ye])}else Vc(t,y,Ae[Ce]),y+=xe[Ce]}return Vc(t,y,Ae[256]),y+xe[256]},V_=new zm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Sb=new _i(0),H_=function(e,t,n,r,s,a){var l=a.z||e.length,c=new _i(r+l+5*(1+Math.ceil(l/7e3))+s),h=c.subarray(r,c.length-s),p=a.l,y=(a.r||0)&7;if(t){y&&(h[0]=a.r>>3);for(var w=V_[t-1],v=w>>13,b=w&8191,E=(1<<n)-1,A=a.p||new ps(32768),k=a.h||new ps(E+1),S=Math.ceil(n/3),_=2*S,L=function(_t){return(e[_t]^e[_t+1]<<S^e[_t+2]<<_)&E},z=new zm(25e3),H=new ps(288),M=new ps(32),D=0,q=0,F=a.i||0,oe=0,W=a.w||0,X=0;F+2<l;++F){var ae=L(F),J=F&32767,ie=k[ae];if(A[J]=ie,k[ae]=J,W<=F){var Ae=l-F;if((D>7e3||oe>24576)&&(Ae>423||!p)){y=yw(e,h,0,z,H,M,q,oe,X,F-X,y),oe=D=q=0,X=F;for(var xe=0;xe<286;++xe)H[xe]=0;for(var xe=0;xe<30;++xe)M[xe]=0}var pe=2,ve=0,Le=b,Ye=J-ie&32767;if(Ae>2&&ae==L(F-Ye))for(var K=Math.min(v,Ae)-1,he=Math.min(32767,F),de=Math.min(258,Ae);Ye<=he&&--Le&&J!=ie;){if(e[F+pe]==e[F+pe-Ye]){for(var Ce=0;Ce<de&&e[F+Ce]==e[F+Ce-Ye];++Ce);if(Ce>pe){if(pe=Ce,ve=Ye,Ce>K)break;for(var ye=Math.min(Ye,Ce-2),Re=0,xe=0;xe<ye;++xe){var Oe=F-Ye+xe&32767,Fe=A[Oe],lt=Oe-Fe&32767;lt>Re&&(Re=lt,ie=Oe)}}}J=ie,ie=A[J],Ye+=J-ie&32767}if(ve){z[oe++]=268435456|rg[pe]<<18|gw[ve];var rt=rg[pe]&31,dt=gw[ve]&31;q+=Jd[rt]+e0[dt],++H[257+rt],++M[dt],W=F+pe,++D}else z[oe++]=e[F],++H[e[F]]}}for(F=Math.max(F,W);F<l;++F)z[oe++]=e[F],++H[e[F]];y=yw(e,h,p,z,H,M,q,oe,X,F-X,y),p||(a.r=y&7|h[y/8|0]<<3,y-=7,a.h=k,a.p=A,a.i=F,a.w=W)}else{for(var F=a.w||0;F<l+p;F+=65535){var Qe=F+65535;Qe>=l&&(h[y/8|0]=p,Qe=l),y=Cb(h,y+1,e.subarray(F,Qe))}a.i=l}return Eb(c,0,r+qm(y)+s)},Nb=function(){var e=1,t=0;return{p:function(n){for(var r=e,s=t,a=n.length|0,l=0;l!=a;){for(var c=Math.min(l+2655,a);l<c;++l)s+=r+=n[l];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}e=r,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},G_=function(e,t,n,r,s){if(!s&&(s={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),l=new _i(a.length+e.length);l.set(a),l.set(e,a.length),e=l,s.w=a.length}return H_(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,s)},_b=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},X_=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=Nb();s.p(t.dictionary),_b(e,2,s.d())}},Y_=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&$s(6,"invalid zlib data"),(e[1]>>5&1)==1&&$s(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function ag(e,t){t||(t={});var n=Nb();n.p(e);var r=G_(e,t,t.dictionary?6:2,4);return X_(r,t),_b(r,r.length-4,n.d()),r}function K_(e,t){return W_(e.subarray(Y_(e),-4),{i:2},t,t)}var Q_=typeof TextDecoder<"u"&&new TextDecoder,$_=0;try{Q_.decode(Sb,{stream:!0}),$_=1}catch{}var Vt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function g2(){Vt.console&&typeof Vt.console.log=="function"&&Vt.console.log.apply(Vt.console,arguments)}var Bn={log:g2,warn:function(e){Vt.console&&(typeof Vt.console.warn=="function"?Vt.console.warn.apply(Vt.console,arguments):g2.call(null,arguments))},error:function(e){Vt.console&&(typeof Vt.console.error=="function"?Vt.console.error.apply(Vt.console,arguments):g2(e))}};function m2(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Il(r.response,t,n)},r.onerror=function(){Bn.error("could not download file")},r.send()}function ww(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function a1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var xf,og,Il=Vt.saveAs||((typeof window>"u"?"undefined":Nn(window))!=="object"||window!==Vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Vt.URL||Vt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?ww(s.href)?m2(e,t,n):a1(s,s.target="_blank"):a1(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){a1(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(ww(e))m2(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){a1(r)})}else navigator.msSaveOrOpenBlob(function(s,a){return a===void 0?a={autoBom:!1}:Nn(a)!=="object"&&(Bn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return m2(e,t,n);var s=e.type==="application/octet-stream",a=/constructor/i.test(Vt.HTMLElement)||Vt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&a)&&(typeof FileReader>"u"?"undefined":Nn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var y=c.result;y=l?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=y:location=y,r=null},c.readAsDataURL(e)}else{var h=Vt.URL||Vt.webkitURL,p=h.createObjectURL(e);r?r.location=p:location.href=p,r=null,setTimeout(function(){h.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Ib(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,a=n[r].process,l=s.exec(e);l&&(t=a(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),h=this.g.toString(16),p=this.b.toString(16);return c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),p.length==1&&(p="0"+p),"#"+c+h+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function y2(e,t){var n=e[0],r=e[1],s=e[2],a=e[3];n=bi(n,r,s,a,t[0],7,-680876936),a=bi(a,n,r,s,t[1],12,-389564586),s=bi(s,a,n,r,t[2],17,606105819),r=bi(r,s,a,n,t[3],22,-1044525330),n=bi(n,r,s,a,t[4],7,-176418897),a=bi(a,n,r,s,t[5],12,1200080426),s=bi(s,a,n,r,t[6],17,-1473231341),r=bi(r,s,a,n,t[7],22,-45705983),n=bi(n,r,s,a,t[8],7,1770035416),a=bi(a,n,r,s,t[9],12,-1958414417),s=bi(s,a,n,r,t[10],17,-42063),r=bi(r,s,a,n,t[11],22,-1990404162),n=bi(n,r,s,a,t[12],7,1804603682),a=bi(a,n,r,s,t[13],12,-40341101),s=bi(s,a,n,r,t[14],17,-1502002290),n=Ai(n,r=bi(r,s,a,n,t[15],22,1236535329),s,a,t[1],5,-165796510),a=Ai(a,n,r,s,t[6],9,-1069501632),s=Ai(s,a,n,r,t[11],14,643717713),r=Ai(r,s,a,n,t[0],20,-373897302),n=Ai(n,r,s,a,t[5],5,-701558691),a=Ai(a,n,r,s,t[10],9,38016083),s=Ai(s,a,n,r,t[15],14,-660478335),r=Ai(r,s,a,n,t[4],20,-405537848),n=Ai(n,r,s,a,t[9],5,568446438),a=Ai(a,n,r,s,t[14],9,-1019803690),s=Ai(s,a,n,r,t[3],14,-187363961),r=Ai(r,s,a,n,t[8],20,1163531501),n=Ai(n,r,s,a,t[13],5,-1444681467),a=Ai(a,n,r,s,t[2],9,-51403784),s=Ai(s,a,n,r,t[7],14,1735328473),n=Ei(n,r=Ai(r,s,a,n,t[12],20,-1926607734),s,a,t[5],4,-378558),a=Ei(a,n,r,s,t[8],11,-2022574463),s=Ei(s,a,n,r,t[11],16,1839030562),r=Ei(r,s,a,n,t[14],23,-35309556),n=Ei(n,r,s,a,t[1],4,-1530992060),a=Ei(a,n,r,s,t[4],11,1272893353),s=Ei(s,a,n,r,t[7],16,-155497632),r=Ei(r,s,a,n,t[10],23,-1094730640),n=Ei(n,r,s,a,t[13],4,681279174),a=Ei(a,n,r,s,t[0],11,-358537222),s=Ei(s,a,n,r,t[3],16,-722521979),r=Ei(r,s,a,n,t[6],23,76029189),n=Ei(n,r,s,a,t[9],4,-640364487),a=Ei(a,n,r,s,t[12],11,-421815835),s=Ei(s,a,n,r,t[15],16,530742520),n=Ci(n,r=Ei(r,s,a,n,t[2],23,-995338651),s,a,t[0],6,-198630844),a=Ci(a,n,r,s,t[7],10,1126891415),s=Ci(s,a,n,r,t[14],15,-1416354905),r=Ci(r,s,a,n,t[5],21,-57434055),n=Ci(n,r,s,a,t[12],6,1700485571),a=Ci(a,n,r,s,t[3],10,-1894986606),s=Ci(s,a,n,r,t[10],15,-1051523),r=Ci(r,s,a,n,t[1],21,-2054922799),n=Ci(n,r,s,a,t[8],6,1873313359),a=Ci(a,n,r,s,t[15],10,-30611744),s=Ci(s,a,n,r,t[6],15,-1560198380),r=Ci(r,s,a,n,t[13],21,1309151649),n=Ci(n,r,s,a,t[4],6,-145523070),a=Ci(a,n,r,s,t[11],10,-1120210379),s=Ci(s,a,n,r,t[2],15,718787259),r=Ci(r,s,a,n,t[9],21,-343485551),e[0]=Mo(n,e[0]),e[1]=Mo(r,e[1]),e[2]=Mo(s,e[2]),e[3]=Mo(a,e[3])}function t0(e,t,n,r,s,a){return t=Mo(Mo(t,e),Mo(r,a)),Mo(t<<s|t>>>32-s,n)}function bi(e,t,n,r,s,a,l){return t0(t&n|~t&r,e,t,s,a,l)}function Ai(e,t,n,r,s,a,l){return t0(t&r|n&~r,e,t,s,a,l)}function Ei(e,t,n,r,s,a,l){return t0(t^n^r,e,t,s,a,l)}function Ci(e,t,n,r,s,a,l){return t0(n^(t|~r),e,t,s,a,l)}function Tb(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)y2(r,Z_(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(y2(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,y2(r,s),r}function Z_(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}xf=Vt.atob.bind(Vt),og=Vt.btoa.bind(Vt);var xw="0123456789abcdef".split("");function J_(e){for(var t="",n=0;n<4;n++)t+=xw[e>>8*n+4&15]+xw[e>>8*n&15];return t}function eI(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function lg(e){return Tb(e).map(eI).join("")}var tI=function(e){for(var t=0;t<e.length;t++)e[t]=J_(e[t]);return e.join("")}(Tb("hello"))!="5d41402abc4b2a76b9719d911017c592";function Mo(e,t){if(tI){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ug(e,t){var n,r,s,a;if(e!==n){for(var l=(s=e,a=1+(256/e.length>>0),new Array(a+1).join(s)),c=[],h=0;h<256;h++)c[h]=h;var p=0;for(h=0;h<256;h++){var y=c[h];p=(p+y+l.charCodeAt(h))%256,c[h]=c[p],c[p]=y}n=e,r=c}else c=r;var w=t.length,v=0,b=0,E="";for(h=0;h<w;h++)b=(b+(y=c[v=(v+1)%256]))%256,c[v]=c[b],c[b]=y,l=c[(c[v]+c[b])%256],E+=String.fromCharCode(t.charCodeAt(h)^l);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var vw={print:4,modify:8,copy:16,"annot-forms":32};function vu(e,t,n,r){this.v=1,this.r=2;var s=192;e.forEach(function(c){if(vw.perm!==void 0)throw new Error("Invalid permission: "+c);s+=vw[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),l=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^s)),this.encryptionKey=lg(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=ug(this.encryptionKey,this.padding)}function bu(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var s=e.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[r]}return t}function bw(e){if(Nn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!s],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var a in t[n]){var l=t[n][a];try{l[0].apply(e,r)}catch(c){Vt.console&&Bn.error("jsPDF PubSub Error",c.message,c)}l[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function wd(e){if(!(this instanceof wd))return new wd(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Lb(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function kl(e,t,n,r,s){if(!(this instanceof kl))return new kl(e,t,n,r,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Lb.call(this,r,s)}function Du(e,t,n,r,s){if(!(this instanceof Du))return new Du(e,t,n,r,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Lb.call(this,r,s)}function Wt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],a=arguments[3],l=[],c=1,h=16,p="S",y=null;Nn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,s=e.format||s,a=e.compress||e.compressPdf||a,(y=e.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),c=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(h=e.floatPrecision),p=e.defaultPathOperation||"S"),l=e.filters||(a===!0?["FlateEncode"]:l),r=r||"mm",n=(""+(n||"P")).toLowerCase();var w=e.putOnlyUsedFonts||!1,v={},b={internal:{},__private__:{}};b.__private__.PubSub=bw;var E="1.3",A=b.__private__.getPdfVersion=function(){return E};b.__private__.setPdfVersion=function(I){E=I};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return k};var S=b.__private__.getPageFormat=function(I){return k[I]};s=s||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},L=_.COMPAT;function z(){this.saveGraphicsState(),ge(new Tt(we,0,0,-we,0,yi()*we).toString()+" cm"),this.setFontSize(this.getFontSize()/we),p="n",L=_.ADVANCED}function H(){this.restoreGraphicsState(),p="S",L=_.COMPAT}var M=b.__private__.combineFontStyleAndFontWeight=function(I,$){if(I=="bold"&&$=="normal"||I=="bold"&&$==400||I=="normal"&&$=="italic"||I=="bold"&&$=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return $&&(I=$==400||$==="normal"?I==="italic"?"italic":"normal":$!=700&&$!=="bold"||I!=="normal"?($==700?"bold":$)+""+I:"bold"),I};b.advancedAPI=function(I){var $=L===_.COMPAT;return $&&z.call(this),typeof I!="function"||(I(this),$&&H.call(this)),this},b.compatAPI=function(I){var $=L===_.ADVANCED;return $&&H.call(this),typeof I!="function"||(I(this),$&&z.call(this)),this},b.isAdvancedAPI=function(){return L===_.ADVANCED};var D,q=function(I){if(L!==_.ADVANCED)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=b.roundToPrecision=b.__private__.roundToPrecision=function(I,$){var ue=t||$;if(isNaN(I)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(ue).replace(/0+$/,"")};D=b.hpf=b.__private__.hpf=typeof h=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return F(I,h)}:h==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return F(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return F(I,16)};var oe=b.f2=b.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return F(I,2)},W=b.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return F(I,3)},X=b.scale=b.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return L===_.COMPAT?I*we:L===_.ADVANCED?I:void 0},ae=function(I){return L===_.COMPAT?yi()-I:L===_.ADVANCED?I:void 0},J=function(I){return X(ae(I))};b.__private__.setPrecision=b.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(t=parseInt(I,10))};var ie,Ae="00000000000000000000000000000000",xe=b.__private__.getFileId=function(){return Ae},pe=b.__private__.setFileId=function(I){return Ae=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():Ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(Nr=new vu(y.userPermissions,y.userPassword,y.ownerPassword,Ae)),Ae};b.setFileId=function(I){return pe(I),this},b.getFileId=function(){return xe()};var ve=b.__private__.convertDateToPDFDate=function(I){var $=I.getTimezoneOffset(),ue=$<0?"+":"-",Ee=Math.floor(Math.abs($/60)),Pe=Math.abs($%60),Ge=[ue,de(Ee),"'",de(Pe),"'"].join("");return["D:",I.getFullYear(),de(I.getMonth()+1),de(I.getDate()),de(I.getHours()),de(I.getMinutes()),de(I.getSeconds()),Ge].join("")},Le=b.__private__.convertPDFDateToDate=function(I){var $=parseInt(I.substr(2,4),10),ue=parseInt(I.substr(6,2),10)-1,Ee=parseInt(I.substr(8,2),10),Pe=parseInt(I.substr(10,2),10),Ge=parseInt(I.substr(12,2),10),nt=parseInt(I.substr(14,2),10);return new Date($,ue,Ee,Pe,Ge,nt,0)},Ye=b.__private__.setCreationDate=function(I){var $;if(I===void 0&&(I=new Date),I instanceof Date)$=ve(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");$=I}return ie=$},K=b.__private__.getCreationDate=function(I){var $=ie;return I==="jsDate"&&($=Le(ie)),$};b.setCreationDate=function(I){return Ye(I),this},b.getCreationDate=function(I){return K(I)};var he,de=b.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},Ce=b.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},ye=0,Re=[],Oe=[],Fe=0,lt=[],rt=[],dt=!1,Qe=Oe,_t=function(){ye=0,Fe=0,Oe=[],Re=[],lt=[],di=On(),ki=On()};b.__private__.setCustomOutputDestination=function(I){dt=!0,Qe=I};var qe=function(I){dt||(Qe=I)};b.__private__.resetCustomOutputDestination=function(){dt=!1,Qe=Oe};var ge=b.__private__.out=function(I){return I=I.toString(),Fe+=I.length+1,Qe.push(I),Qe},At=b.__private__.write=function(I){return ge(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},ft=b.__private__.getArrayBuffer=function(I){for(var $=I.length,ue=new ArrayBuffer($),Ee=new Uint8Array(ue);$--;)Ee[$]=I.charCodeAt($);return ue},Xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Xe};var ht=e.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(I){return ht=L===_.ADVANCED?I/we:I,this};var ze,ct=b.__private__.getFontSize=b.getFontSize=function(){return L===_.COMPAT?ht:ht*we},It=e.R2L||!1;b.__private__.setR2L=b.setR2L=function(I){return It=I,this},b.__private__.getR2L=b.getR2L=function(){return It};var Bt,Ft=b.__private__.setZoomMode=function(I){var $=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))ze=I;else if(isNaN(I)){if($.indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');ze=I}else ze=parseInt(I,10)};b.__private__.getZoomMode=function(){return ze};var Ut,O=b.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');Bt=I};b.__private__.getPageMode=function(){return Bt};var U=b.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');Ut=I};b.__private__.getLayoutMode=function(){return Ut},b.__private__.setDisplayMode=b.setDisplayMode=function(I,$,ue){return Ft(I),U($),O(ue),this};var V={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(I){if(Object.keys(V).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return V[I]},b.__private__.getDocumentProperties=function(){return V},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(I){for(var $ in V)V.hasOwnProperty($)&&I[$]&&(V[$]=I[$]);return this},b.__private__.setDocumentProperty=function(I,$){if(Object.keys(V).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return V[I]=$};var me,we,We,Ve,Ke,Et={},gt={},Lt=[],Dt={},Us={},Gn={},en={},ii=null,Xn=0,Yt=[],nn=new bw(b),zs=e.hotfixes||[],yn={},si={},Li=[],Tt=function I($,ue,Ee,Pe,Ge,nt){if(!(this instanceof I))return new I($,ue,Ee,Pe,Ge,nt);isNaN($)&&($=1),isNaN(ue)&&(ue=0),isNaN(Ee)&&(Ee=0),isNaN(Pe)&&(Pe=1),isNaN(Ge)&&(Ge=0),isNaN(nt)&&(nt=0),this._matrix=[$,ue,Ee,Pe,Ge,nt]};Object.defineProperty(Tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Tt.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(I)},Tt.prototype.multiply=function(I){var $=I.sx*this.sx+I.shy*this.shx,ue=I.sx*this.shy+I.shy*this.sy,Ee=I.shx*this.sx+I.sy*this.shx,Pe=I.shx*this.shy+I.sy*this.sy,Ge=I.tx*this.sx+I.ty*this.shx+this.tx,nt=I.tx*this.shy+I.ty*this.sy+this.ty;return new Tt($,ue,Ee,Pe,Ge,nt)},Tt.prototype.decompose=function(){var I=this.sx,$=this.shy,ue=this.shx,Ee=this.sy,Pe=this.tx,Ge=this.ty,nt=Math.sqrt(I*I+$*$),yt=(I/=nt)*ue+($/=nt)*Ee;ue-=I*yt,Ee-=$*yt;var Rt=Math.sqrt(ue*ue+Ee*Ee);return yt/=Rt,I*(Ee/=Rt)<$*(ue/=Rt)&&(I=-I,$=-$,yt=-yt,nt=-nt),{scale:new Tt(nt,0,0,Rt,0,0),translate:new Tt(1,0,0,1,Pe,Ge),rotate:new Tt(I,$,-$,I,0,0),skew:new Tt(1,0,yt,1,0,0)}},Tt.prototype.toString=function(I){return this.join(" ")},Tt.prototype.inversed=function(){var I=this.sx,$=this.shy,ue=this.shx,Ee=this.sy,Pe=this.tx,Ge=this.ty,nt=1/(I*Ee-$*ue),yt=Ee*nt,Rt=-$*nt,Kt=-ue*nt,Qt=I*nt;return new Tt(yt,Rt,Kt,Qt,-yt*Pe-Kt*Ge,-Rt*Pe-Qt*Ge)},Tt.prototype.applyToPoint=function(I){var $=I.x*this.sx+I.y*this.shx+this.tx,ue=I.x*this.shy+I.y*this.sy+this.ty;return new lo($,ue)},Tt.prototype.applyToRectangle=function(I){var $=this.applyToPoint(I),ue=this.applyToPoint(new lo(I.x+I.w,I.y+I.h));return new vl($.x,$.y,ue.x-$.x,ue.y-$.y)},Tt.prototype.clone=function(){var I=this.sx,$=this.shy,ue=this.shx,Ee=this.sy,Pe=this.tx,Ge=this.ty;return new Tt(I,$,ue,Ee,Pe,Ge)},b.Matrix=Tt;var ts=b.matrixMult=function(I,$){return $.multiply(I)},Xr=new Tt(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Xr;var Yr=function(I,$){if(!Us[I]){var ue=($ instanceof kl?"Sh":"P")+(Object.keys(Dt).length+1).toString(10);$.id=ue,Us[I]=ue,Dt[ue]=$,nn.publish("addPattern",$)}};b.ShadingPattern=kl,b.TilingPattern=Du,b.addShadingPattern=function(I,$){return q("addShadingPattern()"),Yr(I,$),this},b.beginTilingPattern=function(I){q("beginTilingPattern()"),uo(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},b.endTilingPattern=function(I,$){q("endTilingPattern()"),$.stream=rt[he].join(`
`),Yr(I,$),nn.publish("endTilingPattern",$),Li.pop().restore()};var wn=b.__private__.newObject=function(){var I=On();return jn(I,!0),I},On=b.__private__.newObjectDeferred=function(){return ye++,Re[ye]=function(){return Fe},ye},jn=function(I,$){return $=typeof $=="boolean"&&$,Re[I]=Fe,$&&ge(I+" 0 obj"),I},wt=b.__private__.newAdditionalObject=function(){var I={objId:On(),content:""};return lt.push(I),I},di=On(),ki=On(),Un=b.__private__.decodeColorString=function(I){var $=I.split(" ");if($.length!==2||$[1]!=="g"&&$[1]!=="G")$.length===5&&($[4]==="k"||$[4]==="K")&&($=[(1-$[0])*(1-$[3]),(1-$[1])*(1-$[3]),(1-$[2])*(1-$[3]),"r"]);else{var ue=parseFloat($[0]);$=[ue,ue,ue,"r"]}for(var Ee="#",Pe=0;Pe<3;Pe++)Ee+=("0"+Math.floor(255*parseFloat($[Pe])).toString(16)).slice(-2);return Ee},Kr=b.__private__.encodeColorString=function(I){var $;typeof I=="string"&&(I={ch1:I});var ue=I.ch1,Ee=I.ch2,Pe=I.ch3,Ge=I.ch4,nt=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var yt=new Ib(ue);if(yt.ok)ue=yt.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var Rt=parseInt(ue.substr(1),16);ue=Rt>>16&255,Ee=Rt>>8&255,Pe=255&Rt}if(Ee===void 0||Ge===void 0&&ue===Ee&&Ee===Pe)if(typeof ue=="string")$=ue+" "+nt[0];else switch(I.precision){case 2:$=oe(ue/255)+" "+nt[0];break;case 3:default:$=W(ue/255)+" "+nt[0]}else if(Ge===void 0||Nn(Ge)==="object"){if(Ge&&!isNaN(Ge.a)&&Ge.a===0)return $=["1.","1.","1.",nt[1]].join(" ");if(typeof ue=="string")$=[ue,Ee,Pe,nt[1]].join(" ");else switch(I.precision){case 2:$=[oe(ue/255),oe(Ee/255),oe(Pe/255),nt[1]].join(" ");break;default:case 3:$=[W(ue/255),W(Ee/255),W(Pe/255),nt[1]].join(" ")}}else if(typeof ue=="string")$=[ue,Ee,Pe,Ge,nt[2]].join(" ");else switch(I.precision){case 2:$=[oe(ue),oe(Ee),oe(Pe),oe(Ge),nt[2]].join(" ");break;case 3:default:$=[W(ue),W(Ee),W(Pe),W(Ge),nt[2]].join(" ")}return $},Pi=b.__private__.getFilters=function(){return l},ai=b.__private__.putStream=function(I){var $=(I=I||{}).data||"",ue=I.filters||Pi(),Ee=I.alreadyAppliedFilters||[],Pe=I.addLength1||!1,Ge=$.length,nt=I.objectId,yt=function(Qr){return Qr};if(y!==null&&nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(yt=Nr.encryptor(nt,0));var Rt={};ue===!0&&(ue=["FlateEncode"]);var Kt=I.additionalKeyValues||[],Qt=(Rt=Wt.API.processDataByFilters!==void 0?Wt.API.processDataByFilters($,ue):{data:$,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(Rt.data.length!==0&&(Kt.push({key:"Length",value:Rt.data.length}),Pe===!0&&Kt.push({key:"Length1",value:Ge})),Qt.length!=0)if(Qt.split("/").length-1==1)Kt.push({key:"Filter",value:Qt});else{Kt.push({key:"Filter",value:"["+Qt+"]"});for(var fn=0;fn<Kt.length;fn+=1)if(Kt[fn].key==="DecodeParms"){for(var Qn=[],In=0;In<Rt.reverseChain.split("/").length-1;In+=1)Qn.push("null");Qn.push(Kt[fn].value),Kt[fn].value="["+Qn.join(" ")+"]"}}ge("<<");for(var ir=0;ir<Kt.length;ir++)ge("/"+Kt[ir].key+" "+Kt[ir].value);ge(">>"),Rt.data.length!==0&&(ge("stream"),ge(yt(Rt.data)),ge("endstream"))},Er=b.__private__.putPage=function(I){var $=I.number,ue=I.data,Ee=I.objId,Pe=I.contentsObjId;jn(Ee,!0),ge("<</Type /Page"),ge("/Parent "+I.rootDictionaryObjId+" 0 R"),ge("/Resources "+I.resourceDictionaryObjId+" 0 R"),ge("/MediaBox ["+parseFloat(D(I.mediaBox.bottomLeftX))+" "+parseFloat(D(I.mediaBox.bottomLeftY))+" "+D(I.mediaBox.topRightX)+" "+D(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&ge("/CropBox ["+D(I.cropBox.bottomLeftX)+" "+D(I.cropBox.bottomLeftY)+" "+D(I.cropBox.topRightX)+" "+D(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&ge("/BleedBox ["+D(I.bleedBox.bottomLeftX)+" "+D(I.bleedBox.bottomLeftY)+" "+D(I.bleedBox.topRightX)+" "+D(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&ge("/TrimBox ["+D(I.trimBox.bottomLeftX)+" "+D(I.trimBox.bottomLeftY)+" "+D(I.trimBox.topRightX)+" "+D(I.trimBox.topRightY)+"]"),I.artBox!==null&&ge("/ArtBox ["+D(I.artBox.bottomLeftX)+" "+D(I.artBox.bottomLeftY)+" "+D(I.artBox.topRightX)+" "+D(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&ge("/UserUnit "+I.userUnit),nn.publish("putPage",{objId:Ee,pageContext:Yt[$],pageNumber:$,page:ue}),ge("/Contents "+Pe+" 0 R"),ge(">>"),ge("endobj");var Ge=ue.join(`
`);return L===_.ADVANCED&&(Ge+=`
Q`),jn(Pe,!0),ai({data:Ge,filters:Pi(),objectId:Pe}),ge("endobj"),Ee},Na=b.__private__.putPages=function(){var I,$,ue=[];for(I=1;I<=Xn;I++)Yt[I].objId=On(),Yt[I].contentsObjId=On();for(I=1;I<=Xn;I++)ue.push(Er({number:I,data:rt[I],objId:Yt[I].objId,contentsObjId:Yt[I].contentsObjId,mediaBox:Yt[I].mediaBox,cropBox:Yt[I].cropBox,bleedBox:Yt[I].bleedBox,trimBox:Yt[I].trimBox,artBox:Yt[I].artBox,userUnit:Yt[I].userUnit,rootDictionaryObjId:di,resourceDictionaryObjId:ki}));jn(di,!0),ge("<</Type /Pages");var Ee="/Kids [";for($=0;$<Xn;$++)Ee+=ue[$]+" 0 R ";ge(Ee+"]"),ge("/Count "+Xn),ge(">>"),ge("endobj"),nn.publish("postPutPages")},ro=function(I){nn.publish("putFont",{font:I,out:ge,newObject:wn,putStream:ai}),I.isAlreadyPutted!==!0&&(I.objectNumber=wn(),ge("<<"),ge("/Type /Font"),ge("/BaseFont /"+bu(I.postScriptName)),ge("/Subtype /Type1"),typeof I.encoding=="string"&&ge("/Encoding /"+I.encoding),ge("/FirstChar 32"),ge("/LastChar 255"),ge(">>"),ge("endobj"))},oi=function(){for(var I in Et)Et.hasOwnProperty(I)&&(w===!1||w===!0&&v.hasOwnProperty(I))&&ro(Et[I])},mr=function(I){I.objectNumber=wn();var $=[];$.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Form"}),$.push({key:"BBox",value:"["+[D(I.x),D(I.y),D(I.x+I.width),D(I.y+I.height)].join(" ")+"]"}),$.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var ue=I.pages[1].join(`
`);ai({data:ue,additionalKeyValues:$,objectId:I.objectNumber}),ge("endobj")},Cn=function(){for(var I in yn)yn.hasOwnProperty(I)&&mr(yn[I])},al=function(I,$){var ue,Ee=[],Pe=1/($-1);for(ue=0;ue<1;ue+=Pe)Ee.push(ue);if(Ee.push(1),I[0].offset!=0){var Ge={offset:0,color:I[0].color};I.unshift(Ge)}if(I[I.length-1].offset!=1){var nt={offset:1,color:I[I.length-1].color};I.push(nt)}for(var yt="",Rt=0,Kt=0;Kt<Ee.length;Kt++){for(ue=Ee[Kt];ue>I[Rt+1].offset;)Rt++;var Qt=I[Rt].offset,fn=(ue-Qt)/(I[Rt+1].offset-Qt),Qn=I[Rt].color,In=I[Rt+1].color;yt+=Ce(Math.round((1-fn)*Qn[0]+fn*In[0]).toString(16))+Ce(Math.round((1-fn)*Qn[1]+fn*In[1]).toString(16))+Ce(Math.round((1-fn)*Qn[2]+fn*In[2]).toString(16))}return yt.trim()},bs=function(I,$){$||($=21);var ue=wn(),Ee=al(I.colors,$),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+$+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ai({data:Ee,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),ge("endobj"),I.objectNumber=wn(),ge("<< /ShadingType "+I.type),ge("/ColorSpace /DeviceRGB");var Ge="/Coords ["+D(parseFloat(I.coords[0]))+" "+D(parseFloat(I.coords[1]))+" ";I.type===2?Ge+=D(parseFloat(I.coords[2]))+" "+D(parseFloat(I.coords[3])):Ge+=D(parseFloat(I.coords[2]))+" "+D(parseFloat(I.coords[3]))+" "+D(parseFloat(I.coords[4]))+" "+D(parseFloat(I.coords[5])),ge(Ge+="]"),I.matrix&&ge("/Matrix ["+I.matrix.toString()+"]"),ge("/Function "+ue+" 0 R"),ge("/Extend [true true]"),ge(">>"),ge("endobj")},ol=function(I,$){var ue=On(),Ee=wn();$.push({resourcesOid:ue,objectOid:Ee}),I.objectNumber=Ee;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+I.boundingBox.map(D).join(" ")+"]"}),Pe.push({key:"XStep",value:D(I.xStep)}),Pe.push({key:"YStep",value:D(I.yStep)}),Pe.push({key:"Resources",value:ue+" 0 R"}),I.matrix&&Pe.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),ai({data:I.stream,additionalKeyValues:Pe,objectId:I.objectNumber}),ge("endobj")},et=function(I){var $;for($ in Dt)Dt.hasOwnProperty($)&&(Dt[$]instanceof kl?bs(Dt[$]):Dt[$]instanceof Du&&ol(Dt[$],I))},ru=function(I){for(var $ in I.objectNumber=wn(),ge("<<"),I)switch($){case"opacity":ge("/ca "+oe(I[$]));break;case"stroke-opacity":ge("/CA "+oe(I[$]))}ge(">>"),ge("endobj")},zn=function(){var I;for(I in Gn)Gn.hasOwnProperty(I)&&ru(Gn[I])},As=function(){for(var I in ge("/XObject <<"),yn)yn.hasOwnProperty(I)&&yn[I].objectNumber>=0&&ge("/"+I+" "+yn[I].objectNumber+" 0 R");nn.publish("putXobjectDict"),ge(">>")},wc=function(){Nr.oid=wn(),ge("<<"),ge("/Filter /Standard"),ge("/V "+Nr.v),ge("/R "+Nr.r),ge("/U <"+Nr.toHexString(Nr.U)+">"),ge("/O <"+Nr.toHexString(Nr.O)+">"),ge("/P "+Nr.P),ge(">>"),ge("endobj")},pn=function(){for(var I in ge("/Font <<"),Et)Et.hasOwnProperty(I)&&(w===!1||w===!0&&v.hasOwnProperty(I))&&ge("/"+I+" "+Et[I].objectNumber+" 0 R");ge(">>")},gn=function(){if(Object.keys(Dt).length>0){for(var I in ge("/Shading <<"),Dt)Dt.hasOwnProperty(I)&&Dt[I]instanceof kl&&Dt[I].objectNumber>=0&&ge("/"+I+" "+Dt[I].objectNumber+" 0 R");nn.publish("putShadingPatternDict"),ge(">>")}},rn=function(I){if(Object.keys(Dt).length>0){for(var $ in ge("/Pattern <<"),Dt)Dt.hasOwnProperty($)&&Dt[$]instanceof b.TilingPattern&&Dt[$].objectNumber>=0&&Dt[$].objectNumber<I&&ge("/"+$+" "+Dt[$].objectNumber+" 0 R");nn.publish("putTilingPatternDict"),ge(">>")}},ll=function(){if(Object.keys(Gn).length>0){var I;for(I in ge("/ExtGState <<"),Gn)Gn.hasOwnProperty(I)&&Gn[I].objectNumber>=0&&ge("/"+I+" "+Gn[I].objectNumber+" 0 R");nn.publish("putGStateDict"),ge(">>")}},Yn=function(I){jn(I.resourcesOid,!0),ge("<<"),ge("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),pn(),gn(),rn(I.objectOid),ll(),As(),ge(">>"),ge("endobj")},io=function(){var I=[];oi(),zn(),Cn(),et(I),nn.publish("putResources"),I.forEach(Yn),Yn({resourcesOid:ki,objectOid:Number.MAX_SAFE_INTEGER}),nn.publish("postPutResources")},nr=function(){nn.publish("putAdditionalObjects");for(var I=0;I<lt.length;I++){var $=lt[I];jn($.objId,!0),ge($.content),ge("endobj")}nn.publish("postPutAdditionalObjects")},ns=function(I){gt[I.fontName]=gt[I.fontName]||{},gt[I.fontName][I.fontStyle]=I.id},ul=function(I,$,ue,Ee,Pe){var Ge={id:"F"+(Object.keys(Et).length+1).toString(10),postScriptName:I,fontName:$,fontStyle:ue,encoding:Ee,isStandardFont:Pe||!1,metadata:{}};return nn.publish("addFont",{font:Ge,instance:this}),Et[Ge.id]=Ge,ns(Ge),Ge.id},Kn=function(I){for(var $=0,ue=Xe.length;$<ue;$++){var Ee=ul.call(this,I[$][0],I[$][1],I[$][2],Xe[$][3],!0);w===!1&&(v[Ee]=!0);var Pe=I[$][0].split("-");ns({id:Ee,fontName:Pe[0],fontStyle:Pe[1]||""})}nn.publish("addFonts",{fonts:Et,dictionary:gt})},Rr=function(I){return I.foo=function(){try{return I.apply(this,arguments)}catch(Ee){var $=Ee.stack||"";~$.indexOf(" at ")&&($=$.split(" at ")[1]);var ue="Error in function "+$.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!Vt.console)throw new Error(ue);Vt.console.error(ue,Ee),Vt.alert&&alert(ue)}},I.foo.bar=I,I.foo},so=function(I,$){var ue,Ee,Pe,Ge,nt,yt,Rt,Kt,Qt;if(Pe=($=$||{}).sourceEncoding||"Unicode",nt=$.outputEncoding,($.autoencode||nt)&&Et[me].metadata&&Et[me].metadata[Pe]&&Et[me].metadata[Pe].encoding&&(Ge=Et[me].metadata[Pe].encoding,!nt&&Et[me].encoding&&(nt=Et[me].encoding),!nt&&Ge.codePages&&(nt=Ge.codePages[0]),typeof nt=="string"&&(nt=Ge[nt]),nt)){for(Rt=!1,yt=[],ue=0,Ee=I.length;ue<Ee;ue++)(Kt=nt[I.charCodeAt(ue)])?yt.push(String.fromCharCode(Kt)):yt.push(I[ue]),yt[ue].charCodeAt(0)>>8&&(Rt=!0);I=yt.join("")}for(ue=I.length;Rt===void 0&&ue!==0;)I.charCodeAt(ue-1)>>8&&(Rt=!0),ue--;if(!Rt)return I;for(yt=$.noBOM?[]:[254,255],ue=0,Ee=I.length;ue<Ee;ue++){if((Qt=(Kt=I.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+I+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");yt.push(Qt),yt.push(Kt-(Qt<<8))}return String.fromCharCode.apply(void 0,yt)},Cr=b.__private__.pdfEscape=b.pdfEscape=function(I,$){return so(I,$).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},En=b.__private__.beginPage=function(I){rt[++Xn]=[],Yt[Xn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},le(Xn),qe(rt[he])},Sr=function(I,$){var ue,Ee,Pe;switch(n=$||n,typeof I=="string"&&(ue=S(I.toLowerCase()),Array.isArray(ue)&&(Ee=ue[0],Pe=ue[1])),Array.isArray(I)&&(Ee=I[0]*we,Pe=I[1]*we),isNaN(Ee)&&(Ee=s[0],Pe=s[1]),(Ee>14400||Pe>14400)&&(Bn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Pe=Math.min(14400,Pe)),s=[Ee,Pe],n.substr(0,1)){case"l":Pe>Ee&&(s=[Pe,Ee]);break;case"p":Ee>Pe&&(s=[Pe,Ee])}En(s),Ur(Ws),ge(Wi),cr!==0&&ge(cr+" J"),ua!==0&&ge(ua+" j"),nn.publish("addPage",{pageNumber:Xn})},De=function(I){I>0&&I<=Xn&&(rt.splice(I,1),Yt.splice(I,1),Xn--,he>Xn&&(he=Xn),this.setPage(he))},le=function(I){I>0&&I<=Xn&&(he=I)},kt=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return rt.length-1},ur=function(I,$,ue){var Ee,Pe=void 0;return ue=ue||{},I=I!==void 0?I:Et[me].fontName,$=$!==void 0?$:Et[me].fontStyle,Ee=I.toLowerCase(),gt[Ee]!==void 0&&gt[Ee][$]!==void 0?Pe=gt[Ee][$]:gt[I]!==void 0&&gt[I][$]!==void 0?Pe=gt[I][$]:ue.disableWarning===!1&&Bn.warn("Unable to look up font label for font '"+I+"', '"+$+"'. Refer to getFontList() for available fonts."),Pe||ue.noFallback||(Pe=gt.times[$])==null&&(Pe=gt.times.normal),Pe},pi=b.__private__.putInfo=function(){var I=wn(),$=function(Ee){return Ee};for(var ue in y!==null&&($=Nr.encryptor(I,0)),ge("<<"),ge("/Producer ("+Cr($("jsPDF "+Wt.version))+")"),V)V.hasOwnProperty(ue)&&V[ue]&&ge("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+Cr($(V[ue]))+")");ge("/CreationDate ("+Cr($(ie))+")"),ge(">>"),ge("endobj")},cl=b.__private__.putCatalog=function(I){var $=(I=I||{}).rootDictionaryObjId||di;switch(wn(),ge("<<"),ge("/Type /Catalog"),ge("/Pages "+$+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":ge("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ge("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ge("/OpenAction [3 0 R /Fit]");break;case"original":ge("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+ze;ue.substr(ue.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&ge("/OpenAction [3 0 R /XYZ null null "+oe(ze)+"]")}switch(Ut||(Ut="continuous"),Ut){case"continuous":ge("/PageLayout /OneColumn");break;case"single":ge("/PageLayout /SinglePage");break;case"two":case"twoleft":ge("/PageLayout /TwoColumnLeft");break;case"tworight":ge("/PageLayout /TwoColumnRight")}Bt&&ge("/PageMode /"+Bt),nn.publish("putCatalog"),ge(">>"),ge("endobj")},fl=b.__private__.putTrailer=function(){ge("trailer"),ge("<<"),ge("/Size "+(ye+1)),ge("/Root "+ye+" 0 R"),ge("/Info "+(ye-1)+" 0 R"),y!==null&&ge("/Encrypt "+Nr.oid+" 0 R"),ge("/ID [ <"+Ae+"> <"+Ae+"> ]"),ge(">>")},gi=b.__private__.putHeader=function(){ge("%PDF-"+E),ge("%")},Mt=b.__private__.putXRef=function(){var I="0000000000";ge("xref"),ge("0 "+(ye+1)),ge("0000000000 65535 f ");for(var $=1;$<=ye;$++)typeof Re[$]=="function"?ge((I+Re[$]()).slice(-10)+" 00000 n "):Re[$]!==void 0?ge((I+Re[$]).slice(-10)+" 00000 n "):ge("0000000000 00000 n ")},xn=b.__private__.buildDocument=function(){_t(),qe(Oe),nn.publish("buildDocument"),gi(),Na(),nr(),io(),y!==null&&wc(),pi(),cl();var I=Fe;return Mt(),fl(),ge("startxref"),ge(""+I),ge("%%EOF"),qe(rt[he]),Oe.join(`
`)},_a=b.__private__.getBlob=function(I){return new Blob([ft(I)],{type:"application/pdf"})},ao=b.output=b.__private__.output=Rr(function(I,$){switch(typeof($=$||{})=="string"?$={filename:$}:$.filename=$.filename||"generated.pdf",I){case void 0:return xn();case"save":b.save($.filename);break;case"arraybuffer":return ft(xn());case"blob":return _a(xn());case"bloburi":case"bloburl":if(Vt.URL!==void 0&&typeof Vt.URL.createObjectURL=="function")return Vt.URL&&Vt.URL.createObjectURL(_a(xn()))||void 0;Bn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",Ee=xn();try{ue=og(Ee)}catch{ue=og(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+$.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Vt)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';$.pdfObjectUrl&&(Pe=$.pdfObjectUrl,Ge="");var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+Ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify($)+");<\/script></body></html>",yt=Vt.open();return yt!==null&&yt.document.write(nt),yt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Vt)==="[object Window]"){var Rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+($.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+$.filename+'" width="500px" height="400px" /></body></html>',Kt=Vt.open();if(Kt!==null){Kt.document.write(Rt);var Qt=this;Kt.document.documentElement.querySelector("#pdfViewer").onload=function(){Kt.document.title=$.filename,Kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Qt.output("bloburl"))}}return Kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",$)+'"></iframe></body></html>',Qn=Vt.open();if(Qn!==null&&(Qn.document.write(fn),Qn.document.title=$.filename),Qn||typeof safari>"u")return Qn;break;case"datauri":case"dataurl":return Vt.document.location.href=this.output("datauristring",$);default:return null}}),oo=function(I){return Array.isArray(zs)===!0&&zs.indexOf(I)>-1};switch(r){case"pt":we=1;break;case"mm":we=72/25.4;break;case"cm":we=72/2.54;break;case"in":we=72;break;case"px":we=oo("px_scaling")==1?.75:96/72;break;case"pc":case"em":we=12;break;case"ex":we=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);we=r}var Nr=null;Ye(),pe();var hl=function(I){return y!==null?Nr.encryptor(I,0):function($){return $}},iu=b.__private__.getPageInfo=b.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Yt[I].objId,pageNumber:I,pageContext:Yt[I]}},St=b.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var $ in Yt)if(Yt[$].objId===I)break;return iu($)},Ia=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Yt[he].objId,pageNumber:he,pageContext:Yt[he]}};b.addPage=function(){return Sr.apply(this,arguments),this},b.setPage=function(){return le.apply(this,arguments),qe.call(this,rt[he]),this},b.insertPage=function(I){return this.addPage(),this.movePage(he,I),this},b.movePage=function(I,$){var ue,Ee;if(I>$){ue=rt[I],Ee=Yt[I];for(var Pe=I;Pe>$;Pe--)rt[Pe]=rt[Pe-1],Yt[Pe]=Yt[Pe-1];rt[$]=ue,Yt[$]=Ee,this.setPage($)}else if(I<$){ue=rt[I],Ee=Yt[I];for(var Ge=I;Ge<$;Ge++)rt[Ge]=rt[Ge+1],Yt[Ge]=Yt[Ge+1];rt[$]=ue,Yt[$]=Ee,this.setPage($)}return this},b.deletePage=function(){return De.apply(this,arguments),this},b.__private__.text=b.text=function(I,$,ue,Ee,Pe){var Ge,nt,yt,Rt,Kt,Qt,fn,Qn,In,ir=(Ee=Ee||{}).scope||this;if(typeof I=="number"&&typeof $=="number"&&(typeof ue=="string"||Array.isArray(ue))){var Qr=ue;ue=$,$=I,I=Qr}if(arguments[3]instanceof Tt?(q("The transform parameter of text() with a Matrix value"),In=Pe):(yt=arguments[4],Rt=arguments[5],Nn(fn=arguments[3])==="object"&&fn!==null||(typeof yt=="string"&&(Rt=yt,yt=null),typeof fn=="string"&&(Rt=fn,fn=null),typeof fn=="number"&&(yt=fn,fn=null),Ee={flags:fn,angle:yt,align:Rt})),isNaN($)||isNaN(ue)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return ir;var sr="",is=!1,yr=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:oa,Oi=ir.internal.scaleFactor;function li(qn){return qn=qn.split("	").join(Array(Ee.TabLen||9).join(" ")),Cr(qn,fn)}function co(qn){for(var Wn,Ir=qn.concat(),Wr=[],Pa=Ir.length;Pa--;)typeof(Wn=Ir.shift())=="string"?Wr.push(Wn):Array.isArray(qn)&&(Wn.length===1||Wn[1]===void 0&&Wn[2]===void 0)?Wr.push(Wn[0]):Wr.push([Wn[0],Wn[1],Wn[2]]);return Wr}function wi(qn,Wn){var Ir;if(typeof qn=="string")Ir=Wn(qn)[0];else if(Array.isArray(qn)){for(var Wr,Pa,bc=qn.concat(),ou=[],ch=bc.length;ch--;)typeof(Wr=bc.shift())=="string"?ou.push(Wn(Wr)[0]):Array.isArray(Wr)&&typeof Wr[0]=="string"&&(Pa=Wn(Wr[0],Wr[1],Wr[2]),ou.push([Pa[0],Pa[1],Pa[2]]));Ir=ou}return Ir}var fo=!1,La=!0;if(typeof I=="string")fo=!0;else if(Array.isArray(I)){var Al=I.concat();nt=[];for(var ka,Rn=Al.length;Rn--;)(typeof(ka=Al.shift())!="string"||Array.isArray(ka)&&typeof ka[0]!="string")&&(La=!1);fo=La}if(fo===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var ho=ht/ir.internal.scaleFactor,ha=ho*(yr-1);switch(Ee.baseline){case"bottom":ue-=ha;break;case"top":ue+=ho-ha;break;case"hanging":ue+=ho-2*ha;break;case"middle":ue+=ho/2-ha}if((Qt=Ee.maxWidth||0)>0&&(typeof I=="string"?I=ir.splitTextToSize(I,Qt):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(qn,Wn){return qn.concat(ir.splitTextToSize(Wn,Qt))},[]))),Ge={text:I,x:$,y:ue,options:Ee,mutex:{pdfEscape:Cr,activeFontKey:me,fonts:Et,activeFontSize:ht}},nn.publish("preProcessText",Ge),I=Ge.text,yt=(Ee=Ge.options).angle,!(In instanceof Tt)&&yt&&typeof yt=="number"){yt*=Math.PI/180,Ee.rotationDirection===0&&(yt=-yt),L===_.ADVANCED&&(yt=-yt);var Ns=Math.cos(yt),un=Math.sin(yt);In=new Tt(Ns,un,-un,Ns,0,0)}else yt&&yt instanceof Tt&&(In=yt);L!==_.ADVANCED||In||(In=Xr),(Kt=Ee.charSpace||je)!==void 0&&(sr+=D(X(Kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qn=Ee.horizontalScale)!==void 0&&(sr+=D(100*Qn)+` Tz
`),Ee.lang;var zr=-1,Y=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,i=ir.internal.getCurrentPageInfo().pageContext;switch(Y){case 0:case!1:case"fill":zr=0;break;case 1:case!0:case"stroke":zr=1;break;case 2:case"fillThenStroke":zr=2;break;case 3:case"invisible":zr=3;break;case 4:case"fillAndAddForClipping":zr=4;break;case 5:case"strokeAndAddPathForClipping":zr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":zr=6;break;case 7:case"addToPathForClipping":zr=7}var o=i.usedRenderingMode!==void 0?i.usedRenderingMode:-1;zr!==-1?sr+=zr+` Tr
`:o!==-1&&(sr+=`0 Tr
`),zr!==-1&&(i.usedRenderingMode=zr),Rt=Ee.align||"left";var u,f=ht*yr,d=ir.internal.pageSize.getWidth(),g=Et[me];Kt=Ee.charSpace||je,Qt=Ee.maxWidth||0,fn=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var x=[],N=function(qn){return ir.getStringUnitWidth(qn,{font:g,charSpace:Kt,fontSize:ht,doKerning:!1})*ht/Oi};if(Object.prototype.toString.call(I)==="[object Array]"){var T;nt=co(I),Rt!=="left"&&(u=nt.map(N));var j,G=0;if(Rt==="right"){$-=u[0],I=[],Rn=nt.length;for(var te=0;te<Rn;te++)te===0?(j=Ss($),T=Vs(ue)):(j=X(G-u[te]),T=-f),I.push([nt[te],j,T]),G=u[te]}else if(Rt==="center"){$-=u[0]/2,I=[],Rn=nt.length;for(var ce=0;ce<Rn;ce++)ce===0?(j=Ss($),T=Vs(ue)):(j=X((G-u[ce])/2),T=-f),I.push([nt[ce],j,T]),G=u[ce]}else if(Rt==="left"){I=[],Rn=nt.length;for(var be=0;be<Rn;be++)I.push(nt[be])}else if(Rt==="justify"&&g.encoding==="Identity-H"){I=[],Rn=nt.length,Qt=Qt!==0?Qt:d;for(var Se=0,Te=0;Te<Rn;Te++)if(T=Te===0?Vs(ue):-f,j=Te===0?Ss($):Se,Te<Rn-1){var Ue=X((Qt-u[Te])/(nt[Te].split(" ").length-1)),it=nt[Te].split(" ");I.push([it[0]+" ",j,T]),Se=0;for(var ot=1;ot<it.length;ot++){var st=(N(it[ot-1]+" "+it[ot])-N(it[ot]))*Oi+Ue;ot==it.length-1?I.push([it[ot],st,0]):I.push([it[ot]+" ",st,0]),Se-=st}}else I.push([nt[Te],j,T]);I.push(["",Se,0])}else{if(Rt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],Rn=nt.length,Qt=Qt!==0?Qt:d,Te=0;Te<Rn;Te++)T=Te===0?Vs(ue):-f,j=Te===0?Ss($):0,Te<Rn-1?x.push(D(X((Qt-u[Te])/(nt[Te].split(" ").length-1)))):x.push(0),I.push([nt[Te],j,T])}}var an=typeof Ee.R2L=="boolean"?Ee.R2L:It;an===!0&&(I=wi(I,function(qn,Wn,Ir){return[qn.split("").reverse().join(""),Wn,Ir]})),Ge={text:I,x:$,y:ue,options:Ee,mutex:{pdfEscape:Cr,activeFontKey:me,fonts:Et,activeFontSize:ht}},nn.publish("postProcessText",Ge),I=Ge.text,is=Ge.mutex.isHex||!1;var Ht=Et[me].encoding;Ht!=="WinAnsiEncoding"&&Ht!=="StandardEncoding"||(I=wi(I,function(qn,Wn,Ir){return[li(qn),Wn,Ir]})),nt=co(I),I=[];for(var wr,qr,hr,mn=0,ar=1,_r=Array.isArray(nt[0])?ar:mn,Ri="",_s=function(qn,Wn,Ir){var Wr="";return Ir instanceof Tt?(Ir=typeof Ee.angle=="number"?ts(Ir,new Tt(1,0,0,1,qn,Wn)):ts(new Tt(1,0,0,1,qn,Wn),Ir),L===_.ADVANCED&&(Ir=ts(new Tt(1,0,0,-1,0,0),Ir)),Wr=Ir.join(" ")+` Tm
`):Wr=D(qn)+" "+D(Wn)+` Td
`,Wr},Vi=0;Vi<nt.length;Vi++){switch(Ri="",_r){case ar:hr=(is?"<":"(")+nt[Vi][0]+(is?">":")"),wr=parseFloat(nt[Vi][1]),qr=parseFloat(nt[Vi][2]);break;case mn:hr=(is?"<":"(")+nt[Vi]+(is?">":")"),wr=Ss($),qr=Vs(ue)}x!==void 0&&x[Vi]!==void 0&&(Ri=x[Vi]+` Tw
`),Vi===0?I.push(Ri+_s(wr,qr,In)+hr):_r===mn?I.push(Ri+hr):_r===ar&&I.push(Ri+_s(wr,qr,In)+hr)}I=_r===mn?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var Hi=`BT
/`;return Hi+=me+" "+ht+` Tf
`,Hi+=D(ht*yr)+` TL
`,Hi+=mi+`
`,Hi+=sr,Hi+=I,ge(Hi+="ET"),v[me]=!0,ir};var Es=b.__private__.clip=b.clip=function(I){return ge(I==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Es("evenodd")},b.__private__.discardPath=b.discardPath=function(){return ge("n"),this};var Pt=b.__private__.isValidStyle=function(I){var $=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&($=!0),$};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(I){return Pt(I)&&(p=I),this};var su=b.__private__.getStyle=b.getStyle=function(I){var $=p;switch(I){case"D":case"S":$="S";break;case"F":$="f";break;case"FD":case"DF":$="B";break;case"f":case"f*":case"B":case"B*":$=I}return $},Zt=b.close=function(){return ge("h"),this};b.stroke=function(){return ge("S"),this},b.fill=function(I){return rr("f",I),this},b.fillEvenOdd=function(I){return rr("f*",I),this},b.fillStroke=function(I){return rr("B",I),this},b.fillStrokeEvenOdd=function(I){return rr("B*",I),this};var rr=function(I,$){Nn($)==="object"?au($,I):ge(I)},dl=function(I){I===null||L===_.ADVANCED&&I===void 0||(I=su(I),ge(I))};function pl(I,$,ue,Ee,Pe){var Ge=new Du($||this.boundingBox,ue||this.xStep,Ee||this.yStep,this.gState,Pe||this.matrix);Ge.stream=this.stream;var nt=I+"$$"+this.cloneIndex+++"$$";return Yr(nt,Ge),Ge}var au=function(I,$){var ue=Us[I.key],Ee=Dt[ue];if(Ee instanceof kl)ge("q"),ge(qs($)),Ee.gState&&b.setGState(Ee.gState),ge(I.matrix.toString()+" cm"),ge("/"+ue+" sh"),ge("Q");else if(Ee instanceof Du){var Pe=new Tt(1,0,0,-1,0,yi());I.matrix&&(Pe=Pe.multiply(I.matrix||Xr),ue=pl.call(Ee,I.key,I.boundingBox,I.xStep,I.yStep,Pe).id),ge("q"),ge("/Pattern cs"),ge("/"+ue+" scn"),Ee.gState&&b.setGState(Ee.gState),ge($),ge("Q")}},qs=function(I){switch(I){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},gl=b.moveTo=function(I,$){return ge(D(X(I))+" "+D(J($))+" m"),this},rs=b.lineTo=function(I,$){return ge(D(X(I))+" "+D(J($))+" l"),this},qi=b.curveTo=function(I,$,ue,Ee,Pe,Ge){return ge([D(X(I)),D(J($)),D(X(ue)),D(J(Ee)),D(X(Pe)),D(J(Ge)),"c"].join(" ")),this};b.__private__.line=b.line=function(I,$,ue,Ee,Pe){if(isNaN(I)||isNaN($)||isNaN(ue)||isNaN(Ee)||!Pt(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return L===_.COMPAT?this.lines([[ue-I,Ee-$]],I,$,[1,1],Pe||"S"):this.lines([[ue-I,Ee-$]],I,$,[1,1]).stroke()},b.__private__.lines=b.lines=function(I,$,ue,Ee,Pe,Ge){var nt,yt,Rt,Kt,Qt,fn,Qn,In,ir,Qr,sr,is;if(typeof I=="number"&&(is=ue,ue=$,$=I,I=is),Ee=Ee||[1,1],Ge=Ge||!1,isNaN($)||isNaN(ue)||!Array.isArray(I)||!Array.isArray(Ee)||!Pt(Pe)||typeof Ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gl($,ue),nt=Ee[0],yt=Ee[1],Kt=I.length,Qr=$,sr=ue,Rt=0;Rt<Kt;Rt++)(Qt=I[Rt]).length===2?(Qr=Qt[0]*nt+Qr,sr=Qt[1]*yt+sr,rs(Qr,sr)):(fn=Qt[0]*nt+Qr,Qn=Qt[1]*yt+sr,In=Qt[2]*nt+Qr,ir=Qt[3]*yt+sr,Qr=Qt[4]*nt+Qr,sr=Qt[5]*yt+sr,qi(fn,Qn,In,ir,Qr,sr));return Ge&&Zt(),dl(Pe),this},b.path=function(I){for(var $=0;$<I.length;$++){var ue=I[$],Ee=ue.c;switch(ue.op){case"m":gl(Ee[0],Ee[1]);break;case"l":rs(Ee[0],Ee[1]);break;case"c":qi.apply(this,Ee);break;case"h":Zt()}}return this},b.__private__.rect=b.rect=function(I,$,ue,Ee,Pe){if(isNaN(I)||isNaN($)||isNaN(ue)||isNaN(Ee)||!Pt(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return L===_.COMPAT&&(Ee=-Ee),ge([D(X(I)),D(J($)),D(X(ue)),D(X(Ee)),"re"].join(" ")),dl(Pe),this},b.__private__.triangle=b.triangle=function(I,$,ue,Ee,Pe,Ge,nt){if(isNaN(I)||isNaN($)||isNaN(ue)||isNaN(Ee)||isNaN(Pe)||isNaN(Ge)||!Pt(nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-I,Ee-$],[Pe-ue,Ge-Ee],[I-Pe,$-Ge]],I,$,[1,1],nt,!0),this},b.__private__.roundedRect=b.roundedRect=function(I,$,ue,Ee,Pe,Ge,nt){if(isNaN(I)||isNaN($)||isNaN(ue)||isNaN(Ee)||isNaN(Pe)||isNaN(Ge)||!Pt(nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var yt=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*ue),Ge=Math.min(Ge,.5*Ee),this.lines([[ue-2*Pe,0],[Pe*yt,0,Pe,Ge-Ge*yt,Pe,Ge],[0,Ee-2*Ge],[0,Ge*yt,-Pe*yt,Ge,-Pe,Ge],[2*Pe-ue,0],[-Pe*yt,0,-Pe,-Ge*yt,-Pe,-Ge],[0,2*Ge-Ee],[0,-Ge*yt,Pe*yt,-Ge,Pe,-Ge]],I+Pe,$,[1,1],nt,!0),this},b.__private__.ellipse=b.ellipse=function(I,$,ue,Ee,Pe){if(isNaN(I)||isNaN($)||isNaN(ue)||isNaN(Ee)||!Pt(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ge=4/3*(Math.SQRT2-1)*ue,nt=4/3*(Math.SQRT2-1)*Ee;return gl(I+ue,$),qi(I+ue,$-nt,I+Ge,$-Ee,I,$-Ee),qi(I-Ge,$-Ee,I-ue,$-nt,I-ue,$),qi(I-ue,$+nt,I-Ge,$+Ee,I,$+Ee),qi(I+Ge,$+Ee,I+ue,$+nt,I+ue,$),dl(Pe),this},b.__private__.circle=b.circle=function(I,$,ue,Ee){if(isNaN(I)||isNaN($)||isNaN(ue)||!Pt(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,$,ue,ue,Ee)},b.setFont=function(I,$,ue){return ue&&($=M($,ue)),me=ur(I,$,{disableWarning:!1}),this};var Ta=b.__private__.getFont=b.getFont=function(){return Et[ur.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var I,$,ue={};for(I in gt)if(gt.hasOwnProperty(I))for($ in ue[I]=[],gt[I])gt[I].hasOwnProperty($)&&ue[I].push($);return ue},b.addFont=function(I,$,ue,Ee,Pe){var Ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ge.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&Ge.indexOf(arguments[3])==-1&&(ue=M(ue,Ee)),Pe=Pe||"Identity-H",ul.call(this,I,$,ue,Pe)};var oa,Ws=e.lineWidth||.200025,Cs=b.__private__.getLineWidth=b.getLineWidth=function(){return Ws},Ur=b.__private__.setLineWidth=b.setLineWidth=function(I){return Ws=I,ge(D(X(I))+" w"),this};b.__private__.setLineDash=Wt.API.setLineDash=Wt.API.setLineDashPattern=function(I,$){if(I=I||[],$=$||0,isNaN($)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(ue){return D(X(ue))}).join(" "),$=D(X($)),ge("["+I+"] "+$+" d"),this};var ml=b.__private__.getLineHeight=b.getLineHeight=function(){return ht*oa};b.__private__.getLineHeight=b.getLineHeight=function(){return ht*oa};var yl=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(oa=I),this},wl=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return oa};yl(e.lineHeight);var Ss=b.__private__.getHorizontalCoordinate=function(I){return X(I)},Vs=b.__private__.getVerticalCoordinate=function(I){return L===_.ADVANCED?I:Yt[he].mediaBox.topRightY-Yt[he].mediaBox.bottomLeftY-X(I)},xc=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(I){return D(Ss(I))},cn=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(I){return D(Vs(I))},Wi=e.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Un(Wi)},b.__private__.setStrokeColor=b.setDrawColor=function(I,$,ue,Ee){return Wi=Kr({ch1:I,ch2:$,ch3:ue,ch4:Ee,pdfColorType:"draw",precision:2}),ge(Wi),this};var la=e.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Un(la)},b.__private__.setFillColor=b.setFillColor=function(I,$,ue,Ee){return la=Kr({ch1:I,ch2:$,ch3:ue,ch4:Ee,pdfColorType:"fill",precision:2}),ge(la),this};var mi=e.textColor||"0 g",vc=b.__private__.getTextColor=b.getTextColor=function(){return Un(mi)};b.__private__.setTextColor=b.setTextColor=function(I,$,ue,Ee){return mi=Kr({ch1:I,ch2:$,ch3:ue,ch4:Ee,pdfColorType:"text",precision:3}),this};var je=e.charSpace,tn=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(je||0)};b.__private__.setCharSpace=b.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return je=I,this};var cr=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(I){var $=b.CapJoinStyles[I];if($===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cr=$,ge($+" J"),this};var ua=0;b.__private__.setLineJoin=b.setLineJoin=function(I){var $=b.CapJoinStyles[I];if($===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ua=$,ge($+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ge(D(X(I))+" M"),this},b.GState=wd,b.setGState=function(I){(I=typeof I=="string"?Gn[en[I]]:xl(null,I)).equals(ii)||(ge("/"+I.id+" gs"),ii=I)};var xl=function(I,$){if(!I||!en[I]){var ue=!1;for(var Ee in Gn)if(Gn.hasOwnProperty(Ee)&&Gn[Ee].equals($)){ue=!0;break}if(ue)$=Gn[Ee];else{var Pe="GS"+(Object.keys(Gn).length+1).toString(10);Gn[Pe]=$,$.id=Pe}return I&&(en[I]=$.id),nn.publish("addGState",$),$}};b.addGState=function(I,$){return xl(I,$),this},b.saveGraphicsState=function(){return ge("q"),Lt.push({key:me,size:ht,color:mi}),this},b.restoreGraphicsState=function(){ge("Q");var I=Lt.pop();return me=I.key,ht=I.size,mi=I.color,ii=null,this},b.setCurrentTransformationMatrix=function(I){return ge(I.toString()+" cm"),this},b.comment=function(I){return ge("#"+I),this};var lo=function(I,$){var ue=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(Ge){isNaN(Ge)||(ue=parseFloat(Ge))}});var Ee=$||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(Ge){isNaN(Ge)||(Ee=parseFloat(Ge))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(Ge){Pe=Ge.toString()}}),this},vl=function(I,$,ue,Ee){lo.call(this,I,$),this.type="rect";var Pe=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(nt){isNaN(nt)||(Pe=parseFloat(nt))}});var Ge=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ge},set:function(nt){isNaN(nt)||(Ge=parseFloat(nt))}}),this},bl=function(){this.page=Xn,this.currentPage=he,this.pages=rt.slice(0),this.pagesContext=Yt.slice(0),this.x=We,this.y=Ve,this.matrix=Ke,this.width=_n(he),this.height=yi(he),this.outputDestination=Qe,this.id="",this.objectNumber=-1};bl.prototype.restore=function(){Xn=this.page,he=this.currentPage,Yt=this.pagesContext,rt=this.pages,We=this.x,Ve=this.y,Ke=this.matrix,fa(he,this.width),vn(he,this.height),Qe=this.outputDestination};var uo=function(I,$,ue,Ee,Pe){Li.push(new bl),Xn=he=0,rt=[],We=I,Ve=$,Ke=Pe,En([ue,Ee])},fr=function(I){if(si[I])Li.pop().restore();else{var $=new bl,ue="Xo"+(Object.keys(yn).length+1).toString(10);$.id=ue,si[I]=ue,yn[ue]=$,nn.publish("addFormObject",$),Li.pop().restore()}};for(var ca in b.beginFormObject=function(I,$,ue,Ee,Pe){return uo(I,$,ue,Ee,Pe),this},b.endFormObject=function(I){return fr(I),this},b.doFormObject=function(I,$){var ue=yn[si[I]];return ge("q"),ge($.toString()+" cm"),ge("/"+ue.id+" Do"),ge("Q"),this},b.getFormObject=function(I){var $=yn[si[I]];return{x:$.x,y:$.y,width:$.width,height:$.height,matrix:$.matrix}},b.save=function(I,$){return I=I||"generated.pdf",($=$||{}).returnPromise=$.returnPromise||!1,$.returnPromise===!1?(Il(_a(xn()),I),typeof Il.unload=="function"&&Vt.setTimeout&&setTimeout(Il.unload,911),this):new Promise(function(ue,Ee){try{var Pe=Il(_a(xn()),I);typeof Il.unload=="function"&&Vt.setTimeout&&setTimeout(Il.unload,911),ue(Pe)}catch(Ge){Ee(Ge.message)}})},Wt.API)Wt.API.hasOwnProperty(ca)&&(ca==="events"&&Wt.API.events.length?function(I,$){var ue,Ee,Pe;for(Pe=$.length-1;Pe!==-1;Pe--)ue=$[Pe][0],Ee=$[Pe][1],I.subscribe.apply(I,[ue].concat(typeof Ee=="function"?[Ee]:Ee))}(nn,Wt.API.events):b[ca]=Wt.API[ca]);var _n=b.getPageWidth=function(I){return(Yt[I=I||he].mediaBox.topRightX-Yt[I].mediaBox.bottomLeftX)/we},fa=b.setPageWidth=function(I,$){Yt[I].mediaBox.topRightX=$*we+Yt[I].mediaBox.bottomLeftX},yi=b.getPageHeight=function(I){return(Yt[I=I||he].mediaBox.topRightY-Yt[I].mediaBox.bottomLeftY)/we},vn=b.setPageHeight=function(I,$){Yt[I].mediaBox.topRightY=$*we+Yt[I].mediaBox.bottomLeftY};return b.internal={pdfEscape:Cr,getStyle:su,getFont:Ta,getFontSize:ct,getCharSpace:tn,getTextColor:vc,getLineHeight:ml,getLineHeightFactor:wl,getLineWidth:Cs,write:At,getHorizontalCoordinate:Ss,getVerticalCoordinate:Vs,getCoordinateString:xc,getVerticalCoordinateString:cn,collections:{},newObject:wn,newAdditionalObject:wt,newObjectDeferred:On,newObjectDeferredBegin:jn,getFilters:Pi,putStream:ai,events:nn,scaleFactor:we,pageSize:{getWidth:function(){return _n(he)},setWidth:function(I){fa(he,I)},getHeight:function(){return yi(he)},setHeight:function(I){vn(he,I)}},encryptionOptions:y,encryption:Nr,getEncryptor:hl,output:ao,getNumberOfPages:kt,pages:rt,out:ge,f2:oe,f3:W,getPageInfo:iu,getPageInfoByObjId:St,getCurrentPageInfo:Ia,getPDFVersion:A,Point:lo,Rectangle:vl,Matrix:Tt,hasHotfix:oo},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return _n(he)},set:function(I){fa(he,I)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return yi(he)},set:function(I){vn(he,I)},enumerable:!0,configurable:!0}),Kn.call(b,Xe),me="F1",Sr(s,n),nn.publish("initialized"),b}vu.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},vu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},vu.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},vu.prototype.processOwnerPassword=function(e,t){return ug(lg(t).substr(0,5),e)},vu.prototype.encryptor=function(e,t){var n=lg(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return ug(n,r)}},wd.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Nn(e)!==Nn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Wt.API={events:[]},Wt.version="2.5.2";var vr=Wt.API,Wm=1,nu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jt=function(e){return e.toFixed(2)},Co=function(e){return e.toFixed(5)};vr.__acroform__={};var es=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Aw=function(e){return e*Wm},ga=function(e){var t=new Pb,n=Nt.internal.getHeight(e)||0,r=Nt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Jt(r)),Number(Jt(n))],t},nI=vr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},rI=vr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},iI=vr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Lr=vr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return iI(e,t-1)},kr=vr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return nI(e,t-1)},Pr=vr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return rI(e,t-1)},sI=vr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=e[0],a=e[1],l=e[2],c=e[3],h={};return h.lowerLeft_X=n(s)||0,h.lowerLeft_Y=r(a+c)||0,h.upperRight_X=n(s+l)||0,h.upperRight_Y=r(a)||0,[Number(Jt(h.lowerLeft_X)),Number(Jt(h.lowerLeft_Y)),Number(Jt(h.upperRight_X)),Number(Jt(h.upperRight_Y))]},aI=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=cg(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Jt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=ga(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},cg=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(W){return W.split(`
`)}):s.map(function(W){return[W]});var a=n,l=Nt.internal.getHeight(e)||0;l=l<0?-l:l;var c=Nt.internal.getWidth(e)||0;c=c<0?-c:c;var h=function(W,X,ae){if(W+1<s.length){var J=X+" "+s[W+1][0];return o1(J,e,ae).width<=c-4}return!1};a++;e:for(;a>0;){t="",a--;var p,y,w=o1("3",e,a).height,v=e.multiline?l-a:(l-w)/2,b=v+=2,E=0,A=0,k=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+o1(t,e,a=12).width+", FieldWidth:"+c+`
`;break}for(var S="",_=0,L=0;L<s.length;L++)if(s.hasOwnProperty(L)){var z=!1;if(s[L].length!==1&&k!==s[L].length-1){if((w+2)*(_+2)+2>l)continue e;S+=s[L][k],z=!0,A=L,L--}else{S=(S+=s[L][k]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var H=parseInt(L),M=h(H,S,a),D=L>=s.length-1;if(M&&!D){S+=" ",k=0;continue}if(M||D){if(D)A=H;else if(e.multiline&&(w+2)*(_+2)+2>l)continue e}else{if(!e.multiline||(w+2)*(_+2)+2>l)continue e;A=H}}for(var q="",F=E;F<=A;F++){var oe=s[F];if(e.multiline){if(F===A){q+=oe[k]+" ",k=(k+1)%oe.length;continue}if(F===E){q+=oe[oe.length-1]+" ";continue}}q+=oe[0]+" "}switch(q=q.substr(q.length-1)==" "?q.substr(0,q.length-1):q,y=o1(q,e,a).width,e.textAlign){case"right":p=c-y-2;break;case"center":p=(c-y)/2;break;case"left":default:p=2}t+=Jt(p)+" "+Jt(b)+` Td
`,t+="("+nu(q)+`) Tj
`,t+=-Jt(p)+` 0 Td
`,b=-(a+2),y=0,E=z?A:A+1,_++,S=""}break}return r.text=t,r.fontSize=a,r},o1=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},oI={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},lI=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},uI=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,s=e[n];t.internal.newObjectDeferredBegin(s.objId,!0),Nn(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[r]}},cI=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(sa.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(oI)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Wm=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Ob,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s];a.objId=void 0,a.hasAnnotation&&lI(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,s){var a=!r;for(var l in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var c=r[l],h=[],p=c.Rect;if(c.Rect&&(c.Rect=sI(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Nt.createDefaultAppearanceStream(c),Nn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(h=c.getKeyValueListForStream()),c.Rect=p,c.hasAppearanceStream&&!c.appearanceStreamContent){var y=aI(c);h.push({key:"AP",value:"<</N "+y+">>"}),s.internal.acroformPlugin.xForms.push(y)}if(c.appearanceStreamContent){var w="";for(var v in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(v)){var b=c.appearanceStreamContent[v];if(w+="/"+v+" ",w+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var l in b)if(b.hasOwnProperty(l)){var E=b[l];typeof E=="function"&&(E=E.call(s,c)),w+="/"+l+" "+E+" ",s.internal.acroformPlugin.xForms.indexOf(E)>=0||s.internal.acroformPlugin.xForms.push(E)}}else typeof(E=b)=="function"&&(E=E.call(s,c)),w+="/"+l+" "+E,s.internal.acroformPlugin.xForms.indexOf(E)>=0||s.internal.acroformPlugin.xForms.push(E);w+=">>"}h.push({key:"AP",value:`<<
`+w+">>"})}s.internal.putStream({additionalKeyValues:h,objectId:c.objId}),s.internal.out("endobj")}a&&uI(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},kb=vr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(l){return l};if(Array.isArray(e)){for(var s="[",a=0;a<e.length;a++)switch(a!==0&&(s+=" "),Nn(e[a])){case"boolean":case"number":case"object":s+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),s+="("+nu(r(e[a].toString()))+")"):s+=e[a].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},w2=function(e,t,n){var r=function(s){return s};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+nu(r(e))+")"},xa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};xa.prototype.toString=function(){return this.objId+" 0 R"},xa.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},xa.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:kb(s,this.objId,this.scope)}):s instanceof xa?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:r,value:s}))}return e};var Pb=function(){xa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};es(Pb,xa);var Ob=function(){xa.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+nu(n(e))+")"}},set:function(n){e=n}})};es(Ob,xa);var sa=function e(){xa.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');t=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Lr(t,3)},set:function(S){S?this.F=kr(t,3):this.F=Pr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');n=S}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(S){r=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(S){r[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(S){r[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(S){r[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(S){r[3]=S}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof xd)return;a="FieldObject"+e.FieldNum++}var S=function(_){return _};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+nu(S(a))+")"},set:function(S){a=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(S){a=S}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(S){l=S}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/Wm:p},set:function(S){p=S}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(S){y=S}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof xd||this instanceof ql))return w2(w,this.objId,this.scope)},set:function(S){S=S.toString(),w=S}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof ei?v:w2(v,this.objId,this.scope)},set:function(S){S=S.toString(),v=this instanceof ei?S:S.substr(0,1)==="("?yu(S.substr(1,S.length-2)):yu(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ei?yu(v.substr(1,v.length-1)):v},set:function(S){S=S.toString(),v=this instanceof ei?"/"+S:S}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof ei?b:w2(b,this.objId,this.scope)},set:function(S){S=S.toString(),b=this instanceof ei?S:S.substr(0,1)==="("?yu(S.substr(1,S.length-2)):yu(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ei?yu(b.substr(1,b.length-1)):b},set:function(S){S=S.toString(),b=this instanceof ei?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(S){S=!!S,A=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(S){E=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,1)},set:function(S){S?this.Ff=kr(this.Ff,1):this.Ff=Pr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,2)},set:function(S){S?this.Ff=kr(this.Ff,2):this.Ff=Pr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,3)},set:function(S){S?this.Ff=kr(this.Ff,3):this.Ff=Pr(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');k=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(k){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};es(sa,xa);var Xu=function(){sa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return kb(t,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(a,l,c){c||(c=1);for(var h,p=[];h=l.exec(a);)p.push(h[c]);return p}(r,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,18)},set:function(n){n?this.Ff=kr(this.Ff,18):this.Ff=Pr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=kr(this.Ff,19):this.Ff=Pr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,20)},set:function(n){n?(this.Ff=kr(this.Ff,20),t.sort()):this.Ff=Pr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,22)},set:function(n){n?this.Ff=kr(this.Ff,22):this.Ff=Pr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,23)},set:function(n){n?this.Ff=kr(this.Ff,23):this.Ff=Pr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,27)},set:function(n){n?this.Ff=kr(this.Ff,27):this.Ff=Pr(this.Ff,27)}}),this.hasAppearanceStream=!1};es(Xu,sa);var Yu=function(){Xu.call(this),this.fontName="helvetica",this.combo=!1};es(Yu,Xu);var Ku=function(){Yu.call(this),this.combo=!0};es(Ku,Yu);var k1=function(){Ku.call(this),this.edit=!0};es(k1,Ku);var ei=function(){sa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,15)},set:function(n){n?this.Ff=kr(this.Ff,15):this.Ff=Pr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,16)},set:function(n){n?this.Ff=kr(this.Ff,16):this.Ff=Pr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,17)},set:function(n){n?this.Ff=kr(this.Ff,17):this.Ff=Pr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,26)},set:function(n){n?this.Ff=kr(this.Ff,26):this.Ff=Pr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,s=[];for(r in s.push("<<"),t)s.push("/"+r+" ("+nu(n(t[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){Nn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};es(ei,sa);var P1=function(){ei.call(this),this.pushButton=!0};es(P1,ei);var Qu=function(){ei.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};es(Qu,ei);var xd=function(){var e,t;sa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),r)l.push("/"+a+" ("+nu(s(r[a]))+")");return l.push(">>"),l.join(`
`)},set:function(s){Nn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};es(xd,sa),Qu.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Qu.prototype.createOption=function(e){var t=new xd;return t.Parent=this,t.optionName=e,this.Kids.push(t),fI.call(this.scope,t),t};var O1=function(){ei.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Nt.CheckBox.createAppearanceStream()};es(O1,ei);var ql=function(){sa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,13)},set:function(t){t?this.Ff=kr(this.Ff,13):this.Ff=Pr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,21)},set:function(t){t?this.Ff=kr(this.Ff,21):this.Ff=Pr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,23)},set:function(t){t?this.Ff=kr(this.Ff,23):this.Ff=Pr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,24)},set:function(t){t?this.Ff=kr(this.Ff,24):this.Ff=Pr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,25)},set:function(t){t?this.Ff=kr(this.Ff,25):this.Ff=Pr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,26)},set:function(t){t?this.Ff=kr(this.Ff,26):this.Ff=Pr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};es(ql,sa);var R1=function(){ql.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,14)},set:function(e){e?this.Ff=kr(this.Ff,14):this.Ff=Pr(this.Ff,14)}}),this.password=!0};es(R1,ql);var Nt={CheckBox:{createAppearanceStream:function(){return{N:{On:Nt.CheckBox.YesNormal},D:{On:Nt.CheckBox.YesPushDown,Off:Nt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ga(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=cg(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Jt(Nt.internal.getWidth(e))+" "+Jt(Nt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Jt(a.fontSize)+" Tf "+s),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=ga(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],a=Nt.internal.getHeight(e),l=Nt.internal.getWidth(e),c=cg(e,e.caption);return s.push("1 g"),s.push("0 0 "+Jt(l)+" "+Jt(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Jt(l-1)+" "+Jt(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+Jt(c.fontSize)+" Tf "+r),s.push(c.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=ga(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Jt(Nt.internal.getWidth(e))+" "+Jt(Nt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Nt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Nt.RadioButton.Circle.YesNormal,t.D[e]=Nt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ga(e);t.scope=e.scope;var n=[],r=Nt.internal.getWidth(e)<=Nt.internal.getHeight(e)?Nt.internal.getWidth(e)/4:Nt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Nt.internal.Bezier_C,a=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Co(Nt.internal.getWidth(e)/2)+" "+Co(Nt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ga(e);t.scope=e.scope;var n=[],r=Nt.internal.getWidth(e)<=Nt.internal.getHeight(e)?Nt.internal.getWidth(e)/4:Nt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*Nt.internal.Bezier_C).toFixed(5)),l=Number((r*Nt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Co(Nt.internal.getWidth(e)/2)+" "+Co(Nt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Co(Nt.internal.getWidth(e)/2)+" "+Co(Nt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),n.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),n.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),n.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ga(e);t.scope=e.scope;var n=[],r=Nt.internal.getWidth(e)<=Nt.internal.getHeight(e)?Nt.internal.getWidth(e)/4:Nt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*Nt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Co(Nt.internal.getWidth(e)/2)+" "+Co(Nt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Nt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Nt.RadioButton.Cross.YesNormal,t.D[e]=Nt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ga(e);t.scope=e.scope;var n=[],r=Nt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Jt(Nt.internal.getWidth(e)-2)+" "+Jt(Nt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Jt(r.x1.x)+" "+Jt(r.x1.y)+" m"),n.push(Jt(r.x2.x)+" "+Jt(r.x2.y)+" l"),n.push(Jt(r.x4.x)+" "+Jt(r.x4.y)+" m"),n.push(Jt(r.x3.x)+" "+Jt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ga(e);t.scope=e.scope;var n=Nt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(Nt.internal.getWidth(e))+" "+Jt(Nt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Jt(Nt.internal.getWidth(e)-2)+" "+Jt(Nt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Jt(n.x1.x)+" "+Jt(n.x1.y)+" m"),r.push(Jt(n.x2.x)+" "+Jt(n.x2.y)+" l"),r.push(Jt(n.x4.x)+" "+Jt(n.x4.y)+" m"),r.push(Jt(n.x3.x)+" "+Jt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ga(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Jt(Nt.internal.getWidth(e))+" "+Jt(Nt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Nt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Nt.internal.getWidth(e),n=Nt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Nt.internal.getWidth=function(e){var t=0;return Nn(e)==="object"&&(t=Aw(e.Rect[2])),t},Nt.internal.getHeight=function(e){var t=0;return Nn(e)==="object"&&(t=Aw(e.Rect[3])),t};var fI=vr.addField=function(e){if(cI(this,e),!(e instanceof sa))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};vr.AcroFormChoiceField=Xu,vr.AcroFormListBox=Yu,vr.AcroFormComboBox=Ku,vr.AcroFormEditBox=k1,vr.AcroFormButton=ei,vr.AcroFormPushButton=P1,vr.AcroFormRadioButton=Qu,vr.AcroFormCheckBox=O1,vr.AcroFormTextField=ql,vr.AcroFormPasswordField=R1,vr.AcroFormAppearance=Nt,vr.AcroForm={ChoiceField:Xu,ListBox:Yu,ComboBox:Ku,EditBox:k1,Button:ei,PushButton:P1,RadioButton:Qu,CheckBox:O1,TextField:ql,PasswordField:R1,Appearance:Nt},Wt.AcroForm={ChoiceField:Xu,ListBox:Yu,ComboBox:Ku,EditBox:k1,Button:ei,PushButton:P1,RadioButton:Qu,CheckBox:O1,TextField:ql,PasswordField:R1,Appearance:Nt};Wt.AcroForm;function Rb(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(W,X){var ae,J,ie,Ae,xe,pe=t;if((X=X||t)==="RGBA"||W.data!==void 0&&W.data instanceof Uint8ClampedArray&&"height"in W&&"width"in W)return"RGBA";if(M(W))for(xe in n)for(ie=n[xe],ae=0;ae<ie.length;ae+=1){for(Ae=!0,J=0;J<ie[ae].length;J+=1)if(ie[ae][J]!==void 0&&ie[ae][J]!==W[J]){Ae=!1;break}if(Ae===!0){pe=xe;break}}else for(xe in n)for(ie=n[xe],ae=0;ae<ie.length;ae+=1){for(Ae=!0,J=0;J<ie[ae].length;J+=1)if(ie[ae][J]!==void 0&&ie[ae][J]!==W.charCodeAt(J)){Ae=!1;break}if(Ae===!0){pe=xe;break}}return pe===t&&X!==t&&(pe=X),pe},s=function W(X){for(var ae=this.internal.write,J=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);X.objectId=this.internal.newObject();var Ae=[];if(Ae.push({key:"Type",value:"/XObject"}),Ae.push({key:"Subtype",value:"/Image"}),Ae.push({key:"Width",value:X.width}),Ae.push({key:"Height",value:X.height}),X.colorSpace===k.INDEXED?Ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(X.palette.length/3-1)+" "+("sMask"in X&&X.sMask!==void 0?X.objectId+2:X.objectId+1)+" 0 R]"}):(Ae.push({key:"ColorSpace",value:"/"+X.colorSpace}),X.colorSpace===k.DEVICE_CMYK&&Ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ae.push({key:"BitsPerComponent",value:X.bitsPerComponent}),"decodeParameters"in X&&X.decodeParameters!==void 0&&Ae.push({key:"DecodeParms",value:"<<"+X.decodeParameters+">>"}),"transparency"in X&&Array.isArray(X.transparency)){for(var xe="",pe=0,ve=X.transparency.length;pe<ve;pe++)xe+=X.transparency[pe]+" "+X.transparency[pe]+" ";Ae.push({key:"Mask",value:"["+xe+"]"})}X.sMask!==void 0&&Ae.push({key:"SMask",value:X.objectId+1+" 0 R"});var Le=X.filter!==void 0?["/"+X.filter]:void 0;if(J({data:X.data,additionalKeyValues:Ae,alreadyAppliedFilters:Le,objectId:X.objectId}),ae("endobj"),"sMask"in X&&X.sMask!==void 0){var Ye="/Predictor "+X.predictor+" /Colors 1 /BitsPerComponent "+X.bitsPerComponent+" /Columns "+X.width,K={width:X.width,height:X.height,colorSpace:"DeviceGray",bitsPerComponent:X.bitsPerComponent,decodeParameters:Ye,data:X.sMask};"filter"in X&&(K.filter=X.filter),W.call(this,K)}if(X.colorSpace===k.INDEXED){var he=this.internal.newObject();J({data:q(new Uint8Array(X.palette)),objectId:he}),ae("endobj")}},a=function(){var W=this.internal.collections.addImage_images;for(var X in W)s.call(this,W[X])},l=function(){var W,X=this.internal.collections.addImage_images,ae=this.internal.write;for(var J in X)ae("/I"+(W=X[J]).index,W.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var W=this.internal.collections.addImage_images;return c.call(this),W},p=function(){return Object.keys(this.internal.collections.addImage_images).length},y=function(W){return typeof e["process"+W.toUpperCase()]=="function"},w=function(W){return Nn(W)==="object"&&W.nodeType===1},v=function(W,X){if(W.nodeName==="IMG"&&W.hasAttribute("src")){var ae=""+W.getAttribute("src");if(ae.indexOf("data:image/")===0)return xf(unescape(ae).split("base64,").pop());var J=e.loadFile(ae,!0);if(J!==void 0)return J}if(W.nodeName==="CANVAS"){if(W.width===0||W.height===0)throw new Error("Given canvas must have data. Canvas width: "+W.width+", height: "+W.height);var ie;switch(X){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;case"JPEG":case"JPG":default:ie="image/jpeg"}return xf(W.toDataURL(ie,1).split("base64,").pop())}},b=function(W){var X=this.internal.collections.addImage_images;if(X){for(var ae in X)if(W===X[ae].alias)return X[ae]}},E=function(W,X,ae){return W||X||(W=-96,X=-96),W<0&&(W=-1*ae.width*72/W/this.internal.scaleFactor),X<0&&(X=-1*ae.height*72/X/this.internal.scaleFactor),W===0&&(W=X*ae.width/ae.height),X===0&&(X=W*ae.height/ae.width),[W,X]},A=function(W,X,ae,J,ie,Ae){var xe=E.call(this,ae,J,ie),pe=this.internal.getCoordinateString,ve=this.internal.getVerticalCoordinateString,Le=h.call(this);if(ae=xe[0],J=xe[1],Le[ie.index]=ie,Ae){Ae*=Math.PI/180;var Ye=Math.cos(Ae),K=Math.sin(Ae),he=function(Ce){return Ce.toFixed(4)},de=[he(Ye),he(K),he(-1*K),he(Ye),0,0,"cm"]}this.internal.write("q"),Ae?(this.internal.write([1,"0","0",1,pe(W),ve(X+J),"cm"].join(" ")),this.internal.write(de.join(" ")),this.internal.write([pe(ae),"0","0",pe(J),"0","0","cm"].join(" "))):this.internal.write([pe(ae),"0","0",pe(J),pe(W),ve(X+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},k=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(W){var X,ae,J=0;if(typeof W=="string")for(ae=W.length,X=0;X<ae;X++)J=(J<<5)-J+W.charCodeAt(X),J|=0;else if(M(W))for(ae=W.byteLength/2,X=0;X<ae;X++)J=(J<<5)-J+W[X],J|=0;return J},L=e.__addimage__.validateStringAsBase64=function(W){(W=W||"").toString().trim();var X=!0;return W.length===0&&(X=!1),W.length%4!=0&&(X=!1),/^[A-Za-z0-9+/]+$/.test(W.substr(0,W.length-2))===!1&&(X=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(W.substr(-2))===!1&&(X=!1),X},z=e.__addimage__.extractImageFromDataUrl=function(W){var X=(W=W||"").split("base64,"),ae=null;if(X.length===2){var J=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(X[0]);Array.isArray(J)&&(ae={mimeType:J[1],charset:J[2],data:X[1]})}return ae},H=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(W){return H()&&W instanceof ArrayBuffer};var M=e.__addimage__.isArrayBufferView=function(W){return H()&&typeof Uint32Array<"u"&&(W instanceof Int8Array||W instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array)},D=e.__addimage__.binaryStringToUint8Array=function(W){for(var X=W.length,ae=new Uint8Array(X),J=0;J<X;J++)ae[J]=W.charCodeAt(J);return ae},q=e.__addimage__.arrayBufferToBinaryString=function(W){for(var X="",ae=M(W)?W:new Uint8Array(W),J=0;J<ae.length;J+=8192)X+=String.fromCharCode.apply(null,ae.subarray(J,J+8192));return X};e.addImage=function(){var W,X,ae,J,ie,Ae,xe,pe,ve;if(typeof arguments[1]=="number"?(X=t,ae=arguments[1],J=arguments[2],ie=arguments[3],Ae=arguments[4],xe=arguments[5],pe=arguments[6],ve=arguments[7]):(X=arguments[1],ae=arguments[2],J=arguments[3],ie=arguments[4],Ae=arguments[5],xe=arguments[6],pe=arguments[7],ve=arguments[8]),Nn(W=arguments[0])==="object"&&!w(W)&&"imageData"in W){var Le=W;W=Le.imageData,X=Le.format||X||t,ae=Le.x||ae||0,J=Le.y||J||0,ie=Le.w||Le.width||ie,Ae=Le.h||Le.height||Ae,xe=Le.alias||xe,pe=Le.compression||pe,ve=Le.rotation||Le.angle||ve}var Ye=this.internal.getFilters();if(pe===void 0&&Ye.indexOf("FlateEncode")!==-1&&(pe="SLOW"),isNaN(ae)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var K=F.call(this,W,X,xe,pe);return A.call(this,ae,J,ie,Ae,K,ve),this};var F=function(W,X,ae,J){var ie,Ae,xe;if(typeof W=="string"&&r(W)===t){W=unescape(W);var pe=oe(W,!1);(pe!==""||(pe=e.loadFile(W,!0))!==void 0)&&(W=pe)}if(w(W)&&(W=v(W,X)),X=r(W,X),!y(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(((xe=ae)==null||xe.length===0)&&(ae=function(ve){return typeof ve=="string"||M(ve)?_(ve):M(ve.data)?_(ve.data):null}(W)),(ie=b.call(this,ae))||(H()&&(W instanceof Uint8Array||X==="RGBA"||(Ae=W,W=D(W))),ie=this["process"+X.toUpperCase()](W,p.call(this),ae,function(ve){return ve&&typeof ve=="string"&&(ve=ve.toUpperCase()),ve in e.image_compression?ve:S.NONE}(J),Ae)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},oe=e.__addimage__.convertBase64ToBinaryString=function(W,X){var ae;X=typeof X!="boolean"||X;var J,ie="";if(typeof W=="string"){J=(ae=z(W))!==null?ae.data:W;try{ie=xf(J)}catch(Ae){if(X)throw L(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ie};e.getImageProperties=function(W){var X,ae,J="";if(w(W)&&(W=v(W)),typeof W=="string"&&r(W)===t&&((J=oe(W,!1))===""&&(J=e.loadFile(W)||""),W=J),ae=r(W),!y(ae))throw new Error("addImage does not support files of type '"+ae+"', please ensure that a plugin for '"+ae+"' support is added.");if(!H()||W instanceof Uint8Array||(W=D(W)),!(X=this["process"+ae.toUpperCase()](W)))throw new Error("An unknown error occurred whilst processing the image");return X.fileType=ae,X}})(Wt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Wt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,s,a,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(n.objId),p=n.pageContext.annotations,y=!1,w=0;w<p.length&&!y;w++)switch((r=p[w]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var v=0;v<p.length;v++){r=p[v];var b=this.internal.pdfEscape,E=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(A.objId),_=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+b(S(r.contents))+")",a+=" /Popup "+k.objId+" 0 R",a+=" /P "+h.objId+" 0 R",a+=" /T ("+b(S(_))+") >>",A.content=a;var L=A.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+l(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+L,r.open&&(a+=" /Open true"),a+=" >>",k.content=a,this.internal.write(A.objId,"0 R",k.objId,"0 R");break;case"freetext":s="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var z=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+b(E(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var H=this.annotations._nameMap[r.options.name];r.options.pageNumber=H.page,r.options.top=H.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+b(E(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var M=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+M+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,s,a,l){var c=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:h(n),y:p(r),w:h(n+s),h:p(r+a)},options:l,type:"link"})},e.textWithLink=function(n,r,s,a){var l,c,h=this.getTextWidth(n),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var y=this.splitTextToSize(n,c).length;l=Math.ceil(p*y)}else c=h,l=p;return this.text(n,r,s,a),s+=.2*p,a.align==="center"&&(r-=h/2),a.align==="right"&&(r-=h),this.link(r,s-p,c,l,a),h},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Wt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(A){return t[A.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},c=e.__arabicParser__.isArabicEndLetter=function(A){return l(A)&&a(A)&&t[A.charCodeAt(0)].length<=2},h=e.__arabicParser__.isArabicAlfLetter=function(A){return l(A)&&s.indexOf(A.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return l(A)&&a(A)&&t[A.charCodeAt(0)].length>=1};var p=e.__arabicParser__.arabicLetterHasFinalForm=function(A){return l(A)&&a(A)&&t[A.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(A){return l(A)&&a(A)&&t[A.charCodeAt(0)].length>=3};var y=e.__arabicParser__.arabicLetterHasMedialForm=function(A){return l(A)&&a(A)&&t[A.charCodeAt(0)].length==4},w=e.__arabicParser__.resolveLigatures=function(A){var k=0,S=n,_="",L=0;for(k=0;k<A.length;k+=1)S[A.charCodeAt(k)]!==void 0?(L++,typeof(S=S[A.charCodeAt(k)])=="number"&&(_+=String.fromCharCode(S),S=n,L=0),k===A.length-1&&(S=n,_+=A.charAt(k-(L-1)),k-=L-1,L=0)):(S=n,_+=A.charAt(k-L),k-=L,L=0);return _};e.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&r[A.charCodeAt(0)]!==void 0};var v=e.__arabicParser__.getCorrectForm=function(A,k,S){return l(A)?a(A)===!1?-1:!p(A)||!l(k)&&!l(S)||!l(S)&&c(k)||c(A)&&!l(k)||c(A)&&h(k)||c(A)&&c(k)?0:y(A)&&l(k)&&!c(k)&&l(S)&&p(S)?3:c(A)||!l(S)?1:2:-1},b=function(A){var k=0,S=0,_=0,L="",z="",H="",M=(A=A||"").split("\\s+"),D=[];for(k=0;k<M.length;k+=1){for(D.push(""),S=0;S<M[k].length;S+=1)L=M[k][S],z=M[k][S-1],H=M[k][S+1],l(L)?(_=v(L,z,H),D[k]+=_!==-1?String.fromCharCode(t[L.charCodeAt(0)][_]):L):D[k]+=L;D[k]=w(D[k])}return D.join(" ")},E=e.__arabicParser__.processArabic=e.processArabic=function(){var A,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(k)){var _=0;for(S=[],_=0;_<k.length;_+=1)Array.isArray(k[_])?S.push([b(k[_][0]),k[_][1],k[_][2]]):S.push([b(k[_])]);A=S}else A=b(k);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};e.events.push(["preProcessText",E])}(Wt.API),Wt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Wt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(A){h=A}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(A){p=A}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(A){w=A}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(A){v=A}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(A){b=A}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(A){E=A}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(h){return r.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},e.getTextDimensions=function(h,p){r.call(this);var y=(p=p||{}).fontSize||this.getFontSize(),w=p.font||this.getFont(),v=p.scaleFactor||this.internal.scaleFactor,b=0,E=0,A=0,k=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var S=p.maxWidth;S>0?typeof h=="string"?h=this.splitTextToSize(h,S):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(L,z){return L.concat(k.splitTextToSize(z,S))},[])):h=Array.isArray(h)?h:[h];for(var _=0;_<h.length;_++)b<(A=this.getStringUnitWidth(h[_],{font:w})*y)&&(b=A);return b!==0&&(E=h.length),{w:b/=v,h:Math.max((E*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/v,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var h;h=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var p=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,w=this.internal.__cell__.margins||t,v=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===h.lineNumber?(h.x=(p.x||0)+(p.width||0),h.y=p.y||0):p.y+p.height+h.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=w.top,b&&v&&(this.printHeaderRow(h.lineNumber,!0),h.y+=v[0].height)):h.y=p.y+p.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,n===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-y,h.y+y,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+y,{align:"center",baseline:"top",maxWidth:h.width-y-y}):this.text(h.text,h.x+y,h.y+y,{align:"left",baseline:"top",maxWidth:h.width-y-y})),this.internal.__cell__.lastCell=h,this};e.table=function(h,p,y,w,v){if(r.call(this),!y)throw new Error("No data for PDF table.");var b,E,A,k,S=[],_=[],L=[],z={},H={},M=[],D=[],q=(v=v||{}).autoSize||!1,F=v.printHeaders!==!1,oe=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,W=v.margins||Object.assign({width:this.getPageWidth()},t),X=typeof v.padding=="number"?v.padding:3,ae=v.headerBackgroundColor||"#c8c8c8",J=v.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=W,this.internal.__cell__.table_font_size=oe,this.internal.__cell__.padding=X,this.internal.__cell__.headerBackgroundColor=ae,this.internal.__cell__.headerTextColor=J,this.setFontSize(oe),w==null)_=S=Object.keys(y[0]),L=S.map(function(){return"left"});else if(Array.isArray(w)&&Nn(w[0])==="object")for(S=w.map(function(Le){return Le.name}),_=w.map(function(Le){return Le.prompt||Le.name||""}),L=w.map(function(Le){return Le.align||"left"}),b=0;b<w.length;b+=1)H[w[b].name]=w[b].width*(19.049976/25.4);else Array.isArray(w)&&typeof w[0]=="string"&&(_=S=w,L=S.map(function(){return"left"}));if(q||Array.isArray(w)&&typeof w[0]=="string")for(b=0;b<S.length;b+=1){for(z[k=S[b]]=y.map(function(Le){return Le[k]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(_[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=z[k],this.setFont(void 0,"normal"),A=0;A<E.length;A+=1)M.push(this.getTextDimensions(E[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);H[k]=Math.max.apply(null,M)+X+X,M=[]}if(F){var ie={};for(b=0;b<S.length;b+=1)ie[S[b]]={},ie[S[b]].text=_[b],ie[S[b]].align=L[b];var Ae=c.call(this,ie,H);D=S.map(function(Le){return new a(h,p,H[Le],Ae,ie[Le].text,void 0,ie[Le].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var xe=w.reduce(function(Le,Ye){return Le[Ye.name]=Ye.align,Le},{});for(b=0;b<y.length;b+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:b,data:y[b]},this);var pe=c.call(this,y[b],H);for(A=0;A<S.length;A+=1){var ve=y[b][S[A]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:b,col:A,data:ve},this),l.call(this,new a(h,p,H[S[A]],pe,ve,b+2,xe[S[A]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=p,this};var c=function(h,p){var y=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(h).map(function(b){var E=h[b];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,p[b]-y-y)},this).map(function(b){return this.getLineHeightFactor()*b.length*w/v+y+y},this).reduce(function(b,E){return Math.max(b,E)},0)};e.setTableHeaderRow=function(h){r.call(this),this.internal.__cell__.tableHeaderRow=h},e.printHeaderRow=function(h,p){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){y=this.internal.__cell__.tableHeaderRow[b].clone(),p&&(y.y=this.internal.__cell__.margins.top||0,v.push(y)),y.lineNumber=h;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,y),this.setTextColor(E)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),n=!1}}(Wt.API);var Db={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Mb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],fg=Rb(Mb),Bb=[100,200,300,400,500,600,700,800,900],hI=Rb(Bb);function hg(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return Db[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(a){return typeof fg[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,r].join(" ")}}}function Ew(e,t,n,r){var s;for(s=n;s>=0&&s<t.length;s+=r)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=r)if(e[t[s]])return e[t[s]]}var dI={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Cw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Sw(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function pI(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},dI,n.genericFontFamilies||{}),a=null,l=null,c=0;c<t.length;++c)if(s[(a=hg(t[c])).family]&&(a.family=s[a.family]),e.hasOwnProperty(a.family)){l=e[a.family];break}if(!(l=l||e[r]))throw new Error("Could not find a font-family for the rule '"+Sw(a)+"' and default family '"+r+"'.");if(l=function(h,p){if(p[h])return p[h];var y=fg[h],w=y<=fg.normal?-1:1,v=Ew(p,Mb,y,w);if(!v)throw new Error("Could not find a matching font-stretch value for "+h);return v}(a.stretch,l),l=function(h,p){if(p[h])return p[h];for(var y=Db[h],w=0;w<y.length;++w)if(p[y[w]])return p[y[w]];throw new Error("Could not find a matching font-style for "+h)}(a.style,l),!(l=function(h,p){if(p[h])return p[h];if(h===400&&p[500])return p[500];if(h===500&&p[400])return p[400];var y=hI[h],w=Ew(p,Bb,y,h<400?-1:1);if(!w)throw new Error("Could not find a matching font-weight for value "+h);return w}(a.weight,l)))throw new Error("Failed to resolve a font for the rule '"+Sw(a)+"'.");return l}function Nw(e){return e.trimLeft()}function gI(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function mI(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var l1,_w,Iw,x2=["times"];(function(e){var t,n,r,s,a,l,c,h,p,y=function(K){return K=K||{},this.isStrokeTransparent=K.isStrokeTransparent||!1,this.strokeOpacity=K.strokeOpacity||1,this.strokeStyle=K.strokeStyle||"#000000",this.fillStyle=K.fillStyle||"#000000",this.isFillTransparent=K.isFillTransparent||!1,this.fillOpacity=K.fillOpacity||1,this.font=K.font||"10px sans-serif",this.textBaseline=K.textBaseline||"alphabetic",this.textAlign=K.textAlign||"left",this.lineWidth=K.lineWidth||1,this.lineJoin=K.lineJoin||"miter",this.lineCap=K.lineCap||"butt",this.path=K.path||[],this.transform=K.transform!==void 0?K.transform.clone():new h,this.globalCompositeOperation=K.globalCompositeOperation||"normal",this.globalAlpha=K.globalAlpha||1,this.clip_path=K.clip_path||[],this.currentPoint=K.currentPoint||new l,this.miterLimit=K.miterLimit||10,this.lastPoint=K.lastPoint||new l,this.lineDashOffset=K.lineDashOffset||0,this.lineDash=K.lineDash||[],this.margin=K.margin||[0,0,0,0],this.prevPageLastElemOffset=K.prevPageLastElemOffset||0,this.ignoreClearRect=typeof K.ignoreClearRect!="boolean"||K.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new w(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,h=this.internal.Matrix,p=new y}]);var w=function(K){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var he=K;Object.defineProperty(this,"pdf",{get:function(){return he}});var de=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return de},set:function(qe){de=!!qe}});var Ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ce},set:function(qe){Ce=!!qe}});var ye=0;Object.defineProperty(this,"posX",{get:function(){return ye},set:function(qe){isNaN(qe)||(ye=qe)}});var Re=0;Object.defineProperty(this,"posY",{get:function(){return Re},set:function(qe){isNaN(qe)||(Re=qe)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(qe){var ge;typeof qe=="number"?ge=[qe,qe,qe,qe]:((ge=new Array(4))[0]=qe[0],ge[1]=qe.length>=2?qe[1]:ge[0],ge[2]=qe.length>=3?qe[2]:ge[0],ge[3]=qe.length>=4?qe[3]:ge[1]),p.margin=ge}});var Oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Oe},set:function(qe){Oe=qe}});var Fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Fe},set:function(qe){Fe=qe}});var lt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return lt},set:function(qe){lt=qe}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(qe){qe instanceof y&&(p=qe)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(qe){p.path=qe}});var rt=[];Object.defineProperty(this,"ctxStack",{get:function(){return rt},set:function(qe){rt=qe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(qe){var ge;ge=v(qe),this.ctx.fillStyle=ge.style,this.ctx.isFillTransparent=ge.a===0,this.ctx.fillOpacity=ge.a,this.pdf.setFillColor(ge.r,ge.g,ge.b,{a:ge.a}),this.pdf.setTextColor(ge.r,ge.g,ge.b,{a:ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(qe){var ge=v(qe);this.ctx.strokeStyle=ge.style,this.ctx.isStrokeTransparent=ge.a===0,this.ctx.strokeOpacity=ge.a,ge.a===0?this.pdf.setDrawColor(255,255,255):(ge.a,this.pdf.setDrawColor(ge.r,ge.g,ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(qe){["butt","round","square"].indexOf(qe)!==-1&&(this.ctx.lineCap=qe,this.pdf.setLineCap(qe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(qe){isNaN(qe)||(this.ctx.lineWidth=qe,this.pdf.setLineWidth(qe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(qe){["bevel","round","miter"].indexOf(qe)!==-1&&(this.ctx.lineJoin=qe,this.pdf.setLineJoin(qe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(qe){isNaN(qe)||(this.ctx.miterLimit=qe,this.pdf.setMiterLimit(qe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(qe){this.ctx.textBaseline=qe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(qe){["right","end","center","left","start"].indexOf(qe)!==-1&&(this.ctx.textAlign=qe)}});var dt=null;function Qe(qe,ge){if(dt===null){var At=function(ft){var Xe=[];return Object.keys(ft).forEach(function(ht){ft[ht].forEach(function(ze){var ct=null;switch(ze){case"bold":ct={family:ht,weight:"bold"};break;case"italic":ct={family:ht,style:"italic"};break;case"bolditalic":ct={family:ht,weight:"bold",style:"italic"};break;case"":case"normal":ct={family:ht}}ct!==null&&(ct.ref={name:ht,style:ze},Xe.push(ct))})}),Xe}(qe.getFontList());dt=function(ft){for(var Xe={},ht=0;ht<ft.length;++ht){var ze=hg(ft[ht]),ct=ze.family,It=ze.stretch,Bt=ze.style,Ft=ze.weight;Xe[ct]=Xe[ct]||{},Xe[ct][It]=Xe[ct][It]||{},Xe[ct][It][Bt]=Xe[ct][It][Bt]||{},Xe[ct][It][Bt][Ft]=ze}return Xe}(At.concat(ge))}return dt}var _t=null;Object.defineProperty(this,"fontFaces",{get:function(){return _t},set:function(qe){dt=null,_t=qe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(qe){var ge;if(this.ctx.font=qe,(ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(qe))!==null){var At=ge[1],ft=(ge[2],ge[3]),Xe=ge[4],ht=(ge[5],ge[6]),ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Xe)[2];Xe=Math.floor(ze==="px"?parseFloat(Xe)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(Xe)*this.pdf.getFontSize():parseFloat(Xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Xe);var ct=function(V){var me,we,We=[],Ve=V.trim();if(Ve==="")return x2;if(Ve in Cw)return[Cw[Ve]];for(;Ve!=="";){switch(we=null,me=(Ve=Nw(Ve)).charAt(0)){case'"':case"'":we=gI(Ve.substring(1),me);break;default:we=mI(Ve)}if(we===null||(We.push(we[0]),(Ve=Nw(we[1]))!==""&&Ve.charAt(0)!==","))return x2;Ve=Ve.replace(/^,/,"")}return We}(ht);if(this.fontFaces){var It=pI(Qe(this.pdf,this.fontFaces),ct.map(function(V){return{family:V,stretch:"normal",weight:ft,style:At}}));this.pdf.setFont(It.ref.name,It.ref.style)}else{var Bt="";(ft==="bold"||parseInt(ft,10)>=700||At==="bold")&&(Bt="bold"),At==="italic"&&(Bt+="italic"),Bt.length===0&&(Bt="normal");for(var Ft="",Ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},O=0;O<ct.length;O++){if(this.pdf.internal.getFont(ct[O],Bt,{noFallback:!0,disableWarning:!0})!==void 0){Ft=ct[O];break}if(Bt==="bolditalic"&&this.pdf.internal.getFont(ct[O],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ft=ct[O],Bt="bold";else if(this.pdf.internal.getFont(ct[O],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ft=ct[O],Bt="normal";break}}if(Ft===""){for(var U=0;U<ct.length;U++)if(Ut[ct[U]]){Ft=Ut[ct[U]];break}}Ft=Ft===""?"Times":Ft,this.pdf.setFont(Ft,Bt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(qe){this.ctx.globalCompositeOperation=qe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(qe){this.ctx.globalAlpha=qe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(qe){this.ctx.lineDashOffset=qe,Ye.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(qe){this.ctx.lineDash=qe,Ye.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(qe){this.ctx.ignoreClearRect=!!qe}})};w.prototype.setLineDash=function(K){this.lineDash=K},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){z.call(this,"fill",!1)},w.prototype.stroke=function(){z.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(K,he){if(isNaN(K)||isNaN(he))throw Bn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var de=this.ctx.transform.applyToPoint(new l(K,he));this.path.push({type:"mt",x:de.x,y:de.y}),this.ctx.lastPoint=new l(K,he)},w.prototype.closePath=function(){var K=new l(0,0),he=0;for(he=this.path.length-1;he!==-1;he--)if(this.path[he].type==="begin"&&Nn(this.path[he+1])==="object"&&typeof this.path[he+1].x=="number"){K=new l(this.path[he+1].x,this.path[he+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(K.x,K.y)},w.prototype.lineTo=function(K,he){if(isNaN(K)||isNaN(he))throw Bn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var de=this.ctx.transform.applyToPoint(new l(K,he));this.path.push({type:"lt",x:de.x,y:de.y}),this.ctx.lastPoint=new l(de.x,de.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},w.prototype.quadraticCurveTo=function(K,he,de,Ce){if(isNaN(de)||isNaN(Ce)||isNaN(K)||isNaN(he))throw Bn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ye=this.ctx.transform.applyToPoint(new l(de,Ce)),Re=this.ctx.transform.applyToPoint(new l(K,he));this.path.push({type:"qct",x1:Re.x,y1:Re.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new l(ye.x,ye.y)},w.prototype.bezierCurveTo=function(K,he,de,Ce,ye,Re){if(isNaN(ye)||isNaN(Re)||isNaN(K)||isNaN(he)||isNaN(de)||isNaN(Ce))throw Bn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Oe=this.ctx.transform.applyToPoint(new l(ye,Re)),Fe=this.ctx.transform.applyToPoint(new l(K,he)),lt=this.ctx.transform.applyToPoint(new l(de,Ce));this.path.push({type:"bct",x1:Fe.x,y1:Fe.y,x2:lt.x,y2:lt.y,x:Oe.x,y:Oe.y}),this.ctx.lastPoint=new l(Oe.x,Oe.y)},w.prototype.arc=function(K,he,de,Ce,ye,Re){if(isNaN(K)||isNaN(he)||isNaN(de)||isNaN(Ce)||isNaN(ye))throw Bn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Re=!!Re,!this.ctx.transform.isIdentity){var Oe=this.ctx.transform.applyToPoint(new l(K,he));K=Oe.x,he=Oe.y;var Fe=this.ctx.transform.applyToPoint(new l(0,de)),lt=this.ctx.transform.applyToPoint(new l(0,0));de=Math.sqrt(Math.pow(Fe.x-lt.x,2)+Math.pow(Fe.y-lt.y,2))}Math.abs(ye-Ce)>=2*Math.PI&&(Ce=0,ye=2*Math.PI),this.path.push({type:"arc",x:K,y:he,radius:de,startAngle:Ce,endAngle:ye,counterclockwise:Re})},w.prototype.arcTo=function(K,he,de,Ce,ye){throw new Error("arcTo not implemented.")},w.prototype.rect=function(K,he,de,Ce){if(isNaN(K)||isNaN(he)||isNaN(de)||isNaN(Ce))throw Bn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(K,he),this.lineTo(K+de,he),this.lineTo(K+de,he+Ce),this.lineTo(K,he+Ce),this.lineTo(K,he),this.lineTo(K+de,he),this.lineTo(K,he)},w.prototype.fillRect=function(K,he,de,Ce){if(isNaN(K)||isNaN(he)||isNaN(de)||isNaN(Ce))throw Bn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var ye={};this.lineCap!=="butt"&&(ye.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ye.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(K,he,de,Ce),this.fill(),ye.hasOwnProperty("lineCap")&&(this.lineCap=ye.lineCap),ye.hasOwnProperty("lineJoin")&&(this.lineJoin=ye.lineJoin)}},w.prototype.strokeRect=function(K,he,de,Ce){if(isNaN(K)||isNaN(he)||isNaN(de)||isNaN(Ce))throw Bn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(K,he,de,Ce),this.stroke())},w.prototype.clearRect=function(K,he,de,Ce){if(isNaN(K)||isNaN(he)||isNaN(de)||isNaN(Ce))throw Bn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(K,he,de,Ce))},w.prototype.save=function(K){K=typeof K!="boolean"||K;for(var he=this.pdf.internal.getCurrentPageInfo().pageNumber,de=0;de<this.pdf.internal.getNumberOfPages();de++)this.pdf.setPage(de+1),this.pdf.internal.out("q");if(this.pdf.setPage(he),K){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ce=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ce}},w.prototype.restore=function(K){K=typeof K!="boolean"||K;for(var he=this.pdf.internal.getCurrentPageInfo().pageNumber,de=0;de<this.pdf.internal.getNumberOfPages();de++)this.pdf.setPage(de+1),this.pdf.internal.out("Q");this.pdf.setPage(he),K&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(K){var he,de,Ce,ye;if(K.isCanvasGradient===!0&&(K=K.getColor()),!K)return{r:0,g:0,b:0,a:0,style:K};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(K))he=0,de=0,Ce=0,ye=0;else{var Re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(K);if(Re!==null)he=parseInt(Re[1]),de=parseInt(Re[2]),Ce=parseInt(Re[3]),ye=1;else if((Re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(K))!==null)he=parseInt(Re[1]),de=parseInt(Re[2]),Ce=parseInt(Re[3]),ye=parseFloat(Re[4]);else{if(ye=1,typeof K=="string"&&K.charAt(0)!=="#"){var Oe=new Ib(K);K=Oe.ok?Oe.toHex():"#000000"}K.length===4?(he=K.substring(1,2),he+=he,de=K.substring(2,3),de+=de,Ce=K.substring(3,4),Ce+=Ce):(he=K.substring(1,3),de=K.substring(3,5),Ce=K.substring(5,7)),he=parseInt(he,16),de=parseInt(de,16),Ce=parseInt(Ce,16)}}return{r:he,g:de,b:Ce,a:ye,style:K}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(K,he,de,Ce){if(isNaN(he)||isNaN(de)||typeof K!="string")throw Bn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ce=isNaN(Ce)?void 0:Ce,!b.call(this)){var ye=pe(this.ctx.transform.rotation),Re=this.ctx.transform.scaleX;X.call(this,{text:K,x:he,y:de,scale:Re,angle:ye,align:this.textAlign,maxWidth:Ce})}},w.prototype.strokeText=function(K,he,de,Ce){if(isNaN(he)||isNaN(de)||typeof K!="string")throw Bn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){Ce=isNaN(Ce)?void 0:Ce;var ye=pe(this.ctx.transform.rotation),Re=this.ctx.transform.scaleX;X.call(this,{text:K,x:he,y:de,scale:Re,renderingMode:"stroke",angle:ye,align:this.textAlign,maxWidth:Ce})}},w.prototype.measureText=function(K){if(typeof K!="string")throw Bn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var he=this.pdf,de=this.pdf.internal.scaleFactor,Ce=he.internal.getFontSize(),ye=he.getStringUnitWidth(K)*Ce/he.internal.scaleFactor,Re=function(Oe){var Fe=(Oe=Oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Fe}}),this};return new Re({width:ye*=Math.round(96*de/72*1e4)/1e4})},w.prototype.scale=function(K,he){if(isNaN(K)||isNaN(he))throw Bn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var de=new h(K,0,0,he,0,0);this.ctx.transform=this.ctx.transform.multiply(de)},w.prototype.rotate=function(K){if(isNaN(K))throw Bn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var he=new h(Math.cos(K),Math.sin(K),-Math.sin(K),Math.cos(K),0,0);this.ctx.transform=this.ctx.transform.multiply(he)},w.prototype.translate=function(K,he){if(isNaN(K)||isNaN(he))throw Bn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var de=new h(1,0,0,1,K,he);this.ctx.transform=this.ctx.transform.multiply(de)},w.prototype.transform=function(K,he,de,Ce,ye,Re){if(isNaN(K)||isNaN(he)||isNaN(de)||isNaN(Ce)||isNaN(ye)||isNaN(Re))throw Bn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Oe=new h(K,he,de,Ce,ye,Re);this.ctx.transform=this.ctx.transform.multiply(Oe)},w.prototype.setTransform=function(K,he,de,Ce,ye,Re){K=isNaN(K)?1:K,he=isNaN(he)?0:he,de=isNaN(de)?0:de,Ce=isNaN(Ce)?1:Ce,ye=isNaN(ye)?0:ye,Re=isNaN(Re)?0:Re,this.ctx.transform=new h(K,he,de,Ce,ye,Re)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(K,he,de,Ce,ye,Re,Oe,Fe,lt){var rt=this.pdf.getImageProperties(K),dt=1,Qe=1,_t=1,qe=1;Ce!==void 0&&Fe!==void 0&&(_t=Fe/Ce,qe=lt/ye,dt=rt.width/Ce*Fe/Ce,Qe=rt.height/ye*lt/ye),Re===void 0&&(Re=he,Oe=de,he=0,de=0),Ce!==void 0&&Fe===void 0&&(Fe=Ce,lt=ye),Ce===void 0&&Fe===void 0&&(Fe=rt.width,lt=rt.height);for(var ge,At=this.ctx.transform.decompose(),ft=pe(At.rotate.shx),Xe=new h,ht=(Xe=(Xe=(Xe=Xe.multiply(At.translate)).multiply(At.skew)).multiply(At.scale)).applyToRectangle(new c(Re-he*_t,Oe-de*qe,Ce*dt,ye*Qe)),ze=k.call(this,ht),ct=[],It=0;It<ze.length;It+=1)ct.indexOf(ze[It])===-1&&ct.push(ze[It]);if(L(ct),this.autoPaging)for(var Bt=ct[0],Ft=ct[ct.length-1],Ut=Bt;Ut<Ft+1;Ut++){this.pdf.setPage(Ut);var O=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],U=Ut===1?this.posY+this.margin[0]:this.margin[0],V=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],me=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],we=Ut===1?0:V+(Ut-2)*me;if(this.ctx.clip_path.length!==0){var We=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ge,this.posX+this.margin[3],-we+U+this.ctx.prevPageLastElemOffset),H.call(this,"fill",!0),this.path=We}var Ve=JSON.parse(JSON.stringify(ht));Ve=_([Ve],this.posX+this.margin[3],-we+U+this.ctx.prevPageLastElemOffset)[0];var Ke=(Ut>Bt||Ut<Ft)&&A.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],O,me,null).clip().discardPath()),this.pdf.addImage(K,"JPEG",Ve.x,Ve.y,Ve.w,Ve.h,null,null,ft),Ke&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(K,"JPEG",ht.x,ht.y,ht.w,ht.h,null,null,ft)};var k=function(K,he,de){var Ce=[];he=he||this.pdf.internal.pageSize.width,de=de||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ye=this.posY+this.ctx.prevPageLastElemOffset;switch(K.type){default:case"mt":case"lt":Ce.push(Math.floor((K.y+ye)/de)+1);break;case"arc":Ce.push(Math.floor((K.y+ye-K.radius)/de)+1),Ce.push(Math.floor((K.y+ye+K.radius)/de)+1);break;case"qct":var Re=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,K.x1,K.y1,K.x,K.y);Ce.push(Math.floor((Re.y+ye)/de)+1),Ce.push(Math.floor((Re.y+Re.h+ye)/de)+1);break;case"bct":var Oe=Le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,K.x1,K.y1,K.x2,K.y2,K.x,K.y);Ce.push(Math.floor((Oe.y+ye)/de)+1),Ce.push(Math.floor((Oe.y+Oe.h+ye)/de)+1);break;case"rect":Ce.push(Math.floor((K.y+ye)/de)+1),Ce.push(Math.floor((K.y+K.h+ye)/de)+1)}for(var Fe=0;Fe<Ce.length;Fe+=1)for(;this.pdf.internal.getNumberOfPages()<Ce[Fe];)S.call(this);return Ce},S=function(){var K=this.fillStyle,he=this.strokeStyle,de=this.font,Ce=this.lineCap,ye=this.lineWidth,Re=this.lineJoin;this.pdf.addPage(),this.fillStyle=K,this.strokeStyle=he,this.font=de,this.lineCap=Ce,this.lineWidth=ye,this.lineJoin=Re},_=function(K,he,de){for(var Ce=0;Ce<K.length;Ce++)switch(K[Ce].type){case"bct":K[Ce].x2+=he,K[Ce].y2+=de;case"qct":K[Ce].x1+=he,K[Ce].y1+=de;case"mt":case"lt":case"arc":default:K[Ce].x+=he,K[Ce].y+=de}return K},L=function(K){return K.sort(function(he,de){return he-de})},z=function(K,he){for(var de,Ce,ye=this.fillStyle,Re=this.strokeStyle,Oe=this.lineCap,Fe=this.lineWidth,lt=Math.abs(Fe*this.ctx.transform.scaleX),rt=this.lineJoin,dt=JSON.parse(JSON.stringify(this.path)),Qe=JSON.parse(JSON.stringify(this.path)),_t=[],qe=0;qe<Qe.length;qe++)if(Qe[qe].x!==void 0)for(var ge=k.call(this,Qe[qe]),At=0;At<ge.length;At+=1)_t.indexOf(ge[At])===-1&&_t.push(ge[At]);for(var ft=0;ft<_t.length;ft++)for(;this.pdf.internal.getNumberOfPages()<_t[ft];)S.call(this);if(L(_t),this.autoPaging)for(var Xe=_t[0],ht=_t[_t.length-1],ze=Xe;ze<ht+1;ze++){this.pdf.setPage(ze),this.fillStyle=ye,this.strokeStyle=Re,this.lineCap=Oe,this.lineWidth=lt,this.lineJoin=rt;var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=ze===1?this.posY+this.margin[0]:this.margin[0],Bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ut=ze===1?0:Bt+(ze-2)*Ft;if(this.ctx.clip_path.length!==0){var O=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(de,this.posX+this.margin[3],-Ut+It+this.ctx.prevPageLastElemOffset),H.call(this,K,!0),this.path=O}if(Ce=JSON.parse(JSON.stringify(dt)),this.path=_(Ce,this.posX+this.margin[3],-Ut+It+this.ctx.prevPageLastElemOffset),he===!1||ze===0){var U=(ze>Xe||ze<ht)&&A.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,Ft,null).clip().discardPath()),H.call(this,K,he),U&&this.pdf.restoreGraphicsState()}this.lineWidth=Fe}else this.lineWidth=lt,H.call(this,K,he),this.lineWidth=Fe;this.path=dt},H=function(K,he){if((K!=="stroke"||he||!E.call(this))&&(K==="stroke"||he||!b.call(this))){for(var de,Ce,ye=[],Re=this.path,Oe=0;Oe<Re.length;Oe++){var Fe=Re[Oe];switch(Fe.type){case"begin":ye.push({begin:!0});break;case"close":ye.push({close:!0});break;case"mt":ye.push({start:Fe,deltas:[],abs:[]});break;case"lt":var lt=ye.length;if(Re[Oe-1]&&!isNaN(Re[Oe-1].x)&&(de=[Fe.x-Re[Oe-1].x,Fe.y-Re[Oe-1].y],lt>0)){for(;lt>=0;lt--)if(ye[lt-1].close!==!0&&ye[lt-1].begin!==!0){ye[lt-1].deltas.push(de),ye[lt-1].abs.push(Fe);break}}break;case"bct":de=[Fe.x1-Re[Oe-1].x,Fe.y1-Re[Oe-1].y,Fe.x2-Re[Oe-1].x,Fe.y2-Re[Oe-1].y,Fe.x-Re[Oe-1].x,Fe.y-Re[Oe-1].y],ye[ye.length-1].deltas.push(de);break;case"qct":var rt=Re[Oe-1].x+2/3*(Fe.x1-Re[Oe-1].x),dt=Re[Oe-1].y+2/3*(Fe.y1-Re[Oe-1].y),Qe=Fe.x+2/3*(Fe.x1-Fe.x),_t=Fe.y+2/3*(Fe.y1-Fe.y),qe=Fe.x,ge=Fe.y;de=[rt-Re[Oe-1].x,dt-Re[Oe-1].y,Qe-Re[Oe-1].x,_t-Re[Oe-1].y,qe-Re[Oe-1].x,ge-Re[Oe-1].y],ye[ye.length-1].deltas.push(de);break;case"arc":ye.push({deltas:[],abs:[],arc:!0}),Array.isArray(ye[ye.length-1].abs)&&ye[ye.length-1].abs.push(Fe)}}Ce=he?null:K==="stroke"?"stroke":"fill";for(var At=!1,ft=0;ft<ye.length;ft++)if(ye[ft].arc)for(var Xe=ye[ft].abs,ht=0;ht<Xe.length;ht++){var ze=Xe[ht];ze.type==="arc"?q.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,he,!At):ae.call(this,ze.x,ze.y),At=!0}else if(ye[ft].close===!0)this.pdf.internal.out("h"),At=!1;else if(ye[ft].begin!==!0){var ct=ye[ft].start.x,It=ye[ft].start.y;J.call(this,ye[ft].deltas,ct,It),At=!0}Ce&&F.call(this,Ce),he&&oe.call(this)}},M=function(K){var he=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,de=he*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return K-de;case"top":return K+he-de;case"hanging":return K+he-2*de;case"middle":return K+he/2-de;case"ideographic":return K;case"alphabetic":default:return K}},D=function(K){return K+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var K=function(){};return K.colorStops=[],K.addColorStop=function(he,de){this.colorStops.push([he,de])},K.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},K.isCanvasGradient=!0,K},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var q=function(K,he,de,Ce,ye,Re,Oe,Fe,lt){for(var rt=Ae.call(this,de,Ce,ye,Re),dt=0;dt<rt.length;dt++){var Qe=rt[dt];dt===0&&(lt?W.call(this,Qe.x1+K,Qe.y1+he):ae.call(this,Qe.x1+K,Qe.y1+he)),ie.call(this,K,he,Qe.x2,Qe.y2,Qe.x3,Qe.y3,Qe.x4,Qe.y4)}Fe?oe.call(this):F.call(this,Oe)},F=function(K){switch(K){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},oe=function(){this.pdf.clip(),this.pdf.discardPath()},W=function(K,he){this.pdf.internal.out(n(K)+" "+r(he)+" m")},X=function(K){var he;switch(K.align){case"right":case"end":he="right";break;case"center":he="center";break;case"left":case"start":default:he="left"}var de=this.pdf.getTextDimensions(K.text),Ce=M.call(this,K.y),ye=D.call(this,Ce)-de.h,Re=this.ctx.transform.applyToPoint(new l(K.x,Ce)),Oe=this.ctx.transform.decompose(),Fe=new h;Fe=(Fe=(Fe=Fe.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale);for(var lt,rt,dt,Qe=this.ctx.transform.applyToRectangle(new c(K.x,Ce,de.w,de.h)),_t=Fe.applyToRectangle(new c(K.x,ye,de.w,de.h)),qe=k.call(this,_t),ge=[],At=0;At<qe.length;At+=1)ge.indexOf(qe[At])===-1&&ge.push(qe[At]);if(L(ge),this.autoPaging)for(var ft=ge[0],Xe=ge[ge.length-1],ht=ft;ht<Xe+1;ht++){this.pdf.setPage(ht);var ze=ht===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[2],Bt=It-this.margin[0],Ft=this.pdf.internal.pageSize.width-this.margin[1],Ut=Ft-this.margin[3],O=ht===1?0:ct+(ht-2)*Bt;if(this.ctx.clip_path.length!==0){var U=this.path;lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(lt,this.posX+this.margin[3],-1*O+ze),H.call(this,"fill",!0),this.path=U}var V=_([JSON.parse(JSON.stringify(_t))],this.posX+this.margin[3],-O+ze+this.ctx.prevPageLastElemOffset)[0];K.scale>=.01&&(rt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(rt*K.scale),dt=this.lineWidth,this.lineWidth=dt*K.scale);var me=this.autoPaging!=="text";if(me||V.y+V.h<=It){if(me||V.y>=ze&&V.x<=Ft){var we=me?K.text:this.pdf.splitTextToSize(K.text,K.maxWidth||Ft-V.x)[0],We=_([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-O+ze+this.ctx.prevPageLastElemOffset)[0],Ve=me&&(ht>ft||ht<Xe)&&A.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,Bt,null).clip().discardPath()),this.pdf.text(we,We.x,We.y,{angle:K.angle,align:he,renderingMode:K.renderingMode}),Ve&&this.pdf.restoreGraphicsState()}}else V.y<It&&(this.ctx.prevPageLastElemOffset+=It-V.y);K.scale>=.01&&(this.pdf.setFontSize(rt),this.lineWidth=dt)}else K.scale>=.01&&(rt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(rt*K.scale),dt=this.lineWidth,this.lineWidth=dt*K.scale),this.pdf.text(K.text,Re.x+this.posX,Re.y+this.posY,{angle:K.angle,align:he,renderingMode:K.renderingMode,maxWidth:K.maxWidth}),K.scale>=.01&&(this.pdf.setFontSize(rt),this.lineWidth=dt)},ae=function(K,he,de,Ce){de=de||0,Ce=Ce||0,this.pdf.internal.out(n(K+de)+" "+r(he+Ce)+" l")},J=function(K,he,de){return this.pdf.lines(K,he,de,null,null)},ie=function(K,he,de,Ce,ye,Re,Oe,Fe){this.pdf.internal.out([t(s(de+K)),t(a(Ce+he)),t(s(ye+K)),t(a(Re+he)),t(s(Oe+K)),t(a(Fe+he)),"c"].join(" "))},Ae=function(K,he,de,Ce){for(var ye=2*Math.PI,Re=Math.PI/2;he>de;)he-=ye;var Oe=Math.abs(de-he);Oe<ye&&Ce&&(Oe=ye-Oe);for(var Fe=[],lt=Ce?-1:1,rt=he;Oe>1e-5;){var dt=rt+lt*Math.min(Oe,Re);Fe.push(xe.call(this,K,rt,dt)),Oe-=Math.abs(dt-rt),rt=dt}return Fe},xe=function(K,he,de){var Ce=(de-he)/2,ye=K*Math.cos(Ce),Re=K*Math.sin(Ce),Oe=ye,Fe=-Re,lt=Oe*Oe+Fe*Fe,rt=lt+Oe*ye+Fe*Re,dt=4/3*(Math.sqrt(2*lt*rt)-rt)/(Oe*Re-Fe*ye),Qe=Oe-dt*Fe,_t=Fe+dt*Oe,qe=Qe,ge=-_t,At=Ce+he,ft=Math.cos(At),Xe=Math.sin(At);return{x1:K*Math.cos(he),y1:K*Math.sin(he),x2:Qe*ft-_t*Xe,y2:Qe*Xe+_t*ft,x3:qe*ft-ge*Xe,y3:qe*Xe+ge*ft,x4:K*Math.cos(de),y4:K*Math.sin(de)}},pe=function(K){return 180*K/Math.PI},ve=function(K,he,de,Ce,ye,Re){var Oe=K+.5*(de-K),Fe=he+.5*(Ce-he),lt=ye+.5*(de-ye),rt=Re+.5*(Ce-Re),dt=Math.min(K,ye,Oe,lt),Qe=Math.max(K,ye,Oe,lt),_t=Math.min(he,Re,Fe,rt),qe=Math.max(he,Re,Fe,rt);return new c(dt,_t,Qe-dt,qe-_t)},Le=function(K,he,de,Ce,ye,Re,Oe,Fe){var lt,rt,dt,Qe,_t,qe,ge,At,ft,Xe,ht,ze,ct,It,Bt=de-K,Ft=Ce-he,Ut=ye-de,O=Re-Ce,U=Oe-ye,V=Fe-Re;for(rt=0;rt<41;rt++)ft=(ge=(dt=K+(lt=rt/40)*Bt)+lt*((_t=de+lt*Ut)-dt))+lt*(_t+lt*(ye+lt*U-_t)-ge),Xe=(At=(Qe=he+lt*Ft)+lt*((qe=Ce+lt*O)-Qe))+lt*(qe+lt*(Re+lt*V-qe)-At),rt==0?(ht=ft,ze=Xe,ct=ft,It=Xe):(ht=Math.min(ht,ft),ze=Math.min(ze,Xe),ct=Math.max(ct,ft),It=Math.max(It,Xe));return new c(Math.round(ht),Math.round(ze),Math.round(ct-ht),Math.round(It-ze))},Ye=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var K,he,de=(K=this.ctx.lineDash,he=this.ctx.lineDashOffset,JSON.stringify({lineDash:K,lineDashOffset:he}));this.prevLineDash!==de&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=de)}}})(Wt.API),function(e){var t=function(a){var l,c,h,p,y,w,v,b,E,A;for(c=[],h=0,p=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;p>h;h+=4)(y=(a.charCodeAt(h)<<24)+(a.charCodeAt(h+1)<<16)+(a.charCodeAt(h+2)<<8)+a.charCodeAt(h+3))!==0?(w=(y=((y=((y=((y=(y-(A=y%85))/85)-(E=y%85))/85)-(b=y%85))/85)-(v=y%85))/85)%85,c.push(w+33,v+33,b+33,E+33,A+33)):c.push(122);return function(k,S){for(var _=S;_>0;_--)k.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(a){var l,c,h,p,y,w=String,v="length",b=255,E="charCodeAt",A="slice",k="replace";for(a[A](-2),a=a[A](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),h=[],p=0,y=(a+=l="uuuuu"[A](a[v]%5||5))[v];y>p;p+=5)c=52200625*(a[E](p)-33)+614125*(a[E](p+1)-33)+7225*(a[E](p+2)-33)+85*(a[E](p+3)-33)+(a[E](p+4)-33),h.push(b&c>>24,b&c>>16,b&c>>8,b&c);return function(S,_){for(var L=_;L>0;L--)S.pop()}(h,l[v]),w.fromCharCode.apply(w,h)},r=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),l.test(a)===!1)return"";for(var c="",h=0;h<a.length;h+=2)c+=String.fromCharCode("0x"+(a[h]+a[h+1]));return c},s=function(a){for(var l=new Uint8Array(a.length),c=a.length;c--;)l[c]=a.charCodeAt(c);return a=(l=ag(l)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};e.processDataByFilters=function(a,l){var c=0,h=a||"",p=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":h=n(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=r(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(y){return("0"+y.charCodeAt().toString(16)).slice(-2)}).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}}(Wt.API),function(e){e.loadFile=function(t,n,r){return function(s,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=function(h,p,y){var w=new XMLHttpRequest,v=0,b=function(E){var A=E.length,k=[],S=String.fromCharCode;for(v=0;v<A;v+=1)k.push(S(255&E.charCodeAt(v)));return k.join("")};if(w.open("GET",h,!p),w.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(w.onload=function(){w.status===200?y(b(this.responseText)):y(void 0)}),w.send(null),p&&w.status===200)return b(w.responseText)}(s,a,l)}catch{}return c}(t,n,r)},e.loadImageFile=e.loadFile}(Wt.API),function(e){function t(){return(Vt.html2canvas?Promise.resolve(Vt.html2canvas):tg(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(Vt.DOMPurify?Promise.resolve(Vt.DOMPurify):tg(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var c=Nn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(l,c){var h=document.createElement(l);for(var p in c.className&&(h.className=c.className),c.innerHTML&&c.dompurify&&(h.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)h.style[p]=c.style[p];return h},a=function l(c){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),p=l.convert(Promise.resolve(),h);return p=(p=p.setProgress(1,l,1,[l])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,c){return l.__proto__=c||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(h){switch(r(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(n).then(function(h){return this.set({src:s("div",{innerHTML:l,dompurify:h})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function h(p,y){for(var w=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),v=p.firstChild;v;v=v.nextSibling)y!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||w.appendChild(h(v,y));return p.nodeType===1&&(p.nodeName==="CANVAS"?(w.width=p.width,w.height=p.height,w.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(w.value=p.value),w.addEventListener("load",function(){w.scrollTop=p.scrollTop,w.scrollLeft=p.scrollLeft},!0)),w}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,c(this.prop.container,h)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var h=this.opt.jsPDF,p=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var v=0;v<p.length;++v){var b=p[v],E=b.src.find(function(A){return A.format==="truetype"});E&&h.addFont(E.url,b.ref.name,b.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,h.context2d.save(!0),c(this.prop.container,w)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(l,c,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},a.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map(function(h){if(h in a.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(l,c){return this.then(function(){var h=l in a.template.prop?this.prop[l]:this.opt[l];return c?c(h):h})},a.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},a.prototype.setPageSize=function(l){function c(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(l=l||Wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},a.prototype.setProgress=function(l,c,h,p){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,c,h,p){return this.setProgress(l?this.progress.val+l:null,c||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},a.prototype.then=function(l,c){var h=this;return this.thenCore(l,c,function(p,y){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(w){return h.updateProgress(null,p),w}).then(p,y).then(function(w){return h.updateProgress(1),w})})},a.prototype.thenCore=function(l,c,h){h=h||Promise.prototype.then,l&&(l=l.bind(this)),c&&(c=c.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),y=h.call(p,l,c);return a.convert(y,this.__proto__)},a.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},a.prototype.thenList=function(l){var c=this;return l.forEach(function(h){c=c.thenCore(h)}),c},a.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return a.convert(c,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then(function(){throw new Error(l)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Wt.getPageSize=function(l,c,h){if(Nn(l)==="object"){var p=l;l=p.orientation,c=p.unit||c,h=p.format||h}c=c||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var y,w=(""+h).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+c}var b,E=0,A=0;if(v.hasOwnProperty(w))E=v[w][1]/y,A=v[w][0]/y;else try{E=h[1],A=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",A>E&&(b=A,A=E,E=b);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",E>A&&(b=A,A=E,E=b)}return{width:A,height:E,unit:c,k:y,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(hg):null;var h=new a(c);return c.worker?h:h.from(l).doCallback()}}(Wt.API),Wt.API.addJS=function(e){return Iw=e,this.internal.events.subscribe("postPutResources",function(){l1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(l1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),_w=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Iw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){l1!==void 0&&_w!==void 0&&this.internal.out("/Names <</JavaScript "+l1+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),a=0;a<s.length;a++){var l=s[a],c=r.exec(l);if(c!=null){var h=c[1];n.internal.newObjectDeferredBegin(h,!1)}n.internal.write(l)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,y=[];for(a=0;a<p;a++){var w=n.internal.newObject();y.push(w);var v=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var b=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<y.length;a++)n.internal.write("(page_"+(a+1)+")"+y[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+b+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,a){var l={title:s,options:a,children:[]};return r==null&&(r=this.root),r.children.push(l),l},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var l=r.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var h=n.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var p=0;p<r.children.length;p++)this.renderItems(r.children[p])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var a=0;a<s.children.length;a++)r.count++,this.count_r(r,s.children[a]);return r.count}}])}(Wt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,s,a,l,c){var h,p=this.decode.DCT_DECODE,y=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=l||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(h=function(w){for(var v,b=256*w.charCodeAt(4)+w.charCodeAt(5),E=w.length,A={width:0,height:0,numcomponents:1},k=4;k<E;k+=2){if(k+=b,t.indexOf(w.charCodeAt(k+1))!==-1){v=256*w.charCodeAt(k+5)+w.charCodeAt(k+6),A={width:256*w.charCodeAt(k+7)+w.charCodeAt(k+8),height:v,numcomponents:w.charCodeAt(k+9)};break}b=256*w.charCodeAt(k+2)+w.charCodeAt(k+3)}return A}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}y={data:n,width:h.width,height:h.height,colorSpace:c,bitsPerComponent:8,filter:p,index:r,alias:s}}return y}}(Wt.API);var wu,u1,Tw,Lw,kw,yI=function(){var e,t,n;function r(a){var l,c,h,p,y,w,v,b,E,A,k,S,_,L;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},w=null;;){switch(l=this.readUInt32(),E=(function(){var z,H;for(H=[],z=0;z<4;++z)H.push(String.fromCharCode(this.data[this.pos++]));return H}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":w&&this.animation.frames.push(w),this.pos+=4,w={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},y=this.readUInt16(),p=this.readUInt16()||100,w.delay=1e3*y/p,w.disposeOp=this.data[this.pos++],w.blendOp=this.data[this.pos++],w.data=[];break;case"IDAT":case"fdAT":for(E==="fdAT"&&(this.pos+=4,l-=4),a=(w!=null?w.data:void 0)||this.imgData,S=0;0<=l?S<l:S>l;0<=l?++S:--S)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((A=h-this.transparency.indexed.length)>0)for(_=0;0<=A?_<A:_>A;0<=A?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":v=(k=this.read(l)).indexOf(0),b=String.fromCharCode.apply(String,k.slice(0,v)),this.text[b]=String.fromCharCode.apply(String,k.slice(v+1));break;case"IEND":return w&&this.animation.frames.push(w),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(L=this.colorType)===4||L===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var l,c;for(c=[],l=0;0<=a?l<a:l>a;0<=a?++l:--l)c.push(this.data[this.pos++]);return c},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var l=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*l),h=0,p=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function y(w,v,b,E){var A,k,S,_,L,z,H,M,D,q,F,oe,W,X,ae,J,ie,Ae,xe,pe,ve,Le=Math.ceil((p.width-w)/b),Ye=Math.ceil((p.height-v)/E),K=p.width==Le&&p.height==Ye;for(X=l*Le,oe=K?c:new Uint8Array(X*Ye),z=a.length,W=0,k=0;W<Ye&&h<z;){switch(a[h++]){case 0:for(_=ie=0;ie<X;_=ie+=1)oe[k++]=a[h++];break;case 1:for(_=Ae=0;Ae<X;_=Ae+=1)A=a[h++],L=_<l?0:oe[k-l],oe[k++]=(A+L)%256;break;case 2:for(_=xe=0;xe<X;_=xe+=1)A=a[h++],S=(_-_%l)/l,ae=W&&oe[(W-1)*X+S*l+_%l],oe[k++]=(ae+A)%256;break;case 3:for(_=pe=0;pe<X;_=pe+=1)A=a[h++],S=(_-_%l)/l,L=_<l?0:oe[k-l],ae=W&&oe[(W-1)*X+S*l+_%l],oe[k++]=(A+Math.floor((L+ae)/2))%256;break;case 4:for(_=ve=0;ve<X;_=ve+=1)A=a[h++],S=(_-_%l)/l,L=_<l?0:oe[k-l],W===0?ae=J=0:(ae=oe[(W-1)*X+S*l+_%l],J=S&&oe[(W-1)*X+(S-1)*l+_%l]),H=L+ae-J,M=Math.abs(H-L),q=Math.abs(H-ae),F=Math.abs(H-J),D=M<=q&&M<=F?L:q<=F?ae:J,oe[k++]=(A+D)%256;break;default:throw new Error("Invalid filter algorithm: "+a[h-1])}if(!K){var he=((v+W*E)*p.width+w)*l,de=W*X;for(_=0;_<Le;_+=1){for(var Ce=0;Ce<l;Ce+=1)c[he++]=oe[de++];he+=(b-1)*l}}W++}}return a=K_(a),p.interlaceMethod==1?(y(0,0,8,8),y(4,0,8,8),y(0,4,4,8),y(2,0,4,4),y(0,2,2,4),y(1,0,2,2),y(0,1,1,2)):y(0,0,1,1),c},r.prototype.decodePalette=function(){var a,l,c,h,p,y,w,v,b;for(c=this.palette,y=this.transparency.indexed||[],p=new Uint8Array((y.length||0)+c.length),h=0,a=0,l=w=0,v=c.length;w<v;l=w+=3)p[h++]=c[l],p[h++]=c[l+1],p[h++]=c[l+2],p[h++]=(b=y[a++])!=null?b:255;return p},r.prototype.copyToImageData=function(a,l){var c,h,p,y,w,v,b,E,A,k,S;if(h=this.colors,A=null,c=this.hasAlphaChannel,this.palette.length&&(A=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),h=4,c=!0),E=(p=a.data||a).length,w=A||l,y=v=0,h===1)for(;y<E;)b=A?4*l[y/4]:v,k=w[b++],p[y++]=k,p[y++]=k,p[y++]=k,p[y++]=c?w[b++]:255,v=b;else for(;y<E;)b=A?4*l[y/4]:v,p[y++]=w[b++],p[y++]=w[b++],p[y++]=w[b++],p[y++]=c?w[b++]:255,v=b},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var s=function(){if(Object.prototype.toString.call(Vt)==="[object Window]"){try{t=Vt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(a){var l;if(s()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(l=new Image).src=t.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var l,c,h,p,y,w,v,b;if(this.animation){for(b=[],c=y=0,w=(v=this.animation.frames).length;y<w;c=++y)l=v[c],h=a.createImageData(l.width,l.height),p=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(h,p),l.imageData=h,b.push(l.image=e(h));return b}},r.prototype.renderFrame=function(a,l){var c,h,p;return c=(h=this.animation.frames)[l],p=h[l-1],l===0&&a.clearRect(0,0,this.width,this.height),(p!=null?p.disposeOp:void 0)===1?a.clearRect(p.xOffset,p.yOffset,p.width,p.height):(p!=null?p.disposeOp:void 0)===2&&a.putImageData(p.imageData,p.xOffset,p.yOffset),c.blendOp===0&&a.clearRect(c.xOffset,c.yOffset,c.width,c.height),a.drawImage(c.image,c.xOffset,c.yOffset)},r.prototype.animate=function(a){var l,c,h,p,y,w,v=this;return c=0,w=this.animation,p=w.numFrames,h=w.frames,y=w.numPlays,(l=function(){var b,E;if(b=c++%p,E=h[b],v.renderFrame(a,b),p>1&&c/p<y)return v.animation._timeout=setTimeout(l,E.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var l,c;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,l=a.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(c=l.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),l.putImageData(c,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function wI(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,s=e[t++],a=s>>7,l=1<<(7&s)+1;e[t++],e[t++];var c=null,h=null;a&&(c=t,h=l,t+=3*l);var p=!0,y=[],w=0,v=null,b=0,E=null;for(this.width=n,this.height=r;p&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,E=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var A=e[t++];w=e[t++]|e[t++]<<8,v=e[t++],!(1&A)&&(v=null),b=A>>2&7,t++;break;case 254:for(;;){if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var k=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,L=e[t++]|e[t++]<<8,z=e[t++],H=z>>6&1,M=1<<(7&z)+1,D=c,q=h,F=!1;z>>7&&(F=!0,D=t,q=M,t+=3*M);var oe=t;for(t++;;){var W;if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}y.push({x:k,y:S,width:_,height:L,has_local_palette:F,palette_offset:D,palette_size:q,data_offset:oe,data_length:t-oe,transparent_index:v,interlaced:!!H,delay:w,disposal:b});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return E},this.frameInfo=function(X){if(X<0||X>=y.length)throw new Error("Frame index out of range.");return y[X]},this.decodeAndBlitFrameBGRA=function(X,ae){var J=this.frameInfo(X),ie=J.width*J.height,Ae=new Uint8Array(ie);Pw(e,J.data_offset,Ae,ie);var xe=J.palette_offset,pe=J.transparent_index;pe===null&&(pe=256);var ve=J.width,Le=n-ve,Ye=ve,K=4*(J.y*n+J.x),he=4*((J.y+J.height)*n+J.x),de=K,Ce=4*Le;J.interlaced===!0&&(Ce+=4*n*7);for(var ye=8,Re=0,Oe=Ae.length;Re<Oe;++Re){var Fe=Ae[Re];if(Ye===0&&(Ye=ve,(de+=Ce)>=he&&(Ce=4*Le+4*n*(ye-1),de=K+(ve+Le)*(ye<<1),ye>>=1)),Fe===pe)de+=4;else{var lt=e[xe+3*Fe],rt=e[xe+3*Fe+1],dt=e[xe+3*Fe+2];ae[de++]=dt,ae[de++]=rt,ae[de++]=lt,ae[de++]=255}--Ye}},this.decodeAndBlitFrameRGBA=function(X,ae){var J=this.frameInfo(X),ie=J.width*J.height,Ae=new Uint8Array(ie);Pw(e,J.data_offset,Ae,ie);var xe=J.palette_offset,pe=J.transparent_index;pe===null&&(pe=256);var ve=J.width,Le=n-ve,Ye=ve,K=4*(J.y*n+J.x),he=4*((J.y+J.height)*n+J.x),de=K,Ce=4*Le;J.interlaced===!0&&(Ce+=4*n*7);for(var ye=8,Re=0,Oe=Ae.length;Re<Oe;++Re){var Fe=Ae[Re];if(Ye===0&&(Ye=ve,(de+=Ce)>=he&&(Ce=4*Le+4*n*(ye-1),de=K+(ve+Le)*(ye<<1),ye>>=1)),Fe===pe)de+=4;else{var lt=e[xe+3*Fe],rt=e[xe+3*Fe+1],dt=e[xe+3*Fe+2];ae[de++]=lt,ae[de++]=rt,ae[de++]=dt,ae[de++]=255}--Ye}}}function Pw(e,t,n,r){for(var s=e[t++],a=1<<s,l=a+1,c=l+1,h=s+1,p=(1<<h)-1,y=0,w=0,v=0,b=e[t++],E=new Int32Array(4096),A=null;;){for(;y<16&&b!==0;)w|=e[t++]<<y,y+=8,b===1?b=e[t++]:--b;if(y<h)break;var k=w&p;if(w>>=h,y-=h,k!==a){if(k===l)break;for(var S=k<c?k:A,_=0,L=S;L>a;)L=E[L]>>8,++_;var z=L;if(v+_+(S!==k?1:0)>r)return void Bn.log("Warning, gif stream longer than expected.");n[v++]=z;var H=v+=_;for(S!==k&&(n[v++]=z),L=S;_--;)L=E[L],n[--H]=255&L,L>>=8;A!==null&&c<4096&&(E[c++]=A<<8|z,c>=p+1&&h<12&&(++h,p=p<<1|1)),A=k}else c=l+1,p=(1<<(h=s+1))-1,A=null}return v!==r&&Bn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function v2(e){var t,n,r,s,a,l=Math.floor,c=new Array(64),h=new Array(64),p=new Array(64),y=new Array(64),w=new Array(65535),v=new Array(65535),b=new Array(64),E=new Array(64),A=[],k=0,S=7,_=new Array(64),L=new Array(64),z=new Array(64),H=new Array(256),M=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],W=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],X=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ae=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ae(K,he){for(var de=0,Ce=0,ye=new Array,Re=1;Re<=16;Re++){for(var Oe=1;Oe<=K[Re];Oe++)ye[he[Ce]]=[],ye[he[Ce]][0]=de,ye[he[Ce]][1]=Re,Ce++,de++;de*=2}return ye}function xe(K){for(var he=K[0],de=K[1]-1;de>=0;)he&1<<de&&(k|=1<<S),de--,--S<0&&(k==255?(pe(255),pe(0)):pe(k),S=7,k=0)}function pe(K){A.push(K)}function ve(K){pe(K>>8&255),pe(255&K)}function Le(K,he,de,Ce,ye){for(var Re,Oe=ye[0],Fe=ye[240],lt=function(Xe,ht){var ze,ct,It,Bt,Ft,Ut,O,U,V,me,we=0;for(V=0;V<8;++V){ze=Xe[we],ct=Xe[we+1],It=Xe[we+2],Bt=Xe[we+3],Ft=Xe[we+4],Ut=Xe[we+5],O=Xe[we+6];var We=ze+(U=Xe[we+7]),Ve=ze-U,Ke=ct+O,Et=ct-O,gt=It+Ut,Lt=It-Ut,Dt=Bt+Ft,Us=Bt-Ft,Gn=We+Dt,en=We-Dt,ii=Ke+gt,Xn=Ke-gt;Xe[we]=Gn+ii,Xe[we+4]=Gn-ii;var Yt=.707106781*(Xn+en);Xe[we+2]=en+Yt,Xe[we+6]=en-Yt;var nn=.382683433*((Gn=Us+Lt)-(Xn=Et+Ve)),zs=.5411961*Gn+nn,yn=1.306562965*Xn+nn,si=.707106781*(ii=Lt+Et),Li=Ve+si,Tt=Ve-si;Xe[we+5]=Tt+zs,Xe[we+3]=Tt-zs,Xe[we+1]=Li+yn,Xe[we+7]=Li-yn,we+=8}for(we=0,V=0;V<8;++V){ze=Xe[we],ct=Xe[we+8],It=Xe[we+16],Bt=Xe[we+24],Ft=Xe[we+32],Ut=Xe[we+40],O=Xe[we+48];var ts=ze+(U=Xe[we+56]),Xr=ze-U,Yr=ct+O,wn=ct-O,On=It+Ut,jn=It-Ut,wt=Bt+Ft,di=Bt-Ft,ki=ts+wt,Un=ts-wt,Kr=Yr+On,Pi=Yr-On;Xe[we]=ki+Kr,Xe[we+32]=ki-Kr;var ai=.707106781*(Pi+Un);Xe[we+16]=Un+ai,Xe[we+48]=Un-ai;var Er=.382683433*((ki=di+jn)-(Pi=wn+Xr)),Na=.5411961*ki+Er,ro=1.306562965*Pi+Er,oi=.707106781*(Kr=jn+wn),mr=Xr+oi,Cn=Xr-oi;Xe[we+40]=Cn+Na,Xe[we+24]=Cn-Na,Xe[we+8]=mr+ro,Xe[we+56]=mr-ro,we++}for(V=0;V<64;++V)me=Xe[V]*ht[V],b[V]=me>0?me+.5|0:me-.5|0;return b}(K,he),rt=0;rt<64;++rt)E[D[rt]]=lt[rt];var dt=E[0]-de;de=E[0],dt==0?xe(Ce[0]):(xe(Ce[v[Re=32767+dt]]),xe(w[Re]));for(var Qe=63;Qe>0&&E[Qe]==0;)Qe--;if(Qe==0)return xe(Oe),de;for(var _t,qe=1;qe<=Qe;){for(var ge=qe;E[qe]==0&&qe<=Qe;)++qe;var At=qe-ge;if(At>=16){_t=At>>4;for(var ft=1;ft<=_t;++ft)xe(Fe);At&=15}Re=32767+E[qe],xe(ye[(At<<4)+v[Re]]),xe(w[Re]),qe++}return Qe!=63&&xe(Oe),de}function Ye(K){K=Math.min(Math.max(K,1),100),a!=K&&(function(he){for(var de=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ce=0;Ce<64;Ce++){var ye=l((de[Ce]*he+50)/100);ye=Math.min(Math.max(ye,1),255),c[D[Ce]]=ye}for(var Re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Oe=0;Oe<64;Oe++){var Fe=l((Re[Oe]*he+50)/100);Fe=Math.min(Math.max(Fe,1),255),h[D[Oe]]=Fe}for(var lt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],rt=0,dt=0;dt<8;dt++)for(var Qe=0;Qe<8;Qe++)p[rt]=1/(c[D[rt]]*lt[dt]*lt[Qe]*8),y[rt]=1/(h[D[rt]]*lt[dt]*lt[Qe]*8),rt++}(K<50?Math.floor(5e3/K):Math.floor(200-2*K)),a=K)}this.encode=function(K,he){he&&Ye(he),A=new Array,k=0,S=7,ve(65496),ve(65504),ve(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),ve(1),ve(1),pe(0),pe(0),function(){ve(65499),ve(132),pe(0);for(var ct=0;ct<64;ct++)pe(c[ct]);pe(1);for(var It=0;It<64;It++)pe(h[It])}(),function(ct,It){ve(65472),ve(17),pe(8),ve(It),ve(ct),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1)}(K.width,K.height),function(){ve(65476),ve(418),pe(0);for(var ct=0;ct<16;ct++)pe(q[ct+1]);for(var It=0;It<=11;It++)pe(F[It]);pe(16);for(var Bt=0;Bt<16;Bt++)pe(oe[Bt+1]);for(var Ft=0;Ft<=161;Ft++)pe(W[Ft]);pe(1);for(var Ut=0;Ut<16;Ut++)pe(X[Ut+1]);for(var O=0;O<=11;O++)pe(ae[O]);pe(17);for(var U=0;U<16;U++)pe(J[U+1]);for(var V=0;V<=161;V++)pe(ie[V])}(),ve(65498),ve(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0);var de=0,Ce=0,ye=0;k=0,S=7,this.encode.displayName="_encode_";for(var Re,Oe,Fe,lt,rt,dt,Qe,_t,qe,ge=K.data,At=K.width,ft=K.height,Xe=4*At,ht=0;ht<ft;){for(Re=0;Re<Xe;){for(rt=Xe*ht+Re,Qe=-1,_t=0,qe=0;qe<64;qe++)dt=rt+(_t=qe>>3)*Xe+(Qe=4*(7&qe)),ht+_t>=ft&&(dt-=Xe*(ht+1+_t-ft)),Re+Qe>=Xe&&(dt-=Re+Qe-Xe+4),Oe=ge[dt++],Fe=ge[dt++],lt=ge[dt++],_[qe]=(M[Oe]+M[Fe+256>>0]+M[lt+512>>0]>>16)-128,L[qe]=(M[Oe+768>>0]+M[Fe+1024>>0]+M[lt+1280>>0]>>16)-128,z[qe]=(M[Oe+1280>>0]+M[Fe+1536>>0]+M[lt+1792>>0]>>16)-128;de=Le(_,p,de,t,r),Ce=Le(L,y,Ce,n,s),ye=Le(z,y,ye,n,s),Re+=32}ht+=8}if(S>=0){var ze=[];ze[1]=S+1,ze[0]=(1<<S+1)-1,xe(ze)}return ve(65497),new Uint8Array(A)},e=e||50,function(){for(var K=String.fromCharCode,he=0;he<256;he++)H[he]=K(he)}(),t=Ae(q,F),n=Ae(X,ae),r=Ae(oe,W),s=Ae(J,ie),function(){for(var K=1,he=2,de=1;de<=15;de++){for(var Ce=K;Ce<he;Ce++)v[32767+Ce]=de,w[32767+Ce]=[],w[32767+Ce][1]=de,w[32767+Ce][0]=Ce;for(var ye=-(he-1);ye<=-K;ye++)v[32767+ye]=de,w[32767+ye]=[],w[32767+ye][1]=de,w[32767+ye][0]=he-1+ye;K<<=1,he<<=1}}(),function(){for(var K=0;K<256;K++)M[K]=19595*K,M[K+256>>0]=38470*K,M[K+512>>0]=7471*K+32768,M[K+768>>0]=-11059*K,M[K+1024>>0]=-21709*K,M[K+1280>>0]=32768*K+8421375,M[K+1536>>0]=-27439*K,M[K+1792>>0]=-5329*K}(),Ye(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ks(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ow(e){function t(q){if(!q)throw Error("assert :P")}function n(q,F,oe){for(var W=0;4>W;W++)if(q[F+W]!=oe.charCodeAt(W))return!0;return!1}function r(q,F,oe,W,X){for(var ae=0;ae<X;ae++)q[F+ae]=oe[W+ae]}function s(q,F,oe,W){for(var X=0;X<W;X++)q[F+X]=oe}function a(q){return new Int32Array(q)}function l(q,F){for(var oe=[],W=0;W<q;W++)oe.push(new F);return oe}function c(q,F){var oe=[];return function W(X,ae,J){for(var ie=J[ae],Ae=0;Ae<ie&&(X.push(J.length>ae+1?[]:new F),!(J.length<ae+1));Ae++)W(X[Ae],ae+1,J)}(oe,0,q),oe}var h=function(){var q=this;function F(m,C){for(var P=1<<C-1>>>0;m&P;)P>>>=1;return P?(m&P-1)+P:m}function oe(m,C,P,B,Q){t(!(B%P));do m[C+(B-=P)]=Q;while(0<B)}function W(m,C,P,B,Q){if(t(2328>=Q),512>=Q)var Z=a(512);else if((Z=a(Q))==null)return 0;return function(ne,re,se,fe,Ne,Me){var Be,ke,tt=re,He=1<<se,_e=a(16),Ie=a(16);for(t(Ne!=0),t(fe!=null),t(ne!=null),t(0<se),ke=0;ke<Ne;++ke){if(15<fe[ke])return 0;++_e[fe[ke]]}if(_e[0]==Ne)return 0;for(Ie[1]=0,Be=1;15>Be;++Be){if(_e[Be]>1<<Be)return 0;Ie[Be+1]=Ie[Be]+_e[Be]}for(ke=0;ke<Ne;++ke)Be=fe[ke],0<fe[ke]&&(Me[Ie[Be]++]=ke);if(Ie[15]==1)return(fe=new X).g=0,fe.value=Me[0],oe(ne,tt,1,He,fe),He;var $e,at=-1,Je=He-1,xt=0,pt=1,qt=1,mt=1<<se;for(ke=0,Be=1,Ne=2;Be<=se;++Be,Ne<<=1){if(pt+=qt<<=1,0>(qt-=_e[Be]))return 0;for(;0<_e[Be];--_e[Be])(fe=new X).g=Be,fe.value=Me[ke++],oe(ne,tt+xt,Ne,mt,fe),xt=F(xt,Be)}for(Be=se+1,Ne=2;15>=Be;++Be,Ne<<=1){if(pt+=qt<<=1,0>(qt-=_e[Be]))return 0;for(;0<_e[Be];--_e[Be]){if(fe=new X,(xt&Je)!=at){for(tt+=mt,$e=1<<(at=Be)-se;15>at&&!(0>=($e-=_e[at]));)++at,$e<<=1;He+=mt=1<<($e=at-se),ne[re+(at=xt&Je)].g=$e+se,ne[re+at].value=tt-re-at}fe.g=Be-se,fe.value=Me[ke++],oe(ne,tt+(xt>>se),Ne,mt,fe),xt=F(xt,Be)}}return pt!=2*Ie[15]-1?0:He}(m,C,P,B,Q,Z)}function X(){this.value=this.g=0}function ae(){this.value=this.g=0}function J(){this.G=l(5,X),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Rn,ae)}function ie(m,C,P,B){t(m!=null),t(C!=null),t(2147483648>B),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=C,m.pa=P,m.Jd=C,m.Yc=P+B,m.Zc=4<=B?P+B-4+1:P,Re(m)}function Ae(m,C){for(var P=0;0<C--;)P|=Fe(m,128)<<C;return P}function xe(m,C){var P=Ae(m,C);return Oe(m)?-P:P}function pe(m,C,P,B){var Q,Z=0;for(t(m!=null),t(C!=null),t(4294967288>B),m.Sb=B,m.Ra=0,m.u=0,m.h=0,4<B&&(B=4),Q=0;Q<B;++Q)Z+=C[P+Q]<<8*Q;m.Ra=Z,m.bb=B,m.oa=C,m.pa=P}function ve(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Ns-8>>>0,++m.bb,m.u-=8;de(m)&&(m.h=1,m.u=0)}function Le(m,C){if(t(0<=C),!m.h&&C<=ha){var P=he(m)&ho[C];return m.u+=C,ve(m),P}return m.h=1,m.u=0}function Ye(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function he(m){return m.Ra>>>(m.u&Ns-1)>>>0}function de(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Ns}function Ce(m,C){m.u=C,m.h=de(m)}function ye(m){m.u>=un&&(t(m.u>=un),ve(m))}function Re(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Oe(m){return Ae(m,1)}function Fe(m,C){var P=m.Ca;0>m.b&&Re(m);var B=m.b,Q=P*C>>>8,Z=(m.I>>>B>Q)+0;for(Z?(P-=Q,m.I-=Q+1<<B>>>0):P=Q+1,B=P,Q=0;256<=B;)Q+=8,B>>=8;return B=7^Q+zr[B],m.b-=B,m.Ca=(P<<B)-1,Z}function lt(m,C,P){m[C+0]=P>>24&255,m[C+1]=P>>16&255,m[C+2]=P>>8&255,m[C+3]=P>>0&255}function rt(m,C){return m[C+0]<<0|m[C+1]<<8}function dt(m,C){return rt(m,C)|m[C+2]<<16}function Qe(m,C){return rt(m,C)|rt(m,C+2)<<16}function _t(m,C){var P=1<<C;return t(m!=null),t(0<C),m.X=a(P),m.X==null?0:(m.Mb=32-C,m.Xa=C,1)}function qe(m,C){t(m!=null),t(C!=null),t(m.Xa==C.Xa),r(C.X,0,m.X,0,1<<C.Xa)}function ge(){this.X=[],this.Xa=this.Mb=0}function At(m,C,P,B){t(P!=null),t(B!=null);var Q=P[0],Z=B[0];return Q==0&&(Q=(m*Z+C/2)/C),Z==0&&(Z=(C*Q+m/2)/m),0>=Q||0>=Z?0:(P[0]=Q,B[0]=Z,1)}function ft(m,C){return m+(1<<C)-1>>>C}function Xe(m,C){return((4278255360&m)+(4278255360&C)>>>0&4278255360)+((16711935&m)+(16711935&C)>>>0&16711935)>>>0}function ht(m,C){q[C]=function(P,B,Q,Z,ne,re,se){var fe;for(fe=0;fe<ne;++fe){var Ne=q[m](re[se+fe-1],Q,Z+fe);re[se+fe]=Xe(P[B+fe],Ne)}}}function ze(){this.ud=this.hd=this.jd=0}function ct(m,C){return((4278124286&(m^C))>>>1)+(m&C)>>>0}function It(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Bt(m,C){return It(m+(m-C+.5>>1))}function Ft(m,C,P){return Math.abs(C-P)-Math.abs(m-P)}function Ut(m,C,P,B,Q,Z,ne){for(B=Z[ne-1],P=0;P<Q;++P)Z[ne+P]=B=Xe(m[C+P],B)}function O(m,C,P,B,Q){var Z;for(Z=0;Z<P;++Z){var ne=m[C+Z],re=ne>>8&255,se=16711935&(se=(se=16711935&ne)+((re<<16)+re));B[Q+Z]=(4278255360&ne)+se>>>0}}function U(m,C){C.jd=m>>0&255,C.hd=m>>8&255,C.ud=m>>16&255}function V(m,C,P,B,Q,Z){var ne;for(ne=0;ne<B;++ne){var re=C[P+ne],se=re>>>8,fe=re,Ne=255&(Ne=(Ne=re>>>16)+((m.jd<<24>>24)*(se<<24>>24)>>>5));fe=255&(fe=(fe=fe+((m.hd<<24>>24)*(se<<24>>24)>>>5))+((m.ud<<24>>24)*(Ne<<24>>24)>>>5)),Q[Z+ne]=(4278255360&re)+(Ne<<16)+fe}}function me(m,C,P,B,Q){q[C]=function(Z,ne,re,se,fe,Ne,Me,Be,ke){for(se=Me;se<Be;++se)for(Me=0;Me<ke;++Me)fe[Ne++]=Q(re[B(Z[ne++])])},q[m]=function(Z,ne,re,se,fe,Ne,Me){var Be=8>>Z.b,ke=Z.Ea,tt=Z.K[0],He=Z.w;if(8>Be)for(Z=(1<<Z.b)-1,He=(1<<Be)-1;ne<re;++ne){var _e,Ie=0;for(_e=0;_e<ke;++_e)_e&Z||(Ie=B(se[fe++])),Ne[Me++]=Q(tt[Ie&He]),Ie>>=Be}else q["VP8LMapColor"+P](se,fe,tt,He,Ne,Me,ne,re,ke)}}function we(m,C,P,B,Q){for(P=C+P;C<P;){var Z=m[C++];B[Q++]=Z>>16&255,B[Q++]=Z>>8&255,B[Q++]=Z>>0&255}}function We(m,C,P,B,Q){for(P=C+P;C<P;){var Z=m[C++];B[Q++]=Z>>16&255,B[Q++]=Z>>8&255,B[Q++]=Z>>0&255,B[Q++]=Z>>24&255}}function Ve(m,C,P,B,Q){for(P=C+P;C<P;){var Z=(ne=m[C++])>>16&240|ne>>12&15,ne=ne>>0&240|ne>>28&15;B[Q++]=Z,B[Q++]=ne}}function Ke(m,C,P,B,Q){for(P=C+P;C<P;){var Z=(ne=m[C++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;B[Q++]=Z,B[Q++]=ne}}function Et(m,C,P,B,Q){for(P=C+P;C<P;){var Z=m[C++];B[Q++]=Z>>0&255,B[Q++]=Z>>8&255,B[Q++]=Z>>16&255}}function gt(m,C,P,B,Q,Z){if(Z==0)for(P=C+P;C<P;)lt(B,((Z=m[C++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),Q+=32;else r(B,Q,m,C,P)}function Lt(m,C){q[C][0]=q[m+"0"],q[C][1]=q[m+"1"],q[C][2]=q[m+"2"],q[C][3]=q[m+"3"],q[C][4]=q[m+"4"],q[C][5]=q[m+"5"],q[C][6]=q[m+"6"],q[C][7]=q[m+"7"],q[C][8]=q[m+"8"],q[C][9]=q[m+"9"],q[C][10]=q[m+"10"],q[C][11]=q[m+"11"],q[C][12]=q[m+"12"],q[C][13]=q[m+"13"],q[C][14]=q[m+"0"],q[C][15]=q[m+"0"]}function Dt(m){return m==i0||m==s0||m==mh||m==a0}function Us(){this.eb=[],this.size=this.A=this.fb=0}function Gn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function en(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Us,this.f.kb=new Gn,this.sd=null}function ii(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Yt(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function nn(m,C){var P=m.T,B=C.ba.f.RGBA,Q=B.eb,Z=B.fb+m.ka*B.A,ne=Ts[C.ba.S],re=m.y,se=m.O,fe=m.f,Ne=m.N,Me=m.ea,Be=m.W,ke=C.cc,tt=C.dc,He=C.Mc,_e=C.Nc,Ie=m.ka,$e=m.ka+m.T,at=m.U,Je=at+1>>1;for(Ie==0?ne(re,se,null,null,fe,Ne,Me,Be,fe,Ne,Me,Be,Q,Z,null,null,at):(ne(C.ec,C.fc,re,se,ke,tt,He,_e,fe,Ne,Me,Be,Q,Z-B.A,Q,Z,at),++P);Ie+2<$e;Ie+=2)ke=fe,tt=Ne,He=Me,_e=Be,Ne+=m.Rc,Be+=m.Rc,Z+=2*B.A,ne(re,(se+=2*m.fa)-m.fa,re,se,ke,tt,He,_e,fe,Ne,Me,Be,Q,Z-B.A,Q,Z,at);return se+=m.fa,m.j+$e<m.o?(r(C.ec,C.fc,re,se,at),r(C.cc,C.dc,fe,Ne,Je),r(C.Mc,C.Nc,Me,Be,Je),P--):1&$e||ne(re,se,null,null,fe,Ne,Me,Be,fe,Ne,Me,Be,Q,Z+B.A,null,null,at),P}function zs(m,C,P){var B=m.F,Q=[m.J];if(B!=null){var Z=m.U,ne=C.ba.S,re=ne==gh||ne==mh;C=C.ba.f.RGBA;var se=[0],fe=m.ka;se[0]=m.T,m.Kb&&(fe==0?--se[0]:(--fe,Q[0]-=m.width),m.j+m.ka+m.T==m.o&&(se[0]=m.o-m.j-fe));var Ne=C.eb;fe=C.fb+fe*C.A,m=Wn(B,Q[0],m.width,Z,se,Ne,fe+(re?0:3),C.A),t(P==se),m&&Dt(ne)&&Hi(Ne,fe,re,Z,se,C.A)}return 0}function yn(m){var C=m.ma,P=C.ba.S,B=11>P,Q=P==dh||P==ph||P==gh||P==r0||P==12||Dt(P);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!La(C.Oa,m,Q?11:12))return 0;if(Q&&Dt(P)&&nt(),m.da)alert("todo:use_scaling");else{if(B){if(C.Ib=Yt,m.Kb){if(P=m.U+1>>1,C.memory=a(m.U+2*P),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+m.U,C.Mc=C.cc,C.Nc=C.dc+P,C.Ib=nn,nt()}}else alert("todo:EmitYUV");Q&&(C.Jb=zs,B&&Pe())}if(B&&!e5){for(m=0;256>m;++m)o6[m]=89858*(m-128)+wh>>yh,c6[m]=-22014*(m-128)+wh,u6[m]=-45773*(m-128),l6[m]=113618*(m-128)+wh>>yh;for(m=Ec;m<u0;++m)C=76283*(m-16)+wh>>yh,f6[m-Ec]=yr(C,255),h6[m-Ec]=yr(C+8>>4,15);e5=1}return 1}function si(m){var C=m.ma,P=m.U,B=m.T;return t(!(1&m.ka)),0>=P||0>=B?0:(P=C.Ib(m,C),C.Jb!=null&&C.Jb(m,C,P),C.Dc+=P,1)}function Li(m){m.ma.memory=null}function Tt(m,C,P,B){return Le(m,8)!=47?0:(C[0]=Le(m,14)+1,P[0]=Le(m,14)+1,B[0]=Le(m,1),Le(m,3)!=0?0:!m.h)}function ts(m,C){if(4>m)return m+1;var P=m-2>>1;return(2+(1&m)<<P)+Le(C,P)+1}function Xr(m,C){return 120<C?C-120:1<=(P=((P=Xb[C-1])>>4)*m+(8-(15&P)))?P:1;var P}function Yr(m,C,P){var B=he(P),Q=m[C+=255&B].g-8;return 0<Q&&(Ce(P,P.u+8),B=he(P),C+=m[C].value,C+=B&(1<<Q)-1),Ce(P,P.u+m[C].g),m[C].value}function wn(m,C,P){return P.g+=m.g,P.value+=m.value<<C>>>0,t(8>=P.g),m.g}function On(m,C,P){var B=m.xc;return t((C=B==0?0:m.vc[m.md*(P>>B)+(C>>B)])<m.Wb),m.Ya[C]}function jn(m,C,P,B){var Q=m.ab,Z=m.c*C,ne=m.C;C=ne+C;var re=P,se=B;for(B=m.Ta,P=m.Ua;0<Q--;){var fe=m.gc[Q],Ne=ne,Me=C,Be=re,ke=se,tt=(se=B,re=P,fe.Ea);switch(t(Ne<Me),t(Me<=fe.nc),fe.hc){case 2:o(Be,ke,(Me-Ne)*tt,se,re);break;case 0:var He=Ne,_e=Me,Ie=se,$e=re,at=(mt=fe).Ea;He==0&&(Y(Be,ke,null,null,1,Ie,$e),Ut(Be,ke+1,0,0,at-1,Ie,$e+1),ke+=at,$e+=at,++He);for(var Je=1<<mt.b,xt=Je-1,pt=ft(at,mt.b),qt=mt.K,mt=mt.w+(He>>mt.b)*pt;He<_e;){var Sn=qt,Tn=mt,bn=1;for(i(Be,ke,Ie,$e-at,1,Ie,$e);bn<at;){var dn=(bn&~xt)+Je;dn>at&&(dn=at),(0,x[Sn[Tn++]>>8&15])(Be,ke+ +bn,Ie,$e+bn-at,dn-bn,Ie,$e+bn),bn=dn}ke+=at,$e+=at,++He&xt||(mt+=pt)}Me!=fe.nc&&r(se,re-tt,se,re+(Me-Ne-1)*tt,tt);break;case 1:for(tt=Be,_e=ke,at=(Be=fe.Ea)-($e=Be&~(Ie=(ke=1<<fe.b)-1)),He=ft(Be,fe.b),Je=fe.K,fe=fe.w+(Ne>>fe.b)*He;Ne<Me;){for(xt=Je,pt=fe,qt=new ze,mt=_e+$e,Sn=_e+Be;_e<mt;)U(xt[pt++],qt),N(qt,tt,_e,ke,se,re),_e+=ke,re+=ke;_e<Sn&&(U(xt[pt++],qt),N(qt,tt,_e,at,se,re),_e+=at,re+=at),++Ne&Ie||(fe+=He)}break;case 3:if(Be==se&&ke==re&&0<fe.b){for(_e=se,Be=tt=re+(Me-Ne)*tt-($e=(Me-Ne)*ft(fe.Ea,fe.b)),ke=se,Ie=re,He=[],$e=(at=$e)-1;0<=$e;--$e)He[$e]=ke[Ie+$e];for($e=at-1;0<=$e;--$e)_e[Be+$e]=He[$e];u(fe,Ne,Me,se,tt,se,re)}else u(fe,Ne,Me,Be,ke,se,re)}re=B,se=P}se!=P&&r(B,P,re,se,Z)}function wt(m,C){var P=m.V,B=m.Ba+m.c*m.C,Q=C-m.C;if(t(C<=m.l.o),t(16>=Q),0<Q){var Z=m.l,ne=m.Ta,re=m.Ua,se=Z.width;if(jn(m,Q,P,B),Q=re=[re],t((P=m.C)<(B=C)),t(Z.v<Z.va),B>Z.o&&(B=Z.o),P<Z.j){var fe=Z.j-P;P=Z.j,Q[0]+=fe*se}if(P>=B?P=0:(Q[0]+=4*Z.v,Z.ka=P-Z.j,Z.U=Z.va-Z.v,Z.T=B-P,P=1),P){if(re=re[0],11>(P=m.ca).S){var Ne=P.f.RGBA,Me=(B=P.S,Q=Z.U,Z=Z.T,fe=Ne.eb,Ne.A),Be=Z;for(Ne=Ne.fb+m.Ma*Ne.A;0<Be--;){var ke=ne,tt=re,He=Q,_e=fe,Ie=Ne;switch(B){case hh:T(ke,tt,He,_e,Ie);break;case dh:j(ke,tt,He,_e,Ie);break;case i0:j(ke,tt,He,_e,Ie),Hi(_e,Ie,0,He,1,0);break;case Hm:ce(ke,tt,He,_e,Ie);break;case ph:gt(ke,tt,He,_e,Ie,1);break;case s0:gt(ke,tt,He,_e,Ie,1),Hi(_e,Ie,0,He,1,0);break;case gh:gt(ke,tt,He,_e,Ie,0);break;case mh:gt(ke,tt,He,_e,Ie,0),Hi(_e,Ie,1,He,1,0);break;case r0:G(ke,tt,He,_e,Ie);break;case a0:G(ke,tt,He,_e,Ie),qn(_e,Ie,He,1,0);break;case Gm:te(ke,tt,He,_e,Ie);break;default:t(0)}re+=se,Ne+=Me}m.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=P.height)}}m.C=C,t(m.C<=m.i)}function di(m){var C;if(0<m.ua)return 0;for(C=0;C<m.Wb;++C){var P=m.Ya[C].G,B=m.Ya[C].H;if(0<P[1][B[1]+0].g||0<P[2][B[2]+0].g||0<P[3][B[3]+0].g)return 0}return 1}function ki(m,C,P,B,Q,Z){if(m.Z!=0){var ne=m.qd,re=m.rd;for(t(go[m.Z]!=null);C<P;++C)go[m.Z](ne,re,B,Q,B,Q,Z),ne=B,re=Q,Q+=Z;m.qd=ne,m.rd=re}}function Un(m,C){var P=m.l.ma,B=P.Z==0||P.Z==1?m.l.j:m.C;if(B=m.C<B?B:m.C,t(C<=m.l.o),C>B){var Q=m.l.width,Z=P.ca,ne=P.tb+Q*B,re=m.V,se=m.Ba+m.c*B,fe=m.gc;t(m.ab==1),t(fe[0].hc==3),d(fe[0],B,C,re,se,Z,ne),ki(P,B,C,Z,ne,Q)}m.C=m.Ma=C}function Kr(m,C,P,B,Q,Z,ne){var re=m.$/B,se=m.$%B,fe=m.m,Ne=m.s,Me=P+m.$,Be=Me;Q=P+B*Q;var ke=P+B*Z,tt=280+Ne.ua,He=m.Pb?re:16777216,_e=0<Ne.ua?Ne.Wa:null,Ie=Ne.wc,$e=Me<ke?On(Ne,se,re):null;t(m.C<Z),t(ke<=Q);var at=!1;e:for(;;){for(;at||Me<ke;){var Je=0;if(re>=He){var xt=Me-P;t((He=m).Pb),He.wd=He.m,He.xd=xt,0<He.s.ua&&qe(He.s.Wa,He.s.vb),He=re+Kb}if(se&Ie||($e=On(Ne,se,re)),t($e!=null),$e.Qb&&(C[Me]=$e.qb,at=!0),!at)if(ye(fe),$e.jc){Je=fe,xt=C;var pt=Me,qt=$e.pd[he(Je)&Rn-1];t($e.jc),256>qt.g?(Ce(Je,Je.u+qt.g),xt[pt]=qt.value,Je=0):(Ce(Je,Je.u+qt.g-256),t(256<=qt.value),Je=qt.value),Je==0&&(at=!0)}else Je=Yr($e.G[0],$e.H[0],fe);if(fe.h)break;if(at||256>Je){if(!at)if($e.nd)C[Me]=($e.qb|Je<<8)>>>0;else{if(ye(fe),at=Yr($e.G[1],$e.H[1],fe),ye(fe),xt=Yr($e.G[2],$e.H[2],fe),pt=Yr($e.G[3],$e.H[3],fe),fe.h)break;C[Me]=(pt<<24|at<<16|Je<<8|xt)>>>0}if(at=!1,++Me,++se>=B&&(se=0,++re,ne!=null&&re<=Z&&!(re%16)&&ne(m,re),_e!=null))for(;Be<Me;)Je=C[Be++],_e.X[(506832829*Je&4294967295)>>>_e.Mb]=Je}else if(280>Je){if(Je=ts(Je-256,fe),xt=Yr($e.G[4],$e.H[4],fe),ye(fe),xt=Xr(B,xt=ts(xt,fe)),fe.h)break;if(Me-P<xt||Q-Me<Je)break e;for(pt=0;pt<Je;++pt)C[Me+pt]=C[Me+pt-xt];for(Me+=Je,se+=Je;se>=B;)se-=B,++re,ne!=null&&re<=Z&&!(re%16)&&ne(m,re);if(t(Me<=Q),se&Ie&&($e=On(Ne,se,re)),_e!=null)for(;Be<Me;)Je=C[Be++],_e.X[(506832829*Je&4294967295)>>>_e.Mb]=Je}else{if(!(Je<tt))break e;for(at=Je-280,t(_e!=null);Be<Me;)Je=C[Be++],_e.X[(506832829*Je&4294967295)>>>_e.Mb]=Je;Je=Me,t(!(at>>>(xt=_e).Xa)),C[Je]=xt.X[at],at=!0}at||t(fe.h==de(fe))}if(m.Pb&&fe.h&&Me<Q)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&qe(m.s.vb,m.s.Wa);else{if(fe.h)break e;ne!=null&&ne(m,re>Z?Z:re),m.a=0,m.$=Me-P}return 1}return m.a=3,0}function Pi(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var C=m.Wa;C!=null&&(C.X=null),m.vb=null,t(m!=null)}function ai(){var m=new fr;return m==null?null:(m.a=0,m.xb=Km,Lt("Predictor","VP8LPredictors"),Lt("Predictor","VP8LPredictors_C"),Lt("PredictorAdd","VP8LPredictorsAdd"),Lt("PredictorAdd","VP8LPredictorsAdd_C"),o=O,N=V,T=we,j=We,G=Ve,te=Ke,ce=Et,q.VP8LMapColor32b=f,q.VP8LMapColor8b=g,m)}function Er(m,C,P,B,Q){var Z=1,ne=[m],re=[C],se=B.m,fe=B.s,Ne=null,Me=0;e:for(;;){if(P)for(;Z&&Le(se,1);){var Be=ne,ke=re,tt=B,He=1,_e=tt.m,Ie=tt.gc[tt.ab],$e=Le(_e,2);if(tt.Oc&1<<$e)Z=0;else{switch(tt.Oc|=1<<$e,Ie.hc=$e,Ie.Ea=Be[0],Ie.nc=ke[0],Ie.K=[null],++tt.ab,t(4>=tt.ab),$e){case 0:case 1:Ie.b=Le(_e,3)+2,He=Er(ft(Ie.Ea,Ie.b),ft(Ie.nc,Ie.b),0,tt,Ie.K),Ie.K=Ie.K[0];break;case 3:var at,Je=Le(_e,8)+1,xt=16<Je?0:4<Je?1:2<Je?2:3;if(Be[0]=ft(Ie.Ea,xt),Ie.b=xt,at=He=Er(Je,1,0,tt,Ie.K)){var pt,qt=Je,mt=Ie,Sn=1<<(8>>mt.b),Tn=a(Sn);if(Tn==null)at=0;else{var bn=mt.K[0],dn=mt.w;for(Tn[0]=mt.K[0][0],pt=1;pt<1*qt;++pt)Tn[pt]=Xe(bn[dn+pt],Tn[pt-1]);for(;pt<4*Sn;++pt)Tn[pt]=0;mt.K[0]=null,mt.K[0]=Tn,at=1}}He=at;break;case 2:break;default:t(0)}Z=He}}if(ne=ne[0],re=re[0],Z&&Le(se,1)&&!(Z=1<=(Me=Le(se,4))&&11>=Me)){B.a=3;break e}var Mn;if(Mn=Z)t:{var Dn,sn,Dr,Gi=B,Mr=ne,Xi=re,Ln=Me,as=P,os=Gi.m,$r=Gi.s,ui=[null],Di=1,Ls=0,da=Yb[Ln];n:for(;;){if(as&&Le(os,1)){var Zr=Le(os,3)+2,Ra=ft(Mr,Zr),El=ft(Xi,Zr),lu=Ra*El;if(!Er(Ra,El,0,Gi,ui))break n;for(ui=ui[0],$r.xc=Zr,Dn=0;Dn<lu;++Dn){var mo=ui[Dn]>>8&65535;ui[Dn]=mo,mo>=Di&&(Di=mo+1)}}if(os.h)break n;for(sn=0;5>sn;++sn){var xr=Xm[sn];!sn&&0<Ln&&(xr+=1<<Ln),Ls<xr&&(Ls=xr)}var c0=l(Di*da,X),r5=Di,i5=l(r5,J);if(i5==null)var vh=null;else t(65536>=r5),vh=i5;var Cc=a(Ls);if(vh==null||Cc==null||c0==null){Gi.a=1;break n}var bh=c0;for(Dn=Dr=0;Dn<Di;++Dn){var Gs=vh[Dn],uu=Gs.G,cu=Gs.H,s5=0,Ah=1,a5=0;for(sn=0;5>sn;++sn){xr=Xm[sn],uu[sn]=bh,cu[sn]=Dr,!sn&&0<Ln&&(xr+=1<<Ln);i:{var Eh,f0=xr,Ch=Gi,Sc=Cc,g6=bh,m6=Dr,h0=0,yo=Ch.m,y6=Le(yo,1);if(s(Sc,0,0,f0),y6){var w6=Le(yo,1)+1,x6=Le(yo,1),o5=Le(yo,x6==0?1:8);Sc[o5]=1,w6==2&&(Sc[o5=Le(yo,8)]=1);var Sh=1}else{var l5=a(19),u5=Le(yo,4)+4;if(19<u5){Ch.a=3;var Nh=0;break i}for(Eh=0;Eh<u5;++Eh)l5[Gb[Eh]]=Le(yo,3);var d0=void 0,Nc=void 0,c5=Ch,v6=l5,_h=f0,f5=Sc,p0=0,wo=c5.m,h5=8,d5=l(128,X);r:for(;W(d5,0,7,v6,19);){if(Le(wo,1)){var b6=2+2*Le(wo,3);if((d0=2+Le(wo,b6))>_h)break r}else d0=_h;for(Nc=0;Nc<_h&&d0--;){ye(wo);var p5=d5[0+(127&he(wo))];Ce(wo,wo.u+p5.g);var fu=p5.value;if(16>fu)f5[Nc++]=fu,fu!=0&&(h5=fu);else{var A6=fu==16,g5=fu-16,E6=Vb[g5],m5=Le(wo,Wb[g5])+E6;if(Nc+m5>_h)break r;for(var C6=A6?h5:0;0<m5--;)f5[Nc++]=C6}}p0=1;break r}p0||(c5.a=3),Sh=p0}(Sh=Sh&&!yo.h)&&(h0=W(g6,m6,8,Sc,f0)),Sh&&h0!=0?Nh=h0:(Ch.a=3,Nh=0)}if(Nh==0)break n;if(Ah&&Hb[sn]==1&&(Ah=bh[Dr].g==0),s5+=bh[Dr].g,Dr+=Nh,3>=sn){var _c,g0=Cc[0];for(_c=1;_c<xr;++_c)Cc[_c]>g0&&(g0=Cc[_c]);a5+=g0}}if(Gs.nd=Ah,Gs.Qb=0,Ah&&(Gs.qb=(uu[3][cu[3]+0].value<<24|uu[1][cu[1]+0].value<<16|uu[2][cu[2]+0].value)>>>0,s5==0&&256>uu[0][cu[0]+0].value&&(Gs.Qb=1,Gs.qb+=uu[0][cu[0]+0].value<<8)),Gs.jc=!Gs.Qb&&6>a5,Gs.jc){var Ih,Da=Gs;for(Ih=0;Ih<Rn;++Ih){var xo=Ih,vo=Da.pd[xo],Th=Da.G[0][Da.H[0]+xo];256<=Th.value?(vo.g=Th.g+256,vo.value=Th.value):(vo.g=0,vo.value=0,xo>>=wn(Th,8,vo),xo>>=wn(Da.G[1][Da.H[1]+xo],16,vo),xo>>=wn(Da.G[2][Da.H[2]+xo],0,vo),wn(Da.G[3][Da.H[3]+xo],24,vo))}}}$r.vc=ui,$r.Wb=Di,$r.Ya=vh,$r.yc=c0,Mn=1;break t}Mn=0}if(!(Z=Mn)){B.a=3;break e}if(0<Me){if(fe.ua=1<<Me,!_t(fe.Wa,Me)){B.a=1,Z=0;break e}}else fe.ua=0;var m0=B,y5=ne,S6=re,y0=m0.s,w0=y0.xc;if(m0.c=y5,m0.i=S6,y0.md=ft(y5,w0),y0.wc=w0==0?-1:(1<<w0)-1,P){B.xb=n6;break e}if((Ne=a(ne*re))==null){B.a=1,Z=0;break e}Z=(Z=Kr(B,Ne,0,ne,re,re,null))&&!se.h;break e}return Z?(Q!=null?Q[0]=Ne:(t(Ne==null),t(P)),B.$=0,P||Pi(fe)):Pi(fe),Z}function Na(m,C){var P=m.c*m.i,B=P+C+16*C;return t(m.c<=C),m.V=a(B),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+P+C,1)}function ro(m,C){var P=m.C,B=C-P,Q=m.V,Z=m.Ba+m.c*P;for(t(C<=m.l.o);0<B;){var ne=16<B?16:B,re=m.l.ma,se=m.l.width,fe=se*ne,Ne=re.ca,Me=re.tb+se*P,Be=m.Ta,ke=m.Ua;jn(m,ne,Q,Z),Ir(Be,ke,Ne,Me,fe),ki(re,P,P+ne,Ne,Me,se),B-=ne,Q+=ne*m.c,P+=ne}t(P==C),m.C=m.Ma=C}function oi(){this.ub=this.yd=this.td=this.Rb=0}function mr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Cn(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function al(){this.Yb=function(){var m=[];return function C(P,B,Q){for(var Z=Q[B],ne=0;ne<Z&&(P.push(Q.length>B+1?[]:0),!(Q.length<B+1));ne++)C(P[ne],B+1,Q)}(m,0,[3,11]),m}()}function bs(){this.jb=a(3),this.Wc=c([4,8],al),this.Xc=c([4,17],al)}function ol(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function et(){this.ld=this.La=this.dd=this.tc=0}function ru(){this.Na=this.la=0}function zn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function As(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wc(){this.uc=this.M=this.Nb=0,this.wa=Array(new et),this.Y=0,this.ya=Array(new As),this.aa=0,this.l=new rn}function pn(){this.y=a(16),this.f=a(8),this.ea=a(8)}function gn(){this.cb=this.a=0,this.sc="",this.m=new Ye,this.Od=new oi,this.Kc=new mr,this.ed=new ol,this.Qa=new Cn,this.Ic=this.$c=this.Aa=0,this.D=new wc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,Ye),this.ia=0,this.pb=l(4,zn),this.Pa=new bs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new pn),this.Hd=0,this.rb=Array(new ru),this.sb=0,this.wa=Array(new et),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new As),this.L=this.aa=0,this.gd=c([4,2],et),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function rn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ll(){var m=new gn;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Ac||(Ac=ns)),m}function Yn(m,C,P){return m.a==0&&(m.a=C,m.sc=P,m.cb=0),0}function io(m,C,P){return 3<=P&&m[C+0]==157&&m[C+1]==1&&m[C+2]==42}function nr(m,C){if(m==null)return 0;if(m.a=0,m.sc="OK",C==null)return Yn(m,2,"null VP8Io passed to VP8GetHeaders()");var P=C.data,B=C.w,Q=C.ha;if(4>Q)return Yn(m,7,"Truncated header.");var Z=P[B+0]|P[B+1]<<8|P[B+2]<<16,ne=m.Od;if(ne.Rb=!(1&Z),ne.td=Z>>1&7,ne.yd=Z>>4&1,ne.ub=Z>>5,3<ne.td)return Yn(m,3,"Incorrect keyframe parameters.");if(!ne.yd)return Yn(m,4,"Frame not displayable.");B+=3,Q-=3;var re=m.Kc;if(ne.Rb){if(7>Q)return Yn(m,7,"cannot parse picture header");if(!io(P,B,Q))return Yn(m,3,"Bad code word");re.c=16383&(P[B+4]<<8|P[B+3]),re.Td=P[B+4]>>6,re.i=16383&(P[B+6]<<8|P[B+5]),re.Ud=P[B+6]>>6,B+=7,Q-=7,m.za=re.c+15>>4,m.Ub=re.i+15>>4,C.width=re.c,C.height=re.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,s((Z=m.Pa).jb,0,255,Z.jb.length),t((Z=m.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,s(Z.Zb,0,0,Z.Zb.length),s(Z.Lb,0,0,Z.Lb)}if(ne.ub>Q)return Yn(m,7,"bad partition length");ie(Z=m.m,P,B,ne.ub),B+=ne.ub,Q-=ne.ub,ne.Rb&&(re.Ld=Oe(Z),re.Kd=Oe(Z)),re=m.Qa;var se,fe=m.Pa;if(t(Z!=null),t(re!=null),re.Cb=Oe(Z),re.Cb){if(re.Bb=Oe(Z),Oe(Z)){for(re.Fb=Oe(Z),se=0;4>se;++se)re.Zb[se]=Oe(Z)?xe(Z,7):0;for(se=0;4>se;++se)re.Lb[se]=Oe(Z)?xe(Z,6):0}if(re.Bb)for(se=0;3>se;++se)fe.jb[se]=Oe(Z)?Ae(Z,8):255}else re.Bb=0;if(Z.Ka)return Yn(m,3,"cannot parse segment header");if((re=m.ed).zd=Oe(Z),re.Tb=Ae(Z,6),re.wb=Ae(Z,3),re.Pc=Oe(Z),re.Pc&&Oe(Z)){for(fe=0;4>fe;++fe)Oe(Z)&&(re.vd[fe]=xe(Z,6));for(fe=0;4>fe;++fe)Oe(Z)&&(re.od[fe]=xe(Z,6))}if(m.L=re.Tb==0?0:re.zd?1:2,Z.Ka)return Yn(m,3,"cannot parse filter header");var Ne=Q;if(Q=se=B,B=se+Ne,re=Ne,m.Xb=(1<<Ae(m.m,2))-1,Ne<3*(fe=m.Xb))P=7;else{for(se+=3*fe,re-=3*fe,Ne=0;Ne<fe;++Ne){var Me=P[Q+0]|P[Q+1]<<8|P[Q+2]<<16;Me>re&&(Me=re),ie(m.Jc[+Ne],P,se,Me),se+=Me,re-=Me,Q+=3}ie(m.Jc[+fe],P,se,re),P=se<B?0:5}if(P!=0)return Yn(m,P,"cannot parse partitions");for(P=Ae(se=m.m,7),Q=Oe(se)?xe(se,4):0,B=Oe(se)?xe(se,4):0,re=Oe(se)?xe(se,4):0,fe=Oe(se)?xe(se,4):0,se=Oe(se)?xe(se,4):0,Ne=m.Qa,Me=0;4>Me;++Me){if(Ne.Cb){var Be=Ne.Zb[Me];Ne.Fb||(Be+=P)}else{if(0<Me){m.pb[Me]=m.pb[0];continue}Be=P}var ke=m.pb[Me];ke.Sc[0]=o0[yr(Be+Q,127)],ke.Sc[1]=l0[yr(Be+0,127)],ke.Eb[0]=2*o0[yr(Be+B,127)],ke.Eb[1]=101581*l0[yr(Be+re,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=o0[yr(Be+fe,117)],ke.Qc[1]=l0[yr(Be+se,127)],ke.lc=Be+se}if(!ne.Rb)return Yn(m,4,"Not a key frame.");for(Oe(Z),ne=m.Pa,P=0;4>P;++P){for(Q=0;8>Q;++Q)for(B=0;3>B;++B)for(re=0;11>re;++re)fe=Fe(Z,e6[P][Q][B][re])?Ae(Z,8):Zb[P][Q][B][re],ne.Wc[P][Q].Yb[B][re]=fe;for(Q=0;17>Q;++Q)ne.Xc[P][Q]=ne.Wc[P][t6[Q]]}return m.kc=Oe(Z),m.kc&&(m.Bd=Ae(Z,8)),m.cb=1}function ns(m,C,P,B,Q,Z,ne){var re=C[Q].Yb[P];for(P=0;16>Q;++Q){if(!Fe(m,re[P+0]))return Q;for(;!Fe(m,re[P+1]);)if(re=C[++Q].Yb[0],P=0,Q==16)return 16;var se=C[Q+1].Yb;if(Fe(m,re[P+2])){var fe=m,Ne=0;if(Fe(fe,(Be=re)[(Me=P)+3]))if(Fe(fe,Be[Me+6])){for(re=0,Me=2*(Ne=Fe(fe,Be[Me+8]))+(Be=Fe(fe,Be[Me+9+Ne])),Ne=0,Be=Qb[Me];Be[re];++re)Ne+=Ne+Fe(fe,Be[re]);Ne+=3+(8<<Me)}else Fe(fe,Be[Me+7])?(Ne=7+2*Fe(fe,165),Ne+=Fe(fe,145)):Ne=5+Fe(fe,159);else Ne=Fe(fe,Be[Me+4])?3+Fe(fe,Be[Me+5]):2;re=se[2]}else Ne=1,re=se[1];se=ne+$b[Q],0>(fe=m).b&&Re(fe);var Me,Be=fe.b,ke=(Me=fe.Ca>>1)-(fe.I>>Be)>>31;--fe.b,fe.Ca+=ke,fe.Ca|=1,fe.I-=(Me+1&ke)<<Be,Z[se]=((Ne^ke)-ke)*B[(0<Q)+0]}return 16}function ul(m){var C=m.rb[m.sb-1];C.la=0,C.Na=0,s(m.zc,0,0,m.zc.length),m.ja=0}function Kn(m,C){if(m==null)return 0;if(C==null)return Yn(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!nr(m,C))return 0;if(t(m.cb),C.ac==null||C.ac(C)){C.ob&&(m.L=0);var P=xh[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=C.v-P>>4,m.zb=C.j-P>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=C.o+15+P>>4,m.Hb=C.va+15+P>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var B=m.ed;for(P=0;4>P;++P){var Q;if(m.Qa.Cb){var Z=m.Qa.Lb[P];m.Qa.Fb||(Z+=B.Tb)}else Z=B.Tb;for(Q=0;1>=Q;++Q){var ne=m.gd[P][Q],re=Z;if(B.Pc&&(re+=B.vd[0],Q&&(re+=B.od[0])),0<(re=0>re?0:63<re?63:re)){var se=re;0<B.wb&&(se=4<B.wb?se>>2:se>>1)>9-B.wb&&(se=9-B.wb),1>se&&(se=1),ne.dd=se,ne.tc=2*re+se,ne.ld=40<=re?2:15<=re?1:0}else ne.tc=0;ne.La=Q}}}P=0}else Yn(m,6,"Frame setup failed"),P=m.a;if(P=P==0){if(P){m.$c=0,0<m.Aa||(m.Ic=p6);e:{P=m.Ic,B=4*(se=m.za);var fe=32*se,Ne=se+1,Me=0<m.L?se*(0<m.Aa?2:1):0,Be=(m.Aa==2?2:1)*se;if((ne=B+832+(Q=3*(16*P+xh[m.L])/2*fe)+(Z=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=ne)P=0;else{if(ne>m.Vb){if(m.Vb=0,m.Ec=a(ne),m.Fc=0,m.Ec==null){P=Yn(m,1,"no memory during frame initialization.");break e}m.Vb=ne}ne=m.Ec,re=m.Fc,m.Ac=ne,m.Bc=re,re+=B,m.Gd=l(fe,pn),m.Hd=0,m.rb=l(Ne+1,ru),m.sb=1,m.wa=Me?l(Me,et):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=se),t(!0),m.oc=ne,m.pc=re,re+=832,m.ya=l(Be,As),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=se),m.R=16*se,m.B=8*se,se=(fe=xh[m.L])*m.R,fe=fe/2*m.B,m.sa=ne,m.ta=re+se,m.qa=m.sa,m.ra=m.ta+16*P*m.R+fe,m.Ha=m.qa,m.Ia=m.ra+8*P*m.B+fe,m.$c=0,re+=Q,m.mb=Z?ne:null,m.nb=Z?re:null,t(re+Z<=m.Fc+m.Vb),ul(m),s(m.Ac,m.Bc,0,B),P=1}}if(P){if(C.ka=0,C.y=m.sa,C.O=m.ta,C.f=m.qa,C.N=m.ra,C.ea=m.Ha,C.Vd=m.Ia,C.fa=m.R,C.Rc=m.B,C.F=null,C.J=0,!ch){for(P=-255;255>=P;++P)Wr[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)Pa[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)bc[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)ou[255+P]=0>P?0:255<P?255:P;ch=1}be=pi,Se=De,Ue=le,it=kt,ot=ur,Te=Sr,st=la,an=mi,Ht=tn,wr=cr,qr=vc,hr=je,mn=ua,ar=xl,_r=wl,Ri=Ss,_s=Vs,Vi=xc,Hs[0]=Pt,Hs[1]=fl,Hs[2]=Ia,Hs[3]=Es,Hs[4]=su,Hs[5]=rr,Hs[6]=Zt,Hs[7]=dl,Hs[8]=au,Hs[9]=pl,po[0]=oo,po[1]=Mt,po[2]=xn,po[3]=_a,po[4]=Nr,po[5]=hl,po[6]=iu,Oa[0]=qi,Oa[1]=gi,Oa[2]=qs,Oa[3]=gl,Oa[4]=oa,Oa[5]=Ta,Oa[6]=Ws,P=1}else P=0}P&&(P=function(ke,tt){for(ke.M=0;ke.M<ke.Va;++ke.M){var He,_e=ke.Jc[ke.M&ke.Xb],Ie=ke.m,$e=ke;for(He=0;He<$e.za;++He){var at=Ie,Je=$e,xt=Je.Ac,pt=Je.Bc+4*He,qt=Je.zc,mt=Je.ya[Je.aa+He];if(Je.Qa.Bb?mt.$b=Fe(at,Je.Pa.jb[0])?2+Fe(at,Je.Pa.jb[2]):Fe(at,Je.Pa.jb[1]):mt.$b=0,Je.kc&&(mt.Ad=Fe(at,Je.Bd)),mt.Za=!Fe(at,145)+0,mt.Za){var Sn=mt.Ob,Tn=0;for(Je=0;4>Je;++Je){var bn,dn=qt[0+Je];for(bn=0;4>bn;++bn){dn=Jb[xt[pt+bn]][dn];for(var Mn=Ym[Fe(at,dn[0])];0<Mn;)Mn=Ym[2*Mn+Fe(at,dn[Mn])];dn=-Mn,xt[pt+bn]=dn}r(Sn,Tn,xt,pt,4),Tn+=4,qt[0+Je]=dn}}else dn=Fe(at,156)?Fe(at,128)?1:3:Fe(at,163)?2:0,mt.Ob[0]=dn,s(xt,pt,dn,4),s(qt,0,dn,4);mt.Dd=Fe(at,142)?Fe(at,114)?Fe(at,183)?1:3:2:0}if($e.m.Ka)return Yn(ke,7,"Premature end-of-partition0 encountered.");for(;ke.ja<ke.za;++ke.ja){if($e=_e,at=(Ie=ke).rb[Ie.sb-1],xt=Ie.rb[Ie.sb+Ie.ja],He=Ie.ya[Ie.aa+Ie.ja],pt=Ie.kc?He.Ad:0)at.la=xt.la=0,He.Za||(at.Na=xt.Na=0),He.Hc=0,He.Gc=0,He.ia=0;else{var Dn,sn;if(at=xt,xt=$e,pt=Ie.Pa.Xc,qt=Ie.ya[Ie.aa+Ie.ja],mt=Ie.pb[qt.$b],Je=qt.ad,Sn=0,Tn=Ie.rb[Ie.sb-1],dn=bn=0,s(Je,Sn,0,384),qt.Za)var Dr=0,Gi=pt[3];else{Mn=a(16);var Mr=at.Na+Tn.Na;if(Mr=Ac(xt,pt[1],Mr,mt.Eb,0,Mn,0),at.Na=Tn.Na=(0<Mr)+0,1<Mr)be(Mn,0,Je,Sn);else{var Xi=Mn[0]+3>>3;for(Mn=0;256>Mn;Mn+=16)Je[Sn+Mn]=Xi}Dr=1,Gi=pt[0]}var Ln=15&at.la,as=15&Tn.la;for(Mn=0;4>Mn;++Mn){var os=1&as;for(Xi=sn=0;4>Xi;++Xi)Ln=Ln>>1|(os=(Mr=Ac(xt,Gi,Mr=os+(1&Ln),mt.Sc,Dr,Je,Sn))>Dr)<<7,sn=sn<<2|(3<Mr?3:1<Mr?2:Je[Sn+0]!=0),Sn+=16;Ln>>=4,as=as>>1|os<<7,bn=(bn<<8|sn)>>>0}for(Gi=Ln,Dr=as>>4,Dn=0;4>Dn;Dn+=2){for(sn=0,Ln=at.la>>4+Dn,as=Tn.la>>4+Dn,Mn=0;2>Mn;++Mn){for(os=1&as,Xi=0;2>Xi;++Xi)Mr=os+(1&Ln),Ln=Ln>>1|(os=0<(Mr=Ac(xt,pt[2],Mr,mt.Qc,0,Je,Sn)))<<3,sn=sn<<2|(3<Mr?3:1<Mr?2:Je[Sn+0]!=0),Sn+=16;Ln>>=2,as=as>>1|os<<5}dn|=sn<<4*Dn,Gi|=Ln<<4<<Dn,Dr|=(240&as)<<Dn}at.la=Gi,Tn.la=Dr,qt.Hc=bn,qt.Gc=dn,qt.ia=43690&dn?0:mt.ia,pt=!(bn|dn)}if(0<Ie.L&&(Ie.wa[Ie.Y+Ie.ja]=Ie.gd[He.$b][He.Za],Ie.wa[Ie.Y+Ie.ja].La|=!pt),$e.Ka)return Yn(ke,7,"Premature end-of-file encountered.")}if(ul(ke),Ie=tt,$e=1,He=(_e=ke).D,at=0<_e.L&&_e.M>=_e.zb&&_e.M<=_e.Va,_e.Aa==0)e:{if(He.M=_e.M,He.uc=at,wi(_e,He),$e=1,He=(sn=_e.D).Nb,at=(dn=xh[_e.L])*_e.R,xt=dn/2*_e.B,Mn=16*He*_e.R,Xi=8*He*_e.B,pt=_e.sa,qt=_e.ta-at+Mn,mt=_e.qa,Je=_e.ra-xt+Xi,Sn=_e.Ha,Tn=_e.Ia-xt+Xi,as=(Ln=sn.M)==0,bn=Ln>=_e.Va-1,_e.Aa==2&&wi(_e,sn),sn.uc)for(os=(Mr=_e).D.M,t(Mr.D.uc),sn=Mr.yb;sn<Mr.Hb;++sn){Dr=sn,Gi=os;var $r=(ui=(xr=Mr).D).Nb;Dn=xr.R;var ui=ui.wa[ui.Y+Dr],Di=xr.sa,Ls=xr.ta+16*$r*Dn+16*Dr,da=ui.dd,Zr=ui.tc;if(Zr!=0)if(t(3<=Zr),xr.L==1)0<Dr&&Ri(Di,Ls,Dn,Zr+4),ui.La&&Vi(Di,Ls,Dn,Zr),0<Gi&&_r(Di,Ls,Dn,Zr+4),ui.La&&_s(Di,Ls,Dn,Zr);else{var Ra=xr.B,El=xr.qa,lu=xr.ra+8*$r*Ra+8*Dr,mo=xr.Ha,xr=xr.Ia+8*$r*Ra+8*Dr;$r=ui.ld,0<Dr&&(an(Di,Ls,Dn,Zr+4,da,$r),wr(El,lu,mo,xr,Ra,Zr+4,da,$r)),ui.La&&(hr(Di,Ls,Dn,Zr,da,$r),ar(El,lu,mo,xr,Ra,Zr,da,$r)),0<Gi&&(st(Di,Ls,Dn,Zr+4,da,$r),Ht(El,lu,mo,xr,Ra,Zr+4,da,$r)),ui.La&&(qr(Di,Ls,Dn,Zr,da,$r),mn(El,lu,mo,xr,Ra,Zr,da,$r))}}if(_e.ia&&alert("todo:DitherRow"),Ie.put!=null){if(sn=16*Ln,Ln=16*(Ln+1),as?(Ie.y=_e.sa,Ie.O=_e.ta+Mn,Ie.f=_e.qa,Ie.N=_e.ra+Xi,Ie.ea=_e.Ha,Ie.W=_e.Ia+Xi):(sn-=dn,Ie.y=pt,Ie.O=qt,Ie.f=mt,Ie.N=Je,Ie.ea=Sn,Ie.W=Tn),bn||(Ln-=dn),Ln>Ie.o&&(Ln=Ie.o),Ie.F=null,Ie.J=null,_e.Fa!=null&&0<_e.Fa.length&&sn<Ln&&(Ie.J=vn(_e,Ie,sn,Ln-sn),Ie.F=_e.mb,Ie.F==null&&Ie.F.length==0)){$e=Yn(_e,3,"Could not decode alpha data.");break e}sn<Ie.j&&(dn=Ie.j-sn,sn=Ie.j,t(!(1&dn)),Ie.O+=_e.R*dn,Ie.N+=_e.B*(dn>>1),Ie.W+=_e.B*(dn>>1),Ie.F!=null&&(Ie.J+=Ie.width*dn)),sn<Ln&&(Ie.O+=Ie.v,Ie.N+=Ie.v>>1,Ie.W+=Ie.v>>1,Ie.F!=null&&(Ie.J+=Ie.v),Ie.ka=sn-Ie.j,Ie.U=Ie.va-Ie.v,Ie.T=Ln-sn,$e=Ie.put(Ie))}He+1!=_e.Ic||bn||(r(_e.sa,_e.ta-at,pt,qt+16*_e.R,at),r(_e.qa,_e.ra-xt,mt,Je+8*_e.B,xt),r(_e.Ha,_e.Ia-xt,Sn,Tn+8*_e.B,xt))}if(!$e)return Yn(ke,6,"Output aborted.")}return 1}(m,C)),C.bc!=null&&C.bc(C),P&=1}return P?(m.cb=0,P):0}function Rr(m,C,P,B,Q){Q=m[C+P+32*B]+(Q>>3),m[C+P+32*B]=-256&Q?0>Q?0:255:Q}function so(m,C,P,B,Q,Z){Rr(m,C,0,P,B+Q),Rr(m,C,1,P,B+Z),Rr(m,C,2,P,B-Z),Rr(m,C,3,P,B-Q)}function Cr(m){return(20091*m>>16)+m}function En(m,C,P,B){var Q,Z=0,ne=a(16);for(Q=0;4>Q;++Q){var re=m[C+0]+m[C+8],se=m[C+0]-m[C+8],fe=(35468*m[C+4]>>16)-Cr(m[C+12]),Ne=Cr(m[C+4])+(35468*m[C+12]>>16);ne[Z+0]=re+Ne,ne[Z+1]=se+fe,ne[Z+2]=se-fe,ne[Z+3]=re-Ne,Z+=4,C++}for(Q=Z=0;4>Q;++Q)re=(m=ne[Z+0]+4)+ne[Z+8],se=m-ne[Z+8],fe=(35468*ne[Z+4]>>16)-Cr(ne[Z+12]),Rr(P,B,0,0,re+(Ne=Cr(ne[Z+4])+(35468*ne[Z+12]>>16))),Rr(P,B,1,0,se+fe),Rr(P,B,2,0,se-fe),Rr(P,B,3,0,re-Ne),Z++,B+=32}function Sr(m,C,P,B){var Q=m[C+0]+4,Z=35468*m[C+4]>>16,ne=Cr(m[C+4]),re=35468*m[C+1]>>16;so(P,B,0,Q+ne,m=Cr(m[C+1]),re),so(P,B,1,Q+Z,m,re),so(P,B,2,Q-Z,m,re),so(P,B,3,Q-ne,m,re)}function De(m,C,P,B,Q){En(m,C,P,B),Q&&En(m,C+16,P,B+4)}function le(m,C,P,B){Se(m,C+0,P,B,1),Se(m,C+32,P,B+128,1)}function kt(m,C,P,B){var Q;for(m=m[C+0]+4,Q=0;4>Q;++Q)for(C=0;4>C;++C)Rr(P,B,C,Q,m)}function ur(m,C,P,B){m[C+0]&&it(m,C+0,P,B),m[C+16]&&it(m,C+16,P,B+4),m[C+32]&&it(m,C+32,P,B+128),m[C+48]&&it(m,C+48,P,B+128+4)}function pi(m,C,P,B){var Q,Z=a(16);for(Q=0;4>Q;++Q){var ne=m[C+0+Q]+m[C+12+Q],re=m[C+4+Q]+m[C+8+Q],se=m[C+4+Q]-m[C+8+Q],fe=m[C+0+Q]-m[C+12+Q];Z[0+Q]=ne+re,Z[8+Q]=ne-re,Z[4+Q]=fe+se,Z[12+Q]=fe-se}for(Q=0;4>Q;++Q)ne=(m=Z[0+4*Q]+3)+Z[3+4*Q],re=Z[1+4*Q]+Z[2+4*Q],se=Z[1+4*Q]-Z[2+4*Q],fe=m-Z[3+4*Q],P[B+0]=ne+re>>3,P[B+16]=fe+se>>3,P[B+32]=ne-re>>3,P[B+48]=fe-se>>3,B+=64}function cl(m,C,P){var B,Q=C-32,Z=ss,ne=255-m[Q-1];for(B=0;B<P;++B){var re,se=Z,fe=ne+m[C-1];for(re=0;re<P;++re)m[C+re]=se[fe+m[Q+re]];C+=32}}function fl(m,C){cl(m,C,4)}function gi(m,C){cl(m,C,8)}function Mt(m,C){cl(m,C,16)}function xn(m,C){var P;for(P=0;16>P;++P)r(m,C+32*P,m,C-32,16)}function _a(m,C){var P;for(P=16;0<P;--P)s(m,C,m[C-1],16),C+=32}function ao(m,C,P){var B;for(B=0;16>B;++B)s(C,P+32*B,m,16)}function oo(m,C){var P,B=16;for(P=0;16>P;++P)B+=m[C-1+32*P]+m[C+P-32];ao(B>>5,m,C)}function Nr(m,C){var P,B=8;for(P=0;16>P;++P)B+=m[C-1+32*P];ao(B>>4,m,C)}function hl(m,C){var P,B=8;for(P=0;16>P;++P)B+=m[C+P-32];ao(B>>4,m,C)}function iu(m,C){ao(128,m,C)}function St(m,C,P){return m+2*C+P+2>>2}function Ia(m,C){var P,B=C-32;for(B=new Uint8Array([St(m[B-1],m[B+0],m[B+1]),St(m[B+0],m[B+1],m[B+2]),St(m[B+1],m[B+2],m[B+3]),St(m[B+2],m[B+3],m[B+4])]),P=0;4>P;++P)r(m,C+32*P,B,0,B.length)}function Es(m,C){var P=m[C-1],B=m[C-1+32],Q=m[C-1+64],Z=m[C-1+96];lt(m,C+0,16843009*St(m[C-1-32],P,B)),lt(m,C+32,16843009*St(P,B,Q)),lt(m,C+64,16843009*St(B,Q,Z)),lt(m,C+96,16843009*St(Q,Z,Z))}function Pt(m,C){var P,B=4;for(P=0;4>P;++P)B+=m[C+P-32]+m[C-1+32*P];for(B>>=3,P=0;4>P;++P)s(m,C+32*P,B,4)}function su(m,C){var P=m[C-1+0],B=m[C-1+32],Q=m[C-1+64],Z=m[C-1-32],ne=m[C+0-32],re=m[C+1-32],se=m[C+2-32],fe=m[C+3-32];m[C+0+96]=St(B,Q,m[C-1+96]),m[C+1+96]=m[C+0+64]=St(P,B,Q),m[C+2+96]=m[C+1+64]=m[C+0+32]=St(Z,P,B),m[C+3+96]=m[C+2+64]=m[C+1+32]=m[C+0+0]=St(ne,Z,P),m[C+3+64]=m[C+2+32]=m[C+1+0]=St(re,ne,Z),m[C+3+32]=m[C+2+0]=St(se,re,ne),m[C+3+0]=St(fe,se,re)}function Zt(m,C){var P=m[C+1-32],B=m[C+2-32],Q=m[C+3-32],Z=m[C+4-32],ne=m[C+5-32],re=m[C+6-32],se=m[C+7-32];m[C+0+0]=St(m[C+0-32],P,B),m[C+1+0]=m[C+0+32]=St(P,B,Q),m[C+2+0]=m[C+1+32]=m[C+0+64]=St(B,Q,Z),m[C+3+0]=m[C+2+32]=m[C+1+64]=m[C+0+96]=St(Q,Z,ne),m[C+3+32]=m[C+2+64]=m[C+1+96]=St(Z,ne,re),m[C+3+64]=m[C+2+96]=St(ne,re,se),m[C+3+96]=St(re,se,se)}function rr(m,C){var P=m[C-1+0],B=m[C-1+32],Q=m[C-1+64],Z=m[C-1-32],ne=m[C+0-32],re=m[C+1-32],se=m[C+2-32],fe=m[C+3-32];m[C+0+0]=m[C+1+64]=Z+ne+1>>1,m[C+1+0]=m[C+2+64]=ne+re+1>>1,m[C+2+0]=m[C+3+64]=re+se+1>>1,m[C+3+0]=se+fe+1>>1,m[C+0+96]=St(Q,B,P),m[C+0+64]=St(B,P,Z),m[C+0+32]=m[C+1+96]=St(P,Z,ne),m[C+1+32]=m[C+2+96]=St(Z,ne,re),m[C+2+32]=m[C+3+96]=St(ne,re,se),m[C+3+32]=St(re,se,fe)}function dl(m,C){var P=m[C+0-32],B=m[C+1-32],Q=m[C+2-32],Z=m[C+3-32],ne=m[C+4-32],re=m[C+5-32],se=m[C+6-32],fe=m[C+7-32];m[C+0+0]=P+B+1>>1,m[C+1+0]=m[C+0+64]=B+Q+1>>1,m[C+2+0]=m[C+1+64]=Q+Z+1>>1,m[C+3+0]=m[C+2+64]=Z+ne+1>>1,m[C+0+32]=St(P,B,Q),m[C+1+32]=m[C+0+96]=St(B,Q,Z),m[C+2+32]=m[C+1+96]=St(Q,Z,ne),m[C+3+32]=m[C+2+96]=St(Z,ne,re),m[C+3+64]=St(ne,re,se),m[C+3+96]=St(re,se,fe)}function pl(m,C){var P=m[C-1+0],B=m[C-1+32],Q=m[C-1+64],Z=m[C-1+96];m[C+0+0]=P+B+1>>1,m[C+2+0]=m[C+0+32]=B+Q+1>>1,m[C+2+32]=m[C+0+64]=Q+Z+1>>1,m[C+1+0]=St(P,B,Q),m[C+3+0]=m[C+1+32]=St(B,Q,Z),m[C+3+32]=m[C+1+64]=St(Q,Z,Z),m[C+3+64]=m[C+2+64]=m[C+0+96]=m[C+1+96]=m[C+2+96]=m[C+3+96]=Z}function au(m,C){var P=m[C-1+0],B=m[C-1+32],Q=m[C-1+64],Z=m[C-1+96],ne=m[C-1-32],re=m[C+0-32],se=m[C+1-32],fe=m[C+2-32];m[C+0+0]=m[C+2+32]=P+ne+1>>1,m[C+0+32]=m[C+2+64]=B+P+1>>1,m[C+0+64]=m[C+2+96]=Q+B+1>>1,m[C+0+96]=Z+Q+1>>1,m[C+3+0]=St(re,se,fe),m[C+2+0]=St(ne,re,se),m[C+1+0]=m[C+3+32]=St(P,ne,re),m[C+1+32]=m[C+3+64]=St(B,P,ne),m[C+1+64]=m[C+3+96]=St(Q,B,P),m[C+1+96]=St(Z,Q,B)}function qs(m,C){var P;for(P=0;8>P;++P)r(m,C+32*P,m,C-32,8)}function gl(m,C){var P;for(P=0;8>P;++P)s(m,C,m[C-1],8),C+=32}function rs(m,C,P){var B;for(B=0;8>B;++B)s(C,P+32*B,m,8)}function qi(m,C){var P,B=8;for(P=0;8>P;++P)B+=m[C+P-32]+m[C-1+32*P];rs(B>>4,m,C)}function Ta(m,C){var P,B=4;for(P=0;8>P;++P)B+=m[C+P-32];rs(B>>3,m,C)}function oa(m,C){var P,B=4;for(P=0;8>P;++P)B+=m[C-1+32*P];rs(B>>3,m,C)}function Ws(m,C){rs(128,m,C)}function Cs(m,C,P){var B=m[C-P],Q=m[C+0],Z=3*(Q-B)+n0[1020+m[C-2*P]-m[C+P]],ne=fh[112+(Z+4>>3)];m[C-P]=ss[255+B+fh[112+(Z+3>>3)]],m[C+0]=ss[255+Q-ne]}function Ur(m,C,P,B){var Q=m[C+0],Z=m[C+P];return Is[255+m[C-2*P]-m[C-P]]>B||Is[255+Z-Q]>B}function ml(m,C,P,B){return 4*Is[255+m[C-P]-m[C+0]]+Is[255+m[C-2*P]-m[C+P]]<=B}function yl(m,C,P,B,Q){var Z=m[C-3*P],ne=m[C-2*P],re=m[C-P],se=m[C+0],fe=m[C+P],Ne=m[C+2*P],Me=m[C+3*P];return 4*Is[255+re-se]+Is[255+ne-fe]>B?0:Is[255+m[C-4*P]-Z]<=Q&&Is[255+Z-ne]<=Q&&Is[255+ne-re]<=Q&&Is[255+Me-Ne]<=Q&&Is[255+Ne-fe]<=Q&&Is[255+fe-se]<=Q}function wl(m,C,P,B){var Q=2*B+1;for(B=0;16>B;++B)ml(m,C+B,P,Q)&&Cs(m,C+B,P)}function Ss(m,C,P,B){var Q=2*B+1;for(B=0;16>B;++B)ml(m,C+B*P,1,Q)&&Cs(m,C+B*P,1)}function Vs(m,C,P,B){var Q;for(Q=3;0<Q;--Q)wl(m,C+=4*P,P,B)}function xc(m,C,P,B){var Q;for(Q=3;0<Q;--Q)Ss(m,C+=4,P,B)}function cn(m,C,P,B,Q,Z,ne,re){for(Z=2*Z+1;0<Q--;){if(yl(m,C,P,Z,ne))if(Ur(m,C,P,re))Cs(m,C,P);else{var se=m,fe=C,Ne=P,Me=se[fe-2*Ne],Be=se[fe-Ne],ke=se[fe+0],tt=se[fe+Ne],He=se[fe+2*Ne],_e=27*($e=n0[1020+3*(ke-Be)+n0[1020+Me-tt]])+63>>7,Ie=18*$e+63>>7,$e=9*$e+63>>7;se[fe-3*Ne]=ss[255+se[fe-3*Ne]+$e],se[fe-2*Ne]=ss[255+Me+Ie],se[fe-Ne]=ss[255+Be+_e],se[fe+0]=ss[255+ke-_e],se[fe+Ne]=ss[255+tt-Ie],se[fe+2*Ne]=ss[255+He-$e]}C+=B}}function Wi(m,C,P,B,Q,Z,ne,re){for(Z=2*Z+1;0<Q--;){if(yl(m,C,P,Z,ne))if(Ur(m,C,P,re))Cs(m,C,P);else{var se=m,fe=C,Ne=P,Me=se[fe-Ne],Be=se[fe+0],ke=se[fe+Ne],tt=fh[112+((He=3*(Be-Me))+4>>3)],He=fh[112+(He+3>>3)],_e=tt+1>>1;se[fe-2*Ne]=ss[255+se[fe-2*Ne]+_e],se[fe-Ne]=ss[255+Me+He],se[fe+0]=ss[255+Be-tt],se[fe+Ne]=ss[255+ke-_e]}C+=B}}function la(m,C,P,B,Q,Z){cn(m,C,P,1,16,B,Q,Z)}function mi(m,C,P,B,Q,Z){cn(m,C,1,P,16,B,Q,Z)}function vc(m,C,P,B,Q,Z){var ne;for(ne=3;0<ne;--ne)Wi(m,C+=4*P,P,1,16,B,Q,Z)}function je(m,C,P,B,Q,Z){var ne;for(ne=3;0<ne;--ne)Wi(m,C+=4,1,P,16,B,Q,Z)}function tn(m,C,P,B,Q,Z,ne,re){cn(m,C,Q,1,8,Z,ne,re),cn(P,B,Q,1,8,Z,ne,re)}function cr(m,C,P,B,Q,Z,ne,re){cn(m,C,1,Q,8,Z,ne,re),cn(P,B,1,Q,8,Z,ne,re)}function ua(m,C,P,B,Q,Z,ne,re){Wi(m,C+4*Q,Q,1,8,Z,ne,re),Wi(P,B+4*Q,Q,1,8,Z,ne,re)}function xl(m,C,P,B,Q,Z,ne,re){Wi(m,C+4,1,Q,8,Z,ne,re),Wi(P,B+4,1,Q,8,Z,ne,re)}function lo(){this.ba=new en,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function vl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function uo(){this.ua=0,this.Wa=new ge,this.vb=new ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new J,this.yc=new X}function fr(){this.xb=this.a=0,this.l=new rn,this.ca=new en,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new uo,this.ab=0,this.gc=l(4,bl),this.Oc=0}function ca(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new rn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _n(m,C,P,B,Q,Z,ne){for(m=m==null?0:m[C+0],C=0;C<ne;++C)Q[Z+C]=m+P[B+C]&255,m=Q[Z+C]}function fa(m,C,P,B,Q,Z,ne){var re;if(m==null)_n(null,null,P,B,Q,Z,ne);else for(re=0;re<ne;++re)Q[Z+re]=m[C+re]+P[B+re]&255}function yi(m,C,P,B,Q,Z,ne){if(m==null)_n(null,null,P,B,Q,Z,ne);else{var re,se=m[C+0],fe=se,Ne=se;for(re=0;re<ne;++re)fe=Ne+(se=m[C+re])-fe,Ne=P[B+re]+(-256&fe?0>fe?0:255:fe)&255,fe=se,Q[Z+re]=Ne}}function vn(m,C,P,B){var Q=C.width,Z=C.o;if(t(m!=null&&C!=null),0>P||0>=B||P+B>Z)return null;if(!m.Cc){if(m.ga==null){var ne;if(m.ga=new ca,(ne=m.ga==null)||(ne=C.width*C.o,t(m.Gb.length==0),m.Gb=a(ne),m.Uc=0,m.Gb==null?ne=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,ne=1),ne=!ne),!ne){ne=m.ga;var re=m.Fa,se=m.P,fe=m.qc,Ne=m.mb,Me=m.nb,Be=se+1,ke=fe-1,tt=ne.l;if(t(re!=null&&Ne!=null&&C!=null),go[0]=null,go[1]=_n,go[2]=fa,go[3]=yi,ne.ca=Ne,ne.tb=Me,ne.c=C.width,ne.i=C.height,t(0<ne.c&&0<ne.i),1>=fe)C=0;else if(ne.$a=re[se+0]>>0&3,ne.Z=re[se+0]>>2&3,ne.Lc=re[se+0]>>4&3,se=re[se+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||se)C=0;else if(tt.put=si,tt.ac=yn,tt.bc=Li,tt.ma=ne,tt.width=C.width,tt.height=C.height,tt.Da=C.Da,tt.v=C.v,tt.va=C.va,tt.j=C.j,tt.o=C.o,ne.$a)e:{t(ne.$a==1),C=ai();t:for(;;){if(C==null){C=0;break e}if(t(ne!=null),ne.mc=C,C.c=ne.c,C.i=ne.i,C.l=ne.l,C.l.ma=ne,C.l.width=ne.c,C.l.height=ne.i,C.a=0,pe(C.m,re,Be,ke),!Er(ne.c,ne.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&di(C.s)?(ne.ic=1,re=C.c*C.i,C.Ta=null,C.Ua=0,C.V=a(re),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(ne.ic=0,C=Na(C,ne.c)),!C))break t;C=1;break e}ne.mc=null,C=0}else C=ke>=ne.c*ne.i;ne=!C}if(ne)return null;m.ga.Lc!=1?m.Ga=0:B=Z-P}t(m.ga!=null),t(P+B<=Z);e:{if(C=(re=m.ga).c,Z=re.l.o,re.$a==0){if(Be=m.rc,ke=m.Vc,tt=m.Fa,se=m.P+1+P*C,fe=m.mb,Ne=m.nb+P*C,t(se<=m.P+m.qc),re.Z!=0)for(t(go[re.Z]!=null),ne=0;ne<B;++ne)go[re.Z](Be,ke,tt,se,fe,Ne,C),Be=fe,ke=Ne,Ne+=C,se+=C;else for(ne=0;ne<B;++ne)r(fe,Ne,tt,se,C),Be=fe,ke=Ne,Ne+=C,se+=C;m.rc=Be,m.Vc=ke}else{if(t(re.mc!=null),C=P+B,t((ne=re.mc)!=null),t(C<=ne.i),ne.C>=C)C=1;else if(re.ic||Pe(),re.ic){re=ne.V,Be=ne.Ba,ke=ne.c;var He=ne.i,_e=(tt=1,se=ne.$/ke,fe=ne.$%ke,Ne=ne.m,Me=ne.s,ne.$),Ie=ke*He,$e=ke*C,at=Me.wc,Je=_e<$e?On(Me,fe,se):null;t(_e<=Ie),t(C<=He),t(di(Me));t:for(;;){for(;!Ne.h&&_e<$e;){if(fe&at||(Je=On(Me,fe,se)),t(Je!=null),ye(Ne),256>(He=Yr(Je.G[0],Je.H[0],Ne)))re[Be+_e]=He,++_e,++fe>=ke&&(fe=0,++se<=C&&!(se%16)&&Un(ne,se));else{if(!(280>He)){tt=0;break t}He=ts(He-256,Ne);var xt,pt=Yr(Je.G[4],Je.H[4],Ne);if(ye(Ne),!(_e>=(pt=Xr(ke,pt=ts(pt,Ne)))&&Ie-_e>=He)){tt=0;break t}for(xt=0;xt<He;++xt)re[Be+_e+xt]=re[Be+_e+xt-pt];for(_e+=He,fe+=He;fe>=ke;)fe-=ke,++se<=C&&!(se%16)&&Un(ne,se);_e<$e&&fe&at&&(Je=On(Me,fe,se))}t(Ne.h==de(Ne))}Un(ne,se>C?C:se);break t}!tt||Ne.h&&_e<Ie?(tt=0,ne.a=Ne.h?5:3):ne.$=_e,C=tt}else C=Kr(ne,ne.V,ne.Ba,ne.c,ne.i,C,ro);if(!C){B=0;break e}}P+B>=Z&&(m.Cc=1),B=1}if(!B)return null;if(m.Cc&&((B=m.ga)!=null&&(B.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+P*Q}function I(m,C,P,B,Q,Z){for(;0<Q--;){var ne,re=m,se=C+(P?1:0),fe=m,Ne=C+(P?0:3);for(ne=0;ne<B;++ne){var Me=fe[Ne+4*ne];Me!=255&&(Me*=32897,re[se+4*ne+0]=re[se+4*ne+0]*Me>>23,re[se+4*ne+1]=re[se+4*ne+1]*Me>>23,re[se+4*ne+2]=re[se+4*ne+2]*Me>>23)}C+=Z}}function $(m,C,P,B,Q){for(;0<B--;){var Z;for(Z=0;Z<P;++Z){var ne=m[C+2*Z+0],re=15&(fe=m[C+2*Z+1]),se=4369*re,fe=(240&fe|fe>>4)*se>>16;m[C+2*Z+0]=(240&ne|ne>>4)*se>>16&240|(15&ne|ne<<4)*se>>16>>4&15,m[C+2*Z+1]=240&fe|re}C+=Q}}function ue(m,C,P,B,Q,Z,ne,re){var se,fe,Ne=255;for(fe=0;fe<Q;++fe){for(se=0;se<B;++se){var Me=m[C+se];Z[ne+4*se]=Me,Ne&=Me}C+=P,ne+=re}return Ne!=255}function Ee(m,C,P,B,Q){var Z;for(Z=0;Z<Q;++Z)P[B+Z]=m[C+Z]>>8}function Pe(){Hi=I,qn=$,Wn=ue,Ir=Ee}function Ge(m,C,P){q[m]=function(B,Q,Z,ne,re,se,fe,Ne,Me,Be,ke,tt,He,_e,Ie,$e,at){var Je,xt=at-1>>1,pt=re[se+0]|fe[Ne+0]<<16,qt=Me[Be+0]|ke[tt+0]<<16;t(B!=null);var mt=3*pt+qt+131074>>2;for(C(B[Q+0],255&mt,mt>>16,He,_e),Z!=null&&(mt=3*qt+pt+131074>>2,C(Z[ne+0],255&mt,mt>>16,Ie,$e)),Je=1;Je<=xt;++Je){var Sn=re[se+Je]|fe[Ne+Je]<<16,Tn=Me[Be+Je]|ke[tt+Je]<<16,bn=pt+Sn+qt+Tn+524296,dn=bn+2*(Sn+qt)>>3;mt=dn+pt>>1,pt=(bn=bn+2*(pt+Tn)>>3)+Sn>>1,C(B[Q+2*Je-1],255&mt,mt>>16,He,_e+(2*Je-1)*P),C(B[Q+2*Je-0],255&pt,pt>>16,He,_e+(2*Je-0)*P),Z!=null&&(mt=bn+qt>>1,pt=dn+Tn>>1,C(Z[ne+2*Je-1],255&mt,mt>>16,Ie,$e+(2*Je-1)*P),C(Z[ne+2*Je+0],255&pt,pt>>16,Ie,$e+(2*Je+0)*P)),pt=Sn,qt=Tn}1&at||(mt=3*pt+qt+131074>>2,C(B[Q+at-1],255&mt,mt>>16,He,_e+(at-1)*P),Z!=null&&(mt=3*qt+pt+131074>>2,C(Z[ne+at-1],255&mt,mt>>16,Ie,$e+(at-1)*P)))}}function nt(){Ts[hh]=r6,Ts[dh]=Qm,Ts[Hm]=i6,Ts[ph]=$m,Ts[gh]=Zm,Ts[r0]=Jm,Ts[Gm]=s6,Ts[i0]=Qm,Ts[s0]=$m,Ts[mh]=Zm,Ts[a0]=Jm}function yt(m){return m&-16384?0>m?0:255:m>>a6}function Rt(m,C){return yt((19077*m>>8)+(26149*C>>8)-14234)}function Kt(m,C,P){return yt((19077*m>>8)-(6419*C>>8)-(13320*P>>8)+8708)}function Qt(m,C){return yt((19077*m>>8)+(33050*C>>8)-17685)}function fn(m,C,P,B,Q){B[Q+0]=Rt(m,P),B[Q+1]=Kt(m,C,P),B[Q+2]=Qt(m,C)}function Qn(m,C,P,B,Q){B[Q+0]=Qt(m,C),B[Q+1]=Kt(m,C,P),B[Q+2]=Rt(m,P)}function In(m,C,P,B,Q){var Z=Kt(m,C,P);C=Z<<3&224|Qt(m,C)>>3,B[Q+0]=248&Rt(m,P)|Z>>5,B[Q+1]=C}function ir(m,C,P,B,Q){var Z=240&Qt(m,C)|15;B[Q+0]=240&Rt(m,P)|Kt(m,C,P)>>4,B[Q+1]=Z}function Qr(m,C,P,B,Q){B[Q+0]=255,fn(m,C,P,B,Q+1)}function sr(m,C,P,B,Q){Qn(m,C,P,B,Q),B[Q+3]=255}function is(m,C,P,B,Q){fn(m,C,P,B,Q),B[Q+3]=255}function yr(m,C){return 0>m?0:m>C?C:m}function Oi(m,C,P){q[m]=function(B,Q,Z,ne,re,se,fe,Ne,Me){for(var Be=Ne+(-2&Me)*P;Ne!=Be;)C(B[Q+0],Z[ne+0],re[se+0],fe,Ne),C(B[Q+1],Z[ne+0],re[se+0],fe,Ne+P),Q+=2,++ne,++se,Ne+=2*P;1&Me&&C(B[Q+0],Z[ne+0],re[se+0],fe,Ne)}}function li(m,C,P){return P==0?m==0?C==0?6:5:C==0?4:0:P}function co(m,C,P,B,Q){switch(m>>>30){case 3:Se(C,P,B,Q,0);break;case 2:Te(C,P,B,Q);break;case 1:it(C,P,B,Q)}}function wi(m,C){var P,B,Q=C.M,Z=C.Nb,ne=m.oc,re=m.pc+40,se=m.oc,fe=m.pc+584,Ne=m.oc,Me=m.pc+600;for(P=0;16>P;++P)ne[re+32*P-1]=129;for(P=0;8>P;++P)se[fe+32*P-1]=129,Ne[Me+32*P-1]=129;for(0<Q?ne[re-1-32]=se[fe-1-32]=Ne[Me-1-32]=129:(s(ne,re-32-1,127,21),s(se,fe-32-1,127,9),s(Ne,Me-32-1,127,9)),B=0;B<m.za;++B){var Be=C.ya[C.aa+B];if(0<B){for(P=-1;16>P;++P)r(ne,re+32*P-4,ne,re+32*P+12,4);for(P=-1;8>P;++P)r(se,fe+32*P-4,se,fe+32*P+4,4),r(Ne,Me+32*P-4,Ne,Me+32*P+4,4)}var ke=m.Gd,tt=m.Hd+B,He=Be.ad,_e=Be.Hc;if(0<Q&&(r(ne,re-32,ke[tt].y,0,16),r(se,fe-32,ke[tt].f,0,8),r(Ne,Me-32,ke[tt].ea,0,8)),Be.Za){var Ie=ne,$e=re-32+16;for(0<Q&&(B>=m.za-1?s(Ie,$e,ke[tt].y[15],4):r(Ie,$e,ke[tt+1].y,0,4)),P=0;4>P;P++)Ie[$e+128+P]=Ie[$e+256+P]=Ie[$e+384+P]=Ie[$e+0+P];for(P=0;16>P;++P,_e<<=2)Ie=ne,$e=re+t5[P],Hs[Be.Ob[P]](Ie,$e),co(_e,He,16*+P,Ie,$e)}else if(Ie=li(B,Q,Be.Ob[0]),po[Ie](ne,re),_e!=0)for(P=0;16>P;++P,_e<<=2)co(_e,He,16*+P,ne,re+t5[P]);for(P=Be.Gc,Ie=li(B,Q,Be.Dd),Oa[Ie](se,fe),Oa[Ie](Ne,Me),_e=He,Ie=se,$e=fe,255&(Be=P>>0)&&(170&Be?Ue(_e,256,Ie,$e):ot(_e,256,Ie,$e)),Be=Ne,_e=Me,255&(P>>=8)&&(170&P?Ue(He,320,Be,_e):ot(He,320,Be,_e)),Q<m.Ub-1&&(r(ke[tt].y,0,ne,re+480,16),r(ke[tt].f,0,se,fe+224,8),r(ke[tt].ea,0,Ne,Me+224,8)),P=8*Z*m.B,ke=m.sa,tt=m.ta+16*B+16*Z*m.R,He=m.qa,Be=m.ra+8*B+P,_e=m.Ha,Ie=m.Ia+8*B+P,P=0;16>P;++P)r(ke,tt+P*m.R,ne,re+32*P,16);for(P=0;8>P;++P)r(He,Be+P*m.B,se,fe+32*P,8),r(_e,Ie+P*m.B,Ne,Me+32*P,8)}}function fo(m,C,P,B,Q,Z,ne,re,se){var fe=[0],Ne=[0],Me=0,Be=se!=null?se.kd:0,ke=se??new vl;if(m==null||12>P)return 7;ke.data=m,ke.w=C,ke.ha=P,C=[C],P=[P],ke.gb=[ke.gb];e:{var tt=C,He=P,_e=ke.gb;if(t(m!=null),t(He!=null),t(_e!=null),_e[0]=0,12<=He[0]&&!n(m,tt[0],"RIFF")){if(n(m,tt[0]+8,"WEBP")){_e=3;break e}var Ie=Qe(m,tt[0]+4);if(12>Ie||4294967286<Ie){_e=3;break e}if(Be&&Ie>He[0]-8){_e=7;break e}_e[0]=Ie,tt[0]+=12,He[0]-=12}_e=0}if(_e!=0)return _e;for(Ie=0<ke.gb[0],P=P[0];;){e:{var $e=m;He=C,_e=P;var at=fe,Je=Ne,xt=tt=[0];if((mt=Me=[Me])[0]=0,8>_e[0])_e=7;else{if(!n($e,He[0],"VP8X")){if(Qe($e,He[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var pt=Qe($e,He[0]+8),qt=1+dt($e,He[0]+12);if(2147483648<=qt*($e=1+dt($e,He[0]+15))){_e=3;break e}xt!=null&&(xt[0]=pt),at!=null&&(at[0]=qt),Je!=null&&(Je[0]=$e),He[0]+=18,_e[0]-=18,mt[0]=1}_e=0}}if(Me=Me[0],tt=tt[0],_e!=0)return _e;if(He=!!(2&tt),!Ie&&Me)return 3;if(Z!=null&&(Z[0]=!!(16&tt)),ne!=null&&(ne[0]=He),re!=null&&(re[0]=0),ne=fe[0],tt=Ne[0],Me&&He&&se==null){_e=0;break}if(4>P){_e=7;break}if(Ie&&Me||!Ie&&!Me&&!n(m,C[0],"ALPH")){P=[P],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{pt=m,_e=C,Ie=P;var mt=ke.gb;at=ke.na,Je=ke.P,xt=ke.Sa,qt=22,t(pt!=null),t(Ie!=null),$e=_e[0];var Sn=Ie[0];for(t(at!=null),t(xt!=null),at[0]=null,Je[0]=null,xt[0]=0;;){if(_e[0]=$e,Ie[0]=Sn,8>Sn){_e=7;break e}var Tn=Qe(pt,$e+4);if(4294967286<Tn){_e=3;break e}var bn=8+Tn+1&-2;if(qt+=bn,0<mt&&qt>mt){_e=3;break e}if(!n(pt,$e,"VP8 ")||!n(pt,$e,"VP8L")){_e=0;break e}if(Sn[0]<bn){_e=7;break e}n(pt,$e,"ALPH")||(at[0]=pt,Je[0]=$e+8,xt[0]=Tn),$e+=bn,Sn-=bn}}if(P=P[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],_e!=0)break}P=[P],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(mt=m,_e=C,Ie=P,at=ke.gb[0],Je=ke.Ja,xt=ke.xa,pt=_e[0],$e=!n(mt,pt,"VP8 "),qt=!n(mt,pt,"VP8L"),t(mt!=null),t(Ie!=null),t(Je!=null),t(xt!=null),8>Ie[0])_e=7;else{if($e||qt){if(mt=Qe(mt,pt+4),12<=at&&mt>at-12){_e=3;break e}if(Be&&mt>Ie[0]-8){_e=7;break e}Je[0]=mt,_e[0]+=8,Ie[0]-=8,xt[0]=qt}else xt[0]=5<=Ie[0]&&mt[pt+0]==47&&!(mt[pt+4]>>5),Je[0]=Ie[0];_e=0}if(P=P[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],C=C[0],_e!=0)break;if(4294967286<ke.Ja)return 3;if(re==null||He||(re[0]=ke.xa?2:1),ne=[ne],tt=[tt],ke.xa){if(5>P){_e=7;break}re=ne,Be=tt,He=Z,m==null||5>P?m=0:5<=P&&m[C+0]==47&&!(m[C+4]>>5)?(Ie=[0],mt=[0],at=[0],pe(Je=new K,m,C,P),Tt(Je,Ie,mt,at)?(re!=null&&(re[0]=Ie[0]),Be!=null&&(Be[0]=mt[0]),He!=null&&(He[0]=at[0]),m=1):m=0):m=0}else{if(10>P){_e=7;break}re=tt,m==null||10>P||!io(m,C+3,P-3)?m=0:(Be=m[C+0]|m[C+1]<<8|m[C+2]<<16,He=16383&(m[C+7]<<8|m[C+6]),m=16383&(m[C+9]<<8|m[C+8]),1&Be||3<(Be>>1&7)||!(Be>>4&1)||Be>>5>=ke.Ja||!He||!m?m=0:(ne&&(ne[0]=He),re&&(re[0]=m),m=1))}if(!m||(ne=ne[0],tt=tt[0],Me&&(fe[0]!=ne||Ne[0]!=tt)))return 3;se!=null&&(se[0]=ke,se.offset=C-se.w,t(4294967286>C-se.w),t(se.offset==se.ha-P));break}return _e==0||_e==7&&Me&&se==null?(Z!=null&&(Z[0]|=ke.na!=null&&0<ke.na.length),B!=null&&(B[0]=ne),Q!=null&&(Q[0]=tt),0):_e}function La(m,C,P){var B=C.width,Q=C.height,Z=0,ne=0,re=B,se=Q;if(C.Da=m!=null&&0<m.Da,C.Da&&(re=m.cd,se=m.bd,Z=m.v,ne=m.j,11>P||(Z&=-2,ne&=-2),0>Z||0>ne||0>=re||0>=se||Z+re>B||ne+se>Q))return 0;if(C.v=Z,C.j=ne,C.va=Z+re,C.o=ne+se,C.U=re,C.T=se,C.da=m!=null&&0<m.da,C.da){if(!At(re,se,P=[m.ib],Z=[m.hb]))return 0;C.ib=P[0],C.hb=Z[0]}return C.ob=m!=null&&m.ob,C.Kb=m==null||!m.Sd,C.da&&(C.ob=C.ib<3*B/4&&C.hb<3*Q/4,C.Kb=0),1}function Al(m){if(m==null)return 2;if(11>m.S){var C=m.f.RGBA;C.fb+=(m.height-1)*C.A,C.A=-C.A}else C=m.f.kb,m=m.height,C.O+=(m-1)*C.fa,C.fa=-C.fa,C.N+=(m-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(m-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(m-1)*C.lb,C.lb=-C.lb);return 0}function ka(m,C,P,B){if(B==null||0>=m||0>=C)return 2;if(P!=null){if(P.Da){var Q=P.cd,Z=P.bd,ne=-2&P.v,re=-2&P.j;if(0>ne||0>re||0>=Q||0>=Z||ne+Q>m||re+Z>C)return 2;m=Q,C=Z}if(P.da){if(!At(m,C,Q=[P.ib],Z=[P.hb]))return 2;m=Q[0],C=Z[0]}}B.width=m,B.height=C;e:{var se=B.width,fe=B.height;if(m=B.S,0>=se||0>=fe||!(m>=hh&&13>m))m=2;else{if(0>=B.Rd&&B.sd==null){ne=Z=Q=C=0;var Ne=(re=se*n5[m])*fe;if(11>m||(Z=(fe+1)/2*(C=(se+1)/2),m==12&&(ne=(Q=se)*fe)),(fe=a(Ne+2*Z+ne))==null){m=1;break e}B.sd=fe,11>m?((se=B.f.RGBA).eb=fe,se.fb=0,se.A=re,se.size=Ne):((se=B.f.kb).y=fe,se.O=0,se.fa=re,se.Fd=Ne,se.f=fe,se.N=0+Ne,se.Ab=C,se.Cd=Z,se.ea=fe,se.W=0+Ne+Z,se.Db=C,se.Ed=Z,m==12&&(se.F=fe,se.J=0+Ne+2*Z),se.Tc=ne,se.lb=Q)}if(C=1,Q=B.S,Z=B.width,ne=B.height,Q>=hh&&13>Q)if(11>Q)m=B.f.RGBA,C&=(re=Math.abs(m.A))*(ne-1)+Z<=m.size,C&=re>=Z*n5[Q],C&=m.eb!=null;else{m=B.f.kb,re=(Z+1)/2,Ne=(ne+1)/2,se=Math.abs(m.fa),fe=Math.abs(m.Ab);var Me=Math.abs(m.Db),Be=Math.abs(m.lb),ke=Be*(ne-1)+Z;C&=se*(ne-1)+Z<=m.Fd,C&=fe*(Ne-1)+re<=m.Cd,C=(C&=Me*(Ne-1)+re<=m.Ed)&se>=Z&fe>=re&Me>=re,C&=m.y!=null,C&=m.f!=null,C&=m.ea!=null,Q==12&&(C&=Be>=Z,C&=ke<=m.Tc,C&=m.F!=null)}else C=0;m=C?0:2}}return m!=0||P!=null&&P.fd&&(m=Al(B)),m}var Rn=64,ho=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ha=24,Ns=32,un=8,zr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ht("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(m){return m},q.Predictor2=function(m,C,P){return C[P+0]},q.Predictor3=function(m,C,P){return C[P+1]},q.Predictor4=function(m,C,P){return C[P-1]},q.Predictor5=function(m,C,P){return ct(ct(m,C[P+1]),C[P+0])},q.Predictor6=function(m,C,P){return ct(m,C[P-1])},q.Predictor7=function(m,C,P){return ct(m,C[P+0])},q.Predictor8=function(m,C,P){return ct(C[P-1],C[P+0])},q.Predictor9=function(m,C,P){return ct(C[P+0],C[P+1])},q.Predictor10=function(m,C,P){return ct(ct(m,C[P-1]),ct(C[P+0],C[P+1]))},q.Predictor11=function(m,C,P){var B=C[P+0];return 0>=Ft(B>>24&255,m>>24&255,(C=C[P-1])>>24&255)+Ft(B>>16&255,m>>16&255,C>>16&255)+Ft(B>>8&255,m>>8&255,C>>8&255)+Ft(255&B,255&m,255&C)?B:m},q.Predictor12=function(m,C,P){var B=C[P+0];return(It((m>>24&255)+(B>>24&255)-((C=C[P-1])>>24&255))<<24|It((m>>16&255)+(B>>16&255)-(C>>16&255))<<16|It((m>>8&255)+(B>>8&255)-(C>>8&255))<<8|It((255&m)+(255&B)-(255&C)))>>>0},q.Predictor13=function(m,C,P){var B=C[P-1];return(Bt((m=ct(m,C[P+0]))>>24&255,B>>24&255)<<24|Bt(m>>16&255,B>>16&255)<<16|Bt(m>>8&255,B>>8&255)<<8|Bt(m>>0&255,B>>0&255))>>>0};var Y=q.PredictorAdd0;q.PredictorAdd1=Ut,ht("Predictor2","PredictorAdd2"),ht("Predictor3","PredictorAdd3"),ht("Predictor4","PredictorAdd4"),ht("Predictor5","PredictorAdd5"),ht("Predictor6","PredictorAdd6"),ht("Predictor7","PredictorAdd7"),ht("Predictor8","PredictorAdd8"),ht("Predictor9","PredictorAdd9"),ht("Predictor10","PredictorAdd10"),ht("Predictor11","PredictorAdd11"),ht("Predictor12","PredictorAdd12"),ht("Predictor13","PredictorAdd13");var i=q.PredictorAdd2;me("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),me("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var o,u=q.ColorIndexInverseTransform,f=q.MapARGB,d=q.VP8LColorIndexInverseTransformAlpha,g=q.MapAlpha,x=q.VP8LPredictorsAdd=[];x.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var N,T,j,G,te,ce,be,Se,Te,Ue,it,ot,st,an,Ht,wr,qr,hr,mn,ar,_r,Ri,_s,Vi,Hi,qn,Wn,Ir,Wr=a(511),Pa=a(2041),bc=a(225),ou=a(767),ch=0,n0=Pa,fh=bc,ss=ou,Is=Wr,hh=0,dh=1,Hm=2,ph=3,gh=4,r0=5,Gm=6,i0=7,s0=8,mh=9,a0=10,Wb=[2,3,7],Vb=[3,3,11],Xm=[280,256,256,256,40],Hb=[0,1,1,1,0],Gb=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Yb=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Kb=8,o0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],l0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ac=null,Qb=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$b=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ym=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Zb=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Jb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],e6=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],t6=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],po=[],Hs=[],Oa=[],n6=1,Km=2,go=[],Ts=[];Ge("UpsampleRgbLinePair",fn,3),Ge("UpsampleBgrLinePair",Qn,3),Ge("UpsampleRgbaLinePair",is,4),Ge("UpsampleBgraLinePair",sr,4),Ge("UpsampleArgbLinePair",Qr,4),Ge("UpsampleRgba4444LinePair",ir,2),Ge("UpsampleRgb565LinePair",In,2);var r6=q.UpsampleRgbLinePair,i6=q.UpsampleBgrLinePair,Qm=q.UpsampleRgbaLinePair,$m=q.UpsampleBgraLinePair,Zm=q.UpsampleArgbLinePair,Jm=q.UpsampleRgba4444LinePair,s6=q.UpsampleRgb565LinePair,yh=16,wh=1<<yh-1,Ec=-227,u0=482,a6=6,e5=0,o6=a(256),l6=a(256),u6=a(256),c6=a(256),f6=a(u0-Ec),h6=a(u0-Ec);Oi("YuvToRgbRow",fn,3),Oi("YuvToBgrRow",Qn,3),Oi("YuvToRgbaRow",is,4),Oi("YuvToBgraRow",sr,4),Oi("YuvToArgbRow",Qr,4),Oi("YuvToRgba4444Row",ir,2),Oi("YuvToRgb565Row",In,2);var t5=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],xh=[0,2,8],d6=[8,7,6,4,4,2,2,2,1,1,1,1],p6=1;this.WebPDecodeRGBA=function(m,C,P,B,Q){var Z=dh,ne=new lo,re=new en;ne.ba=re,re.S=Z,re.width=[re.width],re.height=[re.height];var se=re.width,fe=re.height,Ne=new ii;if(Ne==null||m==null)var Me=2;else t(Ne!=null),Me=fo(m,C,P,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(Me!=0?se=0:(se!=null&&(se[0]=Ne.width[0]),fe!=null&&(fe[0]=Ne.height[0]),se=1),se){re.width=re.width[0],re.height=re.height[0],B!=null&&(B[0]=re.width),Q!=null&&(Q[0]=re.height);e:{if(B=new rn,(Q=new vl).data=m,Q.w=C,Q.ha=P,Q.kd=1,C=[0],t(Q!=null),((m=fo(Q.data,Q.w,Q.ha,null,null,null,C,null,Q))==0||m==7)&&C[0]&&(m=4),(C=m)==0){if(t(ne!=null),B.data=Q.data,B.w=Q.w+Q.offset,B.ha=Q.ha-Q.offset,B.put=si,B.ac=yn,B.bc=Li,B.ma=ne,Q.xa){if((m=ai())==null){ne=1;break e}if(function(Be,ke){var tt=[0],He=[0],_e=[0];t:for(;;){if(Be==null)return 0;if(ke==null)return Be.a=2,0;if(Be.l=ke,Be.a=0,pe(Be.m,ke.data,ke.w,ke.ha),!Tt(Be.m,tt,He,_e)){Be.a=3;break t}if(Be.xb=Km,ke.width=tt[0],ke.height=He[0],!Er(tt[0],He[0],1,Be,null))break t;return 1}return t(Be.a!=0),0}(m,B)){if(B=(C=ka(B.width,B.height,ne.Oa,ne.ba))==0){t:{B=m;n:for(;;){if(B==null){B=0;break t}if(t(B.s.yc!=null),t(B.s.Ya!=null),t(0<B.s.Wb),t((P=B.l)!=null),t((Q=P.ma)!=null),B.xb!=0){if(B.ca=Q.ba,B.tb=Q.tb,t(B.ca!=null),!La(Q.Oa,P,ph)){B.a=2;break n}if(!Na(B,P.width)||P.da)break n;if((P.da||Dt(B.ca.S))&&Pe(),11>B.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),B.ca.f.kb.F!=null&&Pe()),B.Pb&&0<B.s.ua&&B.s.vb.X==null&&!_t(B.s.vb,B.s.Wa.Xa)){B.a=1;break n}B.xb=0}if(!Kr(B,B.V,B.Ba,B.c,B.i,P.o,wt))break n;Q.Dc=B.Ma,B=1;break t}t(B.a!=0),B=0}B=!B}B&&(C=m.a)}else C=m.a}else{if((m=new ll)==null){ne=1;break e}if(m.Fa=Q.na,m.P=Q.P,m.qc=Q.Sa,nr(m,B)){if((C=ka(B.width,B.height,ne.Oa,ne.ba))==0){if(m.Aa=0,P=ne.Oa,t((Q=m)!=null),P!=null){if(0<(se=0>(se=P.Md)?0:100<se?255:255*se/100)){for(fe=Ne=0;4>fe;++fe)12>(Me=Q.pb[fe]).lc&&(Me.ia=se*d6[0>Me.lc?0:Me.lc]>>3),Ne|=Me.ia;Ne&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=P.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}Kn(m,B)||(C=m.a)}}else C=m.a}C==0&&ne.Oa!=null&&ne.Oa.fd&&(C=Al(ne.ba))}ne=C}Z=ne!=0?null:11>Z?re.f.RGBA.eb:re.f.kb.y}else Z=null;return Z};var n5=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(q,F){for(var oe="",W=0;W<4;W++)oe+=String.fromCharCode(q[F++]);return oe}function y(q,F){return(q[F+0]<<0|q[F+1]<<8|q[F+2]<<16)>>>0}function w(q,F){return(q[F+0]<<0|q[F+1]<<8|q[F+2]<<16|q[F+3]<<24)>>>0}new h;var v=[0],b=[0],E=[],A=new h,k=e,S=function(q,F){var oe={},W=0,X=!1,ae=0,J=0;if(oe.frames=[],!function(he,de,Ce,ye){for(var Re=0;Re<ye;Re++)if(he[de+Re]!=Ce.charCodeAt(Re))return!0;return!1}(q,F,"RIFF",4)){var ie,Ae;for(w(q,F+=4),F+=8;F<q.length;){var xe=p(q,F),pe=w(q,F+=4);F+=4;var ve=pe+(1&pe);switch(xe){case"VP8 ":case"VP8L":oe.frames[W]===void 0&&(oe.frames[W]={}),(K=oe.frames[W]).src_off=X?J:F-8,K.src_size=ae+pe+8,W++,X&&(X=!1,ae=0,J=0);break;case"VP8X":(K=oe.header={}).feature_flags=q[F];var Le=F+4;K.canvas_width=1+y(q,Le),Le+=3,K.canvas_height=1+y(q,Le),Le+=3;break;case"ALPH":X=!0,ae=ve+8,J=F-8;break;case"ANIM":(K=oe.header).bgcolor=w(q,F),Le=F+4,K.loop_count=(ie=q)[(Ae=Le)+0]<<0|ie[Ae+1]<<8,Le+=2;break;case"ANMF":var Ye,K;(K=oe.frames[W]={}).offset_x=2*y(q,F),F+=3,K.offset_y=2*y(q,F),F+=3,K.width=1+y(q,F),F+=3,K.height=1+y(q,F),F+=3,K.duration=y(q,F),F+=3,Ye=q[F++],K.dispose=1&Ye,K.blend=Ye>>1&1}xe!="ANMF"&&(F+=ve)}return oe}}(k,0);S.response=k,S.rgbaoutput=!0,S.dataurl=!1;var _=S.header?S.header:null,L=S.frames?S.frames:null;if(_){_.loop_counter=_.loop_count,v=[_.canvas_height],b=[_.canvas_width];for(var z=0;z<L.length&&L[z].blend!=0;z++);}var H=L[0],M=A.WebPDecodeRGBA(k,H.src_off,H.src_size,b,v);H.rgba=M,H.imgwidth=b[0],H.imgheight=v[0];for(var D=0;D<b[0]*v[0]*4;D++)E[D]=M[D];return this.width=b,this.height=v,this.data=E,this}(function(e){var t=function(){return typeof ag=="function"},n=function(v,b,E,A){var k=4,S=l;switch(A){case e.image_compression.FAST:k=1,S=a;break;case e.image_compression.MEDIUM:k=6,S=c;break;case e.image_compression.SLOW:k=9,S=h}v=r(v,b,E,S);var _=ag(v,{level:k});return e.__addimage__.arrayBufferToBinaryString(_)},r=function(v,b,E,A){for(var k,S,_,L=v.length/b,z=new Uint8Array(v.length+L),H=y(),M=0;M<L;M+=1){if(_=M*b,k=v.subarray(_,_+b),A)z.set(A(k,E,S),_+M);else{for(var D,q=H.length,F=[];D<q;D+=1)F[D]=H[D](k,E,S);var oe=w(F.concat());z.set(F[oe],_+M)}S=k}return z},s=function(v){var b=Array.apply([],v);return b.unshift(0),b},a=function(v,b){var E,A=[],k=v.length;A[0]=1;for(var S=0;S<k;S+=1)E=v[S-b]||0,A[S+1]=v[S]-E+256&255;return A},l=function(v,b,E){var A,k=[],S=v.length;k[0]=2;for(var _=0;_<S;_+=1)A=E&&E[_]||0,k[_+1]=v[_]-A+256&255;return k},c=function(v,b,E){var A,k,S=[],_=v.length;S[0]=3;for(var L=0;L<_;L+=1)A=v[L-b]||0,k=E&&E[L]||0,S[L+1]=v[L]+256-(A+k>>>1)&255;return S},h=function(v,b,E){var A,k,S,_,L=[],z=v.length;L[0]=4;for(var H=0;H<z;H+=1)A=v[H-b]||0,k=E&&E[H]||0,S=E&&E[H-b]||0,_=p(A,k,S),L[H+1]=v[H]-_+256&255;return L},p=function(v,b,E){if(v===b&&b===E)return v;var A=Math.abs(b-E),k=Math.abs(v-E),S=Math.abs(v+b-E-E);return A<=k&&A<=S?v:k<=S?b:E},y=function(){return[s,a,l,c,h]},w=function(v){var b=v.map(function(E){return E.reduce(function(A,k){return A+Math.abs(k)},0)});return b.indexOf(Math.min.apply(null,b))};e.processPNG=function(v,b,E,A){var k,S,_,L,z,H,M,D,q,F,oe,W,X,ae,J,ie=this.decode.FLATE_DECODE,Ae="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(_=new yI(v)).imgData,S=_.bits,k=_.colorSpace,z=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){q=(D=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,oe=new Uint8Array(q*_.colors),F=new Uint8Array(q);var xe,pe=_.pixelBitlength-_.bits;for(ae=0,J=0;ae<q;ae++){for(X=D[ae],xe=0;xe<pe;)oe[J++]=X>>>xe&255,xe+=_.bits;F[ae]=X>>>xe&255}}if(_.bits===16){q=(D=new Uint32Array(_.decodePixels().buffer)).length,oe=new Uint8Array(q*(32/_.pixelBitlength)*_.colors),F=new Uint8Array(q*(32/_.pixelBitlength)),W=_.colors>1,ae=0,J=0;for(var ve=0;ae<q;)X=D[ae++],oe[J++]=X>>>0&255,W&&(oe[J++]=X>>>16&255,X=D[ae++],oe[J++]=X>>>0&255),F[ve++]=X>>>16&255;S=8}A!==e.image_compression.NONE&&t()?(v=n(oe,_.width*_.colors,_.colors,A),M=n(F,_.width,1,A)):(v=oe,M=F,ie=void 0)}if(_.colorType===3&&(k=this.color_spaces.INDEXED,H=_.palette,_.transparency.indexed)){var Le=_.transparency.indexed,Ye=0;for(ae=0,q=Le.length;ae<q;++ae)Ye+=Le[ae];if((Ye/=255)===q-1&&Le.indexOf(0)!==-1)L=[Le.indexOf(0)];else if(Ye!==q){for(D=_.decodePixels(),F=new Uint8Array(D.length),ae=0,q=D.length;ae<q;ae++)F[ae]=Le[D[ae]];M=n(F,_.width,1)}}var K=function(he){var de;switch(he){case e.image_compression.FAST:de=11;break;case e.image_compression.MEDIUM:de=13;break;case e.image_compression.SLOW:de=14;break;default:de=12}return de}(A);return ie===this.decode.FLATE_DECODE&&(Ae="/Predictor "+K+" "),Ae+="/Colors "+z+" /BitsPerComponent "+S+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(M&&this.__addimage__.isArrayBuffer(M)||this.__addimage__.isArrayBufferView(M))&&(M=this.__addimage__.arrayBufferToBinaryString(M)),{alias:E,data:v,index:b,filter:ie,decodeParameters:Ae,transparency:L,palette:H,sMask:M,predictor:K,width:_.width,height:_.height,bitsPerComponent:S,colorSpace:k}}}})(Wt.API),function(e){e.processGIF89A=function(t,n,r,s){var a=new wI(t),l=a.width,c=a.height,h=[];a.decodeAndBlitFrameRGBA(0,h);var p={data:h,width:l,height:c},y=new v2(100).encode(p,100);return e.processJPEG.call(this,y,n,r,s)},e.processGIF87A=e.processGIF89A}(Wt.API),Ks.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ks.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Bn.log("bit decode error:"+n)}},Ks.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var a=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var h=this.palette[a>>7-c&1];this.data[l+4*c]=h.blue,this.data[l+4*c+1]=h.green,this.data[l+4*c+2]=h.red,this.data[l+4*c+3]=255}n!==0&&(this.pos+=4-n)}},Ks.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var a=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*s*4,c=a>>4,h=15&a,p=this.palette[c];if(this.data[l]=p.blue,this.data[l+1]=p.green,this.data[l+2]=p.red,this.data[l+3]=255,2*s+1>=this.width)break;p=this.palette[h],this.data[l+4]=p.blue,this.data[l+4+1]=p.green,this.data[l+4+2]=p.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},Ks.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(s<this.palette.length){var l=this.palette[s];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Ks.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,c=(a>>5&t)/t*255|0,h=(a>>10&t)/t*255|0,p=a>>15?255:0,y=r*this.width*4+4*s;this.data[y]=h,this.data[y+1]=c,this.data[y+2]=l,this.data[y+3]=p}this.pos+=e}},Ks.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&t)/t*255|0,h=(l>>5&n)/n*255|0,p=(l>>11)/t*255|0,y=s*this.width*4+4*a;this.data[y]=p,this.data[y+1]=h,this.data[y+2]=c,this.data[y+3]=255}this.pos+=e}},Ks.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=a,this.data[l+1]=s,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},Ks.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*n;this.data[c]=a,this.data[c+1]=s,this.data[c+2]=r,this.data[c+3]=l}},Ks.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,s){var a=new Ks(t,!1),l=a.width,c=a.height,h={data:a.getData(),width:l,height:c},p=new v2(100).encode(h,100);return e.processJPEG.call(this,p,n,r,s)}}(Wt.API),Ow.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,s){var a=new Ow(t),l=a.width,c=a.height,h={data:a.getData(),width:l,height:c},p=new v2(100).encode(h,100);return e.processJPEG.call(this,p,n,r,s)}}(Wt.API),Wt.API.processRGBA=function(e,t,n){for(var r=e.data,s=r.length,a=new Uint8Array(s/4*3),l=new Uint8Array(s/4),c=0,h=0,p=0;p<s;p+=4){var y=r[p],w=r[p+1],v=r[p+2],b=r[p+3];a[c++]=y,a[c++]=w,a[c++]=v,l[h++]=b}var E=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:E,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Wt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},wu=Wt.API,u1=wu.getCharWidthsArray=function(e,t){var n,r,s=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:s.metadata.Unicode.widths,h=c.fof?c.fof:1,p=t.kerning?t.kerning:s.metadata.Unicode.kerning,y=p.fof?p.fof:1,w=t.doKerning!==!1,v=0,b=e.length,E=0,A=c[0]||h,k=[];for(n=0;n<b;n++)r=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?k.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+l*(1e3/a)||0)/1e3):(v=w&&Nn(p[r])==="object"&&!isNaN(parseInt(p[r][E],10))?p[r][E]/y:0,k.push((c[r]||A)/h+v)),E=r;return k},Tw=wu.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return wu.processArabic&&(e=wu.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,s)/n:u1.apply(this,arguments).reduce(function(a,l){return a+l},0)},Lw=function(e,t,n,r){for(var s=[],a=0,l=e.length,c=0;a!==l&&c+t[a]<n;)c+=t[a],a++;s.push(e.slice(0,a));var h=a;for(c=0;a!==l;)c+t[a]>r&&(s.push(e.slice(h,a)),c=0,h=a),c+=t[a],a++;return h!==a&&s.push(e.slice(h,a)),s},kw=function(e,t,n){n||(n={});var r,s,a,l,c,h,p,y=[],w=[y],v=n.textIndent||0,b=0,E=0,A=e.split(" "),k=u1.apply(this,[" ",n])[0];if(h=n.lineIndent===-1?A[0].length+2:n.lineIndent||0){var S=Array(h).join(" "),_=[];A.map(function(z){(z=z.split(/\s*\n/)).length>1?_=_.concat(z.map(function(H,M){return(M&&H.length?`
`:"")+H})):_.push(z[0])}),A=_,h=Tw.apply(this,[S,n])}for(a=0,l=A.length;a<l;a++){var L=0;if(r=A[a],h&&r[0]==`
`&&(r=r.substr(1),L=1),v+b+(E=(s=u1.apply(this,[r,n])).reduce(function(z,H){return z+H},0))>t||L){if(E>t){for(c=Lw.apply(this,[r,s,t-(v+b),t]),y.push(c.shift()),y=[c.pop()];c.length;)w.push([c.shift()]);E=s.slice(r.length-(y[0]?y[0].length:0)).reduce(function(z,H){return z+H},0)}else y=[r];w.push(y),v=E+h,b=k}else y.push(r),v+=b+E,b=k}return p=h?function(z,H){return(H?S:"")+z.join(" ")}:function(z){return z.join(" ")},w.map(p)},wu.splitTextToSize=function(e,t,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var w=this.internal.getFont(y.fontName,y.fontStyle);return w.metadata.Unicode?{widths:w.metadata.Unicode.widths||{0:1},kerning:w.metadata.Unicode.kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/s;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=n.lineIndent;var c,h,p=[];for(c=0,h=r.length;c<h;c++)p=p.concat(kw.apply(this,[r[c],l,a]));return p},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},s=0;s<t.length;s++)n[t[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=t[s];var a=function(w){return"0x"+parseInt(w,10).toString(16)},l=e.__fontmetrics__.compress=function(w){var v,b,E,A,k=["{"];for(var S in w){if(v=w[S],isNaN(parseInt(S,10))?b="'"+S+"'":(S=parseInt(S,10),b=(b=a(S).slice(2)).slice(0,-1)+r[b.slice(-1)]),typeof v=="number")v<0?(E=a(v).slice(3),A="-"):(E=a(v).slice(2),A=""),E=A+E.slice(0,-1)+r[E.slice(-1)];else{if(Nn(v)!=="object")throw new Error("Don't know what to do with value type "+Nn(v)+".");E=l(v)}k.push(b+E)}return k.push("}"),k.join("")},c=e.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,b,E,A,k={},S=1,_=k,L=[],z="",H="",M=w.length-1,D=1;D<M;D+=1)(A=w[D])=="'"?v?(E=v.join(""),v=void 0):v=[]:v?v.push(A):A=="{"?(L.push([_,E]),_={},E=void 0):A=="}"?((b=L.pop())[0][b[1]]=_,E=void 0,_=b[0]):A=="-"?S=-1:E===void 0?n.hasOwnProperty(A)?(z+=n[A],E=parseInt(z,16)*S,S=1,z=""):z+=A:n.hasOwnProperty(A)?(H+=n[A],_[E]=parseInt(H,16)*S,S=1,E=void 0,H=""):H+=A;return k},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},y={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(w){var v=w.font,b=y.Unicode[v.postScriptName];b&&(v.metadata.Unicode={},v.metadata.Unicode.widths=b.widths,v.metadata.Unicode.kerning=b.kerning);var E=p.Unicode[v.postScriptName];E&&(v.metadata.Unicode.encoding=E,v.encoding=E.codePages[0])}])}(Wt.API),function(e){var t=function(n){for(var r=n.length,s=new Uint8Array(r),a=0;a<r;a++)s[a]=n.charCodeAt(a);return s};e.API.events.push(["addFont",function(n){var r=void 0,s=n.font,a=n.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(xf(c)),l.metadata=e.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(s,r)}}])}(Wt),function(e){function t(){return(Vt.canvg?Promise.resolve(Vt.canvg):tg(()=>import("./index.es-DgcXoO4J.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Wt.API.addSvgAsImage=function(n,r,s,a,l,c,h,p){if(isNaN(r)||isNaN(s))throw Bn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(l))throw Bn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var y=document.createElement("canvas");y.width=a,y.height=l;var w=y.getContext("2d");w.fillStyle="#fff",w.fillRect(0,0,y.width,y.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return t().then(function(E){return E.fromString(w,n,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(v)}).then(function(){b.addImage(y.toDataURL("image/jpeg",1),r,s,a,l,h,p)})}}(),Wt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,n);return this},Wt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,s,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),h=[],p=0,y=0,w=0;function v(E,A){var k,S=!1;for(k=0;k<E.length;k+=1)E[k]===A&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var b=c.length;for(w=0;w<b;w+=1)n[c[w]].value=n[c[w]].defaultValue,n[c[w]].explicitSet=!1}if(Nn(e)==="object"){for(s in e)if(a=e[s],v(c,s)&&a!==void 0){if(n[s].type==="boolean"&&typeof a=="boolean")n[s].value=a;else if(n[s].type==="name"&&v(n[s].valueSet,a))n[s].value=a;else if(n[s].type==="integer"&&Number.isInteger(a))n[s].value=a;else if(n[s].type==="array"){for(p=0;p<a.length;p+=1)if(r=!0,a[p].length===1&&typeof a[p][0]=="number")h.push(String(a[p]-1));else if(a[p].length>1){for(y=0;y<a[p].length;y+=1)typeof a[p][y]!="number"&&(r=!1);r===!0&&h.push([a[p][0]-1,a[p][1]-1].join(" "))}n[s].value="["+h.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,A=[];for(E in n)n[E].explicitSet===!0&&(n[E].type==="name"?A.push("/"+E+" /"+n[E].value):A.push("/"+E+" "+n[E].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),p=a.length+l.length+c.length+s.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(s+a+l+c+h),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Wt.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,l){for(var c,h=l.metadata.Unicode.widths,p=["","0","00","000","0000"],y=[""],w=0,v=a.length;w<v;++w){if(c=l.metadata.characterToGlyph(a.charCodeAt(w)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=a.charCodeAt(w),h.indexOf(c)==-1&&(h.push(c),h.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return y.join("");c=c.toString(16),y.push(p[4-c.length],c)}return y.join("")},r=function(a){var l,c,h,p,y,w,v;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],w=0,v=(c=Object.keys(a).sort(function(b,E){return b-E})).length;w<v;w++)l=c[w],h.length>=100&&(y+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(p=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+p+">"));return h.length&&(y+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),y+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(l){var c=l.font,h=l.out,p=l.newObject,y=l.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,v=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",E=0;E<v.length;E++)b+=String.fromCharCode(v[E]);var A=p();y({data:b,addLength1:!0,objectId:A}),h("endobj");var k=p();y({data:r(c.metadata.toUnicode),addLength1:!0,objectId:k}),h("endobj");var S=p();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+bu(c.fontName)),h("/FontFile2 "+A+" 0 R"),h("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),h("/Flags "+c.metadata.flags),h("/StemV "+c.metadata.stemV),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h(">>"),h("endobj");var _=p();h("<<"),h("/Type /Font"),h("/BaseFont /"+bu(c.fontName)),h("/FontDescriptor "+S+" 0 R"),h("/W "+e.API.PDFObject.convert(w)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+c.encoding+")"),h(">>"),h(">>"),h("endobj"),c.objectNumber=p(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+k+" 0 R"),h("/BaseFont /"+bu(c.fontName)),h("/Encoding /"+c.encoding),h("/DescendantFonts ["+_+" 0 R]"),h(">>"),h("endobj"),c.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(l){var c=l.font,h=l.out,p=l.newObject,y=l.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,v="",b=0;b<w.length;b++)v+=String.fromCharCode(w[b]);var E=p();y({data:v,addLength1:!0,objectId:E}),h("endobj");var A=p();y({data:r(c.metadata.toUnicode),addLength1:!0,objectId:A}),h("endobj");var k=p();h("<<"),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h("/StemV "+c.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+E+" 0 R"),h("/Flags 96"),h("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),h("/FontName /"+bu(c.fontName)),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h(">>"),h("endobj"),c.objectNumber=p();for(var S=0;S<c.metadata.hmtx.widths.length;S++)c.metadata.hmtx.widths[S]=parseInt(c.metadata.hmtx.widths[S]*(1e3/c.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+bu(c.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),h("endobj"),c.isAlreadyPutted=!0}})(a)}]);var s=function(a){var l,c=a.text||"",h=a.x,p=a.y,y=a.options||{},w=a.mutex||{},v=w.pdfEscape,b=w.activeFontKey,E=w.fonts,A=b,k="",S=0,_="",L=E[A].encoding;if(E[A].encoding!=="Identity-H")return{text:c,x:h,y:p,options:y,mutex:w};for(_=c,A=b,Array.isArray(c)&&(_=c[0]),S=0;S<_.length;S+=1)E[A].metadata.hasOwnProperty("cmap")&&(l=E[A].metadata.cmap.unicode.codeMap[_[S].charCodeAt(0)]),l||_[S].charCodeAt(0)<256&&E[A].metadata.hasOwnProperty("Unicode")?k+=_[S]:k+="";var z="";return parseInt(A.slice(1))<14||L==="WinAnsiEncoding"?z=v(k,A).split("").map(function(H){return H.charCodeAt(0).toString(16)}).join(""):L==="Identity-H"&&(z=n(k,E[A])),w.isHex=!0,{text:z,x:h,y:p,options:y,mutex:w}};t.events.push(["postProcessText",function(a){var l=a.text||"",c=[],h={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var p=0;for(p=0;p<l.length;p+=1)Array.isArray(l[p])&&l[p].length===3?c.push([s(Object.assign({},h,{text:l[p][0]})).text,l[p][1],l[p][2]]):c.push(s(Object.assign({},h,{text:l[p]})).text);a.text=c}else a.text=s(Object.assign({},h,{text:l})).text}])}(Wt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Wt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var s,a,l,c,h,p,y,w=t,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,L=0;this.__bidiEngine__={};var z=function(W){var X=W.charCodeAt(),ae=X>>8,J=A[ae];return J!==void 0?w[256*J+(255&X)]:ae===252||ae===253?"AL":S.test(ae)?"L":ae===8?"R":"N"},H=function(W){for(var X,ae=0;ae<W.length;ae++){if((X=z(W.charAt(ae)))==="L")return!1;if(X==="R")return!0}return!1},M=function(W,X,ae,J){var ie,Ae,xe,pe,ve=X[J];switch(ve){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(ve="AN");break;case"AL":_=!0,ve="R";break;case"WS":ve="N";break;case"CS":J<1||J+1>=X.length||(ie=ae[J-1])!=="EN"&&ie!=="AN"||(Ae=X[J+1])!=="EN"&&Ae!=="AN"?ve="N":_&&(Ae="AN"),ve=Ae===ie?Ae:"N";break;case"ES":ve=(ie=J>0?ae[J-1]:"B")==="EN"&&J+1<X.length&&X[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&ae[J-1]==="EN"){ve="EN";break}if(_){ve="N";break}for(xe=J+1,pe=X.length;xe<pe&&X[xe]==="ET";)xe++;ve=xe<pe&&X[xe]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(pe=X.length,xe=J+1;xe<pe&&X[xe]==="NSM";)xe++;if(xe<pe){var Le=W[J],Ye=Le>=1425&&Le<=2303||Le===64286;if(ie=X[xe],Ye&&(ie==="R"||ie==="AL")){ve="R";break}}}ve=J<1||(ie=X[J-1])==="B"?"N":ae[J-1];break;case"B":_=!1,s=!0,ve=L;break;case"S":a=!0,ve="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":ve="N"}return ve},D=function(W,X,ae){var J=W.split("");return ae&&q(J,ae,{hiLevel:L}),J.reverse(),X&&X.reverse(),J.join("")},q=function(W,X,ae){var J,ie,Ae,xe,pe,ve=-1,Le=W.length,Ye=0,K=[],he=L?b:v,de=[];for(_=!1,s=!1,a=!1,ie=0;ie<Le;ie++)de[ie]=z(W[ie]);for(Ae=0;Ae<Le;Ae++){if(pe=Ye,K[Ae]=M(W,de,K,Ae),J=240&(Ye=he[pe][E[K[Ae]]]),Ye&=15,X[Ae]=xe=he[Ye][5],J>0)if(J===16){for(ie=ve;ie<Ae;ie++)X[ie]=1;ve=-1}else ve=-1;if(he[Ye][6])ve===-1&&(ve=Ae);else if(ve>-1){for(ie=ve;ie<Ae;ie++)X[ie]=xe;ve=-1}de[Ae]==="B"&&(X[Ae]=0),ae.hiLevel|=xe}a&&function(Ce,ye,Re){for(var Oe=0;Oe<Re;Oe++)if(Ce[Oe]==="S"){ye[Oe]=L;for(var Fe=Oe-1;Fe>=0&&Ce[Fe]==="WS";Fe--)ye[Fe]=L}}(de,X,Le)},F=function(W,X,ae,J,ie){if(!(ie.hiLevel<W)){if(W===1&&L===1&&!s)return X.reverse(),void(ae&&ae.reverse());for(var Ae,xe,pe,ve,Le=X.length,Ye=0;Ye<Le;){if(J[Ye]>=W){for(pe=Ye+1;pe<Le&&J[pe]>=W;)pe++;for(ve=Ye,xe=pe-1;ve<xe;ve++,xe--)Ae=X[ve],X[ve]=X[xe],X[xe]=Ae,ae&&(Ae=ae[ve],ae[ve]=ae[xe],ae[xe]=Ae);Ye=pe}Ye++}}},oe=function(W,X,ae){var J=W.split(""),ie={hiLevel:L};return ae||(ae=[]),q(J,ae,ie),function(Ae,xe,pe){if(pe.hiLevel!==0&&y)for(var ve,Le=0;Le<Ae.length;Le++)xe[Le]===1&&(ve=k.indexOf(Ae[Le]))>=0&&(Ae[Le]=k[ve+1])}(J,ae,ie),F(2,J,X,ae,ie),F(1,J,X,ae,ie),J.join("")};return this.__bidiEngine__.doBidiReorder=function(W,X,ae){if(function(ie,Ae){if(Ae)for(var xe=0;xe<ie.length;xe++)Ae[xe]=xe;c===void 0&&(c=H(ie)),p===void 0&&(p=H(ie))}(W,X),l||!h||p)if(l&&h&&c^p)L=c?1:0,W=D(W,X,ae);else if(!l&&h&&p)L=c?1:0,W=oe(W,X,ae),W=D(W,X);else if(!l||c||h||p){if(l&&!h&&c^p)W=D(W,X),c?(L=0,W=oe(W,X,ae)):(L=1,W=oe(W,X,ae),W=D(W,X));else if(l&&c&&!h&&p)L=1,W=oe(W,X,ae),W=D(W,X);else if(!l&&!h&&c^p){var J=y;c?(L=1,W=oe(W,X,ae),L=0,y=!1,W=oe(W,X,ae),y=J):(L=0,W=oe(W,X,ae),W=D(W,X),L=1,y=!1,W=oe(W,X,ae),y=J,W=D(W,X))}}else L=0,W=oe(W,X,ae);else L=c?1:0,W=oe(W,X,ae);return W},this.__bidiEngine__.setOptions=function(W){W&&(l=W.isInputVisual,h=W.isOutputVisual,c=W.isInputRtl,p=W.isOutputRtl,y=W.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var s=r.text,a=(r.x,r.y,r.options||{}),l=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(l=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?l.push([n.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):l.push([n.doBidiReorder(s[c])]);r.text=l}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(Wt),Wt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new el(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new OI(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new xI(this.contents),this.head=new bI(this),this.name=new NI(this),this.cmap=new Fb(this),this.toUnicode={},this.hhea=new AI(this),this.maxp=new _I(this),this.hmtx=new II(this),this.post=new CI(this),this.os2=new EI(this),this.loca=new PI(this),this.glyf=new TI(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,h,p;for(p=[],l=0,c=(h=this.bbox).length;l<c;l++)t=h[l],p.push(Math.round(t*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var s,a,l,c;for(l=0,a=0,c=(t=""+t).length;0<=c?a<c:a>c;a=0<=c?++a:--a)s=t.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return l*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var aa,el=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,s;for(s=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(t.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,s,a,l,c,h;return t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^a)+65536*(255^l)+256*(255^c)+(255^h)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*s+16777216*a+65536*l+256*c+h},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,s,a;for(a=[],r=0,s=t.length;r<s;r++)n=t[r],a.push(this.writeByte(n));return a},e}(),xI=function(){var e;function t(n){var r,s,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,s,a,l,c,h,p,y,w,v,b,E,A;for(A in b=Object.keys(n).length,h=Math.log(2),w=16*Math.floor(Math.log(b)/h),l=Math.floor(w/h),y=16*b-w,(s=new el).writeInt(this.scalarType),s.writeShort(b),s.writeShort(w),s.writeShort(l),s.writeShort(y),a=16*b,p=s.pos+a,c=null,E=[],n)for(v=n[A],s.writeString(A),s.writeInt(e(v)),s.writeInt(p),s.writeInt(v.length),E=E.concat(v),A==="head"&&(c=p),p+=v.length;p%4;)E.push(0),p++;return s.write(E),r=2981146554-e(s.data),s.pos=c+8,s.writeUInt32(r),s.data},e=function(n){var r,s,a,l;for(n=jb.call(n);n.length%4;)n.push(0);for(a=new el(n),s=0,r=0,l=n.length;r<l;r=r+=4)s+=a.readUInt32();return 4294967295&s},t}(),vI={}.hasOwnProperty,Sa=function(e,t){for(var n in t)vI.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};aa=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var bI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Sa(t,aa),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new el).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),Rw=function(){function e(t,n){var r,s,a,l,c,h,p,y,w,v,b,E,A,k,S,_,L;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),w=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(b=t.readUInt16(),v=b/2,t.pos+=6,a=function(){var z,H;for(H=[],h=z=0;0<=v?z<v:z>v;h=0<=v?++z:--z)H.push(t.readUInt16());return H}(),t.pos+=2,A=function(){var z,H;for(H=[],h=z=0;0<=v?z<v:z>v;h=0<=v?++z:--z)H.push(t.readUInt16());return H}(),p=function(){var z,H;for(H=[],h=z=0;0<=v?z<v:z>v;h=0<=v?++z:--z)H.push(t.readUInt16());return H}(),y=function(){var z,H;for(H=[],h=z=0;0<=v?z<v:z>v;h=0<=v?++z:--z)H.push(t.readUInt16());return H}(),s=(this.length-t.pos+this.offset)/2,c=function(){var z,H;for(H=[],h=z=0;0<=s?z<s:z>s;h=0<=s?++z:--z)H.push(t.readUInt16());return H}(),h=S=0,L=a.length;S<L;h=++S)for(k=a[h],r=_=E=A[h];E<=k?_<=k:_>=k;r=E<=k?++_:--_)y[h]===0?l=r+p[h]:(l=c[y[h]/2+(r-E)-(v-h)]||0)!==0&&(l+=p[h]),this.codeMap[r]=65535&l}t.pos=w}return e.encode=function(t,n){var r,s,a,l,c,h,p,y,w,v,b,E,A,k,S,_,L,z,H,M,D,q,F,oe,W,X,ae,J,ie,Ae,xe,pe,ve,Le,Ye,K,he,de,Ce,ye,Re,Oe,Fe,lt,rt,dt;switch(J=new el,l=Object.keys(t).sort(function(Qe,_t){return Qe-_t}),n){case"macroman":for(A=0,k=function(){var Qe=[];for(E=0;E<256;++E)Qe.push(0);return Qe}(),_={0:0},a={},ie=0,ve=l.length;ie<ve;ie++)_[Fe=t[s=l[ie]]]==null&&(_[Fe]=++A),a[s]={old:t[s],new:_[t[s]]},k[s]=_[t[s]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(k),{charMap:a,subtable:J.data,maxGlyphID:A+1};case"unicode":for(X=[],w=[],L=0,_={},r={},S=p=null,Ae=0,Le=l.length;Ae<Le;Ae++)_[H=t[s=l[Ae]]]==null&&(_[H]=++L),r[s]={old:H,new:_[H]},c=_[H]-s,S!=null&&c===p||(S&&w.push(S),X.push(s),p=c),S=s;for(S&&w.push(S),w.push(65535),X.push(65535),oe=2*(F=X.length),q=2*Math.pow(Math.log(F)/Math.LN2,2),v=Math.log(q/2)/Math.LN2,D=2*F-q,h=[],M=[],b=[],E=xe=0,Ye=X.length;xe<Ye;E=++xe){if(W=X[E],y=w[E],W===65535){h.push(0),M.push(0);break}if(W-(ae=r[W].new)>=32768)for(h.push(0),M.push(2*(b.length+F-E)),s=pe=W;W<=y?pe<=y:pe>=y;s=W<=y?++pe:--pe)b.push(r[s].new);else h.push(ae-W),M.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*F+2*b.length),J.writeUInt16(0),J.writeUInt16(oe),J.writeUInt16(q),J.writeUInt16(v),J.writeUInt16(D),Re=0,K=w.length;Re<K;Re++)s=w[Re],J.writeUInt16(s);for(J.writeUInt16(0),Oe=0,he=X.length;Oe<he;Oe++)s=X[Oe],J.writeUInt16(s);for(lt=0,de=h.length;lt<de;lt++)c=h[lt],J.writeUInt16(c);for(rt=0,Ce=M.length;rt<Ce;rt++)z=M[rt],J.writeUInt16(z);for(dt=0,ye=b.length;dt<ye;dt++)A=b[dt],J.writeUInt16(A);return{charMap:r,subtable:J.data,maxGlyphID:L+1}}},e}(),Fb=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Sa(t,aa),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,s,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)r=new Rw(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var s,a;return r==null&&(r="macroman"),s=Rw.encode(n,r),(a=new el).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},t}(),AI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Sa(t,aa),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),EI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Sa(t,aa),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),CI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Sa(t,aa),t.prototype.tag="post",t.prototype.parse=function(n){var r,s,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var l;for(s=n.readUInt16(),this.glyphNameIndex=[],l=0;0<=s?l<s:l>s;l=0<=s?++l:--l)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var c,h,p;for(p=[],l=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;l=0<=h?++c:--c)p.push(n.readUInt32());return p}).call(this)}},t}(),SI=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},NI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Sa(t,aa),t.prototype.tag="name",t.prototype.parse=function(n){var r,s,a,l,c,h,p,y,w,v,b;for(n.pos=this.offset,n.readShort(),r=n.readShort(),h=n.readShort(),s=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+h+n.readShort()});for(p={},l=w=0,v=s.length;w<v;l=++w)a=s[l],n.pos=a.offset,y=n.readString(a.length),c=new SI(y,a),p[b=a.nameID]==null&&(p[b]=[]),p[a.nameID].push(c);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},t}(),_I=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Sa(t,aa),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),II=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Sa(t,aa),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,s,a,l,c,h,p;for(n.pos=this.offset,this.metrics=[],r=0,h=this.file.hhea.numberOfMetrics;0<=h?r<h:r>h;r=0<=h?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var y,w;for(w=[],r=y=0;0<=a?y<a:y>a;r=0<=a?++y:--y)w.push(n.readInt16());return w}(),this.widths=(function(){var y,w,v,b;for(b=[],y=0,w=(v=this.metrics).length;y<w;y++)l=v[y],b.push(l.advance);return b}).call(this),s=this.widths[this.widths.length-1],p=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)p.push(this.widths.push(s));return p},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),jb=[].slice,TI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Sa(t,aa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,s,a,l,c,h,p,y,w,v;return n in this.cache?this.cache[n]:(l=this.file.loca,r=this.file.contents,s=l.indexOf(n),(a=l.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,c=(h=new el(r.read(a))).readShort(),y=h.readShort(),v=h.readShort(),p=h.readShort(),w=h.readShort(),this.cache[n]=c===-1?new kI(h,y,v,p,w):new LI(h,c,y,v,p,w),this.cache[n]))},t.prototype.encode=function(n,r,s){var a,l,c,h,p;for(c=[],l=[],h=0,p=r.length;h<p;h++)a=n[r[h]],l.push(c.length),a&&(c=c.concat(a.encode(s)));return l.push(c.length),{table:c,offsets:l}},t}(),LI=function(){function e(t,n,r,s,a,l){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=a,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),kI=function(){function e(t,n,r,s,a){var l,c;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new el(jb.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),PI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Sa(t,aa),t.prototype.tag="loca",t.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,l;for(l=[],s=0,a=this.length;s<a;s+=2)l.push(2*n.readUInt16());return l}).call(this):(function(){var a,l;for(l=[],s=0,a=this.length;s<a;s+=4)l.push(n.readUInt32());return l}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),a=0,l=0,c=0;c<s.length;++c)if(s[c]=a,l<r.length&&r[l]==c){++l,s[c]=a;var h=this.offsets[c],p=this.offsets[c+1]-h;p>0&&(a+=p)}for(var y=new Array(4*s.length),w=0;w<s.length;++w)y[4*w+3]=255&s[w],y[4*w+2]=(65280&s[w])>>8,y[4*w+1]=(16711680&s[w])>>16,y[4*w]=(4278190080&s[w])>>24;return y},t}(),OI=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,s,a;for(n in s=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=s[r];return t},e.prototype.glyphsFor=function(t){var n,r,s,a,l,c,h;for(s={},l=0,c=t.length;l<c;l++)s[a=t[l]]=this.font.glyf.glyphFor(a);for(a in n=[],s)(r=s[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in h=this.glyphsFor(n))r=h[a],s[a]=r;return s},e.prototype.encode=function(t,n){var r,s,a,l,c,h,p,y,w,v,b,E,A,k,S;for(s in r=Fb.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),b={0:0},S=r.charMap)b[(h=S[s]).old]=h.new;for(E in v=r.maxGlyphID,l)E in b||(b[E]=v++);return y=function(_){var L,z;for(L in z={},_)z[_[L]]=L;return z}(b),w=Object.keys(y).sort(function(_,L){return _-L}),A=function(){var _,L,z;for(z=[],_=0,L=w.length;_<L;_++)c=w[_],z.push(y[c]);return z}(),a=this.font.glyf.encode(l,A,b),p=this.font.loca.encode(a.offsets,A),k={cmap:this.font.cmap.raw(),glyf:a.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},e}();Wt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,s,a,l;if(Array.isArray(n))return"["+function(){var c,h,p;for(p=[],c=0,h=n.length;c<h;c++)r=n[c],p.push(t.convert(r));return p}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in a=["<<"],n)l=n[s],a.push("/"+s+" "+t.convert(l));return a.push(">>"),a.join(`
`)}return""+n},t}();const RI=async(e,t)=>{const n=new Wt({orientation:"portrait",unit:"mm",format:"a5"}),r=148,s=210,a=10;n.setFillColor(0,0,0),n.rect(0,0,r,s,"F"),n.setTextColor(255,255,255),n.setFontSize(24),n.setFont(void 0,"bold"),n.text("EX",a,20),n.setFontSize(10),n.setFont(void 0,"normal"),n.text("EventsX",a,26),n.setFontSize(7),n.setTextColor(150,150,150),n.text("Powered by Robocorp",a,31),n.setFontSize(20),n.setFont(void 0,"bold");const l=n.splitTextToSize(e.title||"EVENT TITLE",r-2*a);n.text(l,a,40),n.setFontSize(10),n.setFont(void 0,"normal");const c=n.splitTextToSize(e.description||"Event description here.",r-2*a);n.text(c,a,55),n.setTextColor(220,38,38),n.setFontSize(9),n.text(" Venue",a,75),n.setTextColor(255,255,255),n.text(e.venue||"Venue",a+20,75),n.setTextColor(220,38,38),n.text(" Date & Time",a,82),n.setTextColor(255,255,255);const h=e.date?ds(new Date(e.date),"PPP"):"Date";if(n.text(h,a+20,82),t){const y=(r-50)/2,w=95;n.setFillColor(255,255,255),n.rect(y-2,w-2,54,54,"F"),n.addImage(t,"PNG",y,w,50,50),n.setTextColor(255,255,255),n.setFontSize(8),n.setFont(void 0,"bold"),n.text("SCAN TO REGISTER",r/2,w+50+8,{align:"center"})}if(e.organisers&&e.organisers.length>0){n.setFontSize(9),n.setFont(void 0,"normal"),n.text("Organiser:",a,165);const p=e.organisers.map(w=>w.name||w.detail).join(", "),y=n.splitTextToSize(p,r-2*a);n.text(y,a,172)}return n.setFontSize(7),n.setTextColor(150,150,150),n.text("Powered by Robocorp",r/2,s-5,{align:"center"}),n},DI=(e,t)=>{e.save(t)},MI=()=>{const{id:e}=th(),[t,n]=Ze.useState(null),[r,s]=Ze.useState(null),[a,l]=Ze.useState(!1);Ze.useEffect(()=>{c()},[e]);const c=async()=>{try{const p=await sc(parseInt(e));n(p);const y=wf(e),w=await wb(y);s(w)}catch(p){console.error("Error loading event:",p)}},h=async()=>{if(!(!t||!r)){l(!0);try{const p=await RI(t,r);DI(p,`${t.title}-flyer.pdf`)}catch(p){console.error("Error generating PDF:",p),alert("Failed to generate PDF")}finally{l(!1)}}};return!t||!r?R.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:R.jsx("p",{className:"text-gray-400",children:"Loading..."})}):R.jsxs("div",{className:"min-h-screen bg-black",children:[R.jsx(Zo,{title:"Event Flyer",showBack:!0}),R.jsxs("div",{className:"max-w-md mx-auto px-4 py-6",children:[R.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 mb-6",children:[R.jsxs("div",{className:"mb-6",children:[R.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:R.jsx("span",{className:"text-3xl font-bold",children:"EX"})}),R.jsx("p",{className:"text-sm text-gray-400 text-center",children:"EventsX"})]}),R.jsx("h1",{className:"text-2xl font-bold mb-4 uppercase",children:t.title}),R.jsx("p",{className:"text-gray-300 mb-6 text-sm",children:t.description||"Event description here."}),R.jsxs("div",{className:"mb-3",children:[R.jsx("span",{className:"text-primary",children:" Venue"}),R.jsx("p",{className:"text-white ml-6",children:t.venue||"Venue"})]}),R.jsxs("div",{className:"mb-6",children:[R.jsx("span",{className:"text-primary",children:" Date & Time"}),R.jsx("p",{className:"text-white ml-6",children:t.date?ds(new Date(t.date),"PPP"):"Date"})]}),R.jsxs("div",{className:"flex flex-col items-center mb-6",children:[R.jsx("div",{className:"bg-white p-3 rounded",children:R.jsx("img",{src:r,alt:"Registration QR",className:"w-48 h-48"})}),R.jsx("p",{className:"text-sm font-bold mt-3",children:"SCAN TO REGISTER"})]}),t.organisers&&t.organisers.length>0&&R.jsxs("div",{className:"mb-4",children:[R.jsx("p",{className:"text-sm text-gray-400",children:"Organiser:"}),R.jsx("p",{className:"text-white",children:t.organisers.map(p=>p.name||p.detail).join(", ")})]}),R.jsx("div",{className:"text-center text-xs text-gray-500 mt-6",children:"Powered by Robocorp"})]}),R.jsxs("button",{onClick:h,disabled:a,className:"btn-primary w-full flex items-center justify-center gap-2",children:[R.jsx(A1,{size:20}),a?"Generating PDF...":"Download A5 Flyer (PDF)"]}),R.jsxs("div",{className:"mt-6 p-4 bg-dark-lighter rounded",children:[R.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Registration URL:"}),R.jsx("p",{className:"text-xs text-primary break-all",children:wf(e)})]})]})]})},BI=()=>{const{id:e}=th();Fs();const[t,n]=Ze.useState(null),[r,s]=Ze.useState({name:"",contact:"",email:"",notes:""}),[a,l]=Ze.useState(!1),[c,h]=Ze.useState(!1);Ze.useEffect(()=>{p()},[e]);const p=async()=>{try{const v=await sc(parseInt(e));n(v)}catch(v){console.error("Error loading event:",v)}},y=(v,b)=>{s(E=>({...E,[v]:b}))},w=async v=>{if(v.preventDefault(),!r.name||!r.email){alert("Please fill in name and email");return}l(!0);try{await yN({eventId:parseInt(e),...r,attended:!1,registeredAt:new Date().toISOString()}),h(!0),setTimeout(()=>{s({name:"",contact:"",email:"",notes:""}),h(!1)},3e3)}catch(b){console.error("Error saving registration:",b),alert("Failed to register. Please try again.")}finally{l(!1)}};return t?c?R.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:R.jsxs("div",{className:"text-center",children:[R.jsx(aC,{size:64,className:"mx-auto text-green-500 mb-4"}),R.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Registration Successful!"}),R.jsx("p",{className:"text-gray-400",children:"Thank you for registering."})]})}):R.jsxs("div",{className:"min-h-screen bg-black",children:[R.jsx(Zo,{title:"Registration",showBack:!0}),R.jsxs("div",{className:"max-w-md mx-auto px-4 py-6",children:[R.jsxs("div",{className:"bg-dark-lighter rounded-lg p-6 mb-6 text-center",children:[R.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:R.jsx("span",{className:"text-3xl font-bold",children:"EX"})}),R.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"EventsX"}),R.jsx("h1",{className:"text-2xl font-bold mb-3 uppercase",children:t.title}),R.jsx("p",{className:"text-gray-300 mb-4 text-sm",children:t.description||"Event description here."}),R.jsxs("div",{className:"space-y-2 text-sm",children:[R.jsxs("div",{children:[R.jsx("span",{className:"text-primary",children:" Venue"}),R.jsx("p",{className:"text-white",children:t.venue||"Venue"})]}),R.jsxs("div",{children:[R.jsx("span",{className:"text-primary",children:" Date & Time"}),R.jsx("p",{className:"text-white",children:t.date?ds(new Date(t.date),"PPP"):"Date"})]})]}),t.organisers&&t.organisers.length>0&&R.jsxs("div",{className:"mt-4 text-sm",children:[R.jsx("p",{className:"text-gray-400",children:"Organiser:"}),R.jsx("p",{className:"text-white",children:t.organisers.map(v=>v.name||v.detail).join(" - ")})]}),R.jsx("div",{className:"text-xs text-gray-500 mt-4",children:"Powered by Robocorp"})]}),R.jsxs("form",{onSubmit:w,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name"}),R.jsx("input",{type:"text",value:r.name,onChange:v=>y("name",v.target.value),placeholder:"Contact or Phone",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),R.jsx("input",{type:"email",value:r.email,onChange:v=>y("email",v.target.value),placeholder:"Email",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Contact"}),R.jsx("input",{type:"text",value:r.contact,onChange:v=>y("contact",v.target.value),placeholder:"Phone number"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Notes"}),R.jsx("textarea",{value:r.notes,onChange:v=>y("notes",v.target.value),placeholder:"Notes or Company",rows:3})]}),R.jsx("button",{type:"submit",disabled:a,className:"btn-primary w-full",children:a?"Registering...":"Register"})]})]})]}):R.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:R.jsx("p",{className:"text-gray-400",children:"Loading..."})})};var bt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(bt||(bt={}));var Dw=new Map([[bt.QR_CODE,"QR_CODE"],[bt.AZTEC,"AZTEC"],[bt.CODABAR,"CODABAR"],[bt.CODE_39,"CODE_39"],[bt.CODE_93,"CODE_93"],[bt.CODE_128,"CODE_128"],[bt.DATA_MATRIX,"DATA_MATRIX"],[bt.MAXICODE,"MAXICODE"],[bt.ITF,"ITF"],[bt.EAN_13,"EAN_13"],[bt.EAN_8,"EAN_8"],[bt.PDF_417,"PDF_417"],[bt.RSS_14,"RSS_14"],[bt.RSS_EXPANDED,"RSS_EXPANDED"],[bt.UPC_A,"UPC_A"],[bt.UPC_E,"UPC_E"],[bt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Mw;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Mw||(Mw={}));function FI(e){return Object.values(bt).includes(e)}var vd;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(vd||(vd={}));var jI=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[vd.SCAN_TYPE_CAMERA,vd.SCAN_TYPE_FILE],e}(),Ub=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Dw.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Dw.get(t))},e}(),Bw=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),dg;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(dg||(dg={}));var UI=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:dg.UNKWOWN_ERROR}},e}(),zI=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ja(e){return typeof e>"u"||e===null}var Mu=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),zb=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(s),l=Object.keys(t),c=0,h=l;c<h.length;c++){var p=h[c];if(a.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),pg={exports:{}};(function(e,t){(function(n,r){r(t)})(Ic,function(n){function r(Y){return Y==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,i){Y.__proto__=i}||function(Y,i){for(var o in i)i.hasOwnProperty(o)&&(Y[o]=i[o])};function a(Y,i){s(Y,i);function o(){this.constructor=Y}Y.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}function l(Y,i){var o=Object.setPrototypeOf;o?o(Y,i):Y.__proto__=i}function c(Y,i){i===void 0&&(i=Y.constructor);var o=Error.captureStackTrace;o&&o(Y,i)}var h=function(Y){a(i,Y);function i(o){var u=this.constructor,f=Y.call(this,o)||this;return Object.defineProperty(f,"name",{value:u.name,enumerable:!1}),l(f,u.prototype),c(f),f}return i}(Error);class p extends h{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}p.kind="Exception";class y extends p{}y.kind="ArgumentException";class w extends p{}w.kind="IllegalArgumentException";class v{constructor(i){if(this.binarizer=i,i===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,o){return this.binarizer.getBlackRow(i,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,o,u,f){const d=this.binarizer.getLuminanceSource().crop(i,o,u,f);return new v(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new v(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new v(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class b extends p{static getChecksumInstance(){return new b}}b.kind="ChecksumException";class E{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class A{static arraycopy(i,o,u,f,d){for(;d--;)u[f++]=i[o++]}static currentTimeMillis(){return Date.now()}}class k extends p{}k.kind="IndexOutOfBoundsException";class S extends k{constructor(i=void 0,o=void 0){super(o),this.index=i,this.message=o}}S.kind="ArrayIndexOutOfBoundsException";class _{static fill(i,o){for(let u=0,f=i.length;u<f;u++)i[u]=o}static fillWithin(i,o,u,f){_.rangeCheck(i.length,o,u);for(let d=o;d<u;d++)i[d]=f}static rangeCheck(i,o,u){if(o>u)throw new w("fromIndex("+o+") > toIndex("+u+")");if(o<0)throw new S(o);if(u>i)throw new S(u)}static asList(...i){return i}static create(i,o,u){return Array.from({length:i}).map(d=>Array.from({length:o}).fill(u))}static createInt32Array(i,o,u){return Array.from({length:i}).map(d=>Int32Array.from({length:o}).fill(u))}static equals(i,o){if(!i||!o||!i.length||!o.length||i.length!==o.length)return!1;for(let u=0,f=i.length;u<f;u++)if(i[u]!==o[u])return!1;return!0}static hashCode(i){if(i===null)return 0;let o=1;for(const u of i)o=31*o+u;return o}static fillUint8Array(i,o){for(let u=0;u!==i.length;u++)i[u]=o}static copyOf(i,o){return i.slice(0,o)}static copyOfUint8Array(i,o){if(i.length<=o){const u=new Uint8Array(o);return u.set(i),u}return i.slice(0,o)}static copyOfRange(i,o,u){const f=u-o,d=new Int32Array(f);return A.arraycopy(i,o,d,0,f),d}static binarySearch(i,o,u){u===void 0&&(u=_.numberComparator);let f=0,d=i.length-1;for(;f<=d;){const g=d+f>>1,x=u(o,i[g]);if(x>0)f=g+1;else if(x<0)d=g-1;else return g}return-f-1}static numberComparator(i,o){return i-o}}class L{static numberOfTrailingZeros(i){let o;if(i===0)return 32;let u=31;return o=i<<16,o!==0&&(u-=16,i=o),o=i<<8,o!==0&&(u-=8,i=o),o=i<<4,o!==0&&(u-=4,i=o),o=i<<2,o!==0&&(u-=2,i=o),u-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let o=1;return i>>>16||(o+=16,i<<=16),i>>>24||(o+=8,i<<=8),i>>>28||(o+=4,i<<=4),i>>>30||(o+=2,i<<=2),o-=i>>>31,o}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,o){return Math.trunc(i/o)}static parseInt(i,o=void 0){return parseInt(i,o)}}L.MIN_VALUE_32_BITS=-2147483648,L.MAX_VALUE=Number.MAX_SAFE_INTEGER;class z{constructor(i,o){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,o==null?this.bits=z.makeArray(i):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const o=z.makeArray(i);A.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const o=this.size;if(i>=o)return o;const u=this.bits;let f=Math.floor(i/32),d=u[f];d&=~((1<<(i&31))-1);const g=u.length;for(;d===0;){if(++f===g)return o;d=u[f]}const x=f*32+L.numberOfTrailingZeros(d);return x>o?o:x}getNextUnset(i){const o=this.size;if(i>=o)return o;const u=this.bits;let f=Math.floor(i/32),d=~u[f];d&=~((1<<(i&31))-1);const g=u.length;for(;d===0;){if(++f===g)return o;d=~u[f]}const x=f*32+L.numberOfTrailingZeros(d);return x>o?o:x}setBulk(i,o){this.bits[Math.floor(i/32)]=o}setRange(i,o){if(o<i||i<0||o>this.size)throw new w;if(o===i)return;o--;const u=Math.floor(i/32),f=Math.floor(o/32),d=this.bits;for(let g=u;g<=f;g++){const x=g>u?0:i&31,T=(2<<(g<f?31:o&31))-(1<<x);d[g]|=T}}clear(){const i=this.bits.length,o=this.bits;for(let u=0;u<i;u++)o[u]=0}isRange(i,o,u){if(o<i||i<0||o>this.size)throw new w;if(o===i)return!0;o--;const f=Math.floor(i/32),d=Math.floor(o/32),g=this.bits;for(let x=f;x<=d;x++){const N=x>f?0:i&31,j=(2<<(x<d?31:o&31))-(1<<N)&4294967295;if((g[x]&j)!==(u?j:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,o){if(o<0||o>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let u=o;u>0;u--)this.appendBit((i>>u-1&1)===1)}appendBitArray(i){const o=i.size;this.ensureCapacity(this.size+o);for(let u=0;u<o;u++)this.appendBit(i.get(u))}xor(i){if(this.size!==i.size)throw new w("Sizes don't match");const o=this.bits;for(let u=0,f=o.length;u<f;u++)o[u]^=i.bits[u]}toBytes(i,o,u,f){for(let d=0;d<f;d++){let g=0;for(let x=0;x<8;x++)this.get(i)&&(g|=1<<7-x),i++;o[u+d]=g}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),u=o+1,f=this.bits;for(let d=0;d<u;d++){let g=f[d];g=g>>1&1431655765|(g&1431655765)<<1,g=g>>2&858993459|(g&858993459)<<2,g=g>>4&252645135|(g&252645135)<<4,g=g>>8&16711935|(g&16711935)<<8,g=g>>16&65535|(g&65535)<<16,i[o-d]=g}if(this.size!==u*32){const d=u*32-this.size;let g=i[0]>>>d;for(let x=1;x<u;x++){const N=i[x];g|=N<<32-d,i[x-1]=g,g=N>>>d}i[u-1]=g}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof z))return!1;const o=i;return this.size===o.size&&_.equals(this.bits,o.bits)}hashCode(){return 31*this.size+_.hashCode(this.bits)}toString(){let i="";for(let o=0,u=this.size;o<u;o++)o&7||(i+=" "),i+=this.get(o)?"X":".";return i}clone(){return new z(this.size,this.bits.slice())}}var H;(function(Y){Y[Y.OTHER=0]="OTHER",Y[Y.PURE_BARCODE=1]="PURE_BARCODE",Y[Y.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",Y[Y.TRY_HARDER=3]="TRY_HARDER",Y[Y.CHARACTER_SET=4]="CHARACTER_SET",Y[Y.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",Y[Y.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",Y[Y.ASSUME_GS1=7]="ASSUME_GS1",Y[Y.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",Y[Y.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",Y[Y.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(H||(H={}));var M=H;class D extends p{static getFormatInstance(){return new D}}D.kind="FormatException";var q;(function(Y){Y[Y.Cp437=0]="Cp437",Y[Y.ISO8859_1=1]="ISO8859_1",Y[Y.ISO8859_2=2]="ISO8859_2",Y[Y.ISO8859_3=3]="ISO8859_3",Y[Y.ISO8859_4=4]="ISO8859_4",Y[Y.ISO8859_5=5]="ISO8859_5",Y[Y.ISO8859_6=6]="ISO8859_6",Y[Y.ISO8859_7=7]="ISO8859_7",Y[Y.ISO8859_8=8]="ISO8859_8",Y[Y.ISO8859_9=9]="ISO8859_9",Y[Y.ISO8859_10=10]="ISO8859_10",Y[Y.ISO8859_11=11]="ISO8859_11",Y[Y.ISO8859_13=12]="ISO8859_13",Y[Y.ISO8859_14=13]="ISO8859_14",Y[Y.ISO8859_15=14]="ISO8859_15",Y[Y.ISO8859_16=15]="ISO8859_16",Y[Y.SJIS=16]="SJIS",Y[Y.Cp1250=17]="Cp1250",Y[Y.Cp1251=18]="Cp1251",Y[Y.Cp1252=19]="Cp1252",Y[Y.Cp1256=20]="Cp1256",Y[Y.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",Y[Y.UTF8=22]="UTF8",Y[Y.ASCII=23]="ASCII",Y[Y.Big5=24]="Big5",Y[Y.GB18030=25]="GB18030",Y[Y.EUC_KR=26]="EUC_KR"})(q||(q={}));class F{constructor(i,o,u,...f){this.valueIdentifier=i,this.name=u,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=f,F.VALUE_IDENTIFIER_TO_ECI.set(i,this),F.NAME_TO_ECI.set(u,this);const d=this.values;for(let g=0,x=d.length;g!==x;g++){const N=d[g];F.VALUES_TO_ECI.set(N,this)}for(const g of f)F.NAME_TO_ECI.set(g,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new D("incorect value");const o=F.VALUES_TO_ECI.get(i);if(o===void 0)throw new D("incorect value");return o}static getCharacterSetECIByName(i){const o=F.NAME_TO_ECI.get(i);if(o===void 0)throw new D("incorect value");return o}equals(i){if(!(i instanceof F))return!1;const o=i;return this.getName()===o.getName()}}F.VALUE_IDENTIFIER_TO_ECI=new Map,F.VALUES_TO_ECI=new Map,F.NAME_TO_ECI=new Map,F.Cp437=new F(q.Cp437,Int32Array.from([0,2]),"Cp437"),F.ISO8859_1=new F(q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),F.ISO8859_2=new F(q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),F.ISO8859_3=new F(q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),F.ISO8859_4=new F(q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),F.ISO8859_5=new F(q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),F.ISO8859_6=new F(q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),F.ISO8859_7=new F(q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),F.ISO8859_8=new F(q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),F.ISO8859_9=new F(q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),F.ISO8859_10=new F(q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),F.ISO8859_11=new F(q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),F.ISO8859_13=new F(q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),F.ISO8859_14=new F(q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),F.ISO8859_15=new F(q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),F.ISO8859_16=new F(q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),F.SJIS=new F(q.SJIS,20,"SJIS","Shift_JIS"),F.Cp1250=new F(q.Cp1250,21,"Cp1250","windows-1250"),F.Cp1251=new F(q.Cp1251,22,"Cp1251","windows-1251"),F.Cp1252=new F(q.Cp1252,23,"Cp1252","windows-1252"),F.Cp1256=new F(q.Cp1256,24,"Cp1256","windows-1256"),F.UnicodeBigUnmarked=new F(q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),F.UTF8=new F(q.UTF8,26,"UTF8","UTF-8"),F.ASCII=new F(q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),F.Big5=new F(q.Big5,28,"Big5"),F.GB18030=new F(q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),F.EUC_KR=new F(q.EUC_KR,30,"EUC_KR","EUC-KR");class oe extends p{}oe.kind="UnsupportedOperationException";class W{static decode(i,o){const u=this.encodingName(o);return this.customDecoder?this.customDecoder(i,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(i,u):new TextDecoder(u).decode(i)}static shouldDecodeOnFallback(i){return!W.isBrowser()&&i==="ISO-8859-1"}static encode(i,o){const u=this.encodingName(o);return this.customEncoder?this.customEncoder(i,u):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof F?i:F.getCharacterSetECIByName(i)}static decodeFallback(i,o){const u=this.encodingCharacterSet(o);if(W.isDecodeFallbackSupported(u)){let f="";for(let d=0,g=i.length;d<g;d++){let x=i[d].toString(16);x.length<2&&(x="0"+x),f+="%"+x}return decodeURIComponent(f)}if(u.equals(F.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new oe(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(F.UTF8)||i.equals(F.ISO8859_1)||i.equals(F.ASCII)}static encodeFallback(i){const u=btoa(unescape(encodeURIComponent(i))).split(""),f=[];for(let d=0;d<u.length;d++)f.push(u[d].charCodeAt(0));return new Uint8Array(f)}}class X{static castAsNonUtf8Char(i,o=null){const u=o?o.getName():this.ISO88591;return W.decode(new Uint8Array([i]),u)}static guessEncoding(i,o){if(o!=null&&o.get(M.CHARACTER_SET)!==void 0)return o.get(M.CHARACTER_SET).toString();const u=i.length;let f=!0,d=!0,g=!0,x=0,N=0,T=0,j=0,G=0,te=0,ce=0,be=0,Se=0,Te=0,Ue=0;const it=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let ot=0;ot<u&&(f||d||g);ot++){const st=i[ot]&255;g&&(x>0?st&128?x--:g=!1:st&128&&(st&64?(x++,st&32?(x++,st&16?(x++,st&8?g=!1:j++):T++):N++):g=!1)),f&&(st>127&&st<160?f=!1:st>159&&(st<192||st===215||st===247)&&Ue++),d&&(G>0?st<64||st===127||st>252?d=!1:G--:st===128||st===160||st>239?d=!1:st>160&&st<224?(te++,be=0,ce++,ce>Se&&(Se=ce)):st>127?(G++,ce=0,be++,be>Te&&(Te=be)):(ce=0,be=0))}return g&&x>0&&(g=!1),d&&G>0&&(d=!1),g&&(it||N+T+j>0)?X.UTF8:d&&(X.ASSUME_SHIFT_JIS||Se>=3||Te>=3)?X.SHIFT_JIS:f&&d?Se===2&&te===2||Ue*10>=u?X.SHIFT_JIS:X.ISO88591:f?X.ISO88591:d?X.SHIFT_JIS:g?X.UTF8:X.PLATFORM_DEFAULT_ENCODING}static format(i,...o){let u=-1;function f(g,x,N,T,j,G){if(g==="%%")return"%";if(o[++u]===void 0)return;g=T?parseInt(T.substr(1)):void 0;let te=j?parseInt(j.substr(1)):void 0,ce;switch(G){case"s":ce=o[u];break;case"c":ce=o[u][0];break;case"f":ce=parseFloat(o[u]).toFixed(g);break;case"p":ce=parseFloat(o[u]).toPrecision(g);break;case"e":ce=parseFloat(o[u]).toExponential(g);break;case"x":ce=parseInt(o[u]).toString(te||16);break;case"d":ce=parseFloat(parseInt(o[u],te||10).toPrecision(g)).toFixed(0);break}ce=typeof ce=="object"?JSON.stringify(ce):(+ce).toString(te);let be=parseInt(N),Se=N&&N[0]+""=="0"?"0":" ";for(;ce.length<be;)ce=x!==void 0?ce+Se:Se+ce;return ce}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(d,f)}static getBytes(i,o){return W.encode(i,o)}static getCharCode(i,o=0){return i.charCodeAt(o)}static getCharAt(i){return String.fromCharCode(i)}}X.SHIFT_JIS=F.SJIS.getName(),X.GB2312="GB2312",X.ISO88591=F.ISO8859_1.getName(),X.EUC_JP="EUC_JP",X.UTF8=F.UTF8.getName(),X.PLATFORM_DEFAULT_ENCODING=X.UTF8,X.ASSUME_SHIFT_JIS=!1;class ae{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=X.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,o,u){for(let f=o;o<o+u;f++)this.append(i[f]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+1)}substring(i,o){return this.value.substring(i,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+o.length)}}class J{constructor(i,o,u,f){if(this.width=i,this.height=o,this.rowSize=u,this.bits=f,o==null&&(o=i),this.height=o,i<1||o<1)throw new w("Both dimensions must be greater than 0");u==null&&(u=Math.floor((i+31)/32)),this.rowSize=u,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const o=i.length,u=i[0].length,f=new J(u,o);for(let d=0;d<o;d++){const g=i[d];for(let x=0;x<u;x++)g[x]&&f.set(x,d)}return f}static parseFromString(i,o,u){if(i===null)throw new w("stringRepresentation cannot be null");const f=new Array(i.length);let d=0,g=0,x=-1,N=0,T=0;for(;T<i.length;)if(i.charAt(T)===`
`||i.charAt(T)==="\r"){if(d>g){if(x===-1)x=d-g;else if(d-g!==x)throw new w("row lengths do not match");g=d,N++}T++}else if(i.substring(T,T+o.length)===o)T+=o.length,f[d]=!0,d++;else if(i.substring(T,T+u.length)===u)T+=u.length,f[d]=!1,d++;else throw new w("illegal character encountered: "+i.substring(T));if(d>g){if(x===-1)x=d-g;else if(d-g!==x)throw new w("row lengths do not match");N++}const j=new J(x,N);for(let G=0;G<d;G++)f[G]&&j.set(Math.floor(G%x),Math.floor(G/x));return j}get(i,o){const u=o*this.rowSize+Math.floor(i/32);return(this.bits[u]>>>(i&31)&1)!==0}set(i,o){const u=o*this.rowSize+Math.floor(i/32);this.bits[u]|=1<<(i&31)&4294967295}unset(i,o){const u=o*this.rowSize+Math.floor(i/32);this.bits[u]&=~(1<<(i&31)&4294967295)}flip(i,o){const u=o*this.rowSize+Math.floor(i/32);this.bits[u]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new w("input matrix dimensions do not match");const o=new z(Math.floor(this.width/32)+1),u=this.rowSize,f=this.bits;for(let d=0,g=this.height;d<g;d++){const x=d*u,N=i.getRow(d,o).getBitArray();for(let T=0;T<u;T++)f[x+T]^=N[T]}}clear(){const i=this.bits,o=i.length;for(let u=0;u<o;u++)i[u]=0}setRegion(i,o,u,f){if(o<0||i<0)throw new w("Left and top must be nonnegative");if(f<1||u<1)throw new w("Height and width must be at least 1");const d=i+u,g=o+f;if(g>this.height||d>this.width)throw new w("The region must fit inside the matrix");const x=this.rowSize,N=this.bits;for(let T=o;T<g;T++){const j=T*x;for(let G=i;G<d;G++)N[j+Math.floor(G/32)]|=1<<(G&31)&4294967295}}getRow(i,o){o==null||o.getSize()<this.width?o=new z(this.width):o.clear();const u=this.rowSize,f=this.bits,d=i*u;for(let g=0;g<u;g++)o.setBulk(g*32,f[d+g]);return o}setRow(i,o){A.arraycopy(o.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),o=this.getHeight();let u=new z(i),f=new z(i);for(let d=0,g=Math.floor((o+1)/2);d<g;d++)u=this.getRow(d,u),f=this.getRow(o-1-d,f),u.reverse(),f.reverse(),this.setRow(d,f),this.setRow(o-1-d,u)}getEnclosingRectangle(){const i=this.width,o=this.height,u=this.rowSize,f=this.bits;let d=i,g=o,x=-1,N=-1;for(let T=0;T<o;T++)for(let j=0;j<u;j++){const G=f[T*u+j];if(G!==0){if(T<g&&(g=T),T>N&&(N=T),j*32<d){let te=0;for(;!(G<<31-te&4294967295);)te++;j*32+te<d&&(d=j*32+te)}if(j*32+31>x){let te=31;for(;!(G>>>te);)te--;j*32+te>x&&(x=j*32+te)}}}return x<d||N<g?null:Int32Array.from([d,g,x-d+1,N-g+1])}getTopLeftOnBit(){const i=this.rowSize,o=this.bits;let u=0;for(;u<o.length&&o[u]===0;)u++;if(u===o.length)return null;const f=u/i;let d=u%i*32;const g=o[u];let x=0;for(;!(g<<31-x&4294967295);)x++;return d+=x,Int32Array.from([d,f])}getBottomRightOnBit(){const i=this.rowSize,o=this.bits;let u=o.length-1;for(;u>=0&&o[u]===0;)u--;if(u<0)return null;const f=Math.floor(u/i);let d=Math.floor(u%i)*32;const g=o[u];let x=31;for(;!(g>>>x);)x--;return d+=x,Int32Array.from([d,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof J))return!1;const o=i;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&_.equals(this.bits,o.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+_.hashCode(this.bits),i}toString(i="X ",o="  ",u=`
`){return this.buildToString(i,o,u)}buildToString(i,o,u){let f=new ae;for(let d=0,g=this.height;d<g;d++){for(let x=0,N=this.width;x<N;x++)f.append(this.get(x,d)?i:o);f.append(u)}return f.toString()}clone(){return new J(this.width,this.height,this.rowSize,this.bits.slice())}}class ie extends p{static getNotFoundInstance(){return new ie}}ie.kind="NotFoundException";class Ae extends E{constructor(i){super(i),this.luminances=Ae.EMPTY,this.buckets=new Int32Array(Ae.LUMINANCE_BUCKETS)}getBlackRow(i,o){const u=this.getLuminanceSource(),f=u.getWidth();o==null||o.getSize()<f?o=new z(f):o.clear(),this.initArrays(f);const d=u.getRow(i,this.luminances),g=this.buckets;for(let N=0;N<f;N++)g[(d[N]&255)>>Ae.LUMINANCE_SHIFT]++;const x=Ae.estimateBlackPoint(g);if(f<3)for(let N=0;N<f;N++)(d[N]&255)<x&&o.set(N);else{let N=d[0]&255,T=d[1]&255;for(let j=1;j<f-1;j++){const G=d[j+1]&255;(T*4-N-G)/2<x&&o.set(j),N=T,T=G}}return o}getBlackMatrix(){const i=this.getLuminanceSource(),o=i.getWidth(),u=i.getHeight(),f=new J(o,u);this.initArrays(o);const d=this.buckets;for(let N=1;N<5;N++){const T=Math.floor(u*N/5),j=i.getRow(T,this.luminances),G=Math.floor(o*4/5);for(let te=Math.floor(o/5);te<G;te++){const ce=j[te]&255;d[ce>>Ae.LUMINANCE_SHIFT]++}}const g=Ae.estimateBlackPoint(d),x=i.getMatrix();for(let N=0;N<u;N++){const T=N*o;for(let j=0;j<o;j++)(x[T+j]&255)<g&&f.set(j,N)}return f}createBinarizer(i){return new Ae(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const o=this.buckets;for(let u=0;u<Ae.LUMINANCE_BUCKETS;u++)o[u]=0}static estimateBlackPoint(i){const o=i.length;let u=0,f=0,d=0;for(let j=0;j<o;j++)i[j]>d&&(f=j,d=i[j]),i[j]>u&&(u=i[j]);let g=0,x=0;for(let j=0;j<o;j++){const G=j-f,te=i[j]*G*G;te>x&&(g=j,x=te)}if(f>g){const j=f;f=g,g=j}if(g-f<=o/16)throw new ie;let N=g-1,T=-1;for(let j=g-1;j>f;j--){const G=j-f,te=G*G*(g-j)*(u-i[j]);te>T&&(N=j,T=te)}return N<<Ae.LUMINANCE_SHIFT}}Ae.LUMINANCE_BITS=5,Ae.LUMINANCE_SHIFT=8-Ae.LUMINANCE_BITS,Ae.LUMINANCE_BUCKETS=1<<Ae.LUMINANCE_BITS,Ae.EMPTY=Uint8ClampedArray.from([0]);class xe extends Ae{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),o=i.getWidth(),u=i.getHeight();if(o>=xe.MINIMUM_DIMENSION&&u>=xe.MINIMUM_DIMENSION){const f=i.getMatrix();let d=o>>xe.BLOCK_SIZE_POWER;o&xe.BLOCK_SIZE_MASK&&d++;let g=u>>xe.BLOCK_SIZE_POWER;u&xe.BLOCK_SIZE_MASK&&g++;const x=xe.calculateBlackPoints(f,d,g,o,u),N=new J(o,u);xe.calculateThresholdForBlock(f,d,g,o,u,x,N),this.matrix=N}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new xe(i)}static calculateThresholdForBlock(i,o,u,f,d,g,x){const N=d-xe.BLOCK_SIZE,T=f-xe.BLOCK_SIZE;for(let j=0;j<u;j++){let G=j<<xe.BLOCK_SIZE_POWER;G>N&&(G=N);const te=xe.cap(j,2,u-3);for(let ce=0;ce<o;ce++){let be=ce<<xe.BLOCK_SIZE_POWER;be>T&&(be=T);const Se=xe.cap(ce,2,o-3);let Te=0;for(let it=-2;it<=2;it++){const ot=g[te+it];Te+=ot[Se-2]+ot[Se-1]+ot[Se]+ot[Se+1]+ot[Se+2]}const Ue=Te/25;xe.thresholdBlock(i,be,G,Ue,f,x)}}}static cap(i,o,u){return i<o?o:i>u?u:i}static thresholdBlock(i,o,u,f,d,g){for(let x=0,N=u*d+o;x<xe.BLOCK_SIZE;x++,N+=d)for(let T=0;T<xe.BLOCK_SIZE;T++)(i[N+T]&255)<=f&&g.set(o+T,u+x)}static calculateBlackPoints(i,o,u,f,d){const g=d-xe.BLOCK_SIZE,x=f-xe.BLOCK_SIZE,N=new Array(u);for(let T=0;T<u;T++){N[T]=new Int32Array(o);let j=T<<xe.BLOCK_SIZE_POWER;j>g&&(j=g);for(let G=0;G<o;G++){let te=G<<xe.BLOCK_SIZE_POWER;te>x&&(te=x);let ce=0,be=255,Se=0;for(let Ue=0,it=j*f+te;Ue<xe.BLOCK_SIZE;Ue++,it+=f){for(let ot=0;ot<xe.BLOCK_SIZE;ot++){const st=i[it+ot]&255;ce+=st,st<be&&(be=st),st>Se&&(Se=st)}if(Se-be>xe.MIN_DYNAMIC_RANGE)for(Ue++,it+=f;Ue<xe.BLOCK_SIZE;Ue++,it+=f)for(let ot=0;ot<xe.BLOCK_SIZE;ot++)ce+=i[it+ot]&255}let Te=ce>>xe.BLOCK_SIZE_POWER*2;if(Se-be<=xe.MIN_DYNAMIC_RANGE&&(Te=be/2,T>0&&G>0)){const Ue=(N[T-1][G]+2*N[T][G-1]+N[T-1][G-1])/4;be<Ue&&(Te=Ue)}N[T][G]=Te}}return N}}xe.BLOCK_SIZE_POWER=3,xe.BLOCK_SIZE=1<<xe.BLOCK_SIZE_POWER,xe.BLOCK_SIZE_MASK=xe.BLOCK_SIZE-1,xe.MINIMUM_DIMENSION=xe.BLOCK_SIZE*5,xe.MIN_DYNAMIC_RANGE=24;class pe{constructor(i,o){this.width=i,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,o,u,f){throw new oe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new oe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new oe("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let o=new ae;for(let u=0;u<this.height;u++){const f=this.getRow(u,i);for(let d=0;d<this.width;d++){const g=f[d]&255;let x;g<64?x="#":g<128?x="+":g<192?x=".":x=" ",o.append(x)}o.append(`
`)}return o.toString()}}class ve extends pe{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,o){const u=this.delegate.getRow(i,o),f=this.getWidth();for(let d=0;d<f;d++)u[d]=255-(u[d]&255);return u}getMatrix(){const i=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(o);for(let f=0;f<o;f++)u[f]=255-(i[f]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(i,o,u,f){return new ve(this.delegate.crop(i,o,u,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ve(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ve(this.delegate.rotateCounterClockwise45())}}class Le extends pe{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=Le.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const o=i.getContext("2d").getImageData(0,0,i.width,i.height);return Le.toGrayscaleBuffer(o.data,i.width,i.height)}static toGrayscaleBuffer(i,o,u){const f=new Uint8ClampedArray(o*u);for(let d=0,g=0,x=i.length;d<x;d+=4,g++){let N;if(i[d+3]===0)N=255;else{const j=i[d],G=i[d+1],te=i[d+2];N=306*j+601*G+117*te+512>>10}f[g]=N}return f}getRow(i,o){if(i<0||i>=this.getHeight())throw new w("Requested row is outside the image: "+i);const u=this.getWidth(),f=i*u;return o===null?o=this.buffer.slice(f,f+u):(o.length<u&&(o=new Uint8ClampedArray(u)),o.set(this.buffer.slice(f,f+u))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,o,u,f){return super.crop(i,o,u,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const o=this.getTempCanvasElement(),u=o.getContext("2d"),f=i*Le.DEGREE_TO_RADIANS,d=this.canvas.width,g=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(f))*d+Math.abs(Math.sin(f))*g),N=Math.ceil(Math.abs(Math.sin(f))*d+Math.abs(Math.cos(f))*g);return o.width=x,o.height=N,u.translate(x/2,N/2),u.rotate(f),u.drawImage(this.canvas,d/-2,g/-2),this.buffer=Le.makeBufferFromCanvasImageData(o),this}invert(){return new ve(this)}}Le.DEGREE_TO_RADIANS=Math.PI/180;class Ye{constructor(i,o,u){this.deviceId=i,this.label=o,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var K=(globalThis||Ic||self||window||void 0)&&(globalThis||Ic||self||window||void 0).__awaiter||function(Y,i,o,u){function f(d){return d instanceof o?d:new o(function(g){g(d)})}return new(o||(o=Promise))(function(d,g){function x(j){try{T(u.next(j))}catch(G){g(G)}}function N(j){try{T(u.throw(j))}catch(G){g(G)}}function T(j){j.done?d(j.value):f(j.value).then(x,N)}T((u=u.apply(Y,i||[])).next())})};class he{constructor(i,o=500,u){this.reader=i,this.timeBetweenScansMillis=o,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return K(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const u of i){const f=u.kind==="video"?"videoinput":u.kind;if(f!=="videoinput")continue;const d=u.deviceId||u.id,g=u.label||`Video device ${o.length+1}`,x=u.groupId,N={deviceId:d,label:g,kind:f,groupId:x};o.push(N)}return o})}getVideoInputDevices(){return K(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Ye(o.deviceId,o.label))})}findDeviceById(i){return K(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(u=>u.deviceId===i):null})}decodeFromInputVideoDevice(i,o){return K(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,o)})}decodeOnceFromVideoDevice(i,o){return K(this,void 0,void 0,function*(){this.reset();let u;i?u={deviceId:{exact:i}}:u={facingMode:"environment"};const f={video:u};return yield this.decodeOnceFromConstraints(f,o)})}decodeOnceFromConstraints(i,o){return K(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(u,o)})}decodeOnceFromStream(i,o){return K(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(i,o);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(i,o,u){return K(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,o,u)})}decodeFromVideoDevice(i,o,u){return K(this,void 0,void 0,function*(){let f;i?f={deviceId:{exact:i}}:f={facingMode:"environment"};const d={video:f};return yield this.decodeFromConstraints(d,o,u)})}decodeFromConstraints(i,o,u){return K(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(f,o,u)})}decodeFromStream(i,o,u){return K(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(i,o);return yield this.decodeContinuously(f,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,o){return K(this,void 0,void 0,function*(){const u=this.prepareVideoElement(o);return this.addVideoSource(u,i),this.videoElement=u,this.stream=i,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(i){return new Promise((o,u)=>this.playVideoOnLoad(i,()=>o()))}playVideoOnLoad(i,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",o),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return K(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,o){const u=document.getElementById(i);if(!u)throw new y(`element with id '${i}' not found`);if(u.nodeName.toLowerCase()!==o.toLowerCase())throw new y(`element with id '${i}' must be an ${o} element`);return u}decodeFromImage(i,o){if(!i&&!o)throw new y("either imageElement with a src set or an url must be provided");return o&&!i?this.decodeFromImageUrl(o):this.decodeFromImageElement(i)}decodeFromVideo(i,o){if(!i&&!o)throw new y("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,o,u){if(i===void 0&&o===void 0)throw new y("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrlContinuously(o,u):this.decodeFromVideoElementContinuously(i,u)}decodeFromImageElement(i){if(!i)throw new y("An image element must be provided.");this.reset();const o=this.prepareImageElement(i);this.imageElement=o;let u;return this.isImageLoaded(o)?u=this.decodeOnce(o,!1,!0):u=this._decodeOnLoadImage(o),u}decodeFromVideoElement(i){const o=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(i,o){const u=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(u,o)}_decodeFromVideoElementSetup(i){if(!i)throw new y("A video element must be provided.");this.reset();const o=this.prepareVideoElement(i);return this.videoElement=o,o}decodeFromImageUrl(i){if(!i)throw new y("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const u=this._decodeOnLoadImage(o);return o.src=i,u}decodeFromVideoUrl(i){if(!i)throw new y("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),u=this.decodeFromVideoElement(o);return o.src=i,u}decodeFromVideoUrlContinuously(i,o){if(!i)throw new y("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(u,o);return u.src=i,f}_decodeOnLoadImage(i){return new Promise((o,u)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(o,u),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return K(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,o){return K(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,o)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let o;return typeof i>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(o=i),o}prepareVideoElement(i){let o;return!i&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(o=i),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(i,o=!0,u=!0){this._stopAsyncDecode=!1;const f=(d,g)=>{if(this._stopAsyncDecode){g(new ie("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(i);d(x)}catch(x){const N=o&&x instanceof ie,j=(x instanceof b||x instanceof D)&&u;if(N||j)return setTimeout(f,this._timeBetweenDecodingAttempts,d,g);g(x)}};return new Promise((d,g)=>f(d,g))}decodeContinuously(i,o){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(i);o(f,null),setTimeout(u,this.timeBetweenScansMillis)}catch(f){o(null,f);const d=f instanceof b||f instanceof D,g=f instanceof ie;(d||g)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(i){const o=this.createBinaryBitmap(i);return this.decodeBitmap(o)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,o,u){o||(o={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(i,o,u=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const o=this.getCaptureCanvas(i),u=new Le(o),f=new xe(u);return new v(f)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const o=this.createCaptureCanvas(i);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let u,f;return typeof i<"u"&&(i instanceof HTMLVideoElement?(u=i.videoWidth,f=i.videoHeight):i instanceof HTMLImageElement&&(u=i.naturalWidth||i.width,f=i.naturalHeight||i.height)),o.style.width=u+"px",o.style.height=f+"px",o.width=u,o.height=f,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,o){try{i.srcObject=o}catch{i.src=URL.createObjectURL(o)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class de{constructor(i,o,u=o==null?0:8*o.length,f,d,g=A.currentTimeMillis()){this.text=i,this.rawBytes=o,this.numBits=u,this.resultPoints=f,this.format=d,this.timestamp=g,this.text=i,this.rawBytes=o,u==null?this.numBits=o==null?0:8*o.length:this.numBits=u,this.resultPoints=f,this.format=d,this.resultMetadata=null,g==null?this.timestamp=A.currentTimeMillis():this.timestamp=g}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,o)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const o=this.resultPoints;if(o===null)this.resultPoints=i;else if(i!==null&&i.length>0){const u=new Array(o.length+i.length);A.arraycopy(o,0,u,0,o.length),A.arraycopy(i,0,u,o.length,i.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ce;(function(Y){Y[Y.AZTEC=0]="AZTEC",Y[Y.CODABAR=1]="CODABAR",Y[Y.CODE_39=2]="CODE_39",Y[Y.CODE_93=3]="CODE_93",Y[Y.CODE_128=4]="CODE_128",Y[Y.DATA_MATRIX=5]="DATA_MATRIX",Y[Y.EAN_8=6]="EAN_8",Y[Y.EAN_13=7]="EAN_13",Y[Y.ITF=8]="ITF",Y[Y.MAXICODE=9]="MAXICODE",Y[Y.PDF_417=10]="PDF_417",Y[Y.QR_CODE=11]="QR_CODE",Y[Y.RSS_14=12]="RSS_14",Y[Y.RSS_EXPANDED=13]="RSS_EXPANDED",Y[Y.UPC_A=14]="UPC_A",Y[Y.UPC_E=15]="UPC_E",Y[Y.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ce||(Ce={}));var ye=Ce,Re;(function(Y){Y[Y.OTHER=0]="OTHER",Y[Y.ORIENTATION=1]="ORIENTATION",Y[Y.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",Y[Y.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",Y[Y.ISSUE_NUMBER=4]="ISSUE_NUMBER",Y[Y.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",Y[Y.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",Y[Y.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",Y[Y.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",Y[Y.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",Y[Y.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Re||(Re={}));var Oe=Re;class Fe{constructor(i,o,u,f,d=-1,g=-1){this.rawBytes=i,this.text=o,this.byteSegments=u,this.ecLevel=f,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=g,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class lt{exp(i){return this.expTable[i]}log(i){if(i===0)throw new w;return this.logTable[i]}static addOrSubtract(i,o){return i^o}}class rt{constructor(i,o){if(o.length===0)throw new w;this.field=i;const u=o.length;if(u>1&&o[0]===0){let f=1;for(;f<u&&o[f]===0;)f++;f===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-f),A.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const o=this.coefficients;let u;if(i===1){u=0;for(let g=0,x=o.length;g!==x;g++){const N=o[g];u=lt.addOrSubtract(u,N)}return u}u=o[0];const f=o.length,d=this.field;for(let g=1;g<f;g++)u=lt.addOrSubtract(d.multiply(i,u),o[g]);return u}addOrSubtract(i){if(!this.field.equals(i.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,u=i.coefficients;if(o.length>u.length){const g=o;o=u,u=g}let f=new Int32Array(u.length);const d=u.length-o.length;A.arraycopy(u,0,f,0,d);for(let g=d;g<u.length;g++)f[g]=lt.addOrSubtract(o[g-d],u[g]);return new rt(this.field,f)}multiply(i){if(!this.field.equals(i.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const o=this.coefficients,u=o.length,f=i.coefficients,d=f.length,g=new Int32Array(u+d-1),x=this.field;for(let N=0;N<u;N++){const T=o[N];for(let j=0;j<d;j++)g[N+j]=lt.addOrSubtract(g[N+j],x.multiply(T,f[j]))}return new rt(x,g)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const o=this.coefficients.length,u=this.field,f=new Int32Array(o),d=this.coefficients;for(let g=0;g<o;g++)f[g]=u.multiply(d[g],i);return new rt(u,f)}multiplyByMonomial(i,o){if(i<0)throw new w;if(o===0)return this.field.getZero();const u=this.coefficients,f=u.length,d=new Int32Array(f+i),g=this.field;for(let x=0;x<f;x++)d[x]=g.multiply(u[x],o);return new rt(g,d)}divide(i){if(!this.field.equals(i.field))throw new w("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new w("Divide by 0");const o=this.field;let u=o.getZero(),f=this;const d=i.getCoefficient(i.getDegree()),g=o.inverse(d);for(;f.getDegree()>=i.getDegree()&&!f.isZero();){const x=f.getDegree()-i.getDegree(),N=o.multiply(f.getCoefficient(f.getDegree()),g),T=i.multiplyByMonomial(x,N),j=o.buildMonomial(x,N);u=u.addOrSubtract(j),f=f.addOrSubtract(T)}return[u,f]}toString(){let i="";for(let o=this.getDegree();o>=0;o--){let u=this.getCoefficient(o);if(u!==0){if(u<0?(i+=" - ",u=-u):i.length>0&&(i+=" + "),o===0||u!==1){const f=this.field.log(u);f===0?i+="1":f===1?i+="a":(i+="a^",i+=f)}o!==0&&(o===1?i+="x":(i+="x^",i+=o))}}return i}}class dt extends p{}dt.kind="ArithmeticException";class Qe extends lt{constructor(i,o,u){super(),this.primitive=i,this.size=o,this.generatorBase=u;const f=new Int32Array(o);let d=1;for(let x=0;x<o;x++)f[x]=d,d*=2,d>=o&&(d^=i,d&=o-1);this.expTable=f;const g=new Int32Array(o);for(let x=0;x<o-1;x++)g[f[x]]=x;this.logTable=g,this.zero=new rt(this,Int32Array.from([0])),this.one=new rt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new w;if(o===0)return this.zero;const u=new Int32Array(i+1);return u[0]=o,new rt(this,u)}inverse(i){if(i===0)throw new dt;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+L.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Qe.AZTEC_DATA_12=new Qe(4201,4096,1),Qe.AZTEC_DATA_10=new Qe(1033,1024,1),Qe.AZTEC_DATA_6=new Qe(67,64,1),Qe.AZTEC_PARAM=new Qe(19,16,1),Qe.QR_CODE_FIELD_256=new Qe(285,256,0),Qe.DATA_MATRIX_FIELD_256=new Qe(301,256,1),Qe.AZTEC_DATA_8=Qe.DATA_MATRIX_FIELD_256,Qe.MAXICODE_FIELD_64=Qe.AZTEC_DATA_6;class _t extends p{}_t.kind="ReedSolomonException";class qe extends p{}qe.kind="IllegalStateException";class ge{constructor(i){this.field=i}decode(i,o){const u=this.field,f=new rt(u,i),d=new Int32Array(o);let g=!0;for(let ce=0;ce<o;ce++){const be=f.evaluateAt(u.exp(ce+u.getGeneratorBase()));d[d.length-1-ce]=be,be!==0&&(g=!1)}if(g)return;const x=new rt(u,d),N=this.runEuclideanAlgorithm(u.buildMonomial(o,1),x,o),T=N[0],j=N[1],G=this.findErrorLocations(T),te=this.findErrorMagnitudes(j,G);for(let ce=0;ce<G.length;ce++){const be=i.length-1-u.log(G[ce]);if(be<0)throw new _t("Bad error location");i[be]=Qe.addOrSubtract(i[be],te[ce])}}runEuclideanAlgorithm(i,o,u){if(i.getDegree()<o.getDegree()){const ce=i;i=o,o=ce}const f=this.field;let d=i,g=o,x=f.getZero(),N=f.getOne();for(;g.getDegree()>=(u/2|0);){let ce=d,be=x;if(d=g,x=N,d.isZero())throw new _t("r_{i-1} was zero");g=ce;let Se=f.getZero();const Te=d.getCoefficient(d.getDegree()),Ue=f.inverse(Te);for(;g.getDegree()>=d.getDegree()&&!g.isZero();){const it=g.getDegree()-d.getDegree(),ot=f.multiply(g.getCoefficient(g.getDegree()),Ue);Se=Se.addOrSubtract(f.buildMonomial(it,ot)),g=g.addOrSubtract(d.multiplyByMonomial(it,ot))}if(N=Se.multiply(x).addOrSubtract(be),g.getDegree()>=d.getDegree())throw new qe("Division algorithm failed to reduce polynomial?")}const T=N.getCoefficient(0);if(T===0)throw new _t("sigmaTilde(0) was zero");const j=f.inverse(T),G=N.multiplyScalar(j),te=g.multiplyScalar(j);return[G,te]}findErrorLocations(i){const o=i.getDegree();if(o===1)return Int32Array.from([i.getCoefficient(1)]);const u=new Int32Array(o);let f=0;const d=this.field;for(let g=1;g<d.getSize()&&f<o;g++)i.evaluateAt(g)===0&&(u[f]=d.inverse(g),f++);if(f!==o)throw new _t("Error locator degree does not match number of roots");return u}findErrorMagnitudes(i,o){const u=o.length,f=new Int32Array(u),d=this.field;for(let g=0;g<u;g++){const x=d.inverse(o[g]);let N=1;for(let T=0;T<u;T++)if(g!==T){const j=d.multiply(o[T],x),G=j&1?j&-2:j|1;N=d.multiply(N,G)}f[g]=d.multiply(i.evaluateAt(x),d.inverse(N)),d.getGeneratorBase()!==0&&(f[g]=d.multiply(f[g],x))}return f}}var At;(function(Y){Y[Y.UPPER=0]="UPPER",Y[Y.LOWER=1]="LOWER",Y[Y.MIXED=2]="MIXED",Y[Y.DIGIT=3]="DIGIT",Y[Y.PUNCT=4]="PUNCT",Y[Y.BINARY=5]="BINARY"})(At||(At={}));class ft{decode(i){this.ddata=i;let o=i.getBits(),u=this.extractBits(o),f=this.correctBits(u),d=ft.convertBoolArrayToByteArray(f),g=ft.getEncodedData(f),x=new Fe(d,g,null,null);return x.setNumBits(f.length),x}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let o=i.length,u=At.UPPER,f=At.UPPER,d="",g=0;for(;g<o;)if(f===At.BINARY){if(o-g<5)break;let x=ft.readCode(i,g,5);if(g+=5,x===0){if(o-g<11)break;x=ft.readCode(i,g,11)+31,g+=11}for(let N=0;N<x;N++){if(o-g<8){g=o;break}const T=ft.readCode(i,g,8);d+=X.castAsNonUtf8Char(T),g+=8}f=u}else{let x=f===At.DIGIT?4:5;if(o-g<x)break;let N=ft.readCode(i,g,x);g+=x;let T=ft.getCharacter(f,N);T.startsWith("CTRL_")?(u=f,f=ft.getTable(T.charAt(5)),T.charAt(6)==="L"&&(u=f)):(d+=T,f=u)}return d}static getTable(i){switch(i){case"L":return At.LOWER;case"P":return At.PUNCT;case"M":return At.MIXED;case"D":return At.DIGIT;case"B":return At.BINARY;case"U":default:return At.UPPER}}static getCharacter(i,o){switch(i){case At.UPPER:return ft.UPPER_TABLE[o];case At.LOWER:return ft.LOWER_TABLE[o];case At.MIXED:return ft.MIXED_TABLE[o];case At.PUNCT:return ft.PUNCT_TABLE[o];case At.DIGIT:return ft.DIGIT_TABLE[o];default:throw new qe("Bad table")}}correctBits(i){let o,u;this.ddata.getNbLayers()<=2?(u=6,o=Qe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,o=Qe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,o=Qe.AZTEC_DATA_10):(u=12,o=Qe.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),d=i.length/u;if(d<f)throw new D;let g=i.length%u,x=new Int32Array(d);for(let te=0;te<d;te++,g+=u)x[te]=ft.readCode(i,g,u);try{new ge(o).decode(x,d-f)}catch(te){throw new D(te)}let N=(1<<u)-1,T=0;for(let te=0;te<f;te++){let ce=x[te];if(ce===0||ce===N)throw new D;(ce===1||ce===N-1)&&T++}let j=new Array(f*u-T),G=0;for(let te=0;te<f;te++){let ce=x[te];if(ce===1||ce===N-1)j.fill(ce>1,G,G+u-1),G+=u-1;else for(let be=u-1;be>=0;--be)j[G++]=(ce&1<<be)!==0}return j}extractBits(i){let o=this.ddata.isCompact(),u=this.ddata.getNbLayers(),f=(o?11:14)+u*4,d=new Int32Array(f),g=new Array(this.totalBitsInLayer(u,o));if(o)for(let x=0;x<d.length;x++)d[x]=x;else{let x=f+1+2*L.truncDivision(L.truncDivision(f,2)-1,15),N=f/2,T=L.truncDivision(x,2);for(let j=0;j<N;j++){let G=j+L.truncDivision(j,15);d[N-j-1]=T-G-1,d[N+j]=T+G+1}}for(let x=0,N=0;x<u;x++){let T=(u-x)*4+(o?9:12),j=x*2,G=f-1-j;for(let te=0;te<T;te++){let ce=te*2;for(let be=0;be<2;be++)g[N+ce+be]=i.get(d[j+be],d[j+te]),g[N+2*T+ce+be]=i.get(d[j+te],d[G-be]),g[N+4*T+ce+be]=i.get(d[G-be],d[G-te]),g[N+6*T+ce+be]=i.get(d[G-te],d[j+be])}N+=T*8}return g}static readCode(i,o,u){let f=0;for(let d=o;d<o+u;d++)f<<=1,i[d]&&(f|=1);return f}static readByte(i,o){let u=i.length-o;return u>=8?ft.readCode(i,o,8):ft.readCode(i,o,u)<<8-u}static convertBoolArrayToByteArray(i){let o=new Uint8Array((i.length+7)/8);for(let u=0;u<o.length;u++)o[u]=ft.readByte(i,8*u);return o}totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}ft.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ft.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ft.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ft.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ft.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Xe{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,o,u,f){const d=i-u,g=o-f;return Math.sqrt(d*d+g*g)}static sum(i){let o=0;for(let u=0,f=i.length;u!==f;u++){const d=i[u];o+=d}return o}}class ht{static floatToIntBits(i){return i}}ht.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ze{constructor(i,o){this.x=i,this.y=o}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof ze){const o=i;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*ht.floatToIntBits(this.x)+ht.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const o=this.distance(i[0],i[1]),u=this.distance(i[1],i[2]),f=this.distance(i[0],i[2]);let d,g,x;if(u>=o&&u>=f?(g=i[0],d=i[1],x=i[2]):f>=u&&f>=o?(g=i[1],d=i[0],x=i[2]):(g=i[2],d=i[0],x=i[1]),this.crossProductZ(d,g,x)<0){const N=d;d=x,x=N}i[0]=d,i[1]=g,i[2]=x}static distance(i,o){return Xe.distance(i.x,i.y,o.x,o.y)}static crossProductZ(i,o,u){const f=o.x,d=o.y;return(u.x-f)*(i.y-d)-(u.y-d)*(i.x-f)}}class ct{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class It extends ct{constructor(i,o,u,f,d){super(i,o),this.compact=u,this.nbDatablocks=f,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Bt{constructor(i,o,u,f){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),o==null&&(o=Bt.INIT_SIZE),u==null&&(u=i.getWidth()/2|0),f==null&&(f=i.getHeight()/2|0);const d=o/2|0;if(this.leftInit=u-d,this.rightInit=u+d,this.upInit=f-d,this.downInit=f+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ie}detect(){let i=this.leftInit,o=this.rightInit,u=this.upInit,f=this.downInit,d=!1,g=!0,x=!1,N=!1,T=!1,j=!1,G=!1;const te=this.width,ce=this.height;for(;g;){g=!1;let be=!0;for(;(be||!N)&&o<te;)be=this.containsBlackPoint(u,f,o,!1),be?(o++,g=!0,N=!0):N||o++;if(o>=te){d=!0;break}let Se=!0;for(;(Se||!T)&&f<ce;)Se=this.containsBlackPoint(i,o,f,!0),Se?(f++,g=!0,T=!0):T||f++;if(f>=ce){d=!0;break}let Te=!0;for(;(Te||!j)&&i>=0;)Te=this.containsBlackPoint(u,f,i,!1),Te?(i--,g=!0,j=!0):j||i--;if(i<0){d=!0;break}let Ue=!0;for(;(Ue||!G)&&u>=0;)Ue=this.containsBlackPoint(i,o,u,!0),Ue?(u--,g=!0,G=!0):G||u--;if(u<0){d=!0;break}g&&(x=!0)}if(!d&&x){const be=o-i;let Se=null;for(let ot=1;Se===null&&ot<be;ot++)Se=this.getBlackPointOnSegment(i,f-ot,i+ot,f);if(Se==null)throw new ie;let Te=null;for(let ot=1;Te===null&&ot<be;ot++)Te=this.getBlackPointOnSegment(i,u+ot,i+ot,u);if(Te==null)throw new ie;let Ue=null;for(let ot=1;Ue===null&&ot<be;ot++)Ue=this.getBlackPointOnSegment(o,u+ot,o-ot,u);if(Ue==null)throw new ie;let it=null;for(let ot=1;it===null&&ot<be;ot++)it=this.getBlackPointOnSegment(o,f-ot,o-ot,f);if(it==null)throw new ie;return this.centerEdges(it,Se,Ue,Te)}else throw new ie}getBlackPointOnSegment(i,o,u,f){const d=Xe.round(Xe.distance(i,o,u,f)),g=(u-i)/d,x=(f-o)/d,N=this.image;for(let T=0;T<d;T++){const j=Xe.round(i+T*g),G=Xe.round(o+T*x);if(N.get(j,G))return new ze(j,G)}return null}centerEdges(i,o,u,f){const d=i.getX(),g=i.getY(),x=o.getX(),N=o.getY(),T=u.getX(),j=u.getY(),G=f.getX(),te=f.getY(),ce=Bt.CORR;return d<this.width/2?[new ze(G-ce,te+ce),new ze(x+ce,N+ce),new ze(T-ce,j-ce),new ze(d+ce,g-ce)]:[new ze(G+ce,te+ce),new ze(x+ce,N-ce),new ze(T-ce,j+ce),new ze(d-ce,g-ce)]}containsBlackPoint(i,o,u,f){const d=this.image;if(f){for(let g=i;g<=o;g++)if(d.get(g,u))return!0}else for(let g=i;g<=o;g++)if(d.get(u,g))return!0;return!1}}Bt.INIT_SIZE=10,Bt.CORR=1;class Ft{static checkAndNudgePoints(i,o){const u=i.getWidth(),f=i.getHeight();let d=!0;for(let g=0;g<o.length&&d;g+=2){const x=Math.floor(o[g]),N=Math.floor(o[g+1]);if(x<-1||x>u||N<-1||N>f)throw new ie;d=!1,x===-1?(o[g]=0,d=!0):x===u&&(o[g]=u-1,d=!0),N===-1?(o[g+1]=0,d=!0):N===f&&(o[g+1]=f-1,d=!0)}d=!0;for(let g=o.length-2;g>=0&&d;g-=2){const x=Math.floor(o[g]),N=Math.floor(o[g+1]);if(x<-1||x>u||N<-1||N>f)throw new ie;d=!1,x===-1?(o[g]=0,d=!0):x===u&&(o[g]=u-1,d=!0),N===-1?(o[g+1]=0,d=!0):N===f&&(o[g+1]=f-1,d=!0)}}}class Ut{constructor(i,o,u,f,d,g,x,N,T){this.a11=i,this.a21=o,this.a31=u,this.a12=f,this.a22=d,this.a32=g,this.a13=x,this.a23=N,this.a33=T}static quadrilateralToQuadrilateral(i,o,u,f,d,g,x,N,T,j,G,te,ce,be,Se,Te){const Ue=Ut.quadrilateralToSquare(i,o,u,f,d,g,x,N);return Ut.squareToQuadrilateral(T,j,G,te,ce,be,Se,Te).times(Ue)}transformPoints(i){const o=i.length,u=this.a11,f=this.a12,d=this.a13,g=this.a21,x=this.a22,N=this.a23,T=this.a31,j=this.a32,G=this.a33;for(let te=0;te<o;te+=2){const ce=i[te],be=i[te+1],Se=d*ce+N*be+G;i[te]=(u*ce+g*be+T)/Se,i[te+1]=(f*ce+x*be+j)/Se}}transformPointsWithValues(i,o){const u=this.a11,f=this.a12,d=this.a13,g=this.a21,x=this.a22,N=this.a23,T=this.a31,j=this.a32,G=this.a33,te=i.length;for(let ce=0;ce<te;ce++){const be=i[ce],Se=o[ce],Te=d*be+N*Se+G;i[ce]=(u*be+g*Se+T)/Te,o[ce]=(f*be+x*Se+j)/Te}}static squareToQuadrilateral(i,o,u,f,d,g,x,N){const T=i-u+d-x,j=o-f+g-N;if(T===0&&j===0)return new Ut(u-i,d-u,i,f-o,g-f,o,0,0,1);{const G=u-d,te=x-d,ce=f-g,be=N-g,Se=G*be-te*ce,Te=(T*be-te*j)/Se,Ue=(G*j-T*ce)/Se;return new Ut(u-i+Te*u,x-i+Ue*x,i,f-o+Te*f,N-o+Ue*N,o,Te,Ue,1)}}static quadrilateralToSquare(i,o,u,f,d,g,x,N){return Ut.squareToQuadrilateral(i,o,u,f,d,g,x,N).buildAdjoint()}buildAdjoint(){return new Ut(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new Ut(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class O extends Ft{sampleGrid(i,o,u,f,d,g,x,N,T,j,G,te,ce,be,Se,Te,Ue,it,ot){const st=Ut.quadrilateralToQuadrilateral(f,d,g,x,N,T,j,G,te,ce,be,Se,Te,Ue,it,ot);return this.sampleGridWithTransform(i,o,u,st)}sampleGridWithTransform(i,o,u,f){if(o<=0||u<=0)throw new ie;const d=new J(o,u),g=new Float32Array(2*o);for(let x=0;x<u;x++){const N=g.length,T=x+.5;for(let j=0;j<N;j+=2)g[j]=j/2+.5,g[j+1]=T;f.transformPoints(g),Ft.checkAndNudgePoints(i,g);try{for(let j=0;j<N;j+=2)i.get(Math.floor(g[j]),Math.floor(g[j+1]))&&d.set(j/2,x)}catch{throw new ie}}return d}}class U{static setGridSampler(i){U.gridSampler=i}static getInstance(){return U.gridSampler}}U.gridSampler=new O;class V{constructor(i,o){this.x=i,this.y=o}toResultPoint(){return new ze(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class me{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let o=this.getMatrixCenter(),u=this.getBullsEyeCorners(o);if(i){let g=u[0];u[0]=u[2],u[2]=g}this.extractParameters(u);let f=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),d=this.getMatrixCornerPoints(u);return new It(f,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new ie;let o=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(i[0],i[1],o),this.sampleLine(i[1],i[2],o),this.sampleLine(i[2],i[3],o),this.sampleLine(i[3],i[0],o)]);this.shift=this.getRotation(u,o);let f=0;for(let g=0;g<4;g++){let x=u[(this.shift+g)%4];this.compact?(f<<=7,f+=x>>1&127):(f<<=10,f+=(x>>2&992)+(x>>1&31))}let d=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(i,o){let u=0;i.forEach((f,d,g)=>{let x=(f>>o-2<<1)+(f&1);u=(u<<3)+x}),u=((u&1)<<11)+(u>>1);for(let f=0;f<4;f++)if(L.bitCount(u^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new ie}getCorrectedParameterData(i,o){let u,f;o?(u=7,f=2):(u=10,f=4);let d=u-f,g=new Int32Array(u);for(let N=u-1;N>=0;--N)g[N]=i&15,i>>=4;try{new ge(Qe.AZTEC_PARAM).decode(g,d)}catch{throw new ie}let x=0;for(let N=0;N<f;N++)x=(x<<4)+g[N];return x}getBullsEyeCorners(i){let o=i,u=i,f=i,d=i,g=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let G=this.getFirstDifferent(o,g,1,-1),te=this.getFirstDifferent(u,g,1,1),ce=this.getFirstDifferent(f,g,-1,1),be=this.getFirstDifferent(d,g,-1,-1);if(this.nbCenterLayers>2){let Se=this.distancePoint(be,G)*this.nbCenterLayers/(this.distancePoint(d,o)*(this.nbCenterLayers+2));if(Se<.75||Se>1.25||!this.isWhiteOrBlackRectangle(G,te,ce,be))break}o=G,u=te,f=ce,d=be,g=!g}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ie;this.compact=this.nbCenterLayers===5;let x=new ze(o.getX()+.5,o.getY()-.5),N=new ze(u.getX()+.5,u.getY()+.5),T=new ze(f.getX()-.5,f.getY()+.5),j=new ze(d.getX()-.5,d.getY()-.5);return this.expandSquare([x,N,T,j],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,o,u,f;try{let x=new Bt(this.image).detect();i=x[0],o=x[1],u=x[2],f=x[3]}catch{let N=this.image.getWidth()/2,T=this.image.getHeight()/2;i=this.getFirstDifferent(new V(N+7,T-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new V(N+7,T+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new V(N-7,T+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new V(N-7,T-7),!1,-1,-1).toResultPoint()}let d=Xe.round((i.getX()+f.getX()+o.getX()+u.getX())/4),g=Xe.round((i.getY()+f.getY()+o.getY()+u.getY())/4);try{let x=new Bt(this.image,15,d,g).detect();i=x[0],o=x[1],u=x[2],f=x[3]}catch{i=this.getFirstDifferent(new V(d+7,g-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new V(d+7,g+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new V(d-7,g+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new V(d-7,g-7),!1,-1,-1).toResultPoint()}return d=Xe.round((i.getX()+f.getX()+o.getX()+u.getX())/4),g=Xe.round((i.getY()+f.getY()+o.getY()+u.getY())/4),new V(d,g)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,o,u,f,d){let g=U.getInstance(),x=this.getDimension(),N=x/2-this.nbCenterLayers,T=x/2+this.nbCenterLayers;return g.sampleGrid(i,x,x,N,N,T,N,T,T,N,T,o.getX(),o.getY(),u.getX(),u.getY(),f.getX(),f.getY(),d.getX(),d.getY())}sampleLine(i,o,u){let f=0,d=this.distanceResultPoint(i,o),g=d/u,x=i.getX(),N=i.getY(),T=g*(o.getX()-i.getX())/d,j=g*(o.getY()-i.getY())/d;for(let G=0;G<u;G++)this.image.get(Xe.round(x+G*T),Xe.round(N+G*j))&&(f|=1<<u-G-1);return f}isWhiteOrBlackRectangle(i,o,u,f){let d=3;i=new V(i.getX()-d,i.getY()+d),o=new V(o.getX()-d,o.getY()-d),u=new V(u.getX()+d,u.getY()-d),f=new V(f.getX()+d,f.getY()+d);let g=this.getColor(f,i);if(g===0)return!1;let x=this.getColor(i,o);return x!==g||(x=this.getColor(o,u),x!==g)?!1:(x=this.getColor(u,f),x===g)}getColor(i,o){let u=this.distancePoint(i,o),f=(o.getX()-i.getX())/u,d=(o.getY()-i.getY())/u,g=0,x=i.getX(),N=i.getY(),T=this.image.get(i.getX(),i.getY()),j=Math.ceil(u);for(let te=0;te<j;te++)x+=f,N+=d,this.image.get(Xe.round(x),Xe.round(N))!==T&&g++;let G=g/u;return G>.1&&G<.9?0:G<=.1===T?1:-1}getFirstDifferent(i,o,u,f){let d=i.getX()+u,g=i.getY()+f;for(;this.isValid(d,g)&&this.image.get(d,g)===o;)d+=u,g+=f;for(d-=u,g-=f;this.isValid(d,g)&&this.image.get(d,g)===o;)d+=u;for(d-=u;this.isValid(d,g)&&this.image.get(d,g)===o;)g+=f;return g-=f,new V(d,g)}expandSquare(i,o,u){let f=u/(2*o),d=i[0].getX()-i[2].getX(),g=i[0].getY()-i[2].getY(),x=(i[0].getX()+i[2].getX())/2,N=(i[0].getY()+i[2].getY())/2,T=new ze(x+f*d,N+f*g),j=new ze(x-f*d,N-f*g);d=i[1].getX()-i[3].getX(),g=i[1].getY()-i[3].getY(),x=(i[1].getX()+i[3].getX())/2,N=(i[1].getY()+i[3].getY())/2;let G=new ze(x+f*d,N+f*g),te=new ze(x-f*d,N-f*g);return[T,G,j,te]}isValid(i,o){return i>=0&&i<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(i){let o=Xe.round(i.getX()),u=Xe.round(i.getY());return this.isValid(o,u)}distancePoint(i,o){return Xe.distance(i.getX(),i.getY(),o.getX(),o.getY())}distanceResultPoint(i,o){return Xe.distance(i.getX(),i.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(L.truncDivision(this.nbLayers-4,8)+1)+15}}class we{decode(i,o=null){let u=null,f=new me(i.getBlackMatrix()),d=null,g=null;try{let j=f.detectMirror(!1);d=j.getPoints(),this.reportFoundResultPoints(o,d),g=new ft().decode(j)}catch(j){u=j}if(g==null)try{let j=f.detectMirror(!0);d=j.getPoints(),this.reportFoundResultPoints(o,d),g=new ft().decode(j)}catch(j){throw u??j}let x=new de(g.getText(),g.getRawBytes(),g.getNumBits(),d,ye.AZTEC,A.currentTimeMillis()),N=g.getByteSegments();N!=null&&x.putMetadata(Oe.BYTE_SEGMENTS,N);let T=g.getECLevel();return T!=null&&x.putMetadata(Oe.ERROR_CORRECTION_LEVEL,T),x}reportFoundResultPoints(i,o){if(i!=null){let u=i.get(M.NEED_RESULT_POINT_CALLBACK);u!=null&&o.forEach((f,d,g)=>{u.foundPossibleResultPoint(f)})}}reset(){}}class We extends he{constructor(i=500){super(new we,i)}}class Ve{decode(i,o){try{return this.doDecode(i,o)}catch{if(o&&o.get(M.TRY_HARDER)===!0&&i.isRotateSupported()){const d=i.rotateCounterClockwise(),g=this.doDecode(d,o),x=g.getResultMetadata();let N=270;x!==null&&x.get(Oe.ORIENTATION)===!0&&(N=N+x.get(Oe.ORIENTATION)%360),g.putMetadata(Oe.ORIENTATION,N);const T=g.getResultPoints();if(T!==null){const j=d.getHeight();for(let G=0;G<T.length;G++)T[G]=new ze(j-T[G].getY()-1,T[G].getX())}return g}else throw new ie}}reset(){}doDecode(i,o){const u=i.getWidth(),f=i.getHeight();let d=new z(u);const g=o&&o.get(M.TRY_HARDER)===!0,x=Math.max(1,f>>(g?8:5));let N;g?N=f:N=15;const T=Math.trunc(f/2);for(let j=0;j<N;j++){const G=Math.trunc((j+1)/2),te=(j&1)===0,ce=T+x*(te?G:-G);if(ce<0||ce>=f)break;try{d=i.getBlackRow(ce,d)}catch{continue}for(let be=0;be<2;be++){if(be===1&&(d.reverse(),o&&o.get(M.NEED_RESULT_POINT_CALLBACK)===!0)){const Se=new Map;o.forEach((Te,Ue)=>Se.set(Ue,Te)),Se.delete(M.NEED_RESULT_POINT_CALLBACK),o=Se}try{const Se=this.decodeRow(ce,d,o);if(be===1){Se.putMetadata(Oe.ORIENTATION,180);const Te=Se.getResultPoints();Te!==null&&(Te[0]=new ze(u-Te[0].getX()-1,Te[0].getY()),Te[1]=new ze(u-Te[1].getX()-1,Te[1].getY()))}return Se}catch{}}}throw new ie}static recordPattern(i,o,u){const f=u.length;for(let T=0;T<f;T++)u[T]=0;const d=i.getSize();if(o>=d)throw new ie;let g=!i.get(o),x=0,N=o;for(;N<d;){if(i.get(N)!==g)u[x]++;else{if(++x===f)break;u[x]=1,g=!g}N++}if(!(x===f||x===f-1&&N===d))throw new ie}static recordPatternInReverse(i,o,u){let f=u.length,d=i.get(o);for(;o>0&&f>=0;)i.get(--o)!==d&&(f--,d=!d);if(f>=0)throw new ie;Ve.recordPattern(i,o+1,u)}static patternMatchVariance(i,o,u){const f=i.length;let d=0,g=0;for(let T=0;T<f;T++)d+=i[T],g+=o[T];if(d<g)return Number.POSITIVE_INFINITY;const x=d/g;u*=x;let N=0;for(let T=0;T<f;T++){const j=i[T],G=o[T]*x,te=j>G?j-G:G-j;if(te>u)return Number.POSITIVE_INFINITY;N+=te}return N/d}}class Ke extends Ve{static findStartPattern(i){const o=i.getSize(),u=i.getNextSet(0);let f=0,d=Int32Array.from([0,0,0,0,0,0]),g=u,x=!1;const N=6;for(let T=u;T<o;T++)if(i.get(T)!==x)d[f]++;else{if(f===N-1){let j=Ke.MAX_AVG_VARIANCE,G=-1;for(let te=Ke.CODE_START_A;te<=Ke.CODE_START_C;te++){const ce=Ve.patternMatchVariance(d,Ke.CODE_PATTERNS[te],Ke.MAX_INDIVIDUAL_VARIANCE);ce<j&&(j=ce,G=te)}if(G>=0&&i.isRange(Math.max(0,g-(T-g)/2),g,!1))return Int32Array.from([g,T,G]);g+=d[0]+d[1],d=d.slice(2,d.length-1),d[f-1]=0,d[f]=0,f--}else f++;d[f]=1,x=!x}throw new ie}static decodeCode(i,o,u){Ve.recordPattern(i,u,o);let f=Ke.MAX_AVG_VARIANCE,d=-1;for(let g=0;g<Ke.CODE_PATTERNS.length;g++){const x=Ke.CODE_PATTERNS[g],N=this.patternMatchVariance(o,x,Ke.MAX_INDIVIDUAL_VARIANCE);N<f&&(f=N,d=g)}if(d>=0)return d;throw new ie}decodeRow(i,o,u){const f=u&&u.get(M.ASSUME_GS1)===!0,d=Ke.findStartPattern(o),g=d[2];let x=0;const N=new Uint8Array(20);N[x++]=g;let T;switch(g){case Ke.CODE_START_A:T=Ke.CODE_CODE_A;break;case Ke.CODE_START_B:T=Ke.CODE_CODE_B;break;case Ke.CODE_START_C:T=Ke.CODE_CODE_C;break;default:throw new D}let j=!1,G=!1,te="",ce=d[0],be=d[1];const Se=Int32Array.from([0,0,0,0,0,0]);let Te=0,Ue=0,it=g,ot=0,st=!0,an=!1,Ht=!1;for(;!j;){const _s=G;switch(G=!1,Te=Ue,Ue=Ke.decodeCode(o,Se,be),N[x++]=Ue,Ue!==Ke.CODE_STOP&&(st=!0),Ue!==Ke.CODE_STOP&&(ot++,it+=ot*Ue),ce=be,be+=Se.reduce((Vi,Hi)=>Vi+Hi,0),Ue){case Ke.CODE_START_A:case Ke.CODE_START_B:case Ke.CODE_START_C:throw new D}switch(T){case Ke.CODE_CODE_A:if(Ue<64)Ht===an?te+=String.fromCharCode(32+Ue):te+=String.fromCharCode(32+Ue+128),Ht=!1;else if(Ue<96)Ht===an?te+=String.fromCharCode(Ue-64):te+=String.fromCharCode(Ue+64),Ht=!1;else switch(Ue!==Ke.CODE_STOP&&(st=!1),Ue){case Ke.CODE_FNC_1:f&&(te.length===0?te+="]C1":te+="");break;case Ke.CODE_FNC_2:case Ke.CODE_FNC_3:break;case Ke.CODE_FNC_4_A:!an&&Ht?(an=!0,Ht=!1):an&&Ht?(an=!1,Ht=!1):Ht=!0;break;case Ke.CODE_SHIFT:G=!0,T=Ke.CODE_CODE_B;break;case Ke.CODE_CODE_B:T=Ke.CODE_CODE_B;break;case Ke.CODE_CODE_C:T=Ke.CODE_CODE_C;break;case Ke.CODE_STOP:j=!0;break}break;case Ke.CODE_CODE_B:if(Ue<96)Ht===an?te+=String.fromCharCode(32+Ue):te+=String.fromCharCode(32+Ue+128),Ht=!1;else switch(Ue!==Ke.CODE_STOP&&(st=!1),Ue){case Ke.CODE_FNC_1:f&&(te.length===0?te+="]C1":te+="");break;case Ke.CODE_FNC_2:case Ke.CODE_FNC_3:break;case Ke.CODE_FNC_4_B:!an&&Ht?(an=!0,Ht=!1):an&&Ht?(an=!1,Ht=!1):Ht=!0;break;case Ke.CODE_SHIFT:G=!0,T=Ke.CODE_CODE_A;break;case Ke.CODE_CODE_A:T=Ke.CODE_CODE_A;break;case Ke.CODE_CODE_C:T=Ke.CODE_CODE_C;break;case Ke.CODE_STOP:j=!0;break}break;case Ke.CODE_CODE_C:if(Ue<100)Ue<10&&(te+="0"),te+=Ue;else switch(Ue!==Ke.CODE_STOP&&(st=!1),Ue){case Ke.CODE_FNC_1:f&&(te.length===0?te+="]C1":te+="");break;case Ke.CODE_CODE_A:T=Ke.CODE_CODE_A;break;case Ke.CODE_CODE_B:T=Ke.CODE_CODE_B;break;case Ke.CODE_STOP:j=!0;break}break}_s&&(T=T===Ke.CODE_CODE_A?Ke.CODE_CODE_B:Ke.CODE_CODE_A)}const wr=be-ce;if(be=o.getNextUnset(be),!o.isRange(be,Math.min(o.getSize(),be+(be-ce)/2),!1))throw new ie;if(it-=ot*Te,it%103!==Te)throw new b;const qr=te.length;if(qr===0)throw new ie;qr>0&&st&&(T===Ke.CODE_CODE_C?te=te.substring(0,qr-2):te=te.substring(0,qr-1));const hr=(d[1]+d[0])/2,mn=ce+wr/2,ar=N.length,_r=new Uint8Array(ar);for(let _s=0;_s<ar;_s++)_r[_s]=N[_s];const Ri=[new ze(hr,i),new ze(mn,i)];return new de(te,_r,0,Ri,ye.CODE_128,new Date().getTime())}}Ke.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ke.MAX_AVG_VARIANCE=.25,Ke.MAX_INDIVIDUAL_VARIANCE=.7,Ke.CODE_SHIFT=98,Ke.CODE_CODE_C=99,Ke.CODE_CODE_B=100,Ke.CODE_CODE_A=101,Ke.CODE_FNC_1=102,Ke.CODE_FNC_2=97,Ke.CODE_FNC_3=96,Ke.CODE_FNC_4_A=101,Ke.CODE_FNC_4_B=100,Ke.CODE_START_A=103,Ke.CODE_START_B=104,Ke.CODE_START_C=105,Ke.CODE_STOP=106;class Et extends Ve{constructor(i=!1,o=!1){super(),this.usingCheckDigit=i,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,o,u){let f=this.counters;f.fill(0),this.decodeRowResult="";let d=Et.findAsteriskPattern(o,f),g=o.getNextSet(d[1]),x=o.getSize(),N,T;do{Et.recordPattern(o,g,f);let Se=Et.toNarrowWidePattern(f);if(Se<0)throw new ie;N=Et.patternToChar(Se),this.decodeRowResult+=N,T=g;for(let Te of f)g+=Te;g=o.getNextSet(g)}while(N!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let j=0;for(let Se of f)j+=Se;let G=g-T-j;if(g!==x&&G*2<j)throw new ie;if(this.usingCheckDigit){let Se=this.decodeRowResult.length-1,Te=0;for(let Ue=0;Ue<Se;Ue++)Te+=Et.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ue));if(this.decodeRowResult.charAt(Se)!==Et.ALPHABET_STRING.charAt(Te%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,Se)}if(this.decodeRowResult.length===0)throw new ie;let te;this.extendedMode?te=Et.decodeExtended(this.decodeRowResult):te=this.decodeRowResult;let ce=(d[1]+d[0])/2,be=T+j/2;return new de(te,null,0,[new ze(ce,i),new ze(be,i)],ye.CODE_39,new Date().getTime())}static findAsteriskPattern(i,o){let u=i.getSize(),f=i.getNextSet(0),d=0,g=f,x=!1,N=o.length;for(let T=f;T<u;T++)if(i.get(T)!==x)o[d]++;else{if(d===N-1){if(this.toNarrowWidePattern(o)===Et.ASTERISK_ENCODING&&i.isRange(Math.max(0,g-Math.floor((T-g)/2)),g,!1))return[g,T];g+=o[0]+o[1],o.copyWithin(0,2,2+d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,x=!x}throw new ie}static toNarrowWidePattern(i){let o=i.length,u=0,f;do{let d=2147483647;for(let N of i)N<d&&N>u&&(d=N);u=d,f=0;let g=0,x=0;for(let N=0;N<o;N++){let T=i[N];T>u&&(x|=1<<o-1-N,f++,g+=T)}if(f===3){for(let N=0;N<o&&f>0;N++){let T=i[N];if(T>u&&(f--,T*2>=g))return-1}return x}}while(f>3);return-1}static patternToChar(i){for(let o=0;o<Et.CHARACTER_ENCODINGS.length;o++)if(Et.CHARACTER_ENCODINGS[o]===i)return Et.ALPHABET_STRING.charAt(o);if(i===Et.ASTERISK_ENCODING)return"*";throw new ie}static decodeExtended(i){let o=i.length,u="";for(let f=0;f<o;f++){let d=i.charAt(f);if(d==="+"||d==="$"||d==="%"||d==="/"){let g=i.charAt(f+1),x="\0";switch(d){case"+":if(g>="A"&&g<="Z")x=String.fromCharCode(g.charCodeAt(0)+32);else throw new D;break;case"$":if(g>="A"&&g<="Z")x=String.fromCharCode(g.charCodeAt(0)-64);else throw new D;break;case"%":if(g>="A"&&g<="E")x=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")x=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")x=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")x=String.fromCharCode(g.charCodeAt(0)+43);else if(g==="U")x="\0";else if(g==="V")x="@";else if(g==="W")x="`";else if(g==="X"||g==="Y"||g==="Z")x="";else throw new D;break;case"/":if(g>="A"&&g<="O")x=String.fromCharCode(g.charCodeAt(0)-32);else if(g==="Z")x=":";else throw new D;break}u+=x,f++}else u+=d}return u}}Et.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Et.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Et.ASTERISK_ENCODING=148;class gt extends Ve{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,o,u){let f=this.decodeStart(o),d=this.decodeEnd(o),g=new ae;gt.decodeMiddle(o,f[1],d[0],g);let x=g.toString(),N=null;u!=null&&(N=u.get(M.ALLOWED_LENGTHS)),N==null&&(N=gt.DEFAULT_ALLOWED_LENGTHS);let T=x.length,j=!1,G=0;for(let be of N){if(T===be){j=!0;break}be>G&&(G=be)}if(!j&&T>G&&(j=!0),!j)throw new D;const te=[new ze(f[1],i),new ze(d[0],i)];return new de(x,null,0,te,ye.ITF,new Date().getTime())}static decodeMiddle(i,o,u,f){let d=new Int32Array(10),g=new Int32Array(5),x=new Int32Array(5);for(d.fill(0),g.fill(0),x.fill(0);o<u;){Ve.recordPattern(i,o,d);for(let T=0;T<5;T++){let j=2*T;g[T]=d[j],x[T]=d[j+1]}let N=gt.decodeDigit(g);f.append(N.toString()),N=this.decodeDigit(x),f.append(N.toString()),d.forEach(function(T){o+=T})}}decodeStart(i){let o=gt.skipWhiteSpace(i),u=gt.findGuardPattern(i,o,gt.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(i,u[0]),u}validateQuietZone(i,o){let u=this.narrowLineWidth*10;u=u<o?u:o;for(let f=o-1;u>0&&f>=0&&!i.get(f);f--)u--;if(u!==0)throw new ie}static skipWhiteSpace(i){const o=i.getSize(),u=i.getNextSet(0);if(u===o)throw new ie;return u}decodeEnd(i){i.reverse();try{let o=gt.skipWhiteSpace(i),u;try{u=gt.findGuardPattern(i,o,gt.END_PATTERN_REVERSED[0])}catch(d){d instanceof ie&&(u=gt.findGuardPattern(i,o,gt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,u[0]);let f=u[0];return u[0]=i.getSize()-u[1],u[1]=i.getSize()-f,u}finally{i.reverse()}}static findGuardPattern(i,o,u){let f=u.length,d=new Int32Array(f),g=i.getSize(),x=!1,N=0,T=o;d.fill(0);for(let j=o;j<g;j++)if(i.get(j)!==x)d[N]++;else{if(N===f-1){if(Ve.patternMatchVariance(d,u,gt.MAX_INDIVIDUAL_VARIANCE)<gt.MAX_AVG_VARIANCE)return[T,j];T+=d[0]+d[1],A.arraycopy(d,2,d,0,N-1),d[N-1]=0,d[N]=0,N--}else N++;d[N]=1,x=!x}throw new ie}static decodeDigit(i){let o=gt.MAX_AVG_VARIANCE,u=-1,f=gt.PATTERNS.length;for(let d=0;d<f;d++){let g=gt.PATTERNS[d],x=Ve.patternMatchVariance(i,g,gt.MAX_INDIVIDUAL_VARIANCE);x<o?(o=x,u=d):x===o&&(u=-1)}if(u>=0)return u%10;throw new ie}}gt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],gt.MAX_AVG_VARIANCE=.38,gt.MAX_INDIVIDUAL_VARIANCE=.5,gt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],gt.START_PATTERN=Int32Array.from([1,1,1,1]),gt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Lt extends Ve{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let o=!1,u,f=0,d=Int32Array.from([0,0,0]);for(;!o;){d=Int32Array.from([0,0,0]),u=Lt.findGuardPattern(i,f,!1,this.START_END_PATTERN,d);let g=u[0];f=u[1];let x=g-(f-g);x>=0&&(o=i.isRange(x,g,!1))}return u}static checkChecksum(i){return Lt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let u=parseInt(i.charAt(o-1),10);return Lt.getStandardUPCEANChecksum(i.substring(0,o-1))===u}static getStandardUPCEANChecksum(i){let o=i.length,u=0;for(let f=o-1;f>=0;f-=2){let d=i.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new D;u+=d}u*=3;for(let f=o-2;f>=0;f-=2){let d=i.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new D;u+=d}return(1e3-u)%10}static decodeEnd(i,o){return Lt.findGuardPattern(i,o,!1,Lt.START_END_PATTERN,new Int32Array(Lt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,o,u,f){return this.findGuardPattern(i,o,u,f,new Int32Array(f.length))}static findGuardPattern(i,o,u,f,d){let g=i.getSize();o=u?i.getNextUnset(o):i.getNextSet(o);let x=0,N=o,T=f.length,j=u;for(let G=o;G<g;G++)if(i.get(G)!==j)d[x]++;else{if(x===T-1){if(Ve.patternMatchVariance(d,f,Lt.MAX_INDIVIDUAL_VARIANCE)<Lt.MAX_AVG_VARIANCE)return Int32Array.from([N,G]);N+=d[0]+d[1];let te=d.slice(2,d.length-1);for(let ce=0;ce<x-1;ce++)d[ce]=te[ce];d[x-1]=0,d[x]=0,x--}else x++;d[x]=1,j=!j}throw new ie}static decodeDigit(i,o,u,f){this.recordPattern(i,u,o);let d=this.MAX_AVG_VARIANCE,g=-1,x=f.length;for(let N=0;N<x;N++){let T=f[N],j=Ve.patternMatchVariance(o,T,Lt.MAX_INDIVIDUAL_VARIANCE);j<d&&(d=j,g=N)}if(g>=0)return g;throw new ie}}Lt.MAX_AVG_VARIANCE=.48,Lt.MAX_INDIVIDUAL_VARIANCE=.7,Lt.START_END_PATTERN=Int32Array.from([1,1,1]),Lt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Lt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Lt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Dt{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,u){let f=this.decodeRowStringBuffer,d=this.decodeMiddle(o,u,f),g=f.toString(),x=Dt.parseExtensionString(g),N=[new ze((u[0]+u[1])/2,i),new ze(d,i)],T=new de(g,null,0,N,ye.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&T.putAllMetadata(x),T}decodeMiddle(i,o,u){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=i.getSize(),g=o[1],x=0;for(let T=0;T<5&&g<d;T++){let j=Lt.decodeDigit(i,f,g,Lt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+j%10);for(let G of f)g+=G;j>=10&&(x|=1<<4-T),T!==4&&(g=i.getNextSet(g),g=i.getNextUnset(g))}if(u.length!==5)throw new ie;let N=this.determineCheckDigit(x);if(Dt.extensionChecksum(u.toString())!==N)throw new ie;return g}static extensionChecksum(i){let o=i.length,u=0;for(let f=o-2;f>=0;f-=2)u+=i.charAt(f).charCodeAt(0)-48;u*=3;for(let f=o-1;f>=0;f-=2)u+=i.charAt(f).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(i){for(let o=0;o<10;o++)if(i===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new ie}static parseExtensionString(i){if(i.length!==5)return null;let o=Dt.parseExtension5String(i);return o==null?null:new Map([[Oe.SUGGESTED_PRICE,o]])}static parseExtension5String(i){let o;switch(i.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let u=parseInt(i.substring(1)),f=(u/100).toString(),d=u%100,g=d<10?"0"+d:d.toString();return o+f+"."+g}}class Us{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,u){let f=this.decodeRowStringBuffer,d=this.decodeMiddle(o,u,f),g=f.toString(),x=Us.parseExtensionString(g),N=[new ze((u[0]+u[1])/2,i),new ze(d,i)],T=new de(g,null,0,N,ye.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&T.putAllMetadata(x),T}decodeMiddle(i,o,u){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=i.getSize(),g=o[1],x=0;for(let N=0;N<2&&g<d;N++){let T=Lt.decodeDigit(i,f,g,Lt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+T%10);for(let j of f)g+=j;T>=10&&(x|=1<<1-N),N!==1&&(g=i.getNextSet(g),g=i.getNextUnset(g))}if(u.length!==2)throw new ie;if(parseInt(u.toString())%4!==x)throw new ie;return g}static parseExtensionString(i){return i.length!==2?null:new Map([[Oe.ISSUE_NUMBER,parseInt(i)]])}}class Gn{static decodeRow(i,o,u){let f=Lt.findGuardPattern(o,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Dt().decodeRow(i,o,f)}catch{return new Us().decodeRow(i,o,f)}}}Gn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class en extends Lt{constructor(){super(),this.decodeRowStringBuffer="",en.L_AND_G_PATTERNS=en.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let o=en.L_PATTERNS[i-10],u=new Int32Array(o.length);for(let f=0;f<o.length;f++)u[f]=o[o.length-f-1];en.L_AND_G_PATTERNS[i]=u}}decodeRow(i,o,u){let f=en.findStartGuardPattern(o),d=u==null?null:u.get(M.NEED_RESULT_POINT_CALLBACK);if(d!=null){const st=new ze((f[0]+f[1])/2,i);d.foundPossibleResultPoint(st)}let g=this.decodeMiddle(o,f,this.decodeRowStringBuffer),x=g.rowOffset,N=g.resultString;if(d!=null){const st=new ze(x,i);d.foundPossibleResultPoint(st)}let T=this.decodeEnd(o,x);if(d!=null){const st=new ze((T[0]+T[1])/2,i);d.foundPossibleResultPoint(st)}let j=T[1],G=j+(j-T[0]);if(G>=o.getSize()||!o.isRange(j,G,!1))throw new ie;let te=N.toString();if(te.length<8)throw new D;if(!en.checkChecksum(te))throw new b;let ce=(f[1]+f[0])/2,be=(T[1]+T[0])/2,Se=this.getBarcodeFormat(),Te=[new ze(ce,i),new ze(be,i)],Ue=new de(te,null,0,Te,Se,new Date().getTime()),it=0;try{let st=Gn.decodeRow(i,o,T[1]);Ue.putMetadata(Oe.UPC_EAN_EXTENSION,st.getText()),Ue.putAllMetadata(st.getResultMetadata()),Ue.addResultPoints(st.getResultPoints()),it=st.getText().length}catch{}let ot=u==null?null:u.get(M.ALLOWED_EAN_EXTENSIONS);if(ot!=null){let st=!1;for(let an in ot)if(it.toString()===an){st=!0;break}if(!st)throw new ie}return Ue}decodeEnd(i,o){return en.findGuardPattern(i,o,!1,en.START_END_PATTERN,new Int32Array(en.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return en.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let u=parseInt(i.charAt(o-1),10);return en.getStandardUPCEANChecksum(i.substring(0,o-1))===u}static getStandardUPCEANChecksum(i){let o=i.length,u=0;for(let f=o-1;f>=0;f-=2){let d=i.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new D;u+=d}u*=3;for(let f=o-2;f>=0;f-=2){let d=i.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new D;u+=d}return(1e3-u)%10}}class ii extends en{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,u){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=i.getSize(),g=o[1],x=0;for(let T=0;T<6&&g<d;T++){let j=en.decodeDigit(i,f,g,en.L_AND_G_PATTERNS);u+=String.fromCharCode(48+j%10);for(let G of f)g+=G;j>=10&&(x|=1<<5-T)}u=ii.determineFirstDigit(u,x),g=en.findGuardPattern(i,g,!0,en.MIDDLE_PATTERN,new Int32Array(en.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<6&&g<d;T++){let j=en.decodeDigit(i,f,g,en.L_PATTERNS);u+=String.fromCharCode(48+j);for(let G of f)g+=G}return{rowOffset:g,resultString:u}}getBarcodeFormat(){return ye.EAN_13}static determineFirstDigit(i,o){for(let u=0;u<10;u++)if(o===this.FIRST_DIGIT_ENCODINGS[u])return i=String.fromCharCode(48+u)+i,i;throw new ie}}ii.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Xn extends en{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,u){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=i.getSize(),g=o[1];for(let N=0;N<4&&g<d;N++){let T=en.decodeDigit(i,f,g,en.L_PATTERNS);u+=String.fromCharCode(48+T);for(let j of f)g+=j}g=en.findGuardPattern(i,g,!0,en.MIDDLE_PATTERN,new Int32Array(en.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<4&&g<d;N++){let T=en.decodeDigit(i,f,g,en.L_PATTERNS);u+=String.fromCharCode(48+T);for(let j of f)g+=j}return{rowOffset:g,resultString:u}}getBarcodeFormat(){return ye.EAN_8}}class Yt extends en{constructor(){super(...arguments),this.ean13Reader=new ii}getBarcodeFormat(){return ye.UPC_A}decode(i,o){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,o,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,o,u))}decodeMiddle(i,o,u){return this.ean13Reader.decodeMiddle(i,o,u)}maybeReturnResult(i){let o=i.getText();if(o.charAt(0)==="0"){let u=new de(o.substring(1),null,null,i.getResultPoints(),ye.UPC_A);return i.getResultMetadata()!=null&&u.putAllMetadata(i.getResultMetadata()),u}else throw new ie}reset(){this.ean13Reader.reset()}}class nn extends en{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,o,u){const f=this.decodeMiddleCounters.map(T=>T);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const d=i.getSize();let g=o[1],x=0;for(let T=0;T<6&&g<d;T++){const j=nn.decodeDigit(i,f,g,nn.L_AND_G_PATTERNS);u+=String.fromCharCode(48+j%10);for(let G of f)g+=G;j>=10&&(x|=1<<5-T)}let N=nn.determineNumSysAndCheckDigit(u,x);return{rowOffset:g,resultString:N}}decodeEnd(i,o){return nn.findGuardPatternWithoutCounters(i,o,!0,nn.MIDDLE_END_PATTERN)}checkChecksum(i){return en.checkChecksum(nn.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,o){for(let u=0;u<=1;u++)for(let f=0;f<10;f++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][f]){let d=String.fromCharCode(48+u),g=String.fromCharCode(48+f);return d+i+g}throw ie.getNotFoundInstance()}getBarcodeFormat(){return ye.UPC_E}static convertUPCEtoUPCA(i){const o=i.slice(1,7).split("").map(d=>d.charCodeAt(0)),u=new ae;u.append(i.charAt(0));let f=o[5];switch(f){case 0:case 1:case 2:u.appendChars(o,0,2),u.append(f),u.append("0000"),u.appendChars(o,2,3);break;case 3:u.appendChars(o,0,3),u.append("00000"),u.appendChars(o,3,2);break;case 4:u.appendChars(o,0,4),u.append("00000"),u.append(o[4]);break;default:u.appendChars(o,0,5),u.append("0000"),u.append(f);break}return i.length>=8&&u.append(i.charAt(7)),u.toString()}}nn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),nn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class zs extends Ve{constructor(i){super();let o=i==null?null:i.get(M.POSSIBLE_FORMATS),u=[];r(o)?(u.push(new ii),u.push(new Yt),u.push(new Xn),u.push(new nn)):(o.indexOf(ye.EAN_13)>-1&&u.push(new ii),o.indexOf(ye.UPC_A)>-1&&u.push(new Yt),o.indexOf(ye.EAN_8)>-1&&u.push(new Xn),o.indexOf(ye.UPC_E)>-1&&u.push(new nn)),this.readers=u}decodeRow(i,o,u){for(let f of this.readers)try{const d=f.decodeRow(i,o,u),g=d.getBarcodeFormat()===ye.EAN_13&&d.getText().charAt(0)==="0",x=u==null?null:u.get(M.POSSIBLE_FORMATS),N=x==null||x.includes(ye.UPC_A);if(g&&N){const T=d.getRawBytes(),j=new de(d.getText().substring(1),T,T?T.length:null,d.getResultPoints(),ye.UPC_A);return j.putAllMetadata(d.getResultMetadata()),j}return d}catch{}throw new ie}reset(){for(let i of this.readers)i.reset()}}class yn extends Ve{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,o){for(let u=0;u<o.length;u++)if(Ve.patternMatchVariance(i,o[u],yn.MAX_INDIVIDUAL_VARIANCE)<yn.MAX_AVG_VARIANCE)return u;throw new ie}static count(i){return Xe.sum(new Int32Array(i))}static increment(i,o){let u=0,f=o[0];for(let d=1;d<i.length;d++)o[d]>f&&(f=o[d],u=d);i[u]++}static decrement(i,o){let u=0,f=o[0];for(let d=1;d<i.length;d++)o[d]<f&&(f=o[d],u=d);i[u]--}static isFinderPattern(i){let o=i[0]+i[1],u=o+i[2]+i[3],f=o/u;if(f>=yn.MIN_FINDER_PATTERN_RATIO&&f<=yn.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let x of i)x>g&&(g=x),x<d&&(d=x);return g<10*d}return!1}}yn.MAX_AVG_VARIANCE=.2,yn.MAX_INDIVIDUAL_VARIANCE=.45,yn.MIN_FINDER_PATTERN_RATIO=9.5/12,yn.MAX_FINDER_PATTERN_RATIO=12.5/14;class si{constructor(i,o){this.value=i,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof si))return!1;const o=i;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Li{constructor(i,o,u,f,d){this.value=i,this.startEnd=o,this.value=i,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new ze(u,d)),this.resultPoints.push(new ze(f,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Li))return!1;const o=i;return this.value===o.value}hashCode(){return this.value}}class Tt{constructor(){}static getRSSvalue(i,o,u){let f=0;for(let N of i)f+=N;let d=0,g=0,x=i.length;for(let N=0;N<x-1;N++){let T;for(T=1,g|=1<<N;T<i[N];T++,g&=~(1<<N)){let j=Tt.combins(f-T-1,x-N-2);if(u&&g===0&&f-T-(x-N-1)>=x-N-1&&(j-=Tt.combins(f-T-(x-N),x-N-2)),x-N-1>1){let G=0;for(let te=f-T-(x-N-2);te>o;te--)G+=Tt.combins(f-T-te-1,x-N-3);j-=G*(x-1-N)}else f-T>o&&j--;d+=j}f-=T}return d}static combins(i,o){let u,f;i-o>o?(f=o,u=i-o):(f=i-o,u=o);let d=1,g=1;for(let x=i;x>u;x--)d*=x,g<=f&&(d/=g,g++);for(;g<=f;)d/=g,g++;return d}}class ts{static buildBitArray(i){let o=i.length*2-1;i[i.length-1].getRightChar()==null&&(o-=1);let u=12*o,f=new z(u),d=0,x=i[0].getRightChar().getValue();for(let N=11;N>=0;--N)x&1<<N&&f.set(d),d++;for(let N=1;N<i.length;++N){let T=i[N],j=T.getLeftChar().getValue();for(let G=11;G>=0;--G)j&1<<G&&f.set(d),d++;if(T.getRightChar()!=null){let G=T.getRightChar().getValue();for(let te=11;te>=0;--te)G&1<<te&&f.set(d),d++}}return f}}class Xr{constructor(i,o){o?this.decodedInformation=null:(this.finished=i,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Yr{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class wn extends Yr{constructor(i,o){super(i),this.value=o}getValue(){return this.value}isFNC1(){return this.value===wn.FNC1}}wn.FNC1="$";class On extends Yr{constructor(i,o,u){super(i),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class jn extends Yr{constructor(i,o,u){if(super(i),o<0||o>10||u<0||u>10)throw new D;this.firstDigit=o,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===jn.FNC1}isSecondDigitFNC1(){return this.secondDigit===jn.FNC1}isAnyFNC1(){return this.firstDigit===jn.FNC1||this.secondDigit===jn.FNC1}}jn.FNC1=10;class wt{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new ie;let o=i.substring(0,2);for(let d of wt.TWO_DIGIT_DATA_LENGTH)if(d[0]===o)return d[1]===wt.VARIABLE_LENGTH?wt.processVariableAI(2,d[2],i):wt.processFixedAI(2,d[1],i);if(i.length<3)throw new ie;let u=i.substring(0,3);for(let d of wt.THREE_DIGIT_DATA_LENGTH)if(d[0]===u)return d[1]===wt.VARIABLE_LENGTH?wt.processVariableAI(3,d[2],i):wt.processFixedAI(3,d[1],i);for(let d of wt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===u)return d[1]===wt.VARIABLE_LENGTH?wt.processVariableAI(4,d[2],i):wt.processFixedAI(4,d[1],i);if(i.length<4)throw new ie;let f=i.substring(0,4);for(let d of wt.FOUR_DIGIT_DATA_LENGTH)if(d[0]===f)return d[1]===wt.VARIABLE_LENGTH?wt.processVariableAI(4,d[2],i):wt.processFixedAI(4,d[1],i);throw new ie}static processFixedAI(i,o,u){if(u.length<i)throw new ie;let f=u.substring(0,i);if(u.length<i+o)throw new ie;let d=u.substring(i,i+o),g=u.substring(i+o),x="("+f+")"+d,N=wt.parseFieldsInGeneralPurpose(g);return N==null?x:x+N}static processVariableAI(i,o,u){let f=u.substring(0,i),d;u.length<i+o?d=u.length:d=i+o;let g=u.substring(i,d),x=u.substring(d),N="("+f+")"+g,T=wt.parseFieldsInGeneralPurpose(x);return T==null?N:N+T}}wt.VARIABLE_LENGTH=[],wt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",wt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",wt.VARIABLE_LENGTH,20],["22",wt.VARIABLE_LENGTH,29],["30",wt.VARIABLE_LENGTH,8],["37",wt.VARIABLE_LENGTH,8],["90",wt.VARIABLE_LENGTH,30],["91",wt.VARIABLE_LENGTH,30],["92",wt.VARIABLE_LENGTH,30],["93",wt.VARIABLE_LENGTH,30],["94",wt.VARIABLE_LENGTH,30],["95",wt.VARIABLE_LENGTH,30],["96",wt.VARIABLE_LENGTH,30],["97",wt.VARIABLE_LENGTH,3],["98",wt.VARIABLE_LENGTH,30],["99",wt.VARIABLE_LENGTH,30]],wt.THREE_DIGIT_DATA_LENGTH=[["240",wt.VARIABLE_LENGTH,30],["241",wt.VARIABLE_LENGTH,30],["242",wt.VARIABLE_LENGTH,6],["250",wt.VARIABLE_LENGTH,30],["251",wt.VARIABLE_LENGTH,30],["253",wt.VARIABLE_LENGTH,17],["254",wt.VARIABLE_LENGTH,20],["400",wt.VARIABLE_LENGTH,30],["401",wt.VARIABLE_LENGTH,30],["402",17],["403",wt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",wt.VARIABLE_LENGTH,20],["421",wt.VARIABLE_LENGTH,15],["422",3],["423",wt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],wt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",wt.VARIABLE_LENGTH,15],["391",wt.VARIABLE_LENGTH,18],["392",wt.VARIABLE_LENGTH,15],["393",wt.VARIABLE_LENGTH,18],["703",wt.VARIABLE_LENGTH,30]],wt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",wt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",wt.VARIABLE_LENGTH,20],["8003",wt.VARIABLE_LENGTH,30],["8004",wt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",wt.VARIABLE_LENGTH,30],["8008",wt.VARIABLE_LENGTH,12],["8018",18],["8020",wt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",wt.VARIABLE_LENGTH,70],["8200",wt.VARIABLE_LENGTH,70]];class di{constructor(i){this.buffer=new ae,this.information=i}decodeAllCodes(i,o){let u=o,f=null;do{let d=this.decodeGeneralPurposeField(u,f),g=wt.parseFieldsInGeneralPurpose(d.getNewString());if(g!=null&&i.append(g),d.isRemaining()?f=""+d.getRemainingValue():f=null,u===d.getNewPosition())break;u=d.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let o=i;o<i+3;++o)if(this.information.get(o))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(i,4);return d===0?new jn(this.information.getSize(),jn.FNC1,jn.FNC1):new jn(this.information.getSize(),d-1,jn.FNC1)}let o=this.extractNumericValueFromBitArray(i,7),u=(o-8)/11,f=(o-8)%11;return new jn(i+7,u,f)}extractNumericValueFromBitArray(i,o){return di.extractNumericValueFromBitArray(this.information,i,o)}static extractNumericValueFromBitArray(i,o,u){let f=0;for(let d=0;d<u;++d)i.get(o+d)&&(f|=1<<u-d-1);return f}decodeGeneralPurposeField(i,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(i);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new On(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new On(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,o;do{let u=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),i=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),i=o.isFinished()):(o=this.parseNumericBlock(),i=o.isFinished()),!(u!==this.current.getPosition())&&!i)break}while(!i);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let o;return i.isSecondDigitFNC1()?o=new On(this.current.getPosition(),this.buffer.toString()):o=new On(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Xr(!0,o)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let o=new On(this.current.getPosition(),this.buffer.toString());return new Xr(!0,o)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Xr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new On(this.current.getPosition(),this.buffer.toString());return new Xr(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Xr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new On(this.current.getPosition(),this.buffer.toString());return new Xr(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Xr(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,7);if(u>=64&&u<116)return!0;if(i+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(i,8);return f>=232&&f<253}decodeIsoIec646(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new wn(i+5,wn.FNC1);if(o>=5&&o<15)return new wn(i+5,"0"+(o-5));let u=this.extractNumericValueFromBitArray(i,7);if(u>=64&&u<90)return new wn(i+7,""+(u+1));if(u>=90&&u<116)return new wn(i+7,""+(u+7));let f=this.extractNumericValueFromBitArray(i,8),d;switch(f){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new D}return new wn(i+8,d)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,6);return u>=16&&u<63}decodeAlphanumeric(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new wn(i+5,wn.FNC1);if(o>=5&&o<15)return new wn(i+5,"0"+(o-5));let u=this.extractNumericValueFromBitArray(i,6);if(u>=32&&u<58)return new wn(i+6,""+(u+33));let f;switch(u){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new qe("Decoding invalid alphanumeric value: "+u)}return new wn(i+6,f)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<5&&o+i<this.information.getSize();++o)if(o===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+o))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let o=i;o<i+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<4&&o+i<this.information.getSize();++o)if(this.information.get(i+o))return!1;return!0}}class ki{constructor(i){this.information=i,this.generalDecoder=new di(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Un extends ki{constructor(i){super(i)}encodeCompressedGtin(i,o){i.append("(01)");let u=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,o,u)}encodeCompressedGtinWithoutAI(i,o,u){for(let f=0;f<4;++f){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*f,10);d/100===0&&i.append("0"),d/10===0&&i.append("0"),i.append(d)}Un.appendCheckDigit(i,u)}static appendCheckDigit(i,o){let u=0;for(let f=0;f<13;f++){let d=i.charAt(f+o).charCodeAt(0)-48;u+=f&1?d:3*d}u=10-u%10,u===10&&(u=0),i.append(u)}}Un.GTIN_SIZE=40;class Kr extends Un{constructor(i){super(i)}parseInformation(){let i=new ae;i.append("(01)");let o=i.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(Kr.HEADER_SIZE,4);return i.append(u),this.encodeCompressedGtinWithoutAI(i,Kr.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(i,Kr.HEADER_SIZE+44)}}Kr.HEADER_SIZE=4;class Pi extends ki{constructor(i){super(i)}parseInformation(){let i=new ae;return this.getGeneralDecoder().decodeAllCodes(i,Pi.HEADER_SIZE)}}Pi.HEADER_SIZE=5;class ai extends Un{constructor(i){super(i)}encodeCompressedWeight(i,o,u){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o,u);this.addWeightCode(i,f);let d=this.checkWeight(f),g=1e5;for(let x=0;x<5;++x)d/g===0&&i.append("0"),g/=10;i.append(d)}}class Er extends ai{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=Er.HEADER_SIZE+ai.GTIN_SIZE+Er.WEIGHT_SIZE)throw new ie;let i=new ae;return this.encodeCompressedGtin(i,Er.HEADER_SIZE),this.encodeCompressedWeight(i,Er.HEADER_SIZE+ai.GTIN_SIZE,Er.WEIGHT_SIZE),i.toString()}}Er.HEADER_SIZE=5,Er.WEIGHT_SIZE=15;class Na extends Er{constructor(i){super(i)}addWeightCode(i,o){i.append("(3103)")}checkWeight(i){return i}}class ro extends Er{constructor(i){super(i)}addWeightCode(i,o){o<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class oi extends Un{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<oi.HEADER_SIZE+Un.GTIN_SIZE)throw new ie;let i=new ae;this.encodeCompressedGtin(i,oi.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(oi.HEADER_SIZE+Un.GTIN_SIZE,oi.LAST_DIGIT_SIZE);i.append("(392"),i.append(o),i.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(oi.HEADER_SIZE+Un.GTIN_SIZE+oi.LAST_DIGIT_SIZE,null);return i.append(u.getNewString()),i.toString()}}oi.HEADER_SIZE=8,oi.LAST_DIGIT_SIZE=2;class mr extends Un{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<mr.HEADER_SIZE+Un.GTIN_SIZE)throw new ie;let i=new ae;this.encodeCompressedGtin(i,mr.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(mr.HEADER_SIZE+Un.GTIN_SIZE,mr.LAST_DIGIT_SIZE);i.append("(393"),i.append(o),i.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(mr.HEADER_SIZE+Un.GTIN_SIZE+mr.LAST_DIGIT_SIZE,mr.FIRST_THREE_DIGITS_SIZE);u/100==0&&i.append("0"),u/10==0&&i.append("0"),i.append(u);let f=this.getGeneralDecoder().decodeGeneralPurposeField(mr.HEADER_SIZE+Un.GTIN_SIZE+mr.LAST_DIGIT_SIZE+mr.FIRST_THREE_DIGITS_SIZE,null);return i.append(f.getNewString()),i.toString()}}mr.HEADER_SIZE=8,mr.LAST_DIGIT_SIZE=2,mr.FIRST_THREE_DIGITS_SIZE=10;class Cn extends ai{constructor(i,o,u){super(i),this.dateCode=u,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Cn.HEADER_SIZE+Cn.GTIN_SIZE+Cn.WEIGHT_SIZE+Cn.DATE_SIZE)throw new ie;let i=new ae;return this.encodeCompressedGtin(i,Cn.HEADER_SIZE),this.encodeCompressedWeight(i,Cn.HEADER_SIZE+Cn.GTIN_SIZE,Cn.WEIGHT_SIZE),this.encodeCompressedDate(i,Cn.HEADER_SIZE+Cn.GTIN_SIZE+Cn.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,o){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Cn.DATE_SIZE);if(u==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let f=u%32;u/=32;let d=u%12+1;u/=12;let g=u;g/10==0&&i.append("0"),i.append(g),d/10==0&&i.append("0"),i.append(d),f/10==0&&i.append("0"),i.append(f)}addWeightCode(i,o){i.append("("),i.append(this.firstAIdigits),i.append(o/1e5),i.append(")")}checkWeight(i){return i%1e5}}Cn.HEADER_SIZE=8,Cn.WEIGHT_SIZE=20,Cn.DATE_SIZE=16;function al(Y){try{if(Y.get(1))return new Kr(Y);if(!Y.get(2))return new Pi(Y);switch(di.extractNumericValueFromBitArray(Y,1,4)){case 4:return new Na(Y);case 5:return new ro(Y)}switch(di.extractNumericValueFromBitArray(Y,1,5)){case 12:return new oi(Y);case 13:return new mr(Y)}switch(di.extractNumericValueFromBitArray(Y,1,7)){case 56:return new Cn(Y,"310","11");case 57:return new Cn(Y,"320","11");case 58:return new Cn(Y,"310","13");case 59:return new Cn(Y,"320","13");case 60:return new Cn(Y,"310","15");case 61:return new Cn(Y,"320","15");case 62:return new Cn(Y,"310","17");case 63:return new Cn(Y,"320","17")}}catch(i){throw console.log(i),new qe("unknown decoder: "+Y)}}class bs{constructor(i,o,u,f){this.leftchar=i,this.rightchar=o,this.finderpattern=u,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,o){return i instanceof bs?bs.equalsOrNull(i.leftchar,o.leftchar)&&bs.equalsOrNull(i.rightchar,o.rightchar)&&bs.equalsOrNull(i.finderpattern,o.finderpattern):!1}static equalsOrNull(i,o){return i===null?o===null:bs.equals(i,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ol{constructor(i,o,u){this.pairs=i,this.rowNumber=o,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,o){return i instanceof ol?this.checkEqualitity(i,o)&&i.wasReversed===o.wasReversed:!1}checkEqualitity(i,o){if(!i||!o)return;let u;return i.forEach((f,d)=>{o.forEach(g=>{f.getLeftChar().getValue()===g.getLeftChar().getValue()&&f.getRightChar().getValue()===g.getRightChar().getValue()&&f.getFinderPatter().getValue()===g.getFinderPatter().getValue()&&(u=!0)})}),u}}class et extends yn{constructor(i){super(...arguments),this.pairs=new Array(et.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,o,u){this.pairs.length=0,this.startFromEven=!1;try{return et.constructResult(this.decodeRow2pairs(i,o))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,et.constructResult(this.decodeRow2pairs(i,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,o){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,i))}catch(d){if(d instanceof ie){if(!this.pairs.length)throw new ie;u=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(i,!1),f){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new ie}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return i&&(this.rows=this.rows.reverse()),o}checkRows(i,o){for(let u=o;u<this.rows.length;u++){let f=this.rows[u];this.pairs.length=0;for(let g of i)this.pairs.push(g.getPairs());if(this.pairs.push(f.getPairs()),!et.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(i);d.push(f);try{return this.checkRows(d,u+1)}catch(g){this.verbose&&console.log(g)}}throw new ie}static isValidSequence(i){for(let o of et.FINDER_PATTERN_SEQUENCES){if(i.length>o.length)continue;let u=!0;for(let f=0;f<i.length;f++)if(i[f].getFinderPattern().getValue()!=o[f]){u=!1;break}if(u)return!0}return!1}storeRow(i,o){let u=0,f=!1,d=!1;for(;u<this.rows.length;){let g=this.rows[u];if(g.getRowNumber()>i){d=g.isEquivalent(this.pairs);break}f=g.isEquivalent(this.pairs),u++}d||f||et.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new ol(this.pairs,i,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,o){for(let u of o)if(u.getPairs().length!==i.length){for(let f of u.getPairs())for(let d of i)if(bs.equals(f,d))break}}static isPartialRow(i,o){for(let u of o){let f=!0;for(let d of i){let g=!1;for(let x of u.getPairs())if(d.equals(x)){g=!0;break}if(!g){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(i){let o=ts.buildBitArray(i),f=al(o).parseInformation(),d=i[0].getFinderPattern().getResultPoints(),g=i[i.length-1].getFinderPattern().getResultPoints(),x=[d[0],d[1],g[0],g[1]];return new de(f,null,null,x,ye.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),o=i.getLeftChar(),u=i.getRightChar();if(u==null)return!1;let f=u.getChecksumPortion(),d=2;for(let x=1;x<this.pairs.size();++x){let N=this.pairs.get(x);f+=N.getLeftChar().getChecksumPortion(),d++;let T=N.getRightChar();T!=null&&(f+=T.getChecksumPortion(),d++)}return f%=211,211*(d-4)+f==o.getValue()}static getNextSecondBar(i,o){let u;return i.get(o)?(u=i.getNextUnset(o),u=i.getNextSet(u)):(u=i.getNextSet(o),u=i.getNextUnset(u)),u}retrieveNextPair(i,o,u){let f=o.length%2==0;this.startFromEven&&(f=!f);let d,g=!0,x=-1;do this.findNextPair(i,o,x),d=this.parseFoundFinderPattern(i,u,f),d==null?x=et.getNextSecondBar(i,this.startEnd[0]):g=!1;while(g);let N=this.decodeDataCharacter(i,d,f,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new ie;let T;try{T=this.decodeDataCharacter(i,d,f,!1)}catch(j){T=null,this.verbose&&console.log(j)}return new bs(N,T,d,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,o,u){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=i.getSize(),g;u>=0?g=u:this.isEmptyPair(o)?g=0:g=o[o.length-1].getFinderPattern().getStartEnd()[1];let x=o.length%2!=0;this.startFromEven&&(x=!x);let N=!1;for(;g<d&&(N=!i.get(g),!!N);)g++;let T=0,j=g;for(let G=g;G<d;G++)if(i.get(G)!=N)f[T]++;else{if(T==3){if(x&&et.reverseCounters(f),et.isFinderPattern(f)){this.startEnd[0]=j,this.startEnd[1]=G;return}x&&et.reverseCounters(f),j+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,T--}else T++;f[T]=1,N=!N}throw new ie}static reverseCounters(i){let o=i.length;for(let u=0;u<o/2;++u){let f=i[u];i[u]=i[o-u-1],i[o-u-1]=f}}parseFoundFinderPattern(i,o,u){let f,d,g;if(u){let T=this.startEnd[0]-1;for(;T>=0&&!i.get(T);)T--;T++,f=this.startEnd[0]-T,d=T,g=this.startEnd[1]}else d=this.startEnd[0],g=i.getNextUnset(this.startEnd[1]+1),f=g-this.startEnd[1];let x=this.getDecodeFinderCounters();A.arraycopy(x,0,x,1,x.length-1),x[0]=f;let N;try{N=this.parseFinderValue(x,et.FINDER_PATTERNS)}catch{return null}return new Li(N,[d,g],d,g,o)}decodeDataCharacter(i,o,u,f){let d=this.getDataCharacterCounters();for(let mn=0;mn<d.length;mn++)d[mn]=0;if(f)et.recordPatternInReverse(i,o.getStartEnd()[0],d);else{et.recordPattern(i,o.getStartEnd()[1],d);for(let mn=0,ar=d.length-1;mn<ar;mn++,ar--){let _r=d[mn];d[mn]=d[ar],d[ar]=_r}}let g=17,x=Xe.sum(new Int32Array(d))/g,N=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(x-N)/N>.3)throw new ie;let T=this.getOddCounts(),j=this.getEvenCounts(),G=this.getOddRoundingErrors(),te=this.getEvenRoundingErrors();for(let mn=0;mn<d.length;mn++){let ar=1*d[mn]/x,_r=ar+.5;if(_r<1){if(ar<.3)throw new ie;_r=1}else if(_r>8){if(ar>8.7)throw new ie;_r=8}let Ri=mn/2;mn&1?(j[Ri]=_r,te[Ri]=ar-_r):(T[Ri]=_r,G[Ri]=ar-_r)}this.adjustOddEvenCounts(g);let ce=4*o.getValue()+(u?0:2)+(f?0:1)-1,be=0,Se=0;for(let mn=T.length-1;mn>=0;mn--){if(et.isNotA1left(o,u,f)){let ar=et.WEIGHTS[ce][2*mn];Se+=T[mn]*ar}be+=T[mn]}let Te=0;for(let mn=j.length-1;mn>=0;mn--)if(et.isNotA1left(o,u,f)){let ar=et.WEIGHTS[ce][2*mn+1];Te+=j[mn]*ar}let Ue=Se+Te;if(be&1||be>13||be<4)throw new ie;let it=(13-be)/2,ot=et.SYMBOL_WIDEST[it],st=9-ot,an=Tt.getRSSvalue(T,ot,!0),Ht=Tt.getRSSvalue(j,st,!1),wr=et.EVEN_TOTAL_SUBSET[it],qr=et.GSUM[it],hr=an*wr+Ht+qr;return new si(hr,Ue)}static isNotA1left(i,o,u){return!(i.getValue()==0&&o&&u)}adjustOddEvenCounts(i){let o=Xe.sum(new Int32Array(this.getOddCounts())),u=Xe.sum(new Int32Array(this.getEvenCounts())),f=!1,d=!1;o>13?d=!0:o<4&&(f=!0);let g=!1,x=!1;u>13?x=!0:u<4&&(g=!0);let N=o+u-i,T=(o&1)==1,j=(u&1)==0;if(N==1)if(T){if(j)throw new ie;d=!0}else{if(!j)throw new ie;x=!0}else if(N==-1)if(T){if(j)throw new ie;f=!0}else{if(!j)throw new ie;g=!0}else if(N==0){if(T){if(!j)throw new ie;o<u?(f=!0,x=!0):(d=!0,g=!0)}else if(j)throw new ie}else throw new ie;if(f){if(d)throw new ie;et.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&et.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(x)throw new ie;et.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&et.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}et.SYMBOL_WIDEST=[7,5,4,3,1],et.EVEN_TOTAL_SUBSET=[4,20,52,104,204],et.GSUM=[0,348,1388,2948,3988],et.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],et.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],et.FINDER_PAT_A=0,et.FINDER_PAT_B=1,et.FINDER_PAT_C=2,et.FINDER_PAT_D=3,et.FINDER_PAT_E=4,et.FINDER_PAT_F=5,et.FINDER_PATTERN_SEQUENCES=[[et.FINDER_PAT_A,et.FINDER_PAT_A],[et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B],[et.FINDER_PAT_A,et.FINDER_PAT_C,et.FINDER_PAT_B,et.FINDER_PAT_D],[et.FINDER_PAT_A,et.FINDER_PAT_E,et.FINDER_PAT_B,et.FINDER_PAT_D,et.FINDER_PAT_C],[et.FINDER_PAT_A,et.FINDER_PAT_E,et.FINDER_PAT_B,et.FINDER_PAT_D,et.FINDER_PAT_D,et.FINDER_PAT_F],[et.FINDER_PAT_A,et.FINDER_PAT_E,et.FINDER_PAT_B,et.FINDER_PAT_D,et.FINDER_PAT_E,et.FINDER_PAT_F,et.FINDER_PAT_F],[et.FINDER_PAT_A,et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B,et.FINDER_PAT_C,et.FINDER_PAT_C,et.FINDER_PAT_D,et.FINDER_PAT_D],[et.FINDER_PAT_A,et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B,et.FINDER_PAT_C,et.FINDER_PAT_C,et.FINDER_PAT_D,et.FINDER_PAT_E,et.FINDER_PAT_E],[et.FINDER_PAT_A,et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B,et.FINDER_PAT_C,et.FINDER_PAT_C,et.FINDER_PAT_D,et.FINDER_PAT_E,et.FINDER_PAT_F,et.FINDER_PAT_F],[et.FINDER_PAT_A,et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B,et.FINDER_PAT_C,et.FINDER_PAT_D,et.FINDER_PAT_D,et.FINDER_PAT_E,et.FINDER_PAT_E,et.FINDER_PAT_F,et.FINDER_PAT_F]],et.MAX_PAIRS=11;class ru extends si{constructor(i,o,u){super(i,o),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class zn extends yn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,o,u){const f=this.decodePair(o,!1,i,u);zn.addOrTally(this.possibleLeftPairs,f),o.reverse();let d=this.decodePair(o,!0,i,u);zn.addOrTally(this.possibleRightPairs,d),o.reverse();for(let g of this.possibleLeftPairs)if(g.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&zn.checkChecksum(g,x))return zn.constructResult(g,x)}throw new ie}static addOrTally(i,o){if(o==null)return;let u=!1;for(let f of i)if(f.getValue()===o.getValue()){f.incrementCount(),u=!0;break}u||i.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,o){let u=4537077*i.getValue()+o.getValue(),f=new String(u).toString(),d=new ae;for(let T=13-f.length;T>0;T--)d.append("0");d.append(f);let g=0;for(let T=0;T<13;T++){let j=d.charAt(T).charCodeAt(0)-48;g+=T&1?j:3*j}g=10-g%10,g===10&&(g=0),d.append(g.toString());let x=i.getFinderPattern().getResultPoints(),N=o.getFinderPattern().getResultPoints();return new de(d.toString(),null,0,[x[0],x[1],N[0],N[1]],ye.RSS_14,new Date().getTime())}static checkChecksum(i,o){let u=(i.getChecksumPortion()+16*o.getChecksumPortion())%79,f=9*i.getFinderPattern().getValue()+o.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,u===f}decodePair(i,o,u,f){try{let d=this.findFinderPattern(i,o),g=this.parseFoundFinderPattern(i,u,o,d),x=f==null?null:f.get(M.NEED_RESULT_POINT_CALLBACK);if(x!=null){let j=(d[0]+d[1])/2;o&&(j=i.getSize()-1-j),x.foundPossibleResultPoint(new ze(j,u))}let N=this.decodeDataCharacter(i,g,!0),T=this.decodeDataCharacter(i,g,!1);return new ru(1597*N.getValue()+T.getValue(),N.getChecksumPortion()+4*T.getChecksumPortion(),g)}catch{return null}}decodeDataCharacter(i,o,u){let f=this.getDataCharacterCounters();for(let Te=0;Te<f.length;Te++)f[Te]=0;if(u)Ve.recordPatternInReverse(i,o.getStartEnd()[0],f);else{Ve.recordPattern(i,o.getStartEnd()[1]+1,f);for(let Te=0,Ue=f.length-1;Te<Ue;Te++,Ue--){let it=f[Te];f[Te]=f[Ue],f[Ue]=it}}let d=u?16:15,g=Xe.sum(new Int32Array(f))/d,x=this.getOddCounts(),N=this.getEvenCounts(),T=this.getOddRoundingErrors(),j=this.getEvenRoundingErrors();for(let Te=0;Te<f.length;Te++){let Ue=f[Te]/g,it=Math.floor(Ue+.5);it<1?it=1:it>8&&(it=8);let ot=Math.floor(Te/2);Te&1?(N[ot]=it,j[ot]=Ue-it):(x[ot]=it,T[ot]=Ue-it)}this.adjustOddEvenCounts(u,d);let G=0,te=0;for(let Te=x.length-1;Te>=0;Te--)te*=9,te+=x[Te],G+=x[Te];let ce=0,be=0;for(let Te=N.length-1;Te>=0;Te--)ce*=9,ce+=N[Te],be+=N[Te];let Se=te+3*ce;if(u){if(G&1||G>12||G<4)throw new ie;let Te=(12-G)/2,Ue=zn.OUTSIDE_ODD_WIDEST[Te],it=9-Ue,ot=Tt.getRSSvalue(x,Ue,!1),st=Tt.getRSSvalue(N,it,!0),an=zn.OUTSIDE_EVEN_TOTAL_SUBSET[Te],Ht=zn.OUTSIDE_GSUM[Te];return new si(ot*an+st+Ht,Se)}else{if(be&1||be>10||be<4)throw new ie;let Te=(10-be)/2,Ue=zn.INSIDE_ODD_WIDEST[Te],it=9-Ue,ot=Tt.getRSSvalue(x,Ue,!0),st=Tt.getRSSvalue(N,it,!1),an=zn.INSIDE_ODD_TOTAL_SUBSET[Te],Ht=zn.INSIDE_GSUM[Te];return new si(st*an+ot+Ht,Se)}}findFinderPattern(i,o){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=i.getSize(),d=!1,g=0;for(;g<f&&(d=!i.get(g),o!==d);)g++;let x=0,N=g;for(let T=g;T<f;T++)if(i.get(T)!==d)u[x]++;else{if(x===3){if(yn.isFinderPattern(u))return[N,T];N+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,x--}else x++;u[x]=1,d=!d}throw new ie}parseFoundFinderPattern(i,o,u,f){let d=i.get(f[0]),g=f[0]-1;for(;g>=0&&d!==i.get(g);)g--;g++;const x=f[0]-g,N=this.getDecodeFinderCounters(),T=new Int32Array(N.length);A.arraycopy(N,0,T,1,N.length-1),T[0]=x;const j=this.parseFinderValue(T,zn.FINDER_PATTERNS);let G=g,te=f[1];return u&&(G=i.getSize()-1-G,te=i.getSize()-1-te),new Li(j,[g,f[1]],G,te,o)}adjustOddEvenCounts(i,o){let u=Xe.sum(new Int32Array(this.getOddCounts())),f=Xe.sum(new Int32Array(this.getEvenCounts())),d=!1,g=!1,x=!1,N=!1;i?(u>12?g=!0:u<4&&(d=!0),f>12?N=!0:f<4&&(x=!0)):(u>11?g=!0:u<5&&(d=!0),f>10?N=!0:f<4&&(x=!0));let T=u+f-o,j=(u&1)===(i?1:0),G=(f&1)===1;if(T===1)if(j){if(G)throw new ie;g=!0}else{if(!G)throw new ie;N=!0}else if(T===-1)if(j){if(G)throw new ie;d=!0}else{if(!G)throw new ie;x=!0}else if(T===0){if(j){if(!G)throw new ie;u<f?(d=!0,N=!0):(g=!0,x=!0)}else if(G)throw new ie}else throw new ie;if(d){if(g)throw new ie;yn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&yn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(N)throw new ie;yn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&yn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}zn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],zn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],zn.OUTSIDE_GSUM=[0,161,961,2015,2715],zn.INSIDE_GSUM=[0,336,1036,1516],zn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],zn.INSIDE_ODD_WIDEST=[2,4,6,8],zn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class As extends Ve{constructor(i,o){super(),this.readers=[],this.verbose=o===!0;const u=i?i.get(M.POSSIBLE_FORMATS):null,f=i&&i.get(M.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(ye.EAN_13)||u.includes(ye.UPC_A)||u.includes(ye.EAN_8)||u.includes(ye.UPC_E))&&this.readers.push(new zs(i)),u.includes(ye.CODE_39)&&this.readers.push(new Et(f)),u.includes(ye.CODE_128)&&this.readers.push(new Ke),u.includes(ye.ITF)&&this.readers.push(new gt),u.includes(ye.RSS_14)&&this.readers.push(new zn),u.includes(ye.RSS_EXPANDED)&&this.readers.push(new et(this.verbose))):(this.readers.push(new zs(i)),this.readers.push(new Et),this.readers.push(new zs(i)),this.readers.push(new Ke),this.readers.push(new gt),this.readers.push(new zn),this.readers.push(new et(this.verbose)))}decodeRow(i,o,u){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(i,o,u)}catch{}throw new ie}reset(){this.readers.forEach(i=>i.reset())}}class wc extends he{constructor(i=500,o){super(new As(o),i,o)}}class pn{constructor(i,o,u){this.ecCodewords=i,this.ecBlocks=[o],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class gn{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class rn{constructor(i,o,u,f,d,g){this.versionNumber=i,this.symbolSizeRows=o,this.symbolSizeColumns=u,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=d,this.ecBlocks=g;let x=0;const N=g.getECCodewords(),T=g.getECBlocks();for(let j of T)x+=j.getCount()*(j.getDataCodewords()+N);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,o){if(i&1||o&1)throw new D;for(let u of rn.VERSIONS)if(u.symbolSizeRows===i&&u.symbolSizeColumns===o)return u;throw new D}toString(){return""+this.versionNumber}static buildVersions(){return[new rn(1,10,10,8,8,new pn(5,new gn(1,3))),new rn(2,12,12,10,10,new pn(7,new gn(1,5))),new rn(3,14,14,12,12,new pn(10,new gn(1,8))),new rn(4,16,16,14,14,new pn(12,new gn(1,12))),new rn(5,18,18,16,16,new pn(14,new gn(1,18))),new rn(6,20,20,18,18,new pn(18,new gn(1,22))),new rn(7,22,22,20,20,new pn(20,new gn(1,30))),new rn(8,24,24,22,22,new pn(24,new gn(1,36))),new rn(9,26,26,24,24,new pn(28,new gn(1,44))),new rn(10,32,32,14,14,new pn(36,new gn(1,62))),new rn(11,36,36,16,16,new pn(42,new gn(1,86))),new rn(12,40,40,18,18,new pn(48,new gn(1,114))),new rn(13,44,44,20,20,new pn(56,new gn(1,144))),new rn(14,48,48,22,22,new pn(68,new gn(1,174))),new rn(15,52,52,24,24,new pn(42,new gn(2,102))),new rn(16,64,64,14,14,new pn(56,new gn(2,140))),new rn(17,72,72,16,16,new pn(36,new gn(4,92))),new rn(18,80,80,18,18,new pn(48,new gn(4,114))),new rn(19,88,88,20,20,new pn(56,new gn(4,144))),new rn(20,96,96,22,22,new pn(68,new gn(4,174))),new rn(21,104,104,24,24,new pn(56,new gn(6,136))),new rn(22,120,120,18,18,new pn(68,new gn(6,175))),new rn(23,132,132,20,20,new pn(62,new gn(8,163))),new rn(24,144,144,22,22,new pn(62,new gn(8,156),new gn(2,155))),new rn(25,8,18,6,16,new pn(7,new gn(1,5))),new rn(26,8,32,6,14,new pn(11,new gn(1,10))),new rn(27,12,26,10,24,new pn(14,new gn(1,16))),new rn(28,12,36,10,16,new pn(18,new gn(1,22))),new rn(29,16,36,14,16,new pn(24,new gn(1,32))),new rn(30,16,48,14,22,new pn(28,new gn(1,49)))]}}rn.VERSIONS=rn.buildVersions();class ll{constructor(i){const o=i.getHeight();if(o<8||o>144||o&1)throw new D;this.version=ll.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new J(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const o=i.getHeight(),u=i.getWidth();return rn.getVersionForDimensions(o,u)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let o=0,u=4,f=0;const d=this.mappingBitMatrix.getHeight(),g=this.mappingBitMatrix.getWidth();let x=!1,N=!1,T=!1,j=!1;do if(u===d&&f===0&&!x)i[o++]=this.readCorner1(d,g)&255,u-=2,f+=2,x=!0;else if(u===d-2&&f===0&&g&3&&!N)i[o++]=this.readCorner2(d,g)&255,u-=2,f+=2,N=!0;else if(u===d+4&&f===2&&!(g&7)&&!T)i[o++]=this.readCorner3(d,g)&255,u-=2,f+=2,T=!0;else if(u===d-2&&f===0&&(g&7)===4&&!j)i[o++]=this.readCorner4(d,g)&255,u-=2,f+=2,j=!0;else{do u<d&&f>=0&&!this.readMappingMatrix.get(f,u)&&(i[o++]=this.readUtah(u,f,d,g)&255),u-=2,f+=2;while(u>=0&&f<g);u+=1,f+=3;do u>=0&&f<g&&!this.readMappingMatrix.get(f,u)&&(i[o++]=this.readUtah(u,f,d,g)&255),u+=2,f-=2;while(u<d&&f>=0);u+=3,f+=1}while(u<d||f<g);if(o!==this.version.getTotalCodewords())throw new D;return i}readModule(i,o,u,f){return i<0&&(i+=u,o+=4-(u+4&7)),o<0&&(o+=f,i+=4-(f+4&7)),this.readMappingMatrix.set(o,i),this.mappingBitMatrix.get(o,i)}readUtah(i,o,u,f){let d=0;return this.readModule(i-2,o-2,u,f)&&(d|=1),d<<=1,this.readModule(i-2,o-1,u,f)&&(d|=1),d<<=1,this.readModule(i-1,o-2,u,f)&&(d|=1),d<<=1,this.readModule(i-1,o-1,u,f)&&(d|=1),d<<=1,this.readModule(i-1,o,u,f)&&(d|=1),d<<=1,this.readModule(i,o-2,u,f)&&(d|=1),d<<=1,this.readModule(i,o-1,u,f)&&(d|=1),d<<=1,this.readModule(i,o,u,f)&&(d|=1),d}readCorner1(i,o){let u=0;return this.readModule(i-1,0,i,o)&&(u|=1),u<<=1,this.readModule(i-1,1,i,o)&&(u|=1),u<<=1,this.readModule(i-1,2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-1,i,o)&&(u|=1),u<<=1,this.readModule(1,o-1,i,o)&&(u|=1),u<<=1,this.readModule(2,o-1,i,o)&&(u|=1),u<<=1,this.readModule(3,o-1,i,o)&&(u|=1),u}readCorner2(i,o){let u=0;return this.readModule(i-3,0,i,o)&&(u|=1),u<<=1,this.readModule(i-2,0,i,o)&&(u|=1),u<<=1,this.readModule(i-1,0,i,o)&&(u|=1),u<<=1,this.readModule(0,o-4,i,o)&&(u|=1),u<<=1,this.readModule(0,o-3,i,o)&&(u|=1),u<<=1,this.readModule(0,o-2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-1,i,o)&&(u|=1),u<<=1,this.readModule(1,o-1,i,o)&&(u|=1),u}readCorner3(i,o){let u=0;return this.readModule(i-1,0,i,o)&&(u|=1),u<<=1,this.readModule(i-1,o-1,i,o)&&(u|=1),u<<=1,this.readModule(0,o-3,i,o)&&(u|=1),u<<=1,this.readModule(0,o-2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-1,i,o)&&(u|=1),u<<=1,this.readModule(1,o-3,i,o)&&(u|=1),u<<=1,this.readModule(1,o-2,i,o)&&(u|=1),u<<=1,this.readModule(1,o-1,i,o)&&(u|=1),u}readCorner4(i,o){let u=0;return this.readModule(i-3,0,i,o)&&(u|=1),u<<=1,this.readModule(i-2,0,i,o)&&(u|=1),u<<=1,this.readModule(i-1,0,i,o)&&(u|=1),u<<=1,this.readModule(0,o-2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-1,i,o)&&(u|=1),u<<=1,this.readModule(1,o-1,i,o)&&(u|=1),u<<=1,this.readModule(2,o-1,i,o)&&(u|=1),u<<=1,this.readModule(3,o-1,i,o)&&(u|=1),u}extractDataRegion(i){const o=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(i.getHeight()!==o)throw new w("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),g=o/f|0,x=u/d|0,N=g*f,T=x*d,j=new J(T,N);for(let G=0;G<g;++G){const te=G*f;for(let ce=0;ce<x;++ce){const be=ce*d;for(let Se=0;Se<f;++Se){const Te=G*(f+2)+1+Se,Ue=te+Se;for(let it=0;it<d;++it){const ot=ce*(d+2)+1+it;if(i.get(ot,Te)){const st=be+it;j.set(st,Ue)}}}}}return j}}class Yn{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o){const u=o.getECBlocks();let f=0;const d=u.getECBlocks();for(let Se of d)f+=Se.getCount();const g=new Array(f);let x=0;for(let Se of d)for(let Te=0;Te<Se.getCount();Te++){const Ue=Se.getDataCodewords(),it=u.getECCodewords()+Ue;g[x++]=new Yn(Ue,new Uint8Array(it))}const T=g[0].codewords.length-u.getECCodewords(),j=T-1;let G=0;for(let Se=0;Se<j;Se++)for(let Te=0;Te<x;Te++)g[Te].codewords[Se]=i[G++];const te=o.getVersionNumber()===24,ce=te?8:x;for(let Se=0;Se<ce;Se++)g[Se].codewords[T-1]=i[G++];const be=g[0].codewords.length;for(let Se=T;Se<be;Se++)for(let Te=0;Te<x;Te++){const Ue=te?(Te+8)%x:Te,it=te&&Ue>7?Se-1:Se;g[Ue].codewords[it]=i[G++]}if(G!==i.length)throw new w;return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class io{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new w(""+i);let o=0,u=this.bitOffset,f=this.byteOffset;const d=this.bytes;if(u>0){const g=8-u,x=i<g?i:g,N=g-x,T=255>>8-x<<N;o=(d[f]&T)>>N,i-=x,u+=x,u===8&&(u=0,f++)}if(i>0){for(;i>=8;)o=o<<8|d[f]&255,f++,i-=8;if(i>0){const g=8-i,x=255>>g<<g;o=o<<i|(d[f]&x)>>g,u+=i}}return this.bitOffset=u,this.byteOffset=f,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var nr;(function(Y){Y[Y.PAD_ENCODE=0]="PAD_ENCODE",Y[Y.ASCII_ENCODE=1]="ASCII_ENCODE",Y[Y.C40_ENCODE=2]="C40_ENCODE",Y[Y.TEXT_ENCODE=3]="TEXT_ENCODE",Y[Y.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",Y[Y.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",Y[Y.BASE256_ENCODE=6]="BASE256_ENCODE"})(nr||(nr={}));class ns{static decode(i){const o=new io(i),u=new ae,f=new ae,d=new Array;let g=nr.ASCII_ENCODE;do if(g===nr.ASCII_ENCODE)g=this.decodeAsciiSegment(o,u,f);else{switch(g){case nr.C40_ENCODE:this.decodeC40Segment(o,u);break;case nr.TEXT_ENCODE:this.decodeTextSegment(o,u);break;case nr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,u);break;case nr.EDIFACT_ENCODE:this.decodeEdifactSegment(o,u);break;case nr.BASE256_ENCODE:this.decodeBase256Segment(o,u,d);break;default:throw new D}g=nr.ASCII_ENCODE}while(g!==nr.PAD_ENCODE&&o.available()>0);return f.length()>0&&u.append(f.toString()),new Fe(i,u.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(i,o,u){let f=!1;do{let d=i.readBits(8);if(d===0)throw new D;if(d<=128)return f&&(d+=128),o.append(String.fromCharCode(d-1)),nr.ASCII_ENCODE;if(d===129)return nr.PAD_ENCODE;if(d<=229){const g=d-130;g<10&&o.append("0"),o.append(""+g)}else switch(d){case 230:return nr.C40_ENCODE;case 231:return nr.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:f=!0;break;case 236:o.append("[)>05"),u.insert(0,"");break;case 237:o.append("[)>06"),u.insert(0,"");break;case 238:return nr.ANSIX12_ENCODE;case 239:return nr.TEXT_ENCODE;case 240:return nr.EDIFACT_ENCODE;case 241:break;default:if(d!==254||i.available()!==0)throw new D;break}}while(i.available()>0);return nr.ASCII_ENCODE}static decodeC40Segment(i,o){let u=!1;const f=[];let d=0;do{if(i.available()===8)return;const g=i.readBits(8);if(g===254)return;this.parseTwoBytes(g,i.readBits(8),f);for(let x=0;x<3;x++){const N=f[x];switch(d){case 0:if(N<3)d=N+1;else if(N<this.C40_BASIC_SET_CHARS.length){const T=this.C40_BASIC_SET_CHARS[N];u?(o.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):o.append(T)}else throw new D;break;case 1:u?(o.append(String.fromCharCode(N+128)),u=!1):o.append(String.fromCharCode(N)),d=0;break;case 2:if(N<this.C40_SHIFT2_SET_CHARS.length){const T=this.C40_SHIFT2_SET_CHARS[N];u?(o.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):o.append(T)}else switch(N){case 27:o.append("");break;case 30:u=!0;break;default:throw new D}d=0;break;case 3:u?(o.append(String.fromCharCode(N+224)),u=!1):o.append(String.fromCharCode(N+96)),d=0;break;default:throw new D}}}while(i.available()>0)}static decodeTextSegment(i,o){let u=!1,f=[],d=0;do{if(i.available()===8)return;const g=i.readBits(8);if(g===254)return;this.parseTwoBytes(g,i.readBits(8),f);for(let x=0;x<3;x++){const N=f[x];switch(d){case 0:if(N<3)d=N+1;else if(N<this.TEXT_BASIC_SET_CHARS.length){const T=this.TEXT_BASIC_SET_CHARS[N];u?(o.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):o.append(T)}else throw new D;break;case 1:u?(o.append(String.fromCharCode(N+128)),u=!1):o.append(String.fromCharCode(N)),d=0;break;case 2:if(N<this.TEXT_SHIFT2_SET_CHARS.length){const T=this.TEXT_SHIFT2_SET_CHARS[N];u?(o.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):o.append(T)}else switch(N){case 27:o.append("");break;case 30:u=!0;break;default:throw new D}d=0;break;case 3:if(N<this.TEXT_SHIFT3_SET_CHARS.length){const T=this.TEXT_SHIFT3_SET_CHARS[N];u?(o.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):o.append(T),d=0}else throw new D;break;default:throw new D}}}while(i.available()>0)}static decodeAnsiX12Segment(i,o){const u=[];do{if(i.available()===8)return;const f=i.readBits(8);if(f===254)return;this.parseTwoBytes(f,i.readBits(8),u);for(let d=0;d<3;d++){const g=u[d];switch(g){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(g<14)o.append(String.fromCharCode(g+44));else if(g<40)o.append(String.fromCharCode(g+51));else throw new D;break}}}while(i.available()>0)}static parseTwoBytes(i,o,u){let f=(i<<8)+o-1,d=Math.floor(f/1600);u[0]=d,f-=d*1600,d=Math.floor(f/40),u[1]=d,u[2]=f-d*40}static decodeEdifactSegment(i,o){do{if(i.available()<=16)return;for(let u=0;u<4;u++){let f=i.readBits(6);if(f===31){const d=8-i.getBitOffset();d!==8&&i.readBits(d);return}f&32||(f|=64),o.append(String.fromCharCode(f))}}while(i.available()>0)}static decodeBase256Segment(i,o,u){let f=1+i.getByteOffset();const d=this.unrandomize255State(i.readBits(8),f++);let g;if(d===0?g=i.available()/8|0:d<250?g=d:g=250*(d-249)+this.unrandomize255State(i.readBits(8),f++),g<0)throw new D;const x=new Uint8Array(g);for(let N=0;N<g;N++){if(i.available()<8)throw new D;x[N]=this.unrandomize255State(i.readBits(8),f++)}u.push(x);try{o.append(W.decode(x,X.ISO88591))}catch(N){throw new qe("Platform does not support required encoding: "+N.message)}}static unrandomize255State(i,o){const u=149*o%255+1,f=i-u;return f>=0?f:f+256}}ns.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ns.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ns.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ns.TEXT_SHIFT2_SET_CHARS=ns.C40_SHIFT2_SET_CHARS,ns.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ul{constructor(){this.rsDecoder=new ge(Qe.DATA_MATRIX_FIELD_256)}decode(i){const o=new ll(i),u=o.getVersion(),f=o.readCodewords(),d=Yn.getDataBlocks(f,u);let g=0;for(let T of d)g+=T.getNumDataCodewords();const x=new Uint8Array(g),N=d.length;for(let T=0;T<N;T++){const j=d[T],G=j.getCodewords(),te=j.getNumDataCodewords();this.correctErrors(G,te);for(let ce=0;ce<te;ce++)x[ce*N+T]=G[ce]}return ns.decode(x)}correctErrors(i,o){const u=new Int32Array(i);try{this.rsDecoder.decode(u,i.length-o)}catch{throw new b}for(let f=0;f<o;f++)i[f]=u[f]}}class Kn{constructor(i){this.image=i,this.rectangleDetector=new Bt(this.image)}detect(){const i=this.rectangleDetector.detect();let o=this.detectSolid1(i);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new ie;o=this.shiftToModuleCenter(o);const u=o[0],f=o[1],d=o[2],g=o[3];let x=this.transitionsBetween(u,g)+1,N=this.transitionsBetween(d,g)+1;(x&1)===1&&(x+=1),(N&1)===1&&(N+=1),4*x<7*N&&4*N<7*x&&(x=N=Math.max(x,N));let T=Kn.sampleGrid(this.image,u,f,d,g,x,N);return new ct(T,[u,f,d,g])}static shiftPoint(i,o,u){let f=(o.getX()-i.getX())/(u+1),d=(o.getY()-i.getY())/(u+1);return new ze(i.getX()+f,i.getY()+d)}static moveAway(i,o,u){let f=i.getX(),d=i.getY();return f<o?f-=1:f+=1,d<u?d-=1:d+=1,new ze(f,d)}detectSolid1(i){let o=i[0],u=i[1],f=i[3],d=i[2],g=this.transitionsBetween(o,u),x=this.transitionsBetween(u,f),N=this.transitionsBetween(f,d),T=this.transitionsBetween(d,o),j=g,G=[d,o,u,f];return j>x&&(j=x,G[0]=o,G[1]=u,G[2]=f,G[3]=d),j>N&&(j=N,G[0]=u,G[1]=f,G[2]=d,G[3]=o),j>T&&(G[0]=f,G[1]=d,G[2]=o,G[3]=u),G}detectSolid2(i){let o=i[0],u=i[1],f=i[2],d=i[3],g=this.transitionsBetween(o,d),x=Kn.shiftPoint(u,f,(g+1)*4),N=Kn.shiftPoint(f,u,(g+1)*4),T=this.transitionsBetween(x,o),j=this.transitionsBetween(N,d);return T<j?(i[0]=o,i[1]=u,i[2]=f,i[3]=d):(i[0]=u,i[1]=f,i[2]=d,i[3]=o),i}correctTopRight(i){let o=i[0],u=i[1],f=i[2],d=i[3],g=this.transitionsBetween(o,d),x=this.transitionsBetween(u,d),N=Kn.shiftPoint(o,u,(x+1)*4),T=Kn.shiftPoint(f,u,(g+1)*4);g=this.transitionsBetween(N,d),x=this.transitionsBetween(T,d);let j=new ze(d.getX()+(f.getX()-u.getX())/(g+1),d.getY()+(f.getY()-u.getY())/(g+1)),G=new ze(d.getX()+(o.getX()-u.getX())/(x+1),d.getY()+(o.getY()-u.getY())/(x+1));if(!this.isValid(j))return this.isValid(G)?G:null;if(!this.isValid(G))return j;let te=this.transitionsBetween(N,j)+this.transitionsBetween(T,j),ce=this.transitionsBetween(N,G)+this.transitionsBetween(T,G);return te>ce?j:G}shiftToModuleCenter(i){let o=i[0],u=i[1],f=i[2],d=i[3],g=this.transitionsBetween(o,d)+1,x=this.transitionsBetween(f,d)+1,N=Kn.shiftPoint(o,u,x*4),T=Kn.shiftPoint(f,u,g*4);g=this.transitionsBetween(N,d)+1,x=this.transitionsBetween(T,d)+1,(g&1)===1&&(g+=1),(x&1)===1&&(x+=1);let j=(o.getX()+u.getX()+f.getX()+d.getX())/4,G=(o.getY()+u.getY()+f.getY()+d.getY())/4;o=Kn.moveAway(o,j,G),u=Kn.moveAway(u,j,G),f=Kn.moveAway(f,j,G),d=Kn.moveAway(d,j,G);let te,ce;return N=Kn.shiftPoint(o,u,x*4),N=Kn.shiftPoint(N,d,g*4),te=Kn.shiftPoint(u,o,x*4),te=Kn.shiftPoint(te,f,g*4),T=Kn.shiftPoint(f,d,x*4),T=Kn.shiftPoint(T,u,g*4),ce=Kn.shiftPoint(d,f,x*4),ce=Kn.shiftPoint(ce,o,g*4),[N,te,T,ce]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,o,u,f,d,g,x){return U.getInstance().sampleGrid(i,g,x,.5,.5,g-.5,.5,g-.5,x-.5,.5,x-.5,o.getX(),o.getY(),d.getX(),d.getY(),f.getX(),f.getY(),u.getX(),u.getY())}transitionsBetween(i,o){let u=Math.trunc(i.getX()),f=Math.trunc(i.getY()),d=Math.trunc(o.getX()),g=Math.trunc(o.getY()),x=Math.abs(g-f)>Math.abs(d-u);if(x){let Se=u;u=f,f=Se,Se=d,d=g,g=Se}let N=Math.abs(d-u),T=Math.abs(g-f),j=-N/2,G=f<g?1:-1,te=u<d?1:-1,ce=0,be=this.image.get(x?f:u,x?u:f);for(let Se=u,Te=f;Se!==d;Se+=te){let Ue=this.image.get(x?Te:Se,x?Se:Te);if(Ue!==be&&(ce++,be=Ue),j+=T,j>0){if(Te===g)break;Te+=G,j-=N}}return ce}}class Rr{constructor(){this.decoder=new ul}decode(i,o=null){let u,f;if(o!=null&&o.has(M.PURE_BARCODE)){const T=Rr.extractPureBits(i.getBlackMatrix());u=this.decoder.decode(T),f=Rr.NO_POINTS}else{const T=new Kn(i.getBlackMatrix()).detect();u=this.decoder.decode(T.getBits()),f=T.getPoints()}const d=u.getRawBytes(),g=new de(u.getText(),d,8*d.length,f,ye.DATA_MATRIX,A.currentTimeMillis()),x=u.getByteSegments();x!=null&&g.putMetadata(Oe.BYTE_SEGMENTS,x);const N=u.getECLevel();return N!=null&&g.putMetadata(Oe.ERROR_CORRECTION_LEVEL,N),g}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),u=i.getBottomRightOnBit();if(o==null||u==null)throw new ie;const f=this.moduleSize(o,i);let d=o[1];const g=u[1];let x=o[0];const T=(u[0]-x+1)/f,j=(g-d+1)/f;if(T<=0||j<=0)throw new ie;const G=f/2;d+=G,x+=G;const te=new J(T,j);for(let ce=0;ce<j;ce++){const be=d+ce*f;for(let Se=0;Se<T;Se++)i.get(x+Se*f,be)&&te.set(Se,ce)}return te}static moduleSize(i,o){const u=o.getWidth();let f=i[0];const d=i[1];for(;f<u&&o.get(f,d);)f++;if(f===u)throw new ie;const g=f-i[0];if(g===0)throw new ie;return g}}Rr.NO_POINTS=[];class so extends he{constructor(i=500){super(new Rr,i)}}var Cr;(function(Y){Y[Y.L=0]="L",Y[Y.M=1]="M",Y[Y.Q=2]="Q",Y[Y.H=3]="H"})(Cr||(Cr={}));class En{constructor(i,o,u){this.value=i,this.stringValue=o,this.bits=u,En.FOR_BITS.set(u,this),En.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return En.L;case"M":return En.M;case"Q":return En.Q;case"H":return En.H;default:throw new y(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof En))return!1;const o=i;return this.value===o.value}static forBits(i){if(i<0||i>=En.FOR_BITS.size)throw new w;return En.FOR_BITS.get(i)}}En.FOR_BITS=new Map,En.FOR_VALUE=new Map,En.L=new En(Cr.L,"L",1),En.M=new En(Cr.M,"M",0),En.Q=new En(Cr.Q,"Q",3),En.H=new En(Cr.H,"H",2);class Sr{constructor(i){this.errorCorrectionLevel=En.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,o){return L.bitCount(i^o)}static decodeFormatInformation(i,o){const u=Sr.doDecodeFormatInformation(i,o);return u!==null?u:Sr.doDecodeFormatInformation(i^Sr.FORMAT_INFO_MASK_QR,o^Sr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,o){let u=Number.MAX_SAFE_INTEGER,f=0;for(const d of Sr.FORMAT_INFO_DECODE_LOOKUP){const g=d[0];if(g===i||g===o)return new Sr(d[1]);let x=Sr.numBitsDiffering(i,g);x<u&&(f=d[1],u=x),i!==o&&(x=Sr.numBitsDiffering(o,g),x<u&&(f=d[1],u=x))}return u<=3?new Sr(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Sr))return!1;const o=i;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Sr.FORMAT_INFO_MASK_QR=21522,Sr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class De{constructor(i,...o){this.ecCodewordsPerBlock=i,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const o=this.ecBlocks;for(const u of o)i+=u.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class le{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class kt{constructor(i,o,...u){this.versionNumber=i,this.alignmentPatternCenters=o,this.ecBlocks=u;let f=0;const d=u[0].getECCodewordsPerBlock(),g=u[0].getECBlocks();for(const x of g)f+=x.getCount()*(x.getDataCodewords()+d);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new D;try{return this.getVersionForNumber((i-17)/4)}catch{throw new D}}static getVersionForNumber(i){if(i<1||i>40)throw new w;return kt.VERSIONS[i-1]}static decodeVersionInformation(i){let o=Number.MAX_SAFE_INTEGER,u=0;for(let f=0;f<kt.VERSION_DECODE_INFO.length;f++){const d=kt.VERSION_DECODE_INFO[f];if(d===i)return kt.getVersionForNumber(f+7);const g=Sr.numBitsDiffering(i,d);g<o&&(u=f+7,o=g)}return o<=3?kt.getVersionForNumber(u):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),o=new J(i);o.setRegion(0,0,9,9),o.setRegion(i-8,0,8,9),o.setRegion(0,i-8,9,8);const u=this.alignmentPatternCenters.length;for(let f=0;f<u;f++){const d=this.alignmentPatternCenters[f]-2;for(let g=0;g<u;g++)f===0&&(g===0||g===u-1)||f===u-1&&g===0||o.setRegion(this.alignmentPatternCenters[g]-2,d,5,5)}return o.setRegion(6,9,1,i-17),o.setRegion(9,6,i-17,1),this.versionNumber>6&&(o.setRegion(i-11,0,3,6),o.setRegion(0,i-11,6,3)),o}toString(){return""+this.versionNumber}}kt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),kt.VERSIONS=[new kt(1,new Int32Array(0),new De(7,new le(1,19)),new De(10,new le(1,16)),new De(13,new le(1,13)),new De(17,new le(1,9))),new kt(2,Int32Array.from([6,18]),new De(10,new le(1,34)),new De(16,new le(1,28)),new De(22,new le(1,22)),new De(28,new le(1,16))),new kt(3,Int32Array.from([6,22]),new De(15,new le(1,55)),new De(26,new le(1,44)),new De(18,new le(2,17)),new De(22,new le(2,13))),new kt(4,Int32Array.from([6,26]),new De(20,new le(1,80)),new De(18,new le(2,32)),new De(26,new le(2,24)),new De(16,new le(4,9))),new kt(5,Int32Array.from([6,30]),new De(26,new le(1,108)),new De(24,new le(2,43)),new De(18,new le(2,15),new le(2,16)),new De(22,new le(2,11),new le(2,12))),new kt(6,Int32Array.from([6,34]),new De(18,new le(2,68)),new De(16,new le(4,27)),new De(24,new le(4,19)),new De(28,new le(4,15))),new kt(7,Int32Array.from([6,22,38]),new De(20,new le(2,78)),new De(18,new le(4,31)),new De(18,new le(2,14),new le(4,15)),new De(26,new le(4,13),new le(1,14))),new kt(8,Int32Array.from([6,24,42]),new De(24,new le(2,97)),new De(22,new le(2,38),new le(2,39)),new De(22,new le(4,18),new le(2,19)),new De(26,new le(4,14),new le(2,15))),new kt(9,Int32Array.from([6,26,46]),new De(30,new le(2,116)),new De(22,new le(3,36),new le(2,37)),new De(20,new le(4,16),new le(4,17)),new De(24,new le(4,12),new le(4,13))),new kt(10,Int32Array.from([6,28,50]),new De(18,new le(2,68),new le(2,69)),new De(26,new le(4,43),new le(1,44)),new De(24,new le(6,19),new le(2,20)),new De(28,new le(6,15),new le(2,16))),new kt(11,Int32Array.from([6,30,54]),new De(20,new le(4,81)),new De(30,new le(1,50),new le(4,51)),new De(28,new le(4,22),new le(4,23)),new De(24,new le(3,12),new le(8,13))),new kt(12,Int32Array.from([6,32,58]),new De(24,new le(2,92),new le(2,93)),new De(22,new le(6,36),new le(2,37)),new De(26,new le(4,20),new le(6,21)),new De(28,new le(7,14),new le(4,15))),new kt(13,Int32Array.from([6,34,62]),new De(26,new le(4,107)),new De(22,new le(8,37),new le(1,38)),new De(24,new le(8,20),new le(4,21)),new De(22,new le(12,11),new le(4,12))),new kt(14,Int32Array.from([6,26,46,66]),new De(30,new le(3,115),new le(1,116)),new De(24,new le(4,40),new le(5,41)),new De(20,new le(11,16),new le(5,17)),new De(24,new le(11,12),new le(5,13))),new kt(15,Int32Array.from([6,26,48,70]),new De(22,new le(5,87),new le(1,88)),new De(24,new le(5,41),new le(5,42)),new De(30,new le(5,24),new le(7,25)),new De(24,new le(11,12),new le(7,13))),new kt(16,Int32Array.from([6,26,50,74]),new De(24,new le(5,98),new le(1,99)),new De(28,new le(7,45),new le(3,46)),new De(24,new le(15,19),new le(2,20)),new De(30,new le(3,15),new le(13,16))),new kt(17,Int32Array.from([6,30,54,78]),new De(28,new le(1,107),new le(5,108)),new De(28,new le(10,46),new le(1,47)),new De(28,new le(1,22),new le(15,23)),new De(28,new le(2,14),new le(17,15))),new kt(18,Int32Array.from([6,30,56,82]),new De(30,new le(5,120),new le(1,121)),new De(26,new le(9,43),new le(4,44)),new De(28,new le(17,22),new le(1,23)),new De(28,new le(2,14),new le(19,15))),new kt(19,Int32Array.from([6,30,58,86]),new De(28,new le(3,113),new le(4,114)),new De(26,new le(3,44),new le(11,45)),new De(26,new le(17,21),new le(4,22)),new De(26,new le(9,13),new le(16,14))),new kt(20,Int32Array.from([6,34,62,90]),new De(28,new le(3,107),new le(5,108)),new De(26,new le(3,41),new le(13,42)),new De(30,new le(15,24),new le(5,25)),new De(28,new le(15,15),new le(10,16))),new kt(21,Int32Array.from([6,28,50,72,94]),new De(28,new le(4,116),new le(4,117)),new De(26,new le(17,42)),new De(28,new le(17,22),new le(6,23)),new De(30,new le(19,16),new le(6,17))),new kt(22,Int32Array.from([6,26,50,74,98]),new De(28,new le(2,111),new le(7,112)),new De(28,new le(17,46)),new De(30,new le(7,24),new le(16,25)),new De(24,new le(34,13))),new kt(23,Int32Array.from([6,30,54,78,102]),new De(30,new le(4,121),new le(5,122)),new De(28,new le(4,47),new le(14,48)),new De(30,new le(11,24),new le(14,25)),new De(30,new le(16,15),new le(14,16))),new kt(24,Int32Array.from([6,28,54,80,106]),new De(30,new le(6,117),new le(4,118)),new De(28,new le(6,45),new le(14,46)),new De(30,new le(11,24),new le(16,25)),new De(30,new le(30,16),new le(2,17))),new kt(25,Int32Array.from([6,32,58,84,110]),new De(26,new le(8,106),new le(4,107)),new De(28,new le(8,47),new le(13,48)),new De(30,new le(7,24),new le(22,25)),new De(30,new le(22,15),new le(13,16))),new kt(26,Int32Array.from([6,30,58,86,114]),new De(28,new le(10,114),new le(2,115)),new De(28,new le(19,46),new le(4,47)),new De(28,new le(28,22),new le(6,23)),new De(30,new le(33,16),new le(4,17))),new kt(27,Int32Array.from([6,34,62,90,118]),new De(30,new le(8,122),new le(4,123)),new De(28,new le(22,45),new le(3,46)),new De(30,new le(8,23),new le(26,24)),new De(30,new le(12,15),new le(28,16))),new kt(28,Int32Array.from([6,26,50,74,98,122]),new De(30,new le(3,117),new le(10,118)),new De(28,new le(3,45),new le(23,46)),new De(30,new le(4,24),new le(31,25)),new De(30,new le(11,15),new le(31,16))),new kt(29,Int32Array.from([6,30,54,78,102,126]),new De(30,new le(7,116),new le(7,117)),new De(28,new le(21,45),new le(7,46)),new De(30,new le(1,23),new le(37,24)),new De(30,new le(19,15),new le(26,16))),new kt(30,Int32Array.from([6,26,52,78,104,130]),new De(30,new le(5,115),new le(10,116)),new De(28,new le(19,47),new le(10,48)),new De(30,new le(15,24),new le(25,25)),new De(30,new le(23,15),new le(25,16))),new kt(31,Int32Array.from([6,30,56,82,108,134]),new De(30,new le(13,115),new le(3,116)),new De(28,new le(2,46),new le(29,47)),new De(30,new le(42,24),new le(1,25)),new De(30,new le(23,15),new le(28,16))),new kt(32,Int32Array.from([6,34,60,86,112,138]),new De(30,new le(17,115)),new De(28,new le(10,46),new le(23,47)),new De(30,new le(10,24),new le(35,25)),new De(30,new le(19,15),new le(35,16))),new kt(33,Int32Array.from([6,30,58,86,114,142]),new De(30,new le(17,115),new le(1,116)),new De(28,new le(14,46),new le(21,47)),new De(30,new le(29,24),new le(19,25)),new De(30,new le(11,15),new le(46,16))),new kt(34,Int32Array.from([6,34,62,90,118,146]),new De(30,new le(13,115),new le(6,116)),new De(28,new le(14,46),new le(23,47)),new De(30,new le(44,24),new le(7,25)),new De(30,new le(59,16),new le(1,17))),new kt(35,Int32Array.from([6,30,54,78,102,126,150]),new De(30,new le(12,121),new le(7,122)),new De(28,new le(12,47),new le(26,48)),new De(30,new le(39,24),new le(14,25)),new De(30,new le(22,15),new le(41,16))),new kt(36,Int32Array.from([6,24,50,76,102,128,154]),new De(30,new le(6,121),new le(14,122)),new De(28,new le(6,47),new le(34,48)),new De(30,new le(46,24),new le(10,25)),new De(30,new le(2,15),new le(64,16))),new kt(37,Int32Array.from([6,28,54,80,106,132,158]),new De(30,new le(17,122),new le(4,123)),new De(28,new le(29,46),new le(14,47)),new De(30,new le(49,24),new le(10,25)),new De(30,new le(24,15),new le(46,16))),new kt(38,Int32Array.from([6,32,58,84,110,136,162]),new De(30,new le(4,122),new le(18,123)),new De(28,new le(13,46),new le(32,47)),new De(30,new le(48,24),new le(14,25)),new De(30,new le(42,15),new le(32,16))),new kt(39,Int32Array.from([6,26,54,82,110,138,166]),new De(30,new le(20,117),new le(4,118)),new De(28,new le(40,47),new le(7,48)),new De(30,new le(43,24),new le(22,25)),new De(30,new le(10,15),new le(67,16))),new kt(40,Int32Array.from([6,30,58,86,114,142,170]),new De(30,new le(19,118),new le(6,119)),new De(28,new le(18,47),new le(31,48)),new De(30,new le(34,24),new le(34,25)),new De(30,new le(20,15),new le(61,16)))];var ur;(function(Y){Y[Y.DATA_MASK_000=0]="DATA_MASK_000",Y[Y.DATA_MASK_001=1]="DATA_MASK_001",Y[Y.DATA_MASK_010=2]="DATA_MASK_010",Y[Y.DATA_MASK_011=3]="DATA_MASK_011",Y[Y.DATA_MASK_100=4]="DATA_MASK_100",Y[Y.DATA_MASK_101=5]="DATA_MASK_101",Y[Y.DATA_MASK_110=6]="DATA_MASK_110",Y[Y.DATA_MASK_111=7]="DATA_MASK_111"})(ur||(ur={}));class pi{constructor(i,o){this.value=i,this.isMasked=o}unmaskBitMatrix(i,o){for(let u=0;u<o;u++)for(let f=0;f<o;f++)this.isMasked(u,f)&&i.flip(f,u)}}pi.values=new Map([[ur.DATA_MASK_000,new pi(ur.DATA_MASK_000,(Y,i)=>(Y+i&1)===0)],[ur.DATA_MASK_001,new pi(ur.DATA_MASK_001,(Y,i)=>(Y&1)===0)],[ur.DATA_MASK_010,new pi(ur.DATA_MASK_010,(Y,i)=>i%3===0)],[ur.DATA_MASK_011,new pi(ur.DATA_MASK_011,(Y,i)=>(Y+i)%3===0)],[ur.DATA_MASK_100,new pi(ur.DATA_MASK_100,(Y,i)=>(Math.floor(Y/2)+Math.floor(i/3)&1)===0)],[ur.DATA_MASK_101,new pi(ur.DATA_MASK_101,(Y,i)=>Y*i%6===0)],[ur.DATA_MASK_110,new pi(ur.DATA_MASK_110,(Y,i)=>Y*i%6<3)],[ur.DATA_MASK_111,new pi(ur.DATA_MASK_111,(Y,i)=>(Y+i+Y*i%3&1)===0)]]);class cl{constructor(i){const o=i.getHeight();if(o<21||(o&3)!==1)throw new D;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let d=0;d<6;d++)i=this.copyBit(d,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let d=5;d>=0;d--)i=this.copyBit(8,d,i);const o=this.bitMatrix.getHeight();let u=0;const f=o-7;for(let d=o-1;d>=f;d--)u=this.copyBit(8,d,u);for(let d=o-8;d<o;d++)u=this.copyBit(d,8,u);if(this.parsedFormatInfo=Sr.decodeFormatInformation(i,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new D}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),o=Math.floor((i-17)/4);if(o<=6)return kt.getVersionForNumber(o);let u=0;const f=i-11;for(let g=5;g>=0;g--)for(let x=i-9;x>=f;x--)u=this.copyBit(x,g,u);let d=kt.decodeVersionInformation(u);if(d!==null&&d.getDimensionForVersion()===i)return this.parsedVersion=d,d;u=0;for(let g=5;g>=0;g--)for(let x=i-9;x>=f;x--)u=this.copyBit(g,x,u);if(d=kt.decodeVersionInformation(u),d!==null&&d.getDimensionForVersion()===i)return this.parsedVersion=d,d;throw new D}copyBit(i,o,u){return(this.isMirror?this.bitMatrix.get(o,i):this.bitMatrix.get(i,o))?u<<1|1:u<<1}readCodewords(){const i=this.readFormatInformation(),o=this.readVersion(),u=pi.values.get(i.getDataMask()),f=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,f);const d=o.buildFunctionPattern();let g=!0;const x=new Uint8Array(o.getTotalCodewords());let N=0,T=0,j=0;for(let G=f-1;G>0;G-=2){G===6&&G--;for(let te=0;te<f;te++){const ce=g?f-1-te:te;for(let be=0;be<2;be++)d.get(G-be,ce)||(j++,T<<=1,this.bitMatrix.get(G-be,ce)&&(T|=1),j===8&&(x[N++]=T,j=0,T=0))}g=!g}if(N!==o.getTotalCodewords())throw new D;return x}remask(){if(this.parsedFormatInfo===null)return;const i=pi.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let o=0,u=i.getWidth();o<u;o++)for(let f=o+1,d=i.getHeight();f<d;f++)i.get(o,f)!==i.get(f,o)&&(i.flip(f,o),i.flip(o,f))}}class fl{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o,u){if(i.length!==o.getTotalCodewords())throw new w;const f=o.getECBlocksForLevel(u);let d=0;const g=f.getECBlocks();for(const be of g)d+=be.getCount();const x=new Array(d);let N=0;for(const be of g)for(let Se=0;Se<be.getCount();Se++){const Te=be.getDataCodewords(),Ue=f.getECCodewordsPerBlock()+Te;x[N++]=new fl(Te,new Uint8Array(Ue))}const T=x[0].codewords.length;let j=x.length-1;for(;j>=0&&x[j].codewords.length!==T;)j--;j++;const G=T-f.getECCodewordsPerBlock();let te=0;for(let be=0;be<G;be++)for(let Se=0;Se<N;Se++)x[Se].codewords[be]=i[te++];for(let be=j;be<N;be++)x[be].codewords[G]=i[te++];const ce=x[0].codewords.length;for(let be=G;be<ce;be++)for(let Se=0;Se<N;Se++){const Te=Se<j?be:be+1;x[Se].codewords[Te]=i[te++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var gi;(function(Y){Y[Y.TERMINATOR=0]="TERMINATOR",Y[Y.NUMERIC=1]="NUMERIC",Y[Y.ALPHANUMERIC=2]="ALPHANUMERIC",Y[Y.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",Y[Y.BYTE=4]="BYTE",Y[Y.ECI=5]="ECI",Y[Y.KANJI=6]="KANJI",Y[Y.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",Y[Y.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",Y[Y.HANZI=9]="HANZI"})(gi||(gi={}));class Mt{constructor(i,o,u,f){this.value=i,this.stringValue=o,this.characterCountBitsForVersions=u,this.bits=f,Mt.FOR_BITS.set(f,this),Mt.FOR_VALUE.set(i,this)}static forBits(i){const o=Mt.FOR_BITS.get(i);if(o===void 0)throw new w;return o}getCharacterCountBits(i){const o=i.getVersionNumber();let u;return o<=9?u=0:o<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof Mt))return!1;const o=i;return this.value===o.value}toString(){return this.stringValue}}Mt.FOR_BITS=new Map,Mt.FOR_VALUE=new Map,Mt.TERMINATOR=new Mt(gi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Mt.NUMERIC=new Mt(gi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Mt.ALPHANUMERIC=new Mt(gi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Mt.STRUCTURED_APPEND=new Mt(gi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Mt.BYTE=new Mt(gi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Mt.ECI=new Mt(gi.ECI,"ECI",Int32Array.from([0,0,0]),7),Mt.KANJI=new Mt(gi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Mt.FNC1_FIRST_POSITION=new Mt(gi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Mt.FNC1_SECOND_POSITION=new Mt(gi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Mt.HANZI=new Mt(gi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class xn{static decode(i,o,u,f){const d=new io(i);let g=new ae;const x=new Array;let N=-1,T=-1;try{let j=null,G=!1,te;do{if(d.available()<4)te=Mt.TERMINATOR;else{const ce=d.readBits(4);te=Mt.forBits(ce)}switch(te){case Mt.TERMINATOR:break;case Mt.FNC1_FIRST_POSITION:case Mt.FNC1_SECOND_POSITION:G=!0;break;case Mt.STRUCTURED_APPEND:if(d.available()<16)throw new D;N=d.readBits(8),T=d.readBits(8);break;case Mt.ECI:const ce=xn.parseECIValue(d);if(j=F.getCharacterSetECIByValue(ce),j===null)throw new D;break;case Mt.HANZI:const be=d.readBits(4),Se=d.readBits(te.getCharacterCountBits(o));be===xn.GB2312_SUBSET&&xn.decodeHanziSegment(d,g,Se);break;default:const Te=d.readBits(te.getCharacterCountBits(o));switch(te){case Mt.NUMERIC:xn.decodeNumericSegment(d,g,Te);break;case Mt.ALPHANUMERIC:xn.decodeAlphanumericSegment(d,g,Te,G);break;case Mt.BYTE:xn.decodeByteSegment(d,g,Te,j,x,f);break;case Mt.KANJI:xn.decodeKanjiSegment(d,g,Te);break;default:throw new D}break}}while(te!==Mt.TERMINATOR)}catch{throw new D}return new Fe(i,g.toString(),x.length===0?null:x,u===null?null:u.toString(),N,T)}static decodeHanziSegment(i,o,u){if(u*13>i.available())throw new D;const f=new Uint8Array(2*u);let d=0;for(;u>0;){const g=i.readBits(13);let x=g/96<<8&4294967295|g%96;x<959?x+=41377:x+=42657,f[d]=x>>8&255,f[d+1]=x&255,d+=2,u--}try{o.append(W.decode(f,X.GB2312))}catch(g){throw new D(g)}}static decodeKanjiSegment(i,o,u){if(u*13>i.available())throw new D;const f=new Uint8Array(2*u);let d=0;for(;u>0;){const g=i.readBits(13);let x=g/192<<8&4294967295|g%192;x<7936?x+=33088:x+=49472,f[d]=x>>8,f[d+1]=x,d+=2,u--}try{o.append(W.decode(f,X.SHIFT_JIS))}catch(g){throw new D(g)}}static decodeByteSegment(i,o,u,f,d,g){if(8*u>i.available())throw new D;const x=new Uint8Array(u);for(let T=0;T<u;T++)x[T]=i.readBits(8);let N;f===null?N=X.guessEncoding(x,g):N=f.getName();try{o.append(W.decode(x,N))}catch(T){throw new D(T)}d.push(x)}static toAlphaNumericChar(i){if(i>=xn.ALPHANUMERIC_CHARS.length)throw new D;return xn.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,o,u,f){const d=o.length();for(;u>1;){if(i.available()<11)throw new D;const g=i.readBits(11);o.append(xn.toAlphaNumericChar(Math.floor(g/45))),o.append(xn.toAlphaNumericChar(g%45)),u-=2}if(u===1){if(i.available()<6)throw new D;o.append(xn.toAlphaNumericChar(i.readBits(6)))}if(f)for(let g=d;g<o.length();g++)o.charAt(g)==="%"&&(g<o.length()-1&&o.charAt(g+1)==="%"?o.deleteCharAt(g+1):o.setCharAt(g,""))}static decodeNumericSegment(i,o,u){for(;u>=3;){if(i.available()<10)throw new D;const f=i.readBits(10);if(f>=1e3)throw new D;o.append(xn.toAlphaNumericChar(Math.floor(f/100))),o.append(xn.toAlphaNumericChar(Math.floor(f/10)%10)),o.append(xn.toAlphaNumericChar(f%10)),u-=3}if(u===2){if(i.available()<7)throw new D;const f=i.readBits(7);if(f>=100)throw new D;o.append(xn.toAlphaNumericChar(Math.floor(f/10))),o.append(xn.toAlphaNumericChar(f%10))}else if(u===1){if(i.available()<4)throw new D;const f=i.readBits(4);if(f>=10)throw new D;o.append(xn.toAlphaNumericChar(f))}}static parseECIValue(i){const o=i.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const u=i.readBits(8);return(o&63)<<8&4294967295|u}if((o&224)===192){const u=i.readBits(16);return(o&31)<<16&4294967295|u}throw new D}}xn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",xn.GB2312_SUBSET=1;class _a{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const o=i[0];i[0]=i[2],i[2]=o}}class ao{constructor(){this.rsDecoder=new ge(Qe.QR_CODE_FIELD_256)}decodeBooleanArray(i,o){return this.decodeBitMatrix(J.parseFromBooleanArray(i),o)}decodeBitMatrix(i,o){const u=new cl(i);let f=null;try{return this.decodeBitMatrixParser(u,o)}catch(d){f=d}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const d=this.decodeBitMatrixParser(u,o);return d.setOther(new _a(!0)),d}catch(d){throw f!==null?f:d}}decodeBitMatrixParser(i,o){const u=i.readVersion(),f=i.readFormatInformation().getErrorCorrectionLevel(),d=i.readCodewords(),g=fl.getDataBlocks(d,u,f);let x=0;for(const j of g)x+=j.getNumDataCodewords();const N=new Uint8Array(x);let T=0;for(const j of g){const G=j.getCodewords(),te=j.getNumDataCodewords();this.correctErrors(G,te);for(let ce=0;ce<te;ce++)N[T++]=G[ce]}return xn.decode(N,u,f,o)}correctErrors(i,o){const u=new Int32Array(i);try{this.rsDecoder.decode(u,i.length-o)}catch{throw new b}for(let f=0;f<o;f++)i[f]=u[f]}}class oo extends ze{constructor(i,o,u){super(i,o),this.estimatedModuleSize=u}aboutEquals(i,o,u){if(Math.abs(o-this.getY())<=i&&Math.abs(u-this.getX())<=i){const f=Math.abs(i-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(i,o,u){const f=(this.getX()+o)/2,d=(this.getY()+i)/2,g=(this.estimatedModuleSize+u)/2;return new oo(f,d,g)}}class Nr{constructor(i,o,u,f,d,g,x){this.image=i,this.startX=o,this.startY=u,this.width=f,this.height=d,this.moduleSize=g,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,o=this.height,u=this.width,f=i+u,d=this.startY+o/2,g=new Int32Array(3),x=this.image;for(let N=0;N<o;N++){const T=d+(N&1?-Math.floor((N+1)/2):Math.floor((N+1)/2));g[0]=0,g[1]=0,g[2]=0;let j=i;for(;j<f&&!x.get(j,T);)j++;let G=0;for(;j<f;){if(x.get(j,T))if(G===1)g[1]++;else if(G===2){if(this.foundPatternCross(g)){const te=this.handlePossibleCenter(g,T,j);if(te!==null)return te}g[0]=g[2],g[1]=1,g[2]=0,G=1}else g[++G]++;else G===1&&G++,g[G]++;j++}if(this.foundPatternCross(g)){const te=this.handlePossibleCenter(g,T,f);if(te!==null)return te}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ie}static centerFromEnd(i,o){return o-i[2]-i[1]/2}foundPatternCross(i){const o=this.moduleSize,u=o/2;for(let f=0;f<3;f++)if(Math.abs(o-i[f])>=u)return!1;return!0}crossCheckVertical(i,o,u,f){const d=this.image,g=d.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let N=i;for(;N>=0&&d.get(o,N)&&x[1]<=u;)x[1]++,N--;if(N<0||x[1]>u)return NaN;for(;N>=0&&!d.get(o,N)&&x[0]<=u;)x[0]++,N--;if(x[0]>u)return NaN;for(N=i+1;N<g&&d.get(o,N)&&x[1]<=u;)x[1]++,N++;if(N===g||x[1]>u)return NaN;for(;N<g&&!d.get(o,N)&&x[2]<=u;)x[2]++,N++;if(x[2]>u)return NaN;const T=x[0]+x[1]+x[2];return 5*Math.abs(T-f)>=2*f?NaN:this.foundPatternCross(x)?Nr.centerFromEnd(x,N):NaN}handlePossibleCenter(i,o,u){const f=i[0]+i[1]+i[2],d=Nr.centerFromEnd(i,u),g=this.crossCheckVertical(o,d,2*i[1],f);if(!isNaN(g)){const x=(i[0]+i[1]+i[2])/3;for(const T of this.possibleCenters)if(T.aboutEquals(x,g,d))return T.combineEstimate(g,d,x);const N=new oo(d,g,x);this.possibleCenters.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return null}}class hl extends ze{constructor(i,o,u,f){super(i,o),this.estimatedModuleSize=u,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,o,u){if(Math.abs(o-this.getY())<=i&&Math.abs(u-this.getX())<=i){const f=Math.abs(i-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(i,o,u){const f=this.count+1,d=(this.count*this.getX()+o)/f,g=(this.count*this.getY()+i)/f,x=(this.count*this.estimatedModuleSize+u)/f;return new hl(d,g,x,f)}}class iu{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class St{constructor(i,o){this.image=i,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const o=i!=null&&i.get(M.TRY_HARDER)!==void 0,u=i!=null&&i.get(M.PURE_BARCODE)!==void 0,f=this.image,d=f.getHeight(),g=f.getWidth();let x=Math.floor(3*d/(4*St.MAX_MODULES));(x<St.MIN_SKIP||o)&&(x=St.MIN_SKIP);let N=!1;const T=new Int32Array(5);for(let G=x-1;G<d&&!N;G+=x){T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0;let te=0;for(let ce=0;ce<g;ce++)if(f.get(ce,G))(te&1)===1&&te++,T[te]++;else if(te&1)T[te]++;else if(te===4)if(St.foundPatternCross(T)){if(this.handlePossibleCenter(T,G,ce,u)===!0)if(x=2,this.hasSkipped===!0)N=this.haveMultiplyConfirmedCenters();else{const Se=this.findRowSkip();Se>T[2]&&(G+=Se-T[2]-x,ce=g-1)}else{T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,te=3;continue}te=0,T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0}else T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,te=3;else T[++te]++;St.foundPatternCross(T)&&this.handlePossibleCenter(T,G,g,u)===!0&&(x=T[0],this.hasSkipped&&(N=this.haveMultiplyConfirmedCenters()))}const j=this.selectBestPatterns();return ze.orderBestPatterns(j),new iu(j)}static centerFromEnd(i,o){return o-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let o=0;for(let d=0;d<5;d++){const g=i[d];if(g===0)return!1;o+=g}if(o<7)return!1;const u=o/7,f=u/2;return Math.abs(u-i[0])<f&&Math.abs(u-i[1])<f&&Math.abs(3*u-i[2])<3*f&&Math.abs(u-i[3])<f&&Math.abs(u-i[4])<f}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,o,u,f){const d=this.getCrossCheckStateCount();let g=0;const x=this.image;for(;i>=g&&o>=g&&x.get(o-g,i-g);)d[2]++,g++;if(i<g||o<g)return!1;for(;i>=g&&o>=g&&!x.get(o-g,i-g)&&d[1]<=u;)d[1]++,g++;if(i<g||o<g||d[1]>u)return!1;for(;i>=g&&o>=g&&x.get(o-g,i-g)&&d[0]<=u;)d[0]++,g++;if(d[0]>u)return!1;const N=x.getHeight(),T=x.getWidth();for(g=1;i+g<N&&o+g<T&&x.get(o+g,i+g);)d[2]++,g++;if(i+g>=N||o+g>=T)return!1;for(;i+g<N&&o+g<T&&!x.get(o+g,i+g)&&d[3]<u;)d[3]++,g++;if(i+g>=N||o+g>=T||d[3]>=u)return!1;for(;i+g<N&&o+g<T&&x.get(o+g,i+g)&&d[4]<u;)d[4]++,g++;if(d[4]>=u)return!1;const j=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(j-f)<2*f&&St.foundPatternCross(d)}crossCheckVertical(i,o,u,f){const d=this.image,g=d.getHeight(),x=this.getCrossCheckStateCount();let N=i;for(;N>=0&&d.get(o,N);)x[2]++,N--;if(N<0)return NaN;for(;N>=0&&!d.get(o,N)&&x[1]<=u;)x[1]++,N--;if(N<0||x[1]>u)return NaN;for(;N>=0&&d.get(o,N)&&x[0]<=u;)x[0]++,N--;if(x[0]>u)return NaN;for(N=i+1;N<g&&d.get(o,N);)x[2]++,N++;if(N===g)return NaN;for(;N<g&&!d.get(o,N)&&x[3]<u;)x[3]++,N++;if(N===g||x[3]>=u)return NaN;for(;N<g&&d.get(o,N)&&x[4]<u;)x[4]++,N++;if(x[4]>=u)return NaN;const T=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(T-f)>=2*f?NaN:St.foundPatternCross(x)?St.centerFromEnd(x,N):NaN}crossCheckHorizontal(i,o,u,f){const d=this.image,g=d.getWidth(),x=this.getCrossCheckStateCount();let N=i;for(;N>=0&&d.get(N,o);)x[2]++,N--;if(N<0)return NaN;for(;N>=0&&!d.get(N,o)&&x[1]<=u;)x[1]++,N--;if(N<0||x[1]>u)return NaN;for(;N>=0&&d.get(N,o)&&x[0]<=u;)x[0]++,N--;if(x[0]>u)return NaN;for(N=i+1;N<g&&d.get(N,o);)x[2]++,N++;if(N===g)return NaN;for(;N<g&&!d.get(N,o)&&x[3]<u;)x[3]++,N++;if(N===g||x[3]>=u)return NaN;for(;N<g&&d.get(N,o)&&x[4]<u;)x[4]++,N++;if(x[4]>=u)return NaN;const T=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(T-f)>=f?NaN:St.foundPatternCross(x)?St.centerFromEnd(x,N):NaN}handlePossibleCenter(i,o,u,f){const d=i[0]+i[1]+i[2]+i[3]+i[4];let g=St.centerFromEnd(i,u),x=this.crossCheckVertical(o,Math.floor(g),i[2],d);if(!isNaN(x)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(x),i[2],d),!isNaN(g)&&(!f||this.crossCheckDiagonal(Math.floor(x),Math.floor(g),i[2],d)))){const N=d/7;let T=!1;const j=this.possibleCenters;for(let G=0,te=j.length;G<te;G++){const ce=j[G];if(ce.aboutEquals(N,x,g)){j[G]=ce.combineEstimate(x,g,N),T=!0;break}}if(!T){const G=new hl(g,x,N);j.push(G),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(G)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const u of this.possibleCenters)if(u.getCount()>=St.CENTER_QUORUM)if(o==null)o=u;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-u.getX())-Math.abs(o.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,o=0;const u=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=St.CENTER_QUORUM&&(i++,o+=g.getEstimatedModuleSize());if(i<3)return!1;const f=o/u;let d=0;for(const g of this.possibleCenters)d+=Math.abs(g.getEstimatedModuleSize()-f);return d<=.05*o}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new ie;const o=this.possibleCenters;let u;if(i>3){let f=0,d=0;for(const N of this.possibleCenters){const T=N.getEstimatedModuleSize();f+=T,d+=T*T}u=f/i;let g=Math.sqrt(d/i-u*u);o.sort((N,T)=>{const j=Math.abs(T.getEstimatedModuleSize()-u),G=Math.abs(N.getEstimatedModuleSize()-u);return j<G?-1:j>G?1:0});const x=Math.max(.2*u,g);for(let N=0;N<o.length&&o.length>3;N++){const T=o[N];Math.abs(T.getEstimatedModuleSize()-u)>x&&(o.splice(N,1),N--)}}if(o.length>3){let f=0;for(const d of o)f+=d.getEstimatedModuleSize();u=f/o.length,o.sort((d,g)=>{if(g.getCount()===d.getCount()){const x=Math.abs(g.getEstimatedModuleSize()-u),N=Math.abs(d.getEstimatedModuleSize()-u);return x<N?1:x>N?-1:0}else return g.getCount()-d.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}St.CENTER_QUORUM=2,St.MIN_SKIP=3,St.MAX_MODULES=57;class Ia{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(M.NEED_RESULT_POINT_CALLBACK);const u=new St(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(u)}processFinderPatternInfo(i){const o=i.getTopLeft(),u=i.getTopRight(),f=i.getBottomLeft(),d=this.calculateModuleSize(o,u,f);if(d<1)throw new ie("No pattern found in proccess finder.");const g=Ia.computeDimension(o,u,f,d),x=kt.getProvisionalVersionForDimension(g),N=x.getDimensionForVersion()-7;let T=null;if(x.getAlignmentPatternCenters().length>0){const ce=u.getX()-o.getX()+f.getX(),be=u.getY()-o.getY()+f.getY(),Se=1-3/N,Te=Math.floor(o.getX()+Se*(ce-o.getX())),Ue=Math.floor(o.getY()+Se*(be-o.getY()));for(let it=4;it<=16;it<<=1)try{T=this.findAlignmentInRegion(d,Te,Ue,it);break}catch(ot){if(!(ot instanceof ie))throw ot}}const j=Ia.createTransform(o,u,f,T,g),G=Ia.sampleGrid(this.image,j,g);let te;return T===null?te=[f,o,u]:te=[f,o,u,T],new ct(G,te)}static createTransform(i,o,u,f,d){const g=d-3.5;let x,N,T,j;return f!==null?(x=f.getX(),N=f.getY(),T=g-3,j=T):(x=o.getX()-i.getX()+u.getX(),N=o.getY()-i.getY()+u.getY(),T=g,j=g),Ut.quadrilateralToQuadrilateral(3.5,3.5,g,3.5,T,j,3.5,g,i.getX(),i.getY(),o.getX(),o.getY(),x,N,u.getX(),u.getY())}static sampleGrid(i,o,u){return U.getInstance().sampleGridWithTransform(i,u,u,o)}static computeDimension(i,o,u,f){const d=Xe.round(ze.distance(i,o)/f),g=Xe.round(ze.distance(i,u)/f);let x=Math.floor((d+g)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new ie("Dimensions could be not found.")}return x}calculateModuleSize(i,o,u){return(this.calculateModuleSizeOneWay(i,o)+this.calculateModuleSizeOneWay(i,u))/2}calculateModuleSizeOneWay(i,o){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(o.getX()),Math.floor(o.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(u)?f/7:isNaN(f)?u/7:(u+f)/14}sizeOfBlackWhiteBlackRunBothWays(i,o,u,f){let d=this.sizeOfBlackWhiteBlackRun(i,o,u,f),g=1,x=i-(u-i);x<0?(g=i/(i-x),x=0):x>=this.image.getWidth()&&(g=(this.image.getWidth()-1-i)/(x-i),x=this.image.getWidth()-1);let N=Math.floor(o-(f-o)*g);return g=1,N<0?(g=o/(o-N),N=0):N>=this.image.getHeight()&&(g=(this.image.getHeight()-1-o)/(N-o),N=this.image.getHeight()-1),x=Math.floor(i+(x-i)*g),d+=this.sizeOfBlackWhiteBlackRun(i,o,x,N),d-1}sizeOfBlackWhiteBlackRun(i,o,u,f){const d=Math.abs(f-o)>Math.abs(u-i);if(d){let ce=i;i=o,o=ce,ce=u,u=f,f=ce}const g=Math.abs(u-i),x=Math.abs(f-o);let N=-g/2;const T=i<u?1:-1,j=o<f?1:-1;let G=0;const te=u+T;for(let ce=i,be=o;ce!==te;ce+=T){const Se=d?be:ce,Te=d?ce:be;if(G===1===this.image.get(Se,Te)){if(G===2)return Xe.distance(ce,be,i,o);G++}if(N+=x,N>0){if(be===f)break;be+=j,N-=g}}return G===2?Xe.distance(u+T,f,i,o):NaN}findAlignmentInRegion(i,o,u,f){const d=Math.floor(f*i),g=Math.max(0,o-d),x=Math.min(this.image.getWidth()-1,o+d);if(x-g<i*3)throw new ie("Alignment top exceeds estimated module size.");const N=Math.max(0,u-d),T=Math.min(this.image.getHeight()-1,u+d);if(T-N<i*3)throw new ie("Alignment bottom exceeds estimated module size.");return new Nr(this.image,g,N,x-g,T-N,i,this.resultPointCallback).find()}}class Es{constructor(){this.decoder=new ao}getDecoder(){return this.decoder}decode(i,o){let u,f;if(o!=null&&o.get(M.PURE_BARCODE)!==void 0){const N=Es.extractPureBits(i.getBlackMatrix());u=this.decoder.decodeBitMatrix(N,o),f=Es.NO_POINTS}else{const N=new Ia(i.getBlackMatrix()).detect(o);u=this.decoder.decodeBitMatrix(N.getBits(),o),f=N.getPoints()}u.getOther()instanceof _a&&u.getOther().applyMirroredCorrection(f);const d=new de(u.getText(),u.getRawBytes(),void 0,f,ye.QR_CODE,void 0),g=u.getByteSegments();g!==null&&d.putMetadata(Oe.BYTE_SEGMENTS,g);const x=u.getECLevel();return x!==null&&d.putMetadata(Oe.ERROR_CORRECTION_LEVEL,x),u.hasStructuredAppend()&&(d.putMetadata(Oe.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),d.putMetadata(Oe.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),d}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),u=i.getBottomRightOnBit();if(o===null||u===null)throw new ie;const f=this.moduleSize(o,i);let d=o[1],g=u[1],x=o[0],N=u[0];if(x>=N||d>=g)throw new ie;if(g-d!==N-x&&(N=x+(g-d),N>=i.getWidth()))throw new ie;const T=Math.round((N-x+1)/f),j=Math.round((g-d+1)/f);if(T<=0||j<=0)throw new ie;if(j!==T)throw new ie;const G=Math.floor(f/2);d+=G,x+=G;const te=x+Math.floor((T-1)*f)-N;if(te>0){if(te>G)throw new ie;x-=te}const ce=d+Math.floor((j-1)*f)-g;if(ce>0){if(ce>G)throw new ie;d-=ce}const be=new J(T,j);for(let Se=0;Se<j;Se++){const Te=d+Math.floor(Se*f);for(let Ue=0;Ue<T;Ue++)i.get(x+Math.floor(Ue*f),Te)&&be.set(Ue,Se)}return be}static moduleSize(i,o){const u=o.getHeight(),f=o.getWidth();let d=i[0],g=i[1],x=!0,N=0;for(;d<f&&g<u;){if(x!==o.get(d,g)){if(++N===5)break;x=!x}d++,g++}if(d===f||g===u)throw new ie;return(d-i[0])/7}}Es.NO_POINTS=new Array;class Pt{PDF417Common(){}static getBitCountSum(i){return Xe.sum(i)}static toIntArray(i){if(i==null||!i.length)return Pt.EMPTY_INT_ARRAY;const o=new Int32Array(i.length);let u=0;for(const f of i)o[u++]=f;return o}static getCodeword(i){const o=_.binarySearch(Pt.SYMBOL_TABLE,i&262143);return o<0?-1:(Pt.CODEWORD_TABLE[o]-1)%Pt.NUMBER_OF_CODEWORDS}}Pt.NUMBER_OF_CODEWORDS=929,Pt.MAX_CODEWORDS_IN_BARCODE=Pt.NUMBER_OF_CODEWORDS-1,Pt.MIN_ROWS_IN_BARCODE=3,Pt.MAX_ROWS_IN_BARCODE=90,Pt.MODULES_IN_CODEWORD=17,Pt.MODULES_IN_STOP_PATTERN=18,Pt.BARS_IN_MODULE=8,Pt.EMPTY_INT_ARRAY=new Int32Array([]),Pt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Pt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class su{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Zt{static detectMultiple(i,o,u){let f=i.getBlackMatrix(),d=Zt.detect(u,f);return d.length||(f=f.clone(),f.rotate180(),d=Zt.detect(u,f)),new su(f,d)}static detect(i,o){const u=new Array;let f=0,d=0,g=!1;for(;f<o.getHeight();){const x=Zt.findVertices(o,f,d);if(x[0]==null&&x[3]==null){if(!g)break;g=!1,d=0;for(const N of u)N[1]!=null&&(f=Math.trunc(Math.max(f,N[1].getY()))),N[3]!=null&&(f=Math.max(f,Math.trunc(N[3].getY())));f+=Zt.ROW_STEP;continue}if(g=!0,u.push(x),!i)break;x[2]!=null?(d=Math.trunc(x[2].getX()),f=Math.trunc(x[2].getY())):(d=Math.trunc(x[4].getX()),f=Math.trunc(x[4].getY()))}return u}static findVertices(i,o,u){const f=i.getHeight(),d=i.getWidth(),g=new Array(8);return Zt.copyToResult(g,Zt.findRowsWithPattern(i,f,d,o,u,Zt.START_PATTERN),Zt.INDEXES_START_PATTERN),g[4]!=null&&(u=Math.trunc(g[4].getX()),o=Math.trunc(g[4].getY())),Zt.copyToResult(g,Zt.findRowsWithPattern(i,f,d,o,u,Zt.STOP_PATTERN),Zt.INDEXES_STOP_PATTERN),g}static copyToResult(i,o,u){for(let f=0;f<u.length;f++)i[u[f]]=o[f]}static findRowsWithPattern(i,o,u,f,d,g){const x=new Array(4);let N=!1;const T=new Int32Array(g.length);for(;f<o;f+=Zt.ROW_STEP){let G=Zt.findGuardPattern(i,d,f,u,!1,g,T);if(G!=null){for(;f>0;){const te=Zt.findGuardPattern(i,d,--f,u,!1,g,T);if(te!=null)G=te;else{f++;break}}x[0]=new ze(G[0],f),x[1]=new ze(G[1],f),N=!0;break}}let j=f+1;if(N){let G=0,te=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;j<o;j++){const ce=Zt.findGuardPattern(i,te[0],j,u,!1,g,T);if(ce!=null&&Math.abs(te[0]-ce[0])<Zt.MAX_PATTERN_DRIFT&&Math.abs(te[1]-ce[1])<Zt.MAX_PATTERN_DRIFT)te=ce,G=0;else{if(G>Zt.SKIPPED_ROW_COUNT_MAX)break;G++}}j-=G+1,x[2]=new ze(te[0],j),x[3]=new ze(te[1],j)}return j-f<Zt.BARCODE_MIN_HEIGHT&&_.fill(x,null),x}static findGuardPattern(i,o,u,f,d,g,x){_.fillWithin(x,0,x.length,0);let N=o,T=0;for(;i.get(N,u)&&N>0&&T++<Zt.MAX_PIXEL_DRIFT;)N--;let j=N,G=0,te=g.length;for(let ce=d;j<f;j++)if(i.get(j,u)!==ce)x[G]++;else{if(G===te-1){if(Zt.patternMatchVariance(x,g,Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE)return new Int32Array([N,j]);N+=x[0]+x[1],A.arraycopy(x,2,x,0,G-1),x[G-1]=0,x[G]=0,G--}else G++;x[G]=1,ce=!ce}return G===te-1&&Zt.patternMatchVariance(x,g,Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE?new Int32Array([N,j-1]):null}static patternMatchVariance(i,o,u){let f=i.length,d=0,g=0;for(let T=0;T<f;T++)d+=i[T],g+=o[T];if(d<g)return 1/0;let x=d/g;u*=x;let N=0;for(let T=0;T<f;T++){let j=i[T],G=o[T]*x,te=j>G?j-G:G-j;if(te>u)return 1/0;N+=te}return N/d}}Zt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Zt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Zt.MAX_AVG_VARIANCE=.42,Zt.MAX_INDIVIDUAL_VARIANCE=.8,Zt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Zt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Zt.MAX_PIXEL_DRIFT=3,Zt.MAX_PATTERN_DRIFT=5,Zt.SKIPPED_ROW_COUNT_MAX=25,Zt.ROW_STEP=5,Zt.BARCODE_MIN_HEIGHT=10;class rr{constructor(i,o){if(o.length===0)throw new w;this.field=i;let u=o.length;if(u>1&&o[0]===0){let f=1;for(;f<u&&o[f]===0;)f++;f===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-f),A.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let f=0;for(let d of this.coefficients)f=this.field.add(f,d);return f}let o=this.coefficients[0],u=this.coefficients.length;for(let f=1;f<u;f++)o=this.field.add(this.field.multiply(i,o),this.coefficients[f]);return o}add(i){if(!this.field.equals(i.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,u=i.coefficients;if(o.length>u.length){let g=o;o=u,u=g}let f=new Int32Array(u.length),d=u.length-o.length;A.arraycopy(u,0,f,0,d);for(let g=d;g<u.length;g++)f[g]=this.field.add(o[g-d],u[g]);return new rr(this.field,f)}subtract(i){if(!this.field.equals(i.field))throw new w("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof rr?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new rr(this.field,new Int32Array([0]));let o=this.coefficients,u=o.length,f=i.coefficients,d=f.length,g=new Int32Array(u+d-1);for(let x=0;x<u;x++){let N=o[x];for(let T=0;T<d;T++)g[x+T]=this.field.add(g[x+T],this.field.multiply(N,f[T]))}return new rr(this.field,g)}negative(){let i=this.coefficients.length,o=new Int32Array(i);for(let u=0;u<i;u++)o[u]=this.field.subtract(0,this.coefficients[u]);return new rr(this.field,o)}multiplyScalar(i){if(i===0)return new rr(this.field,new Int32Array([0]));if(i===1)return this;let o=this.coefficients.length,u=new Int32Array(o);for(let f=0;f<o;f++)u[f]=this.field.multiply(this.coefficients[f],i);return new rr(this.field,u)}multiplyByMonomial(i,o){if(i<0)throw new w;if(o===0)return new rr(this.field,new Int32Array([0]));let u=this.coefficients.length,f=new Int32Array(u+i);for(let d=0;d<u;d++)f[d]=this.field.multiply(this.coefficients[d],o);return new rr(this.field,f)}toString(){let i=new ae;for(let o=this.getDegree();o>=0;o--){let u=this.getCoefficient(o);u!==0&&(u<0?(i.append(" - "),u=-u):i.length()>0&&i.append(" + "),(o===0||u!==1)&&i.append(u),o!==0&&(o===1?i.append("x"):(i.append("x^"),i.append(o))))}return i.toString()}}class dl{add(i,o){return(i+o)%this.modulus}subtract(i,o){return(this.modulus+i-o)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new w;return this.logTable[i]}inverse(i){if(i===0)throw new dt;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class pl extends dl{constructor(i,o){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let u=1;for(let f=0;f<i;f++)this.expTable[f]=u,u=u*o%i;for(let f=0;f<i-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new rr(this,new Int32Array([0])),this.one=new rr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new w;if(o===0)return this.zero;let u=new Int32Array(i+1);return u[0]=o,new rr(this,u)}}pl.PDF417_GF=new pl(Pt.NUMBER_OF_CODEWORDS,3);class au{constructor(){this.field=pl.PDF417_GF}decode(i,o,u){let f=new rr(this.field,i),d=new Int32Array(o),g=!1;for(let be=o;be>0;be--){let Se=f.evaluateAt(this.field.exp(be));d[o-be]=Se,Se!==0&&(g=!0)}if(!g)return 0;let x=this.field.getOne();if(u!=null)for(const be of u){let Se=this.field.exp(i.length-1-be),Te=new rr(this.field,new Int32Array([this.field.subtract(0,Se),1]));x=x.multiply(Te)}let N=new rr(this.field,d),T=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),N,o),j=T[0],G=T[1],te=this.findErrorLocations(j),ce=this.findErrorMagnitudes(G,j,te);for(let be=0;be<te.length;be++){let Se=i.length-1-this.field.log(te[be]);if(Se<0)throw b.getChecksumInstance();i[Se]=this.field.subtract(i[Se],ce[be])}return te.length}runEuclideanAlgorithm(i,o,u){if(i.getDegree()<o.getDegree()){let te=i;i=o,o=te}let f=i,d=o,g=this.field.getZero(),x=this.field.getOne();for(;d.getDegree()>=Math.round(u/2);){let te=f,ce=g;if(f=d,g=x,f.isZero())throw b.getChecksumInstance();d=te;let be=this.field.getZero(),Se=f.getCoefficient(f.getDegree()),Te=this.field.inverse(Se);for(;d.getDegree()>=f.getDegree()&&!d.isZero();){let Ue=d.getDegree()-f.getDegree(),it=this.field.multiply(d.getCoefficient(d.getDegree()),Te);be=be.add(this.field.buildMonomial(Ue,it)),d=d.subtract(f.multiplyByMonomial(Ue,it))}x=be.multiply(g).subtract(ce).negative()}let N=x.getCoefficient(0);if(N===0)throw b.getChecksumInstance();let T=this.field.inverse(N),j=x.multiply(T),G=d.multiply(T);return[j,G]}findErrorLocations(i){let o=i.getDegree(),u=new Int32Array(o),f=0;for(let d=1;d<this.field.getSize()&&f<o;d++)i.evaluateAt(d)===0&&(u[f]=this.field.inverse(d),f++);if(f!==o)throw b.getChecksumInstance();return u}findErrorMagnitudes(i,o,u){let f=o.getDegree(),d=new Int32Array(f);for(let T=1;T<=f;T++)d[f-T]=this.field.multiply(T,o.getCoefficient(T));let g=new rr(this.field,d),x=u.length,N=new Int32Array(x);for(let T=0;T<x;T++){let j=this.field.inverse(u[T]),G=this.field.subtract(0,i.evaluateAt(j)),te=this.field.inverse(g.evaluateAt(j));N[T]=this.field.multiply(G,te)}return N}}class qs{constructor(i,o,u,f,d){i instanceof qs?this.constructor_2(i):this.constructor_1(i,o,u,f,d)}constructor_1(i,o,u,f,d){const g=o==null||u==null,x=f==null||d==null;if(g&&x)throw new ie;g?(o=new ze(0,f.getY()),u=new ze(0,d.getY())):x&&(f=new ze(i.getWidth()-1,o.getY()),d=new ze(i.getWidth()-1,u.getY())),this.image=i,this.topLeft=o,this.bottomLeft=u,this.topRight=f,this.bottomRight=d,this.minX=Math.trunc(Math.min(o.getX(),u.getX())),this.maxX=Math.trunc(Math.max(f.getX(),d.getX())),this.minY=Math.trunc(Math.min(o.getY(),f.getY())),this.maxY=Math.trunc(Math.max(u.getY(),d.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,o){return i==null?o:o==null?i:new qs(i.image,i.topLeft,i.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(i,o,u){let f=this.topLeft,d=this.bottomLeft,g=this.topRight,x=this.bottomRight;if(i>0){let N=u?this.topLeft:this.topRight,T=Math.trunc(N.getY()-i);T<0&&(T=0);let j=new ze(N.getX(),T);u?f=j:g=j}if(o>0){let N=u?this.bottomLeft:this.bottomRight,T=Math.trunc(N.getY()+o);T>=this.image.getHeight()&&(T=this.image.getHeight()-1);let j=new ze(N.getX(),T);u?d=j:x=j}return new qs(this.image,f,d,g,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class gl{constructor(i,o,u,f){this.columnCount=i,this.errorCorrectionLevel=f,this.rowCountUpperPart=o,this.rowCountLowerPart=u,this.rowCount=o+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class rs{constructor(){this.buffer=""}static form(i,o){let u=-1;function f(g,x,N,T,j,G){if(g==="%%")return"%";if(o[++u]===void 0)return;g=T?parseInt(T.substr(1)):void 0;let te=j?parseInt(j.substr(1)):void 0,ce;switch(G){case"s":ce=o[u];break;case"c":ce=o[u][0];break;case"f":ce=parseFloat(o[u]).toFixed(g);break;case"p":ce=parseFloat(o[u]).toPrecision(g);break;case"e":ce=parseFloat(o[u]).toExponential(g);break;case"x":ce=parseInt(o[u]).toString(te||16);break;case"d":ce=parseFloat(parseInt(o[u],te||10).toPrecision(g)).toFixed(0);break}ce=typeof ce=="object"?JSON.stringify(ce):(+ce).toString(te);let be=parseInt(N),Se=N&&N[0]+""=="0"?"0":" ";for(;ce.length<be;)ce=x!==void 0?ce+Se:Se+ce;return ce}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(d,f)}format(i,...o){this.buffer+=rs.form(i,o)}toString(){return this.buffer}}class qi{constructor(i){this.boundingBox=new qs(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let o=this.getCodeword(i);if(o!=null)return o;for(let u=1;u<qi.MAX_NEARBY_DISTANCE;u++){let f=this.imageRowToCodewordIndex(i)-u;if(f>=0&&(o=this.codewords[f],o!=null)||(f=this.imageRowToCodewordIndex(i)+u,f<this.codewords.length&&(o=this.codewords[f],o!=null)))return o}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,o){this.codewords[this.imageRowToCodewordIndex(i)]=o}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new rs;let o=0;for(const u of this.codewords){if(u==null){i.format("%3d:    |   %n",o++);continue}i.format("%3d: %3d|%3d%n",o++,u.getRowNumber(),u.getValue())}return i.toString()}}qi.MAX_NEARBY_DISTANCE=5;class Ta{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let o=this.values.get(i);o==null&&(o=0),o++,this.values.set(i,o)}getValue(){let i=-1,o=new Array;for(const[u,f]of this.values.entries()){const d={getKey:()=>u,getValue:()=>f};d.getValue()>i?(i=d.getValue(),o=[],o.push(d.getKey())):d.getValue()===i&&o.push(d.getKey())}return Pt.toIntArray(o)}getConfidence(i){return this.values.get(i)}}class oa extends qi{constructor(i,o){super(i),this._isLeft=o}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,i);let u=this.getBoundingBox(),f=this._isLeft?u.getTopLeft():u.getTopRight(),d=this._isLeft?u.getBottomLeft():u.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=this.imageRowToCodewordIndex(Math.trunc(d.getY())),N=-1,T=1,j=0;for(let G=g;G<x;G++){if(o[G]==null)continue;let te=o[G],ce=te.getRowNumber()-N;if(ce===0)j++;else if(ce===1)T=Math.max(T,j),j=1,N=te.getRowNumber();else if(ce<0||te.getRowNumber()>=i.getRowCount()||ce>G)o[G]=null;else{let be;T>2?be=(T-2)*ce:be=ce;let Se=be>=G;for(let Te=1;Te<=be&&!Se;Te++)Se=o[G-Te]!=null;Se?o[G]=null:(N=te.getRowNumber(),j=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let o=new Int32Array(i.getRowCount());for(let u of this.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=o.length)continue;o[f]++}return o}adjustIncompleteIndicatorColumnRowNumbers(i){let o=this.getBoundingBox(),u=this._isLeft?o.getTopLeft():o.getTopRight(),f=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),g=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=this.getCodewords(),N=-1;for(let T=d;T<g;T++){if(x[T]==null)continue;let j=x[T];j.setRowNumberAsRowIndicatorColumn();let G=j.getRowNumber()-N;G===0||(G===1?N=j.getRowNumber():j.getRowNumber()>=i.getRowCount()?x[T]=null:N=j.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),o=new Ta,u=new Ta,f=new Ta,d=new Ta;for(let x of i){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let N=x.getValue()%30,T=x.getRowNumber();switch(this._isLeft||(T+=2),T%3){case 0:u.setValue(N*3+1);break;case 1:d.setValue(N/3),f.setValue(N%3);break;case 2:o.setValue(N+1);break}}if(o.getValue().length===0||u.getValue().length===0||f.getValue().length===0||d.getValue().length===0||o.getValue()[0]<1||u.getValue()[0]+f.getValue()[0]<Pt.MIN_ROWS_IN_BARCODE||u.getValue()[0]+f.getValue()[0]>Pt.MAX_ROWS_IN_BARCODE)return null;let g=new gl(o.getValue()[0],u.getValue()[0],f.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(i,g),g}removeIncorrectCodewords(i,o){for(let u=0;u<i.length;u++){let f=i[u];if(i[u]==null)continue;let d=f.getValue()%30,g=f.getRowNumber();if(g>o.getRowCount()){i[u]=null;continue}switch(this._isLeft||(g+=2),g%3){case 0:d*3+1!==o.getRowCountUpperPart()&&(i[u]=null);break;case 1:(Math.trunc(d/3)!==o.getErrorCorrectionLevel()||d%3!==o.getRowCountLowerPart())&&(i[u]=null);break;case 2:d+1!==o.getColumnCount()&&(i[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ws{constructor(i,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=Pt.MAX_CODEWORDS_IN_BARCODE,o;do o=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let u=this.detectionResultColumns[o].getCodewords();for(let f=0;f<u.length;f++)u[f]!=null&&(u[f].hasValidRowNumber()||this.adjustRowNumbers(o,f,u))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<i.length;u++)if(i[u]!=null&&o[u]!=null&&i[u].getRowNumber()===o[u].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let d=this.detectionResultColumns[f].getCodewords()[u];d!=null&&(d.setRowNumber(i[u].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<o.length;u++){if(o[u]==null)continue;let f=o[u].getRowNumber(),d=0;for(let g=this.barcodeColumnCount+1;g>0&&d<this.ADJUST_ROW_NUMBER_SKIP;g--){let x=this.detectionResultColumns[g].getCodewords()[u];x!=null&&(d=Ws.adjustRowNumberIfValid(f,d,x),x.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,o=this.detectionResultColumns[0].getCodewords();for(let u=0;u<o.length;u++){if(o[u]==null)continue;let f=o[u].getRowNumber(),d=0;for(let g=1;g<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;g++){let x=this.detectionResultColumns[g].getCodewords()[u];x!=null&&(d=Ws.adjustRowNumberIfValid(f,d,x),x.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,o,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(i)?(u.setRowNumber(i),o=0):++o),o}adjustRowNumbers(i,o,u){if(!this.detectionResultColumns[i-1])return;let f=u[o],d=this.detectionResultColumns[i-1].getCodewords(),g=d;this.detectionResultColumns[i+1]!=null&&(g=this.detectionResultColumns[i+1].getCodewords());let x=new Array(14);x[2]=d[o],x[3]=g[o],o>0&&(x[0]=u[o-1],x[4]=d[o-1],x[5]=g[o-1]),o>1&&(x[8]=u[o-2],x[10]=d[o-2],x[11]=g[o-2]),o<u.length-1&&(x[1]=u[o+1],x[6]=d[o+1],x[7]=g[o+1]),o<u.length-2&&(x[9]=u[o+2],x[12]=d[o+2],x[13]=g[o+2]);for(let N of x)if(Ws.adjustRowNumber(f,N))return}static adjustRowNumber(i,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===i.getBucket()?(i.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,o){this.detectionResultColumns[i]=o}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new rs;for(let u=0;u<i.getCodewords().length;u++){o.format("CW %3d:",u);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){o.format("    |   ");continue}let d=this.detectionResultColumns[f].getCodewords()[u];if(d==null){o.format("    |   ");continue}o.format(" %3d|%3d",d.getRowNumber(),d.getValue())}o.format("%n")}return o.toString()}}class Cs{constructor(i,o,u,f){this.rowNumber=Cs.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(o),this.bucket=Math.trunc(u),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==Cs.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}Cs.BARCODE_ROW_UNKNOWN=-1;class Ur{static initialize(){for(let i=0;i<Pt.SYMBOL_TABLE.length;i++){let o=Pt.SYMBOL_TABLE[i],u=o&1;for(let f=0;f<Pt.BARS_IN_MODULE;f++){let d=0;for(;(o&1)===u;)d+=1,o>>=1;u=o&1,Ur.RATIOS_TABLE[i]||(Ur.RATIOS_TABLE[i]=new Array(Pt.BARS_IN_MODULE)),Ur.RATIOS_TABLE[i][Pt.BARS_IN_MODULE-f-1]=Math.fround(d/Pt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let o=Ur.getDecodedCodewordValue(Ur.sampleBitCounts(i));return o!==-1?o:Ur.getClosestDecodedValue(i)}static sampleBitCounts(i){let o=Xe.sum(i),u=new Int32Array(Pt.BARS_IN_MODULE),f=0,d=0;for(let g=0;g<Pt.MODULES_IN_CODEWORD;g++){let x=o/(2*Pt.MODULES_IN_CODEWORD)+g*o/Pt.MODULES_IN_CODEWORD;d+i[f]<=x&&(d+=i[f],f++),u[f]++}return u}static getDecodedCodewordValue(i){let o=Ur.getBitValue(i);return Pt.getCodeword(o)===-1?-1:o}static getBitValue(i){let o=0;for(let u=0;u<i.length;u++)for(let f=0;f<i[u];f++)o=o<<1|(u%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(i){let o=Xe.sum(i),u=new Array(Pt.BARS_IN_MODULE);if(o>1)for(let g=0;g<u.length;g++)u[g]=Math.fround(i[g]/o);let f=ht.MAX_VALUE,d=-1;this.bSymbolTableReady||Ur.initialize();for(let g=0;g<Ur.RATIOS_TABLE.length;g++){let x=0,N=Ur.RATIOS_TABLE[g];for(let T=0;T<Pt.BARS_IN_MODULE;T++){let j=Math.fround(N[T]-u[T]);if(x+=Math.fround(j*j),x>=f)break}x<f&&(f=x,d=Pt.SYMBOL_TABLE[g])}return d}}Ur.bSymbolTableReady=!1,Ur.RATIOS_TABLE=new Array(Pt.SYMBOL_TABLE.length).map(Y=>new Array(Pt.BARS_IN_MODULE));class ml{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class yl{static parseLong(i,o=void 0){return parseInt(i,o)}}class wl extends p{}wl.kind="NullPointerException";class Ss{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,o,u){if(i==null)throw new wl;if(o<0||o>i.length||u<0||o+u>i.length||o+u<0)throw new k;if(u===0)return;for(let f=0;f<u;f++)this.write(i[o+f])}flush(){}close(){}}class Vs extends p{}class xc extends Ss{constructor(i=32){if(super(),this.count=0,i<0)throw new w("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let u=this.buf.length<<1;if(u-i<0&&(u=i),u<0){if(i<0)throw new Vs;u=L.MAX_VALUE}this.buf=_.copyOfUint8Array(this.buf,u)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,o,u){if(o<0||o>i.length||u<0||o+u-i.length>0)throw new k;this.ensureCapacity(this.count+u),A.arraycopy(i,o,this.buf,this.count,u),this.count+=u}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return _.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var cn;(function(Y){Y[Y.ALPHA=0]="ALPHA",Y[Y.LOWER=1]="LOWER",Y[Y.MIXED=2]="MIXED",Y[Y.PUNCT=3]="PUNCT",Y[Y.ALPHA_SHIFT=4]="ALPHA_SHIFT",Y[Y.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(cn||(cn={}));function Wi(){if(typeof window<"u")return window.BigInt||null;if(typeof Ic<"u")return Ic.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let la;function mi(Y){if(typeof la>"u"&&(la=Wi()),la===null)throw new Error("BigInt is not supported!");return la(Y)}function vc(){let Y=[];Y[0]=mi(1);let i=mi(900);Y[1]=i;for(let o=2;o<16;o++)Y[o]=Y[o-1]*i;return Y}class je{static decode(i,o){let u=new ae(""),f=F.ISO8859_1;u.enableDecoding(f);let d=1,g=i[d++],x=new ml;for(;d<i[0];){switch(g){case je.TEXT_COMPACTION_MODE_LATCH:d=je.textCompaction(i,d,u);break;case je.BYTE_COMPACTION_MODE_LATCH:case je.BYTE_COMPACTION_MODE_LATCH_6:d=je.byteCompaction(g,i,f,d,u);break;case je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[d++]);break;case je.NUMERIC_COMPACTION_MODE_LATCH:d=je.numericCompaction(i,d,u);break;case je.ECI_CHARSET:F.getCharacterSetECIByValue(i[d++]);break;case je.ECI_GENERAL_PURPOSE:d+=2;break;case je.ECI_USER_DEFINED:d++;break;case je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=je.decodeMacroBlock(i,d,x);break;case je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case je.MACRO_PDF417_TERMINATOR:throw new D;default:d--,d=je.textCompaction(i,d,u);break}if(d<i.length)g=i[d++];else throw D.getFormatInstance()}if(u.length()===0)throw D.getFormatInstance();let N=new Fe(null,u.toString(),null,o);return N.setOther(x),N}static decodeMacroBlock(i,o,u){if(o+je.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw D.getFormatInstance();let f=new Int32Array(je.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<je.NUMBER_OF_SEQUENCE_CODEWORDS;x++,o++)f[x]=i[o];u.setSegmentIndex(L.parseInt(je.decodeBase900toBase10(f,je.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new ae;o=je.textCompaction(i,o,d),u.setFileId(d.toString());let g=-1;for(i[o]===je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(g=o+1);o<i[0];)switch(i[o]){case je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,i[o]){case je.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new ae;o=je.textCompaction(i,o+1,x),u.setFileName(x.toString());break;case je.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let N=new ae;o=je.textCompaction(i,o+1,N),u.setSender(N.toString());break;case je.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let T=new ae;o=je.textCompaction(i,o+1,T),u.setAddressee(T.toString());break;case je.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let j=new ae;o=je.numericCompaction(i,o+1,j),u.setSegmentCount(L.parseInt(j.toString()));break;case je.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let G=new ae;o=je.numericCompaction(i,o+1,G),u.setTimestamp(yl.parseLong(G.toString()));break;case je.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let te=new ae;o=je.numericCompaction(i,o+1,te),u.setChecksum(L.parseInt(te.toString()));break;case je.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ce=new ae;o=je.numericCompaction(i,o+1,ce),u.setFileSize(yl.parseLong(ce.toString()));break;default:throw D.getFormatInstance()}break;case je.MACRO_PDF417_TERMINATOR:o++,u.setLastSegment(!0);break;default:throw D.getFormatInstance()}if(g!==-1){let x=o-g;u.isLastSegment()&&x--,u.setOptionalData(_.copyOfRange(i,g,g+x))}return o}static textCompaction(i,o,u){let f=new Int32Array((i[0]-o)*2),d=new Int32Array((i[0]-o)*2),g=0,x=!1;for(;o<i[0]&&!x;){let N=i[o++];if(N<je.TEXT_COMPACTION_MODE_LATCH)f[g]=N/30,f[g+1]=N%30,g+=2;else switch(N){case je.TEXT_COMPACTION_MODE_LATCH:f[g++]=je.TEXT_COMPACTION_MODE_LATCH;break;case je.BYTE_COMPACTION_MODE_LATCH:case je.BYTE_COMPACTION_MODE_LATCH_6:case je.NUMERIC_COMPACTION_MODE_LATCH:case je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case je.MACRO_PDF417_TERMINATOR:o--,x=!0;break;case je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[g]=je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,N=i[o++],d[g]=N,g++;break}}return je.decodeTextCompaction(f,d,g,u),o}static decodeTextCompaction(i,o,u,f){let d=cn.ALPHA,g=cn.ALPHA,x=0;for(;x<u;){let N=i[x],T="";switch(d){case cn.ALPHA:if(N<26)T=String.fromCharCode(65+N);else switch(N){case 26:T=" ";break;case je.LL:d=cn.LOWER;break;case je.ML:d=cn.MIXED;break;case je.PS:g=d,d=cn.PUNCT_SHIFT;break;case je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case je.TEXT_COMPACTION_MODE_LATCH:d=cn.ALPHA;break}break;case cn.LOWER:if(N<26)T=String.fromCharCode(97+N);else switch(N){case 26:T=" ";break;case je.AS:g=d,d=cn.ALPHA_SHIFT;break;case je.ML:d=cn.MIXED;break;case je.PS:g=d,d=cn.PUNCT_SHIFT;break;case je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case je.TEXT_COMPACTION_MODE_LATCH:d=cn.ALPHA;break}break;case cn.MIXED:if(N<je.PL)T=je.MIXED_CHARS[N];else switch(N){case je.PL:d=cn.PUNCT;break;case 26:T=" ";break;case je.LL:d=cn.LOWER;break;case je.AL:d=cn.ALPHA;break;case je.PS:g=d,d=cn.PUNCT_SHIFT;break;case je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case je.TEXT_COMPACTION_MODE_LATCH:d=cn.ALPHA;break}break;case cn.PUNCT:if(N<je.PAL)T=je.PUNCT_CHARS[N];else switch(N){case je.PAL:d=cn.ALPHA;break;case je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case je.TEXT_COMPACTION_MODE_LATCH:d=cn.ALPHA;break}break;case cn.ALPHA_SHIFT:if(d=g,N<26)T=String.fromCharCode(65+N);else switch(N){case 26:T=" ";break;case je.TEXT_COMPACTION_MODE_LATCH:d=cn.ALPHA;break}break;case cn.PUNCT_SHIFT:if(d=g,N<je.PAL)T=je.PUNCT_CHARS[N];else switch(N){case je.PAL:d=cn.ALPHA;break;case je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case je.TEXT_COMPACTION_MODE_LATCH:d=cn.ALPHA;break}break}T!==""&&f.append(T),x++}}static byteCompaction(i,o,u,f,d){let g=new xc,x=0,N=0,T=!1;switch(i){case je.BYTE_COMPACTION_MODE_LATCH:let j=new Int32Array(6),G=o[f++];for(;f<o[0]&&!T;)switch(j[x++]=G,N=900*N+G,G=o[f++],G){case je.TEXT_COMPACTION_MODE_LATCH:case je.BYTE_COMPACTION_MODE_LATCH:case je.NUMERIC_COMPACTION_MODE_LATCH:case je.BYTE_COMPACTION_MODE_LATCH_6:case je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case je.MACRO_PDF417_TERMINATOR:f--,T=!0;break;default:if(x%5===0&&x>0){for(let te=0;te<6;++te)g.write(Number(mi(N)>>mi(8*(5-te))));N=0,x=0}break}f===o[0]&&G<je.TEXT_COMPACTION_MODE_LATCH&&(j[x++]=G);for(let te=0;te<x;te++)g.write(j[te]);break;case je.BYTE_COMPACTION_MODE_LATCH_6:for(;f<o[0]&&!T;){let te=o[f++];if(te<je.TEXT_COMPACTION_MODE_LATCH)x++,N=900*N+te;else switch(te){case je.TEXT_COMPACTION_MODE_LATCH:case je.BYTE_COMPACTION_MODE_LATCH:case je.NUMERIC_COMPACTION_MODE_LATCH:case je.BYTE_COMPACTION_MODE_LATCH_6:case je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case je.MACRO_PDF417_TERMINATOR:f--,T=!0;break}if(x%5===0&&x>0){for(let ce=0;ce<6;++ce)g.write(Number(mi(N)>>mi(8*(5-ce))));N=0,x=0}}break}return d.append(W.decode(g.toByteArray(),u)),f}static numericCompaction(i,o,u){let f=0,d=!1,g=new Int32Array(je.MAX_NUMERIC_CODEWORDS);for(;o<i[0]&&!d;){let x=i[o++];if(o===i[0]&&(d=!0),x<je.TEXT_COMPACTION_MODE_LATCH)g[f]=x,f++;else switch(x){case je.TEXT_COMPACTION_MODE_LATCH:case je.BYTE_COMPACTION_MODE_LATCH:case je.BYTE_COMPACTION_MODE_LATCH_6:case je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case je.MACRO_PDF417_TERMINATOR:o--,d=!0;break}(f%je.MAX_NUMERIC_CODEWORDS===0||x===je.NUMERIC_COMPACTION_MODE_LATCH||d)&&f>0&&(u.append(je.decodeBase900toBase10(g,f)),f=0)}return o}static decodeBase900toBase10(i,o){let u=mi(0);for(let d=0;d<o;d++)u+=je.EXP900[o-d-1]*mi(i[d]);let f=u.toString();if(f.charAt(0)!=="1")throw new D;return f.substring(1)}}je.TEXT_COMPACTION_MODE_LATCH=900,je.BYTE_COMPACTION_MODE_LATCH=901,je.NUMERIC_COMPACTION_MODE_LATCH=902,je.BYTE_COMPACTION_MODE_LATCH_6=924,je.ECI_USER_DEFINED=925,je.ECI_GENERAL_PURPOSE=926,je.ECI_CHARSET=927,je.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,je.MACRO_PDF417_TERMINATOR=922,je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,je.MAX_NUMERIC_CODEWORDS=15,je.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,je.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,je.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,je.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,je.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,je.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,je.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,je.PL=25,je.LL=27,je.AS=27,je.ML=28,je.AL=28,je.PS=29,je.PAL=29,je.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,je.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",je.EXP900=Wi()?vc():[],je.NUMBER_OF_SEQUENCE_CODEWORDS=2;class tn{constructor(){}static decode(i,o,u,f,d,g,x){let N=new qs(i,o,u,f,d),T=null,j=null,G;for(let be=!0;;be=!1){if(o!=null&&(T=tn.getRowIndicatorColumn(i,N,o,!0,g,x)),f!=null&&(j=tn.getRowIndicatorColumn(i,N,f,!1,g,x)),G=tn.merge(T,j),G==null)throw ie.getNotFoundInstance();let Se=G.getBoundingBox();if(be&&Se!=null&&(Se.getMinY()<N.getMinY()||Se.getMaxY()>N.getMaxY()))N=Se;else break}G.setBoundingBox(N);let te=G.getBarcodeColumnCount()+1;G.setDetectionResultColumn(0,T),G.setDetectionResultColumn(te,j);let ce=T!=null;for(let be=1;be<=te;be++){let Se=ce?be:te-be;if(G.getDetectionResultColumn(Se)!==void 0)continue;let Te;Se===0||Se===te?Te=new oa(N,Se===0):Te=new qi(N),G.setDetectionResultColumn(Se,Te);let Ue=-1,it=Ue;for(let ot=N.getMinY();ot<=N.getMaxY();ot++){if(Ue=tn.getStartColumn(G,Se,ot,ce),Ue<0||Ue>N.getMaxX()){if(it===-1)continue;Ue=it}let st=tn.detectCodeword(i,N.getMinX(),N.getMaxX(),ce,Ue,ot,g,x);st!=null&&(Te.setCodeword(ot,st),it=Ue,g=Math.min(g,st.getWidth()),x=Math.max(x,st.getWidth()))}}return tn.createDecoderResult(G)}static merge(i,o){if(i==null&&o==null)return null;let u=tn.getBarcodeMetadata(i,o);if(u==null)return null;let f=qs.merge(tn.adjustBoundingBox(i),tn.adjustBoundingBox(o));return new Ws(u,f)}static adjustBoundingBox(i){if(i==null)return null;let o=i.getRowHeights();if(o==null)return null;let u=tn.getMax(o),f=0;for(let x of o)if(f+=u-x,x>0)break;let d=i.getCodewords();for(let x=0;f>0&&d[x]==null;x++)f--;let g=0;for(let x=o.length-1;x>=0&&(g+=u-o[x],!(o[x]>0));x--);for(let x=d.length-1;g>0&&d[x]==null;x--)g--;return i.getBoundingBox().addMissingRows(f,g,i.isLeft())}static getMax(i){let o=-1;for(let u of i)o=Math.max(o,u);return o}static getBarcodeMetadata(i,o){let u;if(i==null||(u=i.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let f;return o==null||(f=o.getBarcodeMetadata())==null?u:u.getColumnCount()!==f.getColumnCount()&&u.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&u.getRowCount()!==f.getRowCount()?null:u}static getRowIndicatorColumn(i,o,u,f,d,g){let x=new oa(o,f);for(let N=0;N<2;N++){let T=N===0?1:-1,j=Math.trunc(Math.trunc(u.getX()));for(let G=Math.trunc(Math.trunc(u.getY()));G<=o.getMaxY()&&G>=o.getMinY();G+=T){let te=tn.detectCodeword(i,0,i.getWidth(),f,j,G,d,g);te!=null&&(x.setCodeword(G,te),f?j=te.getStartX():j=te.getEndX())}}return x}static adjustCodewordCount(i,o){let u=o[0][1],f=u.getValue(),d=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-tn.getNumberOfECCodeWords(i.getBarcodeECLevel());if(f.length===0){if(d<1||d>Pt.MAX_CODEWORDS_IN_BARCODE)throw ie.getNotFoundInstance();u.setValue(d)}else f[0]!==d&&u.setValue(d)}static createDecoderResult(i){let o=tn.createBarcodeMatrix(i);tn.adjustCodewordCount(i,o);let u=new Array,f=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),d=[],g=new Array;for(let N=0;N<i.getBarcodeRowCount();N++)for(let T=0;T<i.getBarcodeColumnCount();T++){let j=o[N][T+1].getValue(),G=N*i.getBarcodeColumnCount()+T;j.length===0?u.push(G):j.length===1?f[G]=j[0]:(g.push(G),d.push(j))}let x=new Array(d.length);for(let N=0;N<x.length;N++)x[N]=d[N];return tn.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),f,Pt.toIntArray(u),Pt.toIntArray(g),x)}static createDecoderResultFromAmbiguousValues(i,o,u,f,d){let g=new Int32Array(f.length),x=100;for(;x-- >0;){for(let N=0;N<g.length;N++)o[f[N]]=d[N][g[N]];try{return tn.decodeCodewords(o,i,u)}catch(N){if(!(N instanceof b))throw N}if(g.length===0)throw b.getChecksumInstance();for(let N=0;N<g.length;N++)if(g[N]<d[N].length-1){g[N]++;break}else if(g[N]=0,N===g.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(i){let o=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let f=0;f<o.length;f++)for(let d=0;d<o[f].length;d++)o[f][d]=new Ta;let u=0;for(let f of i.getDetectionResultColumns()){if(f!=null){for(let d of f.getCodewords())if(d!=null){let g=d.getRowNumber();if(g>=0){if(g>=o.length)continue;o[g][u].setValue(d.getValue())}}}u++}return o}static isValidBarcodeColumn(i,o){return o>=0&&o<=i.getBarcodeColumnCount()+1}static getStartColumn(i,o,u,f){let d=f?1:-1,g=null;if(tn.isValidBarcodeColumn(i,o-d)&&(g=i.getDetectionResultColumn(o-d).getCodeword(u)),g!=null)return f?g.getEndX():g.getStartX();if(g=i.getDetectionResultColumn(o).getCodewordNearby(u),g!=null)return f?g.getStartX():g.getEndX();if(tn.isValidBarcodeColumn(i,o-d)&&(g=i.getDetectionResultColumn(o-d).getCodewordNearby(u)),g!=null)return f?g.getEndX():g.getStartX();let x=0;for(;tn.isValidBarcodeColumn(i,o-d);){o-=d;for(let N of i.getDetectionResultColumn(o).getCodewords())if(N!=null)return(f?N.getEndX():N.getStartX())+d*x*(N.getEndX()-N.getStartX());x++}return f?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,o,u,f,d,g,x,N){d=tn.adjustCodewordStartColumn(i,o,u,f,d,g);let T=tn.getModuleBitCount(i,o,u,f,d,g);if(T==null)return null;let j,G=Xe.sum(T);if(f)j=d+G;else{for(let be=0;be<T.length/2;be++){let Se=T[be];T[be]=T[T.length-1-be],T[T.length-1-be]=Se}j=d,d=j-G}if(!tn.checkCodewordSkew(G,x,N))return null;let te=Ur.getDecodedValue(T),ce=Pt.getCodeword(te);return ce===-1?null:new Cs(d,j,tn.getCodewordBucketNumber(te),ce)}static getModuleBitCount(i,o,u,f,d,g){let x=d,N=new Int32Array(8),T=0,j=f?1:-1,G=f;for(;(f?x<u:x>=o)&&T<N.length;)i.get(x,g)===G?(N[T]++,x+=j):(T++,G=!G);return T===N.length||x===(f?u:o)&&T===N.length-1?N:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,o,u,f,d,g){let x=d,N=f?-1:1;for(let T=0;T<2;T++){for(;(f?x>=o:x<u)&&f===i.get(x,g);){if(Math.abs(d-x)>tn.CODEWORD_SKEW_SIZE)return d;x+=N}N=-N,f=!f}return x}static checkCodewordSkew(i,o,u){return o-tn.CODEWORD_SKEW_SIZE<=i&&i<=u+tn.CODEWORD_SKEW_SIZE}static decodeCodewords(i,o,u){if(i.length===0)throw D.getFormatInstance();let f=1<<o+1,d=tn.correctErrors(i,u,f);tn.verifyCodewordCount(i,f);let g=je.decode(i,""+o);return g.setErrorsCorrected(d),g.setErasures(u.length),g}static correctErrors(i,o,u){if(o!=null&&o.length>u/2+tn.MAX_ERRORS||u<0||u>tn.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return tn.errorCorrection.decode(i,u,o)}static verifyCodewordCount(i,o){if(i.length<4)throw D.getFormatInstance();let u=i[0];if(u>i.length)throw D.getFormatInstance();if(u===0)if(o<i.length)i[0]=i.length-o;else throw D.getFormatInstance()}static getBitCountForCodeword(i){let o=new Int32Array(8),u=0,f=o.length-1;for(;!((i&1)!==u&&(u=i&1,f--,f<0));)o[f]++,i>>=1;return o}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return tn.getCodewordBucketNumber(tn.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let o=new rs;for(let u=0;u<i.length;u++){o.format("Row %2d: ",u);for(let f=0;f<i[u].length;f++){let d=i[u][f];d.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}o.format("%n")}return o.toString()}}tn.CODEWORD_SKEW_SIZE=2,tn.MAX_ERRORS=3,tn.MAX_EC_CODEWORDS=512,tn.errorCorrection=new au;class cr{decode(i,o=null){let u=cr.decode(i,o,!1);if(u==null||u.length===0||u[0]==null)throw ie.getNotFoundInstance();return u[0]}decodeMultiple(i,o=null){try{return cr.decode(i,o,!0)}catch(u){throw u instanceof D||u instanceof b?ie.getNotFoundInstance():u}}static decode(i,o,u){const f=new Array,d=Zt.detectMultiple(i,o,u);for(const g of d.getPoints()){const x=tn.decode(d.getBits(),g[4],g[5],g[6],g[7],cr.getMinCodewordWidth(g),cr.getMaxCodewordWidth(g)),N=new de(x.getText(),x.getRawBytes(),void 0,g,ye.PDF_417);N.putMetadata(Oe.ERROR_CORRECTION_LEVEL,x.getECLevel());const T=x.getOther();T!=null&&N.putMetadata(Oe.PDF417_EXTRA_METADATA,T),f.push(N)}return f.map(g=>g)}static getMaxWidth(i,o){return i==null||o==null?0:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMinWidth(i,o){return i==null||o==null?L.MAX_VALUE:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(cr.getMaxWidth(i[0],i[4]),cr.getMaxWidth(i[6],i[2])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN),Math.max(cr.getMaxWidth(i[1],i[5]),cr.getMaxWidth(i[7],i[3])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(cr.getMinWidth(i[0],i[4]),cr.getMinWidth(i[6],i[2])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN),Math.min(cr.getMinWidth(i[1],i[5]),cr.getMinWidth(i[7],i[3])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN)))}reset(){}}class ua extends p{}ua.kind="ReaderException";class xl{constructor(i,o){this.verbose=i===!0,o&&this.setHints(o)}decode(i,o){return o&&this.setHints(o),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const o=!r(i)&&i.get(M.TRY_HARDER)===!0,u=r(i)?null:i.get(M.POSSIBLE_FORMATS),f=new Array;if(!r(u)){const d=u.some(g=>g===ye.UPC_A||g===ye.UPC_E||g===ye.EAN_13||g===ye.EAN_8||g===ye.CODABAR||g===ye.CODE_39||g===ye.CODE_93||g===ye.CODE_128||g===ye.ITF||g===ye.RSS_14||g===ye.RSS_EXPANDED);d&&!o&&f.push(new As(i,this.verbose)),u.includes(ye.QR_CODE)&&f.push(new Es),u.includes(ye.DATA_MATRIX)&&f.push(new Rr),u.includes(ye.AZTEC)&&f.push(new we),u.includes(ye.PDF_417)&&f.push(new cr),d&&o&&f.push(new As(i,this.verbose))}f.length===0&&(o||f.push(new As(i,this.verbose)),f.push(new Es),f.push(new Rr),f.push(new we),f.push(new cr),o&&f.push(new As(i,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new ua("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(i,this.hints)}catch(u){if(u instanceof ua)continue}throw new ie("No MultiFormat Readers were able to detect the code.")}}class lo extends he{constructor(i=null,o=500){const u=new xl;u.setHints(i),super(u,o)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class vl extends he{constructor(i=500){super(new cr,i)}}class bl extends he{constructor(i=500){super(new Es,i)}}var uo;(function(Y){Y[Y.ERROR_CORRECTION=0]="ERROR_CORRECTION",Y[Y.CHARACTER_SET=1]="CHARACTER_SET",Y[Y.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",Y[Y.MIN_SIZE=3]="MIN_SIZE",Y[Y.MAX_SIZE=4]="MAX_SIZE",Y[Y.MARGIN=5]="MARGIN",Y[Y.PDF417_COMPACT=6]="PDF417_COMPACT",Y[Y.PDF417_COMPACTION=7]="PDF417_COMPACTION",Y[Y.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",Y[Y.AZTEC_LAYERS=9]="AZTEC_LAYERS",Y[Y.QR_VERSION=10]="QR_VERSION"})(uo||(uo={}));var fr=uo;class ca{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new rt(i,Int32Array.from([1])))}buildGenerator(i){const o=this.cachedGenerators;if(i>=o.length){let u=o[o.length-1];const f=this.field;for(let d=o.length;d<=i;d++){const g=u.multiply(new rt(f,Int32Array.from([1,f.exp(d-1+f.getGeneratorBase())])));o.push(g),u=g}}return o[i]}encode(i,o){if(o===0)throw new w("No error correction bytes");const u=i.length-o;if(u<=0)throw new w("No data bytes provided");const f=this.buildGenerator(o),d=new Int32Array(u);A.arraycopy(i,0,d,0,u);let g=new rt(this.field,d);g=g.multiplyByMonomial(o,1);const N=g.divide(f)[1].getCoefficients(),T=o-N.length;for(let j=0;j<T;j++)i[u+j]=0;A.arraycopy(N,0,i,u+T,N.length)}}class _n{constructor(){}static applyMaskPenaltyRule1(i){return _n.applyMaskPenaltyRule1Internal(i,!0)+_n.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let o=0;const u=i.getArray(),f=i.getWidth(),d=i.getHeight();for(let g=0;g<d-1;g++){const x=u[g];for(let N=0;N<f-1;N++){const T=x[N];T===x[N+1]&&T===u[g+1][N]&&T===u[g+1][N+1]&&o++}}return _n.N2*o}static applyMaskPenaltyRule3(i){let o=0;const u=i.getArray(),f=i.getWidth(),d=i.getHeight();for(let g=0;g<d;g++)for(let x=0;x<f;x++){const N=u[g];x+6<f&&N[x]===1&&N[x+1]===0&&N[x+2]===1&&N[x+3]===1&&N[x+4]===1&&N[x+5]===0&&N[x+6]===1&&(_n.isWhiteHorizontal(N,x-4,x)||_n.isWhiteHorizontal(N,x+7,x+11))&&o++,g+6<d&&u[g][x]===1&&u[g+1][x]===0&&u[g+2][x]===1&&u[g+3][x]===1&&u[g+4][x]===1&&u[g+5][x]===0&&u[g+6][x]===1&&(_n.isWhiteVertical(u,x,g-4,g)||_n.isWhiteVertical(u,x,g+7,g+11))&&o++}return o*_n.N3}static isWhiteHorizontal(i,o,u){o=Math.max(o,0),u=Math.min(u,i.length);for(let f=o;f<u;f++)if(i[f]===1)return!1;return!0}static isWhiteVertical(i,o,u,f){u=Math.max(u,0),f=Math.min(f,i.length);for(let d=u;d<f;d++)if(i[d][o]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let o=0;const u=i.getArray(),f=i.getWidth(),d=i.getHeight();for(let N=0;N<d;N++){const T=u[N];for(let j=0;j<f;j++)T[j]===1&&o++}const g=i.getHeight()*i.getWidth();return Math.floor(Math.abs(o*2-g)*10/g)*_n.N4}static getDataMaskBit(i,o,u){let f,d;switch(i){case 0:f=u+o&1;break;case 1:f=u&1;break;case 2:f=o%3;break;case 3:f=(u+o)%3;break;case 4:f=Math.floor(u/2)+Math.floor(o/3)&1;break;case 5:d=u*o,f=(d&1)+d%3;break;case 6:d=u*o,f=(d&1)+d%3&1;break;case 7:d=u*o,f=d%3+(u+o&1)&1;break;default:throw new w("Invalid mask pattern: "+i)}return f===0}static applyMaskPenaltyRule1Internal(i,o){let u=0;const f=o?i.getHeight():i.getWidth(),d=o?i.getWidth():i.getHeight(),g=i.getArray();for(let x=0;x<f;x++){let N=0,T=-1;for(let j=0;j<d;j++){const G=o?g[x][j]:g[j][x];G===T?N++:(N>=5&&(u+=_n.N1+(N-5)),N=1,T=G)}N>=5&&(u+=_n.N1+(N-5))}return u}}_n.N1=3,_n.N2=3,_n.N3=40,_n.N4=10;class fa{constructor(i,o){this.width=i,this.height=o;const u=new Array(o);for(let f=0;f!==o;f++)u[f]=new Uint8Array(i);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(i,o){return this.bytes[o][i]}getArray(){return this.bytes}setNumber(i,o,u){this.bytes[o][i]=u}setBoolean(i,o,u){this.bytes[o][i]=u?1:0}clear(i){for(const o of this.bytes)_.fill(o,i)}equals(i){if(!(i instanceof fa))return!1;const o=i;if(this.width!==o.width||this.height!==o.height)return!1;for(let u=0,f=this.height;u<f;++u){const d=this.bytes[u],g=o.bytes[u];for(let x=0,N=this.width;x<N;++x)if(d[x]!==g[x])return!1}return!0}toString(){const i=new ae;for(let o=0,u=this.height;o<u;++o){const f=this.bytes[o];for(let d=0,g=this.width;d<g;++d)switch(f[d]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class yi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new ae;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<yi.NUM_MASK_PATTERNS}}yi.NUM_MASK_PATTERNS=8;class vn extends p{}vn.kind="WriterException";class I{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,o,u,f,d){I.clearMatrix(d),I.embedBasicPatterns(u,d),I.embedTypeInfo(o,f,d),I.maybeEmbedVersionInfo(u,d),I.embedDataBits(i,f,d)}static embedBasicPatterns(i,o){I.embedPositionDetectionPatternsAndSeparators(o),I.embedDarkDotAtLeftBottomCorner(o),I.maybeEmbedPositionAdjustmentPatterns(i,o),I.embedTimingPatterns(o)}static embedTypeInfo(i,o,u){const f=new z;I.makeTypeInfoBits(i,o,f);for(let d=0,g=f.getSize();d<g;++d){const x=f.get(f.getSize()-1-d),N=I.TYPE_INFO_COORDINATES[d],T=N[0],j=N[1];if(u.setBoolean(T,j,x),d<8){const G=u.getWidth()-d-1;u.setBoolean(G,8,x)}else{const te=u.getHeight()-7+(d-8);u.setBoolean(8,te,x)}}}static maybeEmbedVersionInfo(i,o){if(i.getVersionNumber()<7)return;const u=new z;I.makeVersionInfoBits(i,u);let f=6*3-1;for(let d=0;d<6;++d)for(let g=0;g<3;++g){const x=u.get(f);f--,o.setBoolean(d,o.getHeight()-11+g,x),o.setBoolean(o.getHeight()-11+g,d,x)}}static embedDataBits(i,o,u){let f=0,d=-1,g=u.getWidth()-1,x=u.getHeight()-1;for(;g>0;){for(g===6&&(g-=1);x>=0&&x<u.getHeight();){for(let N=0;N<2;++N){const T=g-N;if(!I.isEmpty(u.get(T,x)))continue;let j;f<i.getSize()?(j=i.get(f),++f):j=!1,o!==255&&_n.getDataMaskBit(o,T,x)&&(j=!j),u.setBoolean(T,x,j)}x+=d}d=-d,x+=d,g-=2}if(f!==i.getSize())throw new vn("Not all bits consumed: "+f+"/"+i.getSize())}static findMSBSet(i){return 32-L.numberOfLeadingZeros(i)}static calculateBCHCode(i,o){if(o===0)throw new w("0 polynomial");const u=I.findMSBSet(o);for(i<<=u-1;I.findMSBSet(i)>=u;)i^=o<<I.findMSBSet(i)-u;return i}static makeTypeInfoBits(i,o,u){if(!yi.isValidMaskPattern(o))throw new vn("Invalid mask pattern");const f=i.getBits()<<3|o;u.appendBits(f,5);const d=I.calculateBCHCode(f,I.TYPE_INFO_POLY);u.appendBits(d,10);const g=new z;if(g.appendBits(I.TYPE_INFO_MASK_PATTERN,15),u.xor(g),u.getSize()!==15)throw new vn("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(i,o){o.appendBits(i.getVersionNumber(),6);const u=I.calculateBCHCode(i.getVersionNumber(),I.VERSION_INFO_POLY);if(o.appendBits(u,12),o.getSize()!==18)throw new vn("should not happen but we got: "+o.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let o=8;o<i.getWidth()-8;++o){const u=(o+1)%2;I.isEmpty(i.get(o,6))&&i.setNumber(o,6,u),I.isEmpty(i.get(6,o))&&i.setNumber(6,o,u)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new vn;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,o,u){for(let f=0;f<8;++f){if(!I.isEmpty(u.get(i+f,o)))throw new vn;u.setNumber(i+f,o,0)}}static embedVerticalSeparationPattern(i,o,u){for(let f=0;f<7;++f){if(!I.isEmpty(u.get(i,o+f)))throw new vn;u.setNumber(i,o+f,0)}}static embedPositionAdjustmentPattern(i,o,u){for(let f=0;f<5;++f){const d=I.POSITION_ADJUSTMENT_PATTERN[f];for(let g=0;g<5;++g)u.setNumber(i+g,o+f,d[g])}}static embedPositionDetectionPattern(i,o,u){for(let f=0;f<7;++f){const d=I.POSITION_DETECTION_PATTERN[f];for(let g=0;g<7;++g)u.setNumber(i+g,o+f,d[g])}}static embedPositionDetectionPatternsAndSeparators(i){const o=I.POSITION_DETECTION_PATTERN[0].length;I.embedPositionDetectionPattern(0,0,i),I.embedPositionDetectionPattern(i.getWidth()-o,0,i),I.embedPositionDetectionPattern(0,i.getWidth()-o,i);const u=8;I.embedHorizontalSeparationPattern(0,u-1,i),I.embedHorizontalSeparationPattern(i.getWidth()-u,u-1,i),I.embedHorizontalSeparationPattern(0,i.getWidth()-u,i);const f=7;I.embedVerticalSeparationPattern(f,0,i),I.embedVerticalSeparationPattern(i.getHeight()-f-1,0,i),I.embedVerticalSeparationPattern(f,i.getHeight()-f,i)}static maybeEmbedPositionAdjustmentPatterns(i,o){if(i.getVersionNumber()<2)return;const u=i.getVersionNumber()-1,f=I.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let d=0,g=f.length;d!==g;d++){const x=f[d];if(x>=0)for(let N=0;N!==g;N++){const T=f[N];T>=0&&I.isEmpty(o.get(T,x))&&I.embedPositionAdjustmentPattern(T-2,x-2,o)}}}}I.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),I.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),I.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),I.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),I.VERSION_INFO_POLY=7973,I.TYPE_INFO_POLY=1335,I.TYPE_INFO_MASK_PATTERN=21522;class ${constructor(i,o){this.dataBytes=i,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ue{constructor(){}static calculateMaskPenalty(i){return _n.applyMaskPenaltyRule1(i)+_n.applyMaskPenaltyRule2(i)+_n.applyMaskPenaltyRule3(i)+_n.applyMaskPenaltyRule4(i)}static encode(i,o,u=null){let f=ue.DEFAULT_BYTE_MODE_ENCODING;const d=u!==null&&u.get(fr.CHARACTER_SET)!==void 0;d&&(f=u.get(fr.CHARACTER_SET).toString());const g=this.chooseMode(i,f),x=new z;if(g===Mt.BYTE&&(d||ue.DEFAULT_BYTE_MODE_ENCODING!==f)){const ot=F.getCharacterSetECIByName(f);ot!==void 0&&this.appendECI(ot,x)}this.appendModeInfo(g,x);const N=new z;this.appendBytes(i,g,N,f);let T;if(u!==null&&u.get(fr.QR_VERSION)!==void 0){const ot=Number.parseInt(u.get(fr.QR_VERSION).toString(),10);T=kt.getVersionForNumber(ot);const st=this.calculateBitsNeeded(g,x,N,T);if(!this.willFit(st,T,o))throw new vn("Data too big for requested version")}else T=this.recommendVersion(o,g,x,N);const j=new z;j.appendBitArray(x);const G=g===Mt.BYTE?N.getSizeInBytes():i.length;this.appendLengthInfo(G,T,g,j),j.appendBitArray(N);const te=T.getECBlocksForLevel(o),ce=T.getTotalCodewords()-te.getTotalECCodewords();this.terminateBits(ce,j);const be=this.interleaveWithECBytes(j,T.getTotalCodewords(),ce,te.getNumBlocks()),Se=new yi;Se.setECLevel(o),Se.setMode(g),Se.setVersion(T);const Te=T.getDimensionForVersion(),Ue=new fa(Te,Te),it=this.chooseMaskPattern(be,o,T,Ue);return Se.setMaskPattern(it),I.buildMatrix(be,o,T,it,Ue),Se.setMatrix(Ue),Se}static recommendVersion(i,o,u,f){const d=this.calculateBitsNeeded(o,u,f,kt.getVersionForNumber(1)),g=this.chooseVersion(d,i),x=this.calculateBitsNeeded(o,u,f,g);return this.chooseVersion(x,i)}static calculateBitsNeeded(i,o,u,f){return o.getSize()+i.getCharacterCountBits(f)+u.getSize()}static getAlphanumericCode(i){return i<ue.ALPHANUMERIC_TABLE.length?ue.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,o=null){if(F.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(i))return Mt.KANJI;let u=!1,f=!1;for(let d=0,g=i.length;d<g;++d){const x=i.charAt(d);if(ue.isDigit(x))u=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)f=!0;else return Mt.BYTE}return f?Mt.ALPHANUMERIC:u?Mt.NUMERIC:Mt.BYTE}static isOnlyDoubleByteKanji(i){let o;try{o=W.encode(i,F.SJIS)}catch{return!1}const u=o.length;if(u%2!==0)return!1;for(let f=0;f<u;f+=2){const d=o[f]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(i,o,u,f){let d=Number.MAX_SAFE_INTEGER,g=-1;for(let x=0;x<yi.NUM_MASK_PATTERNS;x++){I.buildMatrix(i,o,u,x,f);let N=this.calculateMaskPenalty(f);N<d&&(d=N,g=x)}return g}static chooseVersion(i,o){for(let u=1;u<=40;u++){const f=kt.getVersionForNumber(u);if(ue.willFit(i,f,o))return f}throw new vn("Data too big")}static willFit(i,o,u){const f=o.getTotalCodewords(),g=o.getECBlocksForLevel(u).getTotalECCodewords(),x=f-g,N=(i+7)/8;return x>=N}static terminateBits(i,o){const u=i*8;if(o.getSize()>u)throw new vn("data bits cannot fit in the QR Code"+o.getSize()+" > "+u);for(let g=0;g<4&&o.getSize()<u;++g)o.appendBit(!1);const f=o.getSize()&7;if(f>0)for(let g=f;g<8;g++)o.appendBit(!1);const d=i-o.getSizeInBytes();for(let g=0;g<d;++g)o.appendBits(g&1?17:236,8);if(o.getSize()!==u)throw new vn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,o,u,f,d,g){if(f>=u)throw new vn("Block ID too large");const x=i%u,N=u-x,T=Math.floor(i/u),j=T+1,G=Math.floor(o/u),te=G+1,ce=T-G,be=j-te;if(ce!==be)throw new vn("EC bytes mismatch");if(u!==N+x)throw new vn("RS blocks mismatch");if(i!==(G+ce)*N+(te+be)*x)throw new vn("Total bytes mismatch");f<N?(d[0]=G,g[0]=ce):(d[0]=te,g[0]=be)}static interleaveWithECBytes(i,o,u,f){if(i.getSizeInBytes()!==u)throw new vn("Number of bits and data bytes does not match");let d=0,g=0,x=0;const N=new Array;for(let j=0;j<f;++j){const G=new Int32Array(1),te=new Int32Array(1);ue.getNumDataBytesAndNumECBytesForBlockID(o,u,f,j,G,te);const ce=G[0],be=new Uint8Array(ce);i.toBytes(8*d,be,0,ce);const Se=ue.generateECBytes(be,te[0]);N.push(new $(be,Se)),g=Math.max(g,ce),x=Math.max(x,Se.length),d+=G[0]}if(u!==d)throw new vn("Data bytes does not match offset");const T=new z;for(let j=0;j<g;++j)for(const G of N){const te=G.getDataBytes();j<te.length&&T.appendBits(te[j],8)}for(let j=0;j<x;++j)for(const G of N){const te=G.getErrorCorrectionBytes();j<te.length&&T.appendBits(te[j],8)}if(o!==T.getSizeInBytes())throw new vn("Interleaving error: "+o+" and "+T.getSizeInBytes()+" differ.");return T}static generateECBytes(i,o){const u=i.length,f=new Int32Array(u+o);for(let g=0;g<u;g++)f[g]=i[g]&255;new ca(Qe.QR_CODE_FIELD_256).encode(f,o);const d=new Uint8Array(o);for(let g=0;g<o;g++)d[g]=f[u+g];return d}static appendModeInfo(i,o){o.appendBits(i.getBits(),4)}static appendLengthInfo(i,o,u,f){const d=u.getCharacterCountBits(o);if(i>=1<<d)throw new vn(i+" is bigger than "+((1<<d)-1));f.appendBits(i,d)}static appendBytes(i,o,u,f){switch(o){case Mt.NUMERIC:ue.appendNumericBytes(i,u);break;case Mt.ALPHANUMERIC:ue.appendAlphanumericBytes(i,u);break;case Mt.BYTE:ue.append8BitBytes(i,u,f);break;case Mt.KANJI:ue.appendKanjiBytes(i,u);break;default:throw new vn("Invalid mode: "+o)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const o=ue.getDigit(i);return o>=0&&o<=9}static appendNumericBytes(i,o){const u=i.length;let f=0;for(;f<u;){const d=ue.getDigit(i.charAt(f));if(f+2<u){const g=ue.getDigit(i.charAt(f+1)),x=ue.getDigit(i.charAt(f+2));o.appendBits(d*100+g*10+x,10),f+=3}else if(f+1<u){const g=ue.getDigit(i.charAt(f+1));o.appendBits(d*10+g,7),f+=2}else o.appendBits(d,4),f++}}static appendAlphanumericBytes(i,o){const u=i.length;let f=0;for(;f<u;){const d=ue.getAlphanumericCode(i.charCodeAt(f));if(d===-1)throw new vn;if(f+1<u){const g=ue.getAlphanumericCode(i.charCodeAt(f+1));if(g===-1)throw new vn;o.appendBits(d*45+g,11),f+=2}else o.appendBits(d,6),f++}}static append8BitBytes(i,o,u){let f;try{f=W.encode(i,u)}catch(d){throw new vn(d)}for(let d=0,g=f.length;d!==g;d++){const x=f[d];o.appendBits(x,8)}}static appendKanjiBytes(i,o){let u;try{u=W.encode(i,F.SJIS)}catch(d){throw new vn(d)}const f=u.length;for(let d=0;d<f;d+=2){const g=u[d]&255,x=u[d+1]&255,N=g<<8&4294967295|x;let T=-1;if(N>=33088&&N<=40956?T=N-33088:N>=57408&&N<=60351&&(T=N-49472),T===-1)throw new vn("Invalid byte sequence");const j=(T>>8)*192+(T&255);o.appendBits(j,13)}}static appendECI(i,o){o.appendBits(Mt.ECI.getBits(),4),o.appendBits(i.getValue(),8)}}ue.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ue.DEFAULT_BYTE_MODE_ENCODING=F.UTF8.getName();class Ee{write(i,o,u,f=null){if(i.length===0)throw new w("Found empty contents");if(o<0||u<0)throw new w("Requested dimensions are too small: "+o+"x"+u);let d=En.L,g=Ee.QUIET_ZONE_SIZE;f!==null&&(f.get(fr.ERROR_CORRECTION)!==void 0&&(d=En.fromString(f.get(fr.ERROR_CORRECTION).toString())),f.get(fr.MARGIN)!==void 0&&(g=Number.parseInt(f.get(fr.MARGIN).toString(),10)));const x=ue.encode(i,d,f);return this.renderResult(x,o,u,g)}writeToDom(i,o,u,f,d=null){typeof i=="string"&&(i=document.querySelector(i));const g=this.write(o,u,f,d);i&&i.appendChild(g)}renderResult(i,o,u,f){const d=i.getMatrix();if(d===null)throw new qe;const g=d.getWidth(),x=d.getHeight(),N=g+f*2,T=x+f*2,j=Math.max(o,N),G=Math.max(u,T),te=Math.min(Math.floor(j/N),Math.floor(G/T)),ce=Math.floor((j-g*te)/2),be=Math.floor((G-x*te)/2),Se=this.createSVGElement(j,G);for(let Te=0,Ue=be;Te<x;Te++,Ue+=te)for(let it=0,ot=ce;it<g;it++,ot+=te)if(d.get(it,Te)===1){const st=this.createSvgRectElement(ot,Ue,te,te);Se.appendChild(st)}return Se}createSVGElement(i,o){const u=document.createElementNS(Ee.SVG_NS,"svg");return u.setAttributeNS(null,"height",i.toString()),u.setAttributeNS(null,"width",o.toString()),u}createSvgRectElement(i,o,u,f){const d=document.createElementNS(Ee.SVG_NS,"rect");return d.setAttributeNS(null,"x",i.toString()),d.setAttributeNS(null,"y",o.toString()),d.setAttributeNS(null,"height",u.toString()),d.setAttributeNS(null,"width",f.toString()),d.setAttributeNS(null,"fill","#000000"),d}}Ee.QUIET_ZONE_SIZE=4,Ee.SVG_NS="http://www.w3.org/2000/svg";class Pe{encode(i,o,u,f,d){if(i.length===0)throw new w("Found empty contents");if(o!==ye.QR_CODE)throw new w("Can only encode QR_CODE, but got "+o);if(u<0||f<0)throw new w(`Requested dimensions are too small: ${u}x${f}`);let g=En.L,x=Pe.QUIET_ZONE_SIZE;d!==null&&(d.get(fr.ERROR_CORRECTION)!==void 0&&(g=En.fromString(d.get(fr.ERROR_CORRECTION).toString())),d.get(fr.MARGIN)!==void 0&&(x=Number.parseInt(d.get(fr.MARGIN).toString(),10)));const N=ue.encode(i,g,d);return Pe.renderResult(N,u,f,x)}static renderResult(i,o,u,f){const d=i.getMatrix();if(d===null)throw new qe;const g=d.getWidth(),x=d.getHeight(),N=g+f*2,T=x+f*2,j=Math.max(o,N),G=Math.max(u,T),te=Math.min(Math.floor(j/N),Math.floor(G/T)),ce=Math.floor((j-g*te)/2),be=Math.floor((G-x*te)/2),Se=new J(j,G);for(let Te=0,Ue=be;Te<x;Te++,Ue+=te)for(let it=0,ot=ce;it<g;it++,ot+=te)d.get(it,Te)===1&&Se.setRegion(ot,Ue,te,te);return Se}}Pe.QUIET_ZONE_SIZE=4;class Ge{encode(i,o,u,f,d){let g;switch(o){case ye.QR_CODE:g=new Pe;break;default:throw new w("No encoder available for format "+o)}return g.encode(i,o,u,f,d)}}class nt extends pe{constructor(i,o,u,f,d,g,x,N){if(super(g,x),this.yuvData=i,this.dataWidth=o,this.dataHeight=u,this.left=f,this.top=d,f+g>o||d+x>u)throw new w("Crop rectangle does not fit within image data.");N&&this.reverseHorizontal(g,x)}getRow(i,o){if(i<0||i>=this.getHeight())throw new w("Requested row is outside the image: "+i);const u=this.getWidth();(o==null||o.length<u)&&(o=new Uint8ClampedArray(u));const f=(i+this.top)*this.dataWidth+this.left;return A.arraycopy(this.yuvData,f,o,0,u),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.yuvData;const u=i*o,f=new Uint8ClampedArray(u);let d=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return A.arraycopy(this.yuvData,d,f,0,u),f;for(let g=0;g<o;g++){const x=g*i;A.arraycopy(this.yuvData,d,f,x,i),d+=this.dataWidth}return f}isCropSupported(){return!0}crop(i,o,u,f){return new nt(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+o,u,f,!1)}renderThumbnail(){const i=this.getWidth()/nt.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/nt.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(i*o),f=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let g=0;g<o;g++){const x=g*i;for(let N=0;N<i;N++){const T=f[d+N*nt.THUMBNAIL_SCALE_FACTOR]&255;u[x+N]=4278190080|T*65793}d+=this.dataWidth*nt.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/nt.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/nt.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,o){const u=this.yuvData;for(let f=0,d=this.top*this.dataWidth+this.left;f<o;f++,d+=this.dataWidth){const g=d+i/2;for(let x=d,N=d+i-1;x<g;x++,N--){const T=u[x];u[x]=u[N],u[N]=T}}}invert(){return new ve(this)}}nt.THUMBNAIL_SCALE_FACTOR=2;class yt extends pe{constructor(i,o,u,f,d,g,x){if(super(o,u),this.dataWidth=f,this.dataHeight=d,this.left=g,this.top=x,i.BYTES_PER_ELEMENT===4){const N=o*u,T=new Uint8ClampedArray(N);for(let j=0;j<N;j++){const G=i[j],te=G>>16&255,ce=G>>7&510,be=G&255;T[j]=(te+ce+be)/4&255}this.luminances=T}else this.luminances=i;if(f===void 0&&(this.dataWidth=o),d===void 0&&(this.dataHeight=u),g===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+u>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(i,o){if(i<0||i>=this.getHeight())throw new w("Requested row is outside the image: "+i);const u=this.getWidth();(o==null||o.length<u)&&(o=new Uint8ClampedArray(u));const f=(i+this.top)*this.dataWidth+this.left;return A.arraycopy(this.luminances,f,o,0,u),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.luminances;const u=i*o,f=new Uint8ClampedArray(u);let d=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return A.arraycopy(this.luminances,d,f,0,u),f;for(let g=0;g<o;g++){const x=g*i;A.arraycopy(this.luminances,d,f,x,i),d+=this.dataWidth}return f}isCropSupported(){return!0}crop(i,o,u,f){return new yt(this.luminances,u,f,this.dataWidth,this.dataHeight,this.left+i,this.top+o)}invert(){return new ve(this)}}class Rt extends F{static forName(i){return this.getCharacterSetECIByName(i)}}class Kt{}Kt.ISO_8859_1=F.ISO8859_1;class Qt{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class fn{static singletonList(i){return[i]}static min(i,o){return i.sort(o)[0]}}class Qn{constructor(i){this.previous=i}getPrevious(){return this.previous}}class In extends Qn{constructor(i,o,u){super(i),this.value=o,this.bitCount=u}appendTo(i,o){i.appendBits(this.value,this.bitCount)}add(i,o){return new In(this,i,o)}addBinaryShift(i,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new In(this,i,o)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+L.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class ir extends In{constructor(i,o,u){super(i,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=u}appendTo(i,o){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):u===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(o[this.binaryShiftStart+u],8)}addBinaryShift(i,o){return new ir(this,i,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Qr(Y,i,o){return new ir(Y,i,o)}function sr(Y,i,o){return new In(Y,i,o)}const is=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],yr=0,Oi=1,li=2,co=3,wi=4,fo=new In(null,0,0),La=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Al(Y){for(let i of Y)_.fill(i,-1);return Y[yr][wi]=0,Y[Oi][wi]=0,Y[Oi][yr]=28,Y[co][wi]=0,Y[li][wi]=0,Y[li][yr]=15,Y}const ka=Al(_.createInt32Array(6,6));class Rn{constructor(i,o,u,f){this.token=i,this.mode=o,this.binaryShiftByteCount=u,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,o){let u=this.bitCount,f=this.token;if(i!==this.mode){let g=La[this.mode][i];f=sr(f,g&65535,g>>16),u+=g>>16}let d=i===li?4:5;return f=sr(f,o,d),new Rn(f,i,0,u+d)}shiftAndAppend(i,o){let u=this.token,f=this.mode===li?4:5;return u=sr(u,ka[this.mode][i],f),u=sr(u,o,5),new Rn(u,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(i){let o=this.token,u=this.mode,f=this.bitCount;if(this.mode===wi||this.mode===li){let x=La[u][yr];o=sr(o,x&65535,x>>16),f+=x>>16,u=yr}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,g=new Rn(o,u,this.binaryShiftByteCount+1,f+d);return g.binaryShiftByteCount===2078&&(g=g.endBinaryShift(i+1)),g}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=Qr(o,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new Rn(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let o=this.bitCount+(La[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?o+=Rn.calculateBinaryShiftCost(i)-Rn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(o+=10),o<=i.bitCount}toBitArray(i){let o=[];for(let f=this.endBinaryShift(i.length).token;f!==null;f=f.getPrevious())o.unshift(f);let u=new z;for(const f of o)f.appendTo(u,i);return u}toString(){return X.format("%s bits=%d bytes=%d",is[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}Rn.INITIAL_STATE=new Rn(fo,yr,0,0);function ho(Y){const i=X.getCharCode(" "),o=X.getCharCode("."),u=X.getCharCode(",");Y[yr][i]=1;const f=X.getCharCode("Z"),d=X.getCharCode("A");for(let te=d;te<=f;te++)Y[yr][te]=te-d+2;Y[Oi][i]=1;const g=X.getCharCode("z"),x=X.getCharCode("a");for(let te=x;te<=g;te++)Y[Oi][te]=te-x+2;Y[li][i]=1;const N=X.getCharCode("9"),T=X.getCharCode("0");for(let te=T;te<=N;te++)Y[li][te]=te-T+2;Y[li][u]=12,Y[li][o]=13;const j=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let te=0;te<j.length;te++)Y[co][X.getCharCode(j[te])]=te;const G=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let te=0;te<G.length;te++)X.getCharCode(G[te])>0&&(Y[wi][X.getCharCode(G[te])]=te);return Y}const ha=ho(_.createInt32Array(5,256));class Ns{constructor(i){this.text=i}encode(){const i=X.getCharCode(" "),o=X.getCharCode(`
`);let u=fn.singletonList(Rn.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let g,x=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case X.getCharCode("\r"):g=x===o?2:0;break;case X.getCharCode("."):g=x===i?3:0;break;case X.getCharCode(","):g=x===i?4:0;break;case X.getCharCode(":"):g=x===i?5:0;break;default:g=0}g>0?(u=Ns.updateStateListForPair(u,d,g),d++):u=this.updateStateListForChar(u,d)}return fn.min(u,(d,g)=>d.getBitCount()-g.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,o){const u=[];for(let f of i)this.updateStateForChar(f,o,u);return Ns.simplifyStates(u)}updateStateForChar(i,o,u){let f=this.text[o]&255,d=ha[i.getMode()][f]>0,g=null;for(let x=0;x<=wi;x++){let N=ha[x][f];if(N>0){if(g==null&&(g=i.endBinaryShift(o)),!d||x===i.getMode()||x===li){const T=g.latchAndAppend(x,N);u.push(T)}if(!d&&ka[i.getMode()][x]>=0){const T=g.shiftAndAppend(x,N);u.push(T)}}}if(i.getBinaryShiftByteCount()>0||ha[i.getMode()][f]===0){let x=i.addBinaryShiftChar(o);u.push(x)}}static updateStateListForPair(i,o,u){const f=[];for(let d of i)this.updateStateForPair(d,o,u,f);return this.simplifyStates(f)}static updateStateForPair(i,o,u,f){let d=i.endBinaryShift(o);if(f.push(d.latchAndAppend(wi,u)),i.getMode()!==wi&&f.push(d.shiftAndAppend(wi,u)),u===3||u===4){let g=d.latchAndAppend(li,16-u).latchAndAppend(li,1);f.push(g)}if(i.getBinaryShiftByteCount()>0){let g=i.addBinaryShiftChar(o).addBinaryShiftChar(o+1);f.push(g)}}static simplifyStates(i){let o=[];for(const u of i){let f=!0;for(const d of o){if(d.isBetterThanOrEqualTo(u)){f=!1;break}u.isBetterThanOrEqualTo(d)&&(o=o.filter(g=>g!==d))}f&&o.push(u)}return o}}class un{constructor(){}static encodeBytes(i){return un.encode(i,un.DEFAULT_EC_PERCENT,un.DEFAULT_AZTEC_LAYERS)}static encode(i,o,u){let f=new Ns(i).encode(),d=L.truncDivision(f.getSize()*o,100)+11,g=f.getSize()+d,x,N,T,j,G;if(u!==un.DEFAULT_AZTEC_LAYERS){if(x=u<0,N=Math.abs(u),N>(x?un.MAX_NB_BITS_COMPACT:un.MAX_NB_BITS))throw new w(X.format("Illegal value %s for layers",u));T=un.totalBitsInLayer(N,x),j=un.WORD_SIZE[N];let st=T-T%j;if(G=un.stuffBits(f,j),G.getSize()+d>st)throw new w("Data to large for user specified layer");if(x&&G.getSize()>j*64)throw new w("Data to large for user specified layer")}else{j=0,G=null;for(let st=0;;st++){if(st>un.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(x=st<=3,N=x?st+1:st,T=un.totalBitsInLayer(N,x),g>T)continue;(G==null||j!==un.WORD_SIZE[N])&&(j=un.WORD_SIZE[N],G=un.stuffBits(f,j));let an=T-T%j;if(!(x&&G.getSize()>j*64)&&G.getSize()+d<=an)break}}let te=un.generateCheckWords(G,T,j),ce=G.getSize()/j,be=un.generateModeMessage(x,N,ce),Se=(x?11:14)+N*4,Te=new Int32Array(Se),Ue;if(x){Ue=Se;for(let st=0;st<Te.length;st++)Te[st]=st}else{Ue=Se+1+2*L.truncDivision(L.truncDivision(Se,2)-1,15);let st=L.truncDivision(Se,2),an=L.truncDivision(Ue,2);for(let Ht=0;Ht<st;Ht++){let wr=Ht+L.truncDivision(Ht,15);Te[st-Ht-1]=an-wr-1,Te[st+Ht]=an+wr+1}}let it=new J(Ue);for(let st=0,an=0;st<N;st++){let Ht=(N-st)*4+(x?9:12);for(let wr=0;wr<Ht;wr++){let qr=wr*2;for(let hr=0;hr<2;hr++)te.get(an+qr+hr)&&it.set(Te[st*2+hr],Te[st*2+wr]),te.get(an+Ht*2+qr+hr)&&it.set(Te[st*2+wr],Te[Se-1-st*2-hr]),te.get(an+Ht*4+qr+hr)&&it.set(Te[Se-1-st*2-hr],Te[Se-1-st*2-wr]),te.get(an+Ht*6+qr+hr)&&it.set(Te[Se-1-st*2-wr],Te[st*2+hr])}an+=Ht*8}if(un.drawModeMessage(it,x,Ue,be),x)un.drawBullsEye(it,L.truncDivision(Ue,2),5);else{un.drawBullsEye(it,L.truncDivision(Ue,2),7);for(let st=0,an=0;st<L.truncDivision(Se,2)-1;st+=15,an+=16)for(let Ht=L.truncDivision(Ue,2)&1;Ht<Ue;Ht+=2)it.set(L.truncDivision(Ue,2)-an,Ht),it.set(L.truncDivision(Ue,2)+an,Ht),it.set(Ht,L.truncDivision(Ue,2)-an),it.set(Ht,L.truncDivision(Ue,2)+an)}let ot=new Qt;return ot.setCompact(x),ot.setSize(Ue),ot.setLayers(N),ot.setCodeWords(ce),ot.setMatrix(it),ot}static drawBullsEye(i,o,u){for(let f=0;f<u;f+=2)for(let d=o-f;d<=o+f;d++)i.set(d,o-f),i.set(d,o+f),i.set(o-f,d),i.set(o+f,d);i.set(o-u,o-u),i.set(o-u+1,o-u),i.set(o-u,o-u+1),i.set(o+u,o-u),i.set(o+u,o-u+1),i.set(o+u,o+u-1)}static generateModeMessage(i,o,u){let f=new z;return i?(f.appendBits(o-1,2),f.appendBits(u-1,6),f=un.generateCheckWords(f,28,4)):(f.appendBits(o-1,5),f.appendBits(u-1,11),f=un.generateCheckWords(f,40,4)),f}static drawModeMessage(i,o,u,f){let d=L.truncDivision(u,2);if(o)for(let g=0;g<7;g++){let x=d-3+g;f.get(g)&&i.set(x,d-5),f.get(g+7)&&i.set(d+5,x),f.get(20-g)&&i.set(x,d+5),f.get(27-g)&&i.set(d-5,x)}else for(let g=0;g<10;g++){let x=d-5+g+L.truncDivision(g,5);f.get(g)&&i.set(x,d-7),f.get(g+10)&&i.set(d+7,x),f.get(29-g)&&i.set(x,d+7),f.get(39-g)&&i.set(d-7,x)}}static generateCheckWords(i,o,u){let f=i.getSize()/u,d=new ca(un.getGF(u)),g=L.truncDivision(o,u),x=un.bitsToWords(i,u,g);d.encode(x,g-f);let N=o%u,T=new z;T.appendBits(0,N);for(const j of Array.from(x))T.appendBits(j,u);return T}static bitsToWords(i,o,u){let f=new Int32Array(u),d,g;for(d=0,g=i.getSize()/o;d<g;d++){let x=0;for(let N=0;N<o;N++)x|=i.get(d*o+N)?1<<o-N-1:0;f[d]=x}return f}static getGF(i){switch(i){case 4:return Qe.AZTEC_PARAM;case 6:return Qe.AZTEC_DATA_6;case 8:return Qe.AZTEC_DATA_8;case 10:return Qe.AZTEC_DATA_10;case 12:return Qe.AZTEC_DATA_12;default:throw new w("Unsupported word size "+i)}}static stuffBits(i,o){let u=new z,f=i.getSize(),d=(1<<o)-2;for(let g=0;g<f;g+=o){let x=0;for(let N=0;N<o;N++)(g+N>=f||i.get(g+N))&&(x|=1<<o-1-N);(x&d)===d?(u.appendBits(x&d,o),g--):x&d?u.appendBits(x,o):(u.appendBits(x|1,o),g--)}return u}static totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}un.DEFAULT_EC_PERCENT=33,un.DEFAULT_AZTEC_LAYERS=0,un.MAX_NB_BITS=32,un.MAX_NB_BITS_COMPACT=4,un.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class zr{encode(i,o,u,f){return this.encodeWithHints(i,o,u,f,null)}encodeWithHints(i,o,u,f,d){let g=Kt.ISO_8859_1,x=un.DEFAULT_EC_PERCENT,N=un.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(fr.CHARACTER_SET)&&(g=Rt.forName(d.get(fr.CHARACTER_SET).toString())),d.has(fr.ERROR_CORRECTION)&&(x=L.parseInt(d.get(fr.ERROR_CORRECTION).toString())),d.has(fr.AZTEC_LAYERS)&&(N=L.parseInt(d.get(fr.AZTEC_LAYERS).toString()))),zr.encodeLayers(i,o,u,f,g,x,N)}static encodeLayers(i,o,u,f,d,g,x){if(o!==ye.AZTEC)throw new w("Can only encode AZTEC, but got "+o);let N=un.encode(X.getBytes(i,d),g,x);return zr.renderResult(N,u,f)}static renderResult(i,o,u){let f=i.getMatrix();if(f==null)throw new qe;let d=f.getWidth(),g=f.getHeight(),x=Math.max(o,d),N=Math.max(u,g),T=Math.min(x/d,N/g),j=(x-d*T)/2,G=(N-g*T)/2,te=new J(x,N);for(let ce=0,be=G;ce<g;ce++,be+=T)for(let Se=0,Te=j;Se<d;Se++,Te+=T)f.get(Se,ce)&&te.setRegion(Te,be,T,T);return te}}n.AbstractExpandedDecoder=ki,n.ArgumentException=y,n.ArithmeticException=dt,n.AztecCode=Qt,n.AztecCodeReader=we,n.AztecCodeWriter=zr,n.AztecDecoder=ft,n.AztecDetector=me,n.AztecDetectorResult=It,n.AztecEncoder=un,n.AztecHighLevelEncoder=Ns,n.AztecPoint=V,n.BarcodeFormat=ye,n.Binarizer=E,n.BinaryBitmap=v,n.BitArray=z,n.BitMatrix=J,n.BitSource=io,n.BrowserAztecCodeReader=We,n.BrowserBarcodeReader=wc,n.BrowserCodeReader=he,n.BrowserDatamatrixCodeReader=so,n.BrowserMultiFormatReader=lo,n.BrowserPDF417Reader=vl,n.BrowserQRCodeReader=bl,n.BrowserQRCodeSvgWriter=Ee,n.CharacterSetECI=F,n.ChecksumException=b,n.Code128Reader=Ke,n.Code39Reader=Et,n.DataMatrixDecodedBitStreamParser=ns,n.DataMatrixReader=Rr,n.DecodeHintType=M,n.DecoderResult=Fe,n.DefaultGridSampler=O,n.DetectorResult=ct,n.EAN13Reader=ii,n.EncodeHintType=fr,n.Exception=p,n.FormatException=D,n.GenericGF=Qe,n.GenericGFPoly=rt,n.GlobalHistogramBinarizer=Ae,n.GridSampler=Ft,n.GridSamplerInstance=U,n.HTMLCanvasElementLuminanceSource=Le,n.HybridBinarizer=xe,n.ITFReader=gt,n.IllegalArgumentException=w,n.IllegalStateException=qe,n.InvertedLuminanceSource=ve,n.LuminanceSource=pe,n.MathUtils=Xe,n.MultiFormatOneDReader=As,n.MultiFormatReader=xl,n.MultiFormatWriter=Ge,n.NotFoundException=ie,n.OneDReader=Ve,n.PDF417DecodedBitStreamParser=je,n.PDF417DecoderErrorCorrection=au,n.PDF417Reader=cr,n.PDF417ResultMetadata=ml,n.PerspectiveTransform=Ut,n.PlanarYUVLuminanceSource=nt,n.QRCodeByteMatrix=fa,n.QRCodeDataMask=pi,n.QRCodeDecodedBitStreamParser=xn,n.QRCodeDecoderErrorCorrectionLevel=En,n.QRCodeDecoderFormatInformation=Sr,n.QRCodeEncoder=ue,n.QRCodeEncoderQRCode=yi,n.QRCodeMaskUtil=_n,n.QRCodeMatrixUtil=I,n.QRCodeMode=Mt,n.QRCodeReader=Es,n.QRCodeVersion=kt,n.QRCodeWriter=Pe,n.RGBLuminanceSource=yt,n.RSS14Reader=zn,n.RSSExpandedReader=et,n.ReaderException=ua,n.ReedSolomonDecoder=ge,n.ReedSolomonEncoder=ca,n.ReedSolomonException=_t,n.Result=de,n.ResultMetadataType=Oe,n.ResultPoint=ze,n.StringUtils=X,n.UnsupportedOperationException=oe,n.VideoInputDevice=Ye,n.WhiteRectangleDetector=Bt,n.WriterException=vn,n.ZXingArrays=_,n.ZXingCharset=Rt,n.ZXingInteger=L,n.ZXingStandardCharsets=Kt,n.ZXingStringBuilder=ae,n.ZXingStringEncoding=W,n.ZXingSystem=A,n.createAbstractExpandedDecoder=al,Object.defineProperty(n,"__esModule",{value:!0})})})(pg,pg.exports);var Zn=pg.exports;const qI=Gw(Zn),WI=Hw({__proto__:null,default:qI},[Zn]);var Fw=function(){function e(t,n,r){if(this.formatMap=new Map([[bt.QR_CODE,Zn.BarcodeFormat.QR_CODE],[bt.AZTEC,Zn.BarcodeFormat.AZTEC],[bt.CODABAR,Zn.BarcodeFormat.CODABAR],[bt.CODE_39,Zn.BarcodeFormat.CODE_39],[bt.CODE_93,Zn.BarcodeFormat.CODE_93],[bt.CODE_128,Zn.BarcodeFormat.CODE_128],[bt.DATA_MATRIX,Zn.BarcodeFormat.DATA_MATRIX],[bt.MAXICODE,Zn.BarcodeFormat.MAXICODE],[bt.ITF,Zn.BarcodeFormat.ITF],[bt.EAN_13,Zn.BarcodeFormat.EAN_13],[bt.EAN_8,Zn.BarcodeFormat.EAN_8],[bt.PDF_417,Zn.BarcodeFormat.PDF_417],[bt.RSS_14,Zn.BarcodeFormat.RSS_14],[bt.RSS_EXPANDED,Zn.BarcodeFormat.RSS_EXPANDED],[bt.UPC_A,Zn.BarcodeFormat.UPC_A],[bt.UPC_E,Zn.BarcodeFormat.UPC_E],[bt.UPC_EAN_EXTENSION,Zn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!WI)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var s=this.createZXingFormats(t),a=new Map;a.set(Zn.DecodeHintType.POSSIBLE_FORMATS,s),a.set(Zn.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,s){try{r(n.decode(t))}catch(a){s(a)}})},e.prototype.decode=function(t){var n=new Zn.MultiFormatReader(this.verbose,this.hints),r=new Zn.HTMLCanvasElementLuminanceSource(t),s=new Zn.BinaryBitmap(new Zn.HybridBinarizer(r)),a=n.decode(s);return{text:a.text,format:Ub.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var a=s[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),VI=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(y){try{p(r.next(y))}catch(w){l(w)}}function h(y){try{p(r.throw(y))}catch(w){l(w)}}function p(y){y.done?a(y.value):s(y.value).then(c,h)}p((r=r.apply(e,t||[])).next())})},HI=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(p){return function(y){return h([p,y])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],s=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},jw=function(){function e(t,n,r){if(this.formatMap=new Map([[bt.QR_CODE,"qr_code"],[bt.AZTEC,"aztec"],[bt.CODABAR,"codabar"],[bt.CODE_39,"code_39"],[bt.CODE_93,"code_93"],[bt.CODE_128,"code_128"],[bt.DATA_MATRIX,"data_matrix"],[bt.ITF,"itf"],[bt.EAN_13,"ean_13"],[bt.EAN_8,"ean_8"],[bt.PDF_417,"pdf417"],[bt.UPC_A,"upc_a"],[bt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return VI(this,void 0,void 0,function(){var n,r;return HI(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:Ub.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,s=0,a=t;s<a.length;s++){var l=a[s],c=l.boundingBox.width*l.boundingBox.height;c>r&&(r=c,n=l)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var a=s[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Uw=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(y){try{p(r.next(y))}catch(w){l(w)}}function h(y){try{p(r.throw(y))}catch(w){l(w)}}function p(y){y.done?a(y.value):s(y.value).then(c,h)}p((r=r.apply(e,t||[])).next())})},zw=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(p){return function(y){return h([p,y])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],s=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},GI=function(){function e(t,n,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&jw.isSupported()?(this.primaryDecoder=new jw(t,r,s),this.secondaryDecoder=new Fw(t,r,s)):this.primaryDecoder=new Fw(t,r,s)}return e.prototype.decodeAsync=function(t){return Uw(this,void 0,void 0,function(){var n;return zw(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Uw(this,void 0,void 0,function(){var n,r;return zw(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var s=r[n];t+=s}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Vm=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bd=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(y){try{p(r.next(y))}catch(w){l(w)}}function h(y){try{p(r.throw(y))}catch(w){l(w)}}function p(y){y.done?a(y.value):s(y.value).then(c,h)}p((r=r.apply(e,t||[])).next())})},Ad=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(p){return function(y){return h([p,y])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],s=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},qb=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),XI=function(e){Vm(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(qb),YI=function(e){Vm(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(XI),KI=function(e){Vm(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(qb),QI=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new YI(this.track)},e.prototype.torchFeature=function(){return new KI(this.track)},e}(),$I=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,s),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,s){return bd(this,void 0,void 0,function(){var a,l;return Ad(this,function(c){switch(c.label){case 0:return a=new e(t,n,s),r.aspectRatio?(l={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(l)]):[3,2];case 1:c.sent(),c.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return bd(this,void 0,void 0,function(){return Ad(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var s=t.mediaStream.getVideoTracks(),a=s.length,l=0;t.mediaStream.getVideoTracks().forEach(function(c){t.mediaStream.removeTrack(c),c.stop(),++l,l>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new QI(this.getFirstTrackOrFail())},e}(),ZI=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return bd(this,void 0,void 0,function(){return Ad(this,function(s){return[2,$I.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return bd(this,void 0,void 0,function(){var n,r;return Ad(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=s.sent(),[2,new e(r)]}})})},e}(),qw=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(y){try{p(r.next(y))}catch(w){l(w)}}function h(y){try{p(r.throw(y))}catch(w){l(w)}}function p(y){y.done?a(y.value):s(y.value).then(c,h)}p((r=r.apply(e,t||[])).next())})},Ww=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(p){return function(y){return h([p,y])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],s=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},JI=function(){function e(){}return e.failIfNotSupported=function(){return qw(this,void 0,void 0,function(){return Ww(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return qw(this,void 0,void 0,function(){return Ww(this,function(n){return[2,ZI.create(t)]})})},e}(),eT=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(y){try{p(r.next(y))}catch(w){l(w)}}function h(y){try{p(r.throw(y))}catch(w){l(w)}}function p(y){y.done?a(y.value):s(y.value).then(c,h)}p((r=r.apply(e,t||[])).next())})},tT=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(p){return function(y){return h([p,y])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],s=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},nT=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Mu.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Mu.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return eT(this,void 0,void 0,function(){var t,n,r,s,a,l,c;return tT(this,function(h){switch(h.label){case 0:return t=function(p){for(var y=p.getVideoTracks(),w=0,v=y;w<v.length;w++){var b=v[w];b.enabled=!1,b.stop(),p.removeTrack(b)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=h.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=h.sent(),s=[],a=0,l=r;a<l.length;a++)c=l[a],c.kind==="videoinput"&&s.push({id:c.deviceId,label:c.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var l=[],c=0,h=a;c<h.length;c++){var p=h[c];p.kind==="video"&&l.push({id:p.id,label:p.label})}t(l)},s=MediaStreamTrack;s.getSources(r)})},e}(),br;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(br||(br={}));var rT=function(){function e(){this.state=br.NOT_STARTED,this.onGoingTransactionNewState=br.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===br.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=br.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===br.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=br.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==br.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case br.UNKNOWN:throw"Transition from unknown is not allowed";case br.NOT_STARTED:this.failIfNewStateIs(t,[br.PAUSED]);break;case br.SCANNING:break;case br.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,s=n;r<s.length;r++){var a=s[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),iT=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===br.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==br.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===br.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===br.PAUSED},e}(),sT=function(){function e(){}return e.create=function(){return new iT(new rT)},e}(),aT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cs=function(e){aT(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(jI),oT=function(){function e(t,n){this.logger=n,this.fps=cs.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=cs.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?zb.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ja(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),lT=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new zI(this.verbose),this.qrcode=new GI(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=sT.create()}return e.prototype.start=function(t,n,r,s){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var l;s?l=s:l=this.verbose?this.logger.log:function(){};var c=oT.create(n,this.logger);this.clearElement();var h=!1;c.videoConstraints&&(c.isMediaStreamConstraintsValid()?h=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=h,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:cs.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var w=this,v=this.stateManagerProxy.startTransition(br.SCANNING);return new Promise(function(b,E){var A=p?c.videoConstraints:w.createVideoConstraints(t);if(!A){v.cancel(),E("videoConstraints should be defined");return}var k={};(!p||c.aspectRatio)&&(k.aspectRatio=c.aspectRatio);var S={onRenderSurfaceReady:function(_,L){w.setupUi(_,L,c),w.isScanning=!0,w.foreverScan(c,r,l)}};JI.failIfNotSupported().then(function(_){_.create(A).then(function(L){return L.render(a.element,k,S).then(function(z){w.renderedCamera=z,v.execute(),b(null)}).catch(function(z){v.cancel(),E(z)})}).catch(function(L){v.cancel(),E(Mu.errorGettingUserMedia(L))})}).catch(function(_){v.cancel(),E(Mu.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(br.PAUSED),this.showPausedState(),(ja(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(br.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(br.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(cs.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ja(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var l=new Image;l.onload=function(){var c=l.width,h=l.height,p=document.getElementById(r.elementId),y=p.clientWidth?p.clientWidth:cs.DEFAULT_WIDTH,w=Math.max(p.clientHeight?p.clientHeight:h,cs.FILE_SCAN_MIN_HEIGHT),v=r.computeCanvasDrawConfig(c,h,y,w);if(n){var b=r.createCanvasElement(y,w,"qr-canvas-visible");b.style.display="inline-block",p.appendChild(b);var E=b.getContext("2d");if(!E)throw"Unable to get 2d context from canvas";E.canvas.width=y,E.canvas.height=w,E.drawImage(l,0,0,c,h,v.x,v.y,v.width,v.height)}var A=cs.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(l.width,v.width),S=Math.max(l.height,v.height),_=k+2*A,L=S+2*A,z=r.createCanvasElement(_,L);p.appendChild(z);var H=z.getContext("2d");if(!H)throw"Unable to get 2d context from canvas";H.canvas.width=_,H.canvas.height=L,H.drawImage(l,0,0,c,h,A,A,k,S);try{r.qrcode.decodeRobustlyAsync(z).then(function(M){s(Bw.createFromQrcodeResult(M))}).catch(a)}catch(M){a("QR code parse error, error = ".concat(M))}},l.onerror=a,l.onabort=a,l.onstalled=a,l.onsuspend=a,l.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return nT.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!zb.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[bt.QR_CODE,bt.AZTEC,bt.CODABAR,bt.CODE_39,bt.CODE_93,bt.CODE_128,bt.DATA_MATRIX,bt.MAXICODE,bt.ITF,bt.EAN_13,bt.EAN_8,bt.PDF_417,bt.RSS_14,bt.RSS_EXPANDED,bt.UPC_A,bt.UPC_E,bt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,a=t.formatsToSupport;s<a.length;s++){var l=a[s];FI(l)?r.push(l):this.logger.warn("Invalid format: ".concat(l," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ja(t))return!0;if(!ja(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ja(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return ja(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var s=this,a=r.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(t,n,a),c=function(p){if(p<cs.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(cs.MIN_QR_BOX_SIZE,"px.")},h=function(p){return p>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};c(l.width),c(l.height),l.width=h(l.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var s=ja(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(s);var a=this.toQrdimensions(t,n,s);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var l=r.isShadedBoxEnabled()&&a.height<=n,c={x:0,y:0,width:t,height:n},h=l?this.getShadedRegionBounds(t,n,a):c,p=this.createCanvasElement(h.width,h.height),y={willReadFrequently:!0},w=p.getContext("2d",y);w.canvas.width=h.width,w.canvas.height=h.height,this.element.append(p),l&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=h,this.context=w,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Mu.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,Bw.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var a=Mu.codeParseError(s);return n(a,UI.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var s=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),l=a.videoWidth/a.clientWidth,c=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var h=this.qrRegion.width*l,p=this.qrRegion.height*c,y=this.qrRegion.x*l,w=this.qrRegion.y*c;this.context.drawImage(a,y,w,h,p,0,0,this.qrRegion.width,this.qrRegion.height);var v=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,r)},s.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(b){!b&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,r).finally(function(){v()})):v()}).catch(function(b){s.logger.logError("Error happend while scanning context",b),v()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",s={user:!0,environment:!0},a="exact",l=function(E){if(E in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(E,"'")},c=Object.keys(t);if(c.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(c.length," keys");var h=Object.keys(t)[0];if(h!==n&&h!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(h===n){var p=t.facingMode;if(typeof p=="string"){if(l(p))return{facingMode:p}}else if(typeof p=="object")if(a in p){if(l(p["".concat(a)]))return{facingMode:{exact:p["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var y=typeof p;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var w=t.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(a in w)return{deviceId:{exact:w["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var v=typeof w;throw"Invalid type of 'deviceId' = ".concat(v)}}}var b=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(b)},e.prototype.computeCanvasDrawConfig=function(t,n,r,s){if(t<=r&&n<=s){var a=(r-t)/2,l=(s-n)/2;return{x:a,y:l,width:t,height:n}}else{var c=t,h=n;return t>r&&(n=r/t*n,t=r),n>s&&(t=s/n*t,n=s),this.logger.log("Image downsampled from "+"".concat(c,"X").concat(h)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?cs.BORDER_SHADER_MATCH_COLOR:cs.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var s=t,a=n,l=document.createElement("canvas");return l.style.width="".concat(s,"px"),l.style.height="".concat(a,"px"),l.style.display="none",l.id=ja(r)?"qr-canvas":r,l},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,s){if(!(n-s.width<1||r-s.height<1)){var a=document.createElement("div");a.style.position="absolute";var l=(n-s.width)/2,c=(r-s.height)/2;if(a.style.borderLeft="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(cs.SHADED_REGION_ELEMENT_ID),n-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var h=5,p=40;this.insertShaderBorders(a,p,h,-h,null,0,!0),this.insertShaderBorders(a,p,h,-h,null,0,!1),this.insertShaderBorders(a,p,h,null,-h,0,!0),this.insertShaderBorders(a,p,h,null,-h,0,!1),this.insertShaderBorders(a,h,p+h,-h,null,-h,!0),this.insertShaderBorders(a,h,p+h,null,-h,-h,!0),this.insertShaderBorders(a,h,p+h,-h,null,-h,!1),this.insertShaderBorders(a,h,p+h,null,-h,-h,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,s,a,l,c){var h=document.createElement("div");h.style.position="absolute",h.style.backgroundColor=cs.BORDER_SHADER_DEFAULT_COLOR,h.style.width="".concat(n,"px"),h.style.height="".concat(r,"px"),s!==null&&(h.style.top="".concat(s,"px")),a!==null&&(h.style.bottom="".concat(a,"px")),c?h.style.left="".concat(l,"px"):h.style.right="".concat(l,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(h),t.appendChild(h)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Vw;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Vw||(Vw={}));const uT=()=>{const{id:e}=th(),t=Fs(),{isSuperAdmin:n}=Zl(),[r,s]=Ze.useState(null),[a,l]=Ze.useState([]),[c,h]=Ze.useState([]),[p,y]=Ze.useState(""),[w,v]=Ze.useState(!1),[b,E]=Ze.useState(null);Ze.useRef(null);const A=()=>{if(!(r!=null&&r.date))return!1;try{const D=mf(r.date);return gf(D)}catch(D){return console.error("Error parsing event date:",D),!1}};if(!n())return R.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:R.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[R.jsx(My,{size:64,className:"mx-auto text-red-500 mb-4"}),R.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-400",children:"Access Denied"}),R.jsx("p",{className:"text-gray-400 mb-6",children:"Check-in functionality is restricted to Super Admin users only. Regular users cannot access this feature."}),R.jsxs("div",{className:"space-y-3",children:[R.jsx("button",{onClick:()=>t(`/${e}`),className:"btn-primary w-full",children:"Back to Event"}),R.jsx("button",{onClick:()=>t("/events"),className:"btn-secondary w-full",children:"View All Events"})]}),R.jsx("div",{className:"text-xs text-gray-500 mt-4",children:"Contact: Robocorpsg@gmail.com for admin access"})]})});if(r&&!A())return R.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:R.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[R.jsx("div",{className:"text-6xl mb-4",children:""}),R.jsx("h1",{className:"text-2xl font-bold mb-4 text-yellow-400",children:"Check-in Not Available"}),R.jsx("p",{className:"text-gray-400 mb-4",children:"Check-in is only available on the event day."}),R.jsxs("div",{className:"bg-dark-lighter rounded-lg p-4 mb-6",children:[R.jsxs("p",{className:"text-sm text-gray-300",children:[R.jsx("span",{className:"text-primary font-semibold",children:"Event Date:"}),R.jsx("br",{}),ds(mf(r.date),"PPPP")]}),R.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:[R.jsx("span",{className:"text-primary font-semibold",children:"Today:"}),R.jsx("br",{}),ds(new Date,"PPPP")]})]}),R.jsxs("div",{className:"space-y-3",children:[R.jsx("button",{onClick:()=>t(`/${e}`),className:"btn-primary w-full",children:"Back to Event"}),R.jsx("button",{onClick:()=>t("/events"),className:"btn-secondary w-full",children:"View All Events"})]})]})});Ze.useEffect(()=>{k()},[e]),Ze.useEffect(()=>{p?S():h(a)},[p,a]),Ze.useEffect(()=>()=>{b&&b.stop().catch(console.error)},[b]);const k=async()=>{try{const D=await sc(parseInt(e));s(D);const q=await G4(parseInt(e));l(q),h(q)}catch(D){console.error("Error loading data:",D)}},S=async()=>{try{const D=await nw(parseInt(e),p);h(D)}catch(D){console.error("Error searching:",D)}},_=async(D,q)=>{try{await wN(D,!q),await k()}catch(F){console.error("Error updating status:",F),alert("Failed to update attendance")}},L=async()=>{try{const D=new lT("qr-reader");E(D),await D.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},H,M),v(!0)}catch(D){console.error("Error starting scanner:",D),alert("Failed to start camera. Please check permissions.")}},z=async()=>{if(b)try{await b.stop(),E(null),v(!1)}catch(D){console.error("Error stopping scanner:",D)}},H=async D=>{const q=await nw(parseInt(e),D);if(q.length>0){const F=q[0];F.attended?alert(`${F.name} already checked in.`):(await _(F.id,F.attended),alert(` ${F.name} checked in successfully!`))}else alert("Attendee not found. Please register first.")},M=D=>{};return r?R.jsxs("div",{className:"min-h-screen bg-black",children:[R.jsx(Zo,{title:"Check-in (Admin Only)",showBack:!0}),R.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[R.jsxs("div",{className:"bg-green-900/20 border border-green-500 rounded-lg p-4 mb-6",children:[R.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[R.jsx(My,{size:20,className:"text-green-400"}),R.jsx("h3",{className:"font-semibold text-green-400",children:"Super Admin Access Confirmed - Event Day"})]}),R.jsx("p",{className:"text-sm text-gray-300",children:"You have admin privileges to check-in attendees and export data. Check-in is available today because it's the event day."}),R.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Event Date: ",ds(mf(r.date),"PPP")," | Today: ",ds(new Date,"PPP")]})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[R.jsxs("div",{className:"bg-dark-lighter p-4 rounded text-center",children:[R.jsx("p",{className:"text-3xl font-bold text-primary",children:a.length}),R.jsx("p",{className:"text-sm text-gray-400",children:"Registered"})]}),R.jsxs("div",{className:"bg-dark-lighter p-4 rounded text-center",children:[R.jsx("p",{className:"text-3xl font-bold text-green-500",children:a.filter(D=>D.attended).length}),R.jsx("p",{className:"text-sm text-gray-400",children:"Attended"})]})]}),R.jsxs("div",{className:"mb-6 space-y-3",children:[R.jsxs("div",{className:"relative",children:[R.jsx(dC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),R.jsx("input",{type:"text",value:p,onChange:D=>y(D.target.value),placeholder:"Search by name, email, or contact...",className:"pl-10"})]}),w?R.jsxs("button",{onClick:z,className:"btn-secondary w-full flex items-center justify-center gap-2",children:[R.jsx(yC,{size:20}),"Stop Scanning"]}):R.jsxs("button",{onClick:L,className:"btn-primary w-full flex items-center justify-center gap-2",children:[R.jsx(wp,{size:20}),"Scan QR"]})]}),w&&R.jsx("div",{className:"mb-6 bg-dark-lighter p-4 rounded",children:R.jsx("div",{id:"qr-reader",className:"w-full"})}),c.length===0?R.jsx("p",{className:"text-center text-gray-400 py-8",children:p?"No attendees found":"No registrations yet"}):R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{children:[R.jsxs("div",{className:"flex items-center justify-between mb-4",children:[R.jsxs("h2",{className:"text-xl font-semibold text-primary",children:["Registered (",c.filter(D=>!D.attended).length,")"]}),R.jsx("span",{className:"text-sm text-gray-400",children:"Waiting to check-in"})]}),R.jsx("div",{className:"space-y-3",children:c.filter(D=>!D.attended).length===0?R.jsx("p",{className:"text-center text-gray-500 py-4 bg-dark-lighter rounded",children:"All registered attendees have checked in! "}):c.filter(D=>!D.attended).map(D=>R.jsx("div",{className:"bg-dark-lighter border border-gray-800 rounded-lg p-4 hover:border-primary transition-colors",children:R.jsxs("div",{className:"flex items-start justify-between",children:[R.jsxs("div",{className:"flex-1",children:[R.jsx("h3",{className:"font-semibold text-lg mb-1",children:D.name}),R.jsx("p",{className:"text-sm text-gray-400",children:D.email}),D.contact&&R.jsx("p",{className:"text-sm text-gray-400",children:D.contact}),D.notes&&R.jsx("p",{className:"text-sm text-gray-500 mt-1",children:D.notes})]}),R.jsx("button",{onClick:()=>_(D.id,D.attended),className:"px-6 py-2 rounded font-medium bg-primary hover:bg-primary-dark text-white",children:"Check-in"})]})},D.id))})]}),R.jsxs("div",{children:[R.jsxs("div",{className:"flex items-center justify-between mb-4",children:[R.jsxs("h2",{className:"text-xl font-semibold text-green-500",children:["Attended (",c.filter(D=>D.attended).length,")"]}),R.jsx("span",{className:"text-sm text-gray-400",children:"Successfully checked in"})]}),R.jsx("div",{className:"space-y-3",children:c.filter(D=>D.attended).length===0?R.jsx("p",{className:"text-center text-gray-500 py-4 bg-dark-lighter rounded",children:"No attendees checked in yet"}):c.filter(D=>D.attended).map(D=>R.jsx("div",{className:"bg-dark-lighter border border-green-800 rounded-lg p-4",children:R.jsxs("div",{className:"flex items-start justify-between",children:[R.jsxs("div",{className:"flex-1",children:[R.jsx("h3",{className:"font-semibold text-lg mb-1",children:D.name}),R.jsx("p",{className:"text-sm text-gray-400",children:D.email}),D.contact&&R.jsx("p",{className:"text-sm text-gray-400",children:D.contact}),D.notes&&R.jsx("p",{className:"text-sm text-gray-500 mt-1",children:D.notes})]}),R.jsx("button",{onClick:()=>_(D.id,D.attended),className:"px-6 py-2 rounded font-medium bg-green-600 hover:bg-green-700 text-white",children:" Attended"})]})},D.id))})]})]})]})]}):R.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:R.jsx("p",{className:"text-gray-400",children:"Loading..."})})};function cT(){return R.jsx(tC,{children:R.jsx($E,{basename:"/",children:R.jsxs(VE,{children:[R.jsx(ls,{path:"/",element:R.jsx(wC,{})}),R.jsx(ls,{path:"/login",element:R.jsx("div",{className:"min-h-screen bg-black text-white",children:R.jsx(xN,{})})}),R.jsx(ls,{path:"/register",element:R.jsx("div",{className:"min-h-screen bg-black text-white",children:R.jsx(vN,{})})}),R.jsx(ls,{path:"/admin",element:R.jsx("div",{className:"min-h-screen bg-black text-white",children:R.jsx(V7,{})})}),R.jsx(ls,{path:"/events",element:R.jsx("div",{className:"min-h-screen bg-black text-white",children:R.jsx(H7,{})})}),R.jsx(ls,{path:"/new",element:R.jsx("div",{className:"min-h-screen bg-black text-white",children:R.jsx(lw,{})})}),R.jsx(ls,{path:"/:id/edit",element:R.jsx("div",{className:"min-h-screen bg-black text-white",children:R.jsx(lw,{})})}),R.jsx(ls,{path:"/:id",element:R.jsx("div",{className:"min-h-screen bg-black text-white",children:R.jsx(R_,{})})}),R.jsx(ls,{path:"/:id/flyer",element:R.jsx("div",{className:"min-h-screen bg-black text-white",children:R.jsx(MI,{})})}),R.jsx(ls,{path:"/:id/register",element:R.jsx("div",{className:"min-h-screen bg-black text-white",children:R.jsx(BI,{})})}),R.jsx(ls,{path:"/:id/checkin",element:R.jsx("div",{className:"min-h-screen bg-black text-white",children:R.jsx(uT,{})})}),R.jsx(ls,{path:"*",element:R.jsx(qE,{to:"/",replace:!0})})]})})})}b2.createRoot(document.getElementById("root")).render(R.jsx(Tl.StrictMode,{children:R.jsx(cT,{})}));export{Nn as _,Ic as c,Gw as g};
