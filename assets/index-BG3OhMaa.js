function jx(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ux(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zx={exports:{}},Xh={},qx={exports:{}},en={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sf=Symbol.for("react.element"),N4=Symbol.for("react.portal"),S4=Symbol.for("react.fragment"),_4=Symbol.for("react.strict_mode"),I4=Symbol.for("react.profiler"),T4=Symbol.for("react.provider"),k4=Symbol.for("react.context"),L4=Symbol.for("react.forward_ref"),P4=Symbol.for("react.suspense"),O4=Symbol.for("react.memo"),R4=Symbol.for("react.lazy"),xm=Symbol.iterator;function D4(e){return e===null||typeof e!="object"?null:(e=xm&&e[xm]||e["@@iterator"],typeof e=="function"?e:null)}var Vx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wx=Object.assign,Hx={};function Xu(e,t,n){this.props=e,this.context=t,this.refs=Hx,this.updater=n||Vx}Xu.prototype.isReactComponent={};Xu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gx(){}Gx.prototype=Xu.prototype;function Np(e,t,n){this.props=e,this.context=t,this.refs=Hx,this.updater=n||Vx}var Sp=Np.prototype=new Gx;Sp.constructor=Np;Wx(Sp,Xu.prototype);Sp.isPureReactComponent=!0;var ym=Array.isArray,Xx=Object.prototype.hasOwnProperty,_p={current:null},Yx={key:!0,ref:!0,__self:!0,__source:!0};function Kx(e,t,n){var r,s={},a=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(a=""+t.key),t)Xx.call(t,r)&&!Yx.hasOwnProperty(r)&&(s[r]=t[r]);var h=arguments.length-2;if(h===1)s.children=n;else if(1<h){for(var p=Array(h),m=0;m<h;m++)p[m]=arguments[m+2];s.children=p}if(e&&e.defaultProps)for(r in h=e.defaultProps,h)s[r]===void 0&&(s[r]=h[r]);return{$$typeof:Sf,type:e,key:a,ref:u,props:s,_owner:_p.current}}function M4(e,t){return{$$typeof:Sf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ip(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sf}function B4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wm=/\/+/g;function Bd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?B4(""+e.key):t.toString(36)}function D1(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Sf:case N4:u=!0}}if(u)return u=e,s=s(u),e=r===""?"."+Bd(u,0):r,ym(s)?(n="",e!=null&&(n=e.replace(wm,"$&/")+"/"),D1(s,t,n,"",function(m){return m})):s!=null&&(Ip(s)&&(s=M4(s,n+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(wm,"$&/")+"/")+e)),t.push(s)),1;if(u=0,r=r===""?".":r+":",ym(e))for(var h=0;h<e.length;h++){a=e[h];var p=r+Bd(a,h);u+=D1(a,t,n,p,s)}else if(p=D4(e),typeof p=="function")for(e=p.call(e),h=0;!(a=e.next()).done;)a=a.value,p=r+Bd(a,h++),u+=D1(a,t,n,p,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function i1(e,t,n){if(e==null)return e;var r=[],s=0;return D1(e,r,"","",function(a){return t.call(n,a,s++)}),r}function F4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pi={current:null},M1={transition:null},j4={ReactCurrentDispatcher:Pi,ReactCurrentBatchConfig:M1,ReactCurrentOwner:_p};function Zx(){throw Error("act(...) is not supported in production builds of React.")}en.Children={map:i1,forEach:function(e,t,n){i1(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return i1(e,function(){t++}),t},toArray:function(e){return i1(e,function(t){return t})||[]},only:function(e){if(!Ip(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};en.Component=Xu;en.Fragment=S4;en.Profiler=I4;en.PureComponent=Np;en.StrictMode=_4;en.Suspense=P4;en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j4;en.act=Zx;en.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Wx({},e.props),s=e.key,a=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,u=_p.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(p in t)Xx.call(t,p)&&!Yx.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&h!==void 0?h[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){h=Array(p);for(var m=0;m<p;m++)h[m]=arguments[m+2];r.children=h}return{$$typeof:Sf,type:e.type,key:s,ref:a,props:r,_owner:u}};en.createContext=function(e){return e={$$typeof:k4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:T4,_context:e},e.Consumer=e};en.createElement=Kx;en.createFactory=function(e){var t=Kx.bind(null,e);return t.type=e,t};en.createRef=function(){return{current:null}};en.forwardRef=function(e){return{$$typeof:L4,render:e}};en.isValidElement=Ip;en.lazy=function(e){return{$$typeof:R4,_payload:{_status:-1,_result:e},_init:F4}};en.memo=function(e,t){return{$$typeof:O4,type:e,compare:t===void 0?null:t}};en.startTransition=function(e){var t=M1.transition;M1.transition={};try{e()}finally{M1.transition=t}};en.unstable_act=Zx;en.useCallback=function(e,t){return Pi.current.useCallback(e,t)};en.useContext=function(e){return Pi.current.useContext(e)};en.useDebugValue=function(){};en.useDeferredValue=function(e){return Pi.current.useDeferredValue(e)};en.useEffect=function(e,t){return Pi.current.useEffect(e,t)};en.useId=function(){return Pi.current.useId()};en.useImperativeHandle=function(e,t,n){return Pi.current.useImperativeHandle(e,t,n)};en.useInsertionEffect=function(e,t){return Pi.current.useInsertionEffect(e,t)};en.useLayoutEffect=function(e,t){return Pi.current.useLayoutEffect(e,t)};en.useMemo=function(e,t){return Pi.current.useMemo(e,t)};en.useReducer=function(e,t,n){return Pi.current.useReducer(e,t,n)};en.useRef=function(e){return Pi.current.useRef(e)};en.useState=function(e){return Pi.current.useState(e)};en.useSyncExternalStore=function(e,t,n){return Pi.current.useSyncExternalStore(e,t,n)};en.useTransition=function(){return Pi.current.useTransition()};en.version="18.3.1";qx.exports=en;var ze=qx.exports;const xl=Ux(ze),U4=jx({__proto__:null,default:xl},[ze]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z4=ze,q4=Symbol.for("react.element"),V4=Symbol.for("react.fragment"),W4=Object.prototype.hasOwnProperty,H4=z4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G4={key:!0,ref:!0,__self:!0,__source:!0};function Qx(e,t,n){var r,s={},a=null,u=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)W4.call(t,r)&&!G4.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:q4,type:e,key:a,ref:u,props:s,_owner:H4.current}}Xh.Fragment=V4;Xh.jsx=Qx;Xh.jsxs=Qx;zx.exports=Xh;var T=zx.exports,D0={},Jx={exports:{}},us={},$x={exports:{}},ey={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(fe,Ae){var Se=fe.length;fe.push(Ae);e:for(;0<Se;){var Je=Se-1>>>1,z=fe[Je];if(0<s(z,Ae))fe[Je]=Ae,fe[Se]=z,Se=Je;else break e}}function n(fe){return fe.length===0?null:fe[0]}function r(fe){if(fe.length===0)return null;var Ae=fe[0],Se=fe.pop();if(Se!==Ae){fe[0]=Se;e:for(var Je=0,z=fe.length,ie=z>>>1;Je<ie;){var le=2*(Je+1)-1,ge=fe[le],ce=le+1,Te=fe[ce];if(0>s(ge,Se))ce<z&&0>s(Te,ge)?(fe[Je]=Te,fe[ce]=Se,Je=ce):(fe[Je]=ge,fe[le]=Se,Je=le);else if(ce<z&&0>s(Te,Se))fe[Je]=Te,fe[ce]=Se,Je=ce;else break e}}return Ae}function s(fe,Ae){var Se=fe.sortIndex-Ae.sortIndex;return Se!==0?Se:fe.id-Ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var p=[],m=[],w=1,v=null,E=3,A=!1,R=!1,k=!1,M=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(fe){for(var Ae=n(m);Ae!==null;){if(Ae.callback===null)r(m);else if(Ae.startTime<=fe)r(m),Ae.sortIndex=Ae.expirationTime,t(p,Ae);else break;Ae=n(m)}}function q(fe){if(k=!1,L(fe),!R)if(n(p)!==null)R=!0,Ne($);else{var Ae=n(m);Ae!==null&&ve(q,Ae.startTime-fe)}}function $(fe,Ae){R=!1,k&&(k=!1,S(Y),Y=-1),A=!0;var Se=E;try{for(L(Ae),v=n(p);v!==null&&(!(v.expirationTime>Ae)||fe&&!W());){var Je=v.callback;if(typeof Je=="function"){v.callback=null,E=v.priorityLevel;var z=Je(v.expirationTime<=Ae);Ae=e.unstable_now(),typeof z=="function"?v.callback=z:v===n(p)&&r(p),L(Ae)}else r(p);v=n(p)}if(v!==null)var ie=!0;else{var le=n(m);le!==null&&ve(q,le.startTime-Ae),ie=!1}return ie}finally{v=null,E=Se,A=!1}}var Q=!1,D=null,Y=-1,Z=5,ye=-1;function W(){return!(e.unstable_now()-ye<Z)}function X(){if(D!==null){var fe=e.unstable_now();ye=fe;var Ae=!0;try{Ae=D(!0,fe)}finally{Ae?ae():(Q=!1,D=null)}}else Q=!1}var ae;if(typeof I=="function")ae=function(){I(X)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,se=oe.port2;oe.port1.onmessage=X,ae=function(){se.postMessage(null)}}else ae=function(){M(X,0)};function Ne(fe){D=fe,Q||(Q=!0,ae())}function ve(fe,Ae){Y=M(function(){fe(e.unstable_now())},Ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(fe){fe.callback=null},e.unstable_continueExecution=function(){R||A||(R=!0,Ne($))},e.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<fe?Math.floor(1e3/fe):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(fe){switch(E){case 1:case 2:case 3:var Ae=3;break;default:Ae=E}var Se=E;E=Ae;try{return fe()}finally{E=Se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(fe,Ae){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var Se=E;E=fe;try{return Ae()}finally{E=Se}},e.unstable_scheduleCallback=function(fe,Ae,Se){var Je=e.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?Je+Se:Je):Se=Je,fe){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Se+z,fe={id:w++,callback:Ae,priorityLevel:fe,startTime:Se,expirationTime:z,sortIndex:-1},Se>Je?(fe.sortIndex=Se,t(m,fe),n(p)===null&&fe===n(m)&&(k?(S(Y),Y=-1):k=!0,ve(q,Se-Je))):(fe.sortIndex=z,t(p,fe),R||A||(R=!0,Ne($))),fe},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(fe){var Ae=E;return function(){var Se=E;E=Ae;try{return fe.apply(this,arguments)}finally{E=Se}}}})(ey);$x.exports=ey;var X4=$x.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y4=ze,os=X4;function et(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ty=new Set,Qc={};function Ml(e,t){Ru(e,t),Ru(e+"Capture",t)}function Ru(e,t){for(Qc[e]=t,e=0;e<t.length;e++)ty.add(t[e])}var Fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),M0=Object.prototype.hasOwnProperty,K4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vm={},bm={};function Z4(e){return M0.call(bm,e)?!0:M0.call(vm,e)?!1:K4.test(e)?bm[e]=!0:(vm[e]=!0,!1)}function Q4(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function J4(e,t,n,r){if(t===null||typeof t>"u"||Q4(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oi(e,t,n,r,s,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var ii={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ii[e]=new Oi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ii[t]=new Oi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ii[e]=new Oi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ii[e]=new Oi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ii[e]=new Oi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ii[e]=new Oi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ii[e]=new Oi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ii[e]=new Oi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ii[e]=new Oi(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tp=/[\-:]([a-z])/g;function kp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tp,kp);ii[t]=new Oi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tp,kp);ii[t]=new Oi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tp,kp);ii[t]=new Oi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ii[e]=new Oi(e,1,!1,e.toLowerCase(),null,!1,!1)});ii.xlinkHref=new Oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ii[e]=new Oi(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lp(e,t,n,r){var s=ii.hasOwnProperty(t)?ii[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(J4(t,n,s,r)&&(n=null),r||s===null?Z4(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Va=Y4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,s1=Symbol.for("react.element"),su=Symbol.for("react.portal"),au=Symbol.for("react.fragment"),Pp=Symbol.for("react.strict_mode"),B0=Symbol.for("react.profiler"),ny=Symbol.for("react.provider"),ry=Symbol.for("react.context"),Op=Symbol.for("react.forward_ref"),F0=Symbol.for("react.suspense"),j0=Symbol.for("react.suspense_list"),Rp=Symbol.for("react.memo"),po=Symbol.for("react.lazy"),iy=Symbol.for("react.offscreen"),Am=Symbol.iterator;function fc(e){return e===null||typeof e!="object"?null:(e=Am&&e[Am]||e["@@iterator"],typeof e=="function"?e:null)}var ar=Object.assign,Fd;function Sc(e){if(Fd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fd=t&&t[1]||""}return`
`+Fd+e}var jd=!1;function Ud(e,t){if(!e||jd)return"";jd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var r=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){r=m}e.call(t.prototype)}else{try{throw Error()}catch(m){r=m}e()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var s=m.stack.split(`
`),a=r.stack.split(`
`),u=s.length-1,h=a.length-1;1<=u&&0<=h&&s[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(s[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||s[u]!==a[h]){var p=`
`+s[u].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=u&&0<=h);break}}}finally{jd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Sc(e):""}function $4(e){switch(e.tag){case 5:return Sc(e.type);case 16:return Sc("Lazy");case 13:return Sc("Suspense");case 19:return Sc("SuspenseList");case 0:case 2:case 15:return e=Ud(e.type,!1),e;case 11:return e=Ud(e.type.render,!1),e;case 1:return e=Ud(e.type,!0),e;default:return""}}function U0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case au:return"Fragment";case su:return"Portal";case B0:return"Profiler";case Pp:return"StrictMode";case F0:return"Suspense";case j0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ry:return(e.displayName||"Context")+".Consumer";case ny:return(e._context.displayName||"Context")+".Provider";case Op:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rp:return t=e.displayName||null,t!==null?t:U0(e.type)||"Memo";case po:t=e._payload,e=e._init;try{return U0(e(t))}catch{}}return null}function eb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U0(t);case 8:return t===Pp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ro(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tb(e){var t=sy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function a1(e){e._valueTracker||(e._valueTracker=tb(e))}function ay(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=sy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function sh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function z0(e,t){var n=t.checked;return ar({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Cm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ro(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function oy(e,t){t=t.checked,t!=null&&Lp(e,"checked",t,!1)}function q0(e,t){oy(e,t);var n=Ro(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?V0(e,t.type,n):t.hasOwnProperty("defaultValue")&&V0(e,t.type,Ro(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Em(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function V0(e,t,n){(t!=="number"||sh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _c=Array.isArray;function wu(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ro(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function W0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(et(91));return ar({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(et(92));if(_c(n)){if(1<n.length)throw Error(et(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ro(n)}}function ly(e,t){var n=Ro(t.value),r=Ro(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var o1,cy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(o1=o1||document.createElement("div"),o1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=o1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nb=["Webkit","ms","Moz","O"];Object.keys(Pc).forEach(function(e){nb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pc[t]=Pc[e]})});function fy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Pc.hasOwnProperty(e)&&Pc[e]?(""+t).trim():t+"px"}function hy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=fy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var rb=ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function G0(e,t){if(t){if(rb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(et(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(et(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(et(61))}if(t.style!=null&&typeof t.style!="object")throw Error(et(62))}}function X0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y0=null;function Dp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var K0=null,vu=null,bu=null;function _m(e){if(e=Tf(e)){if(typeof K0!="function")throw Error(et(280));var t=e.stateNode;t&&(t=Jh(t),K0(e.stateNode,e.type,t))}}function dy(e){vu?bu?bu.push(e):bu=[e]:vu=e}function py(){if(vu){var e=vu,t=bu;if(bu=vu=null,_m(e),t)for(e=0;e<t.length;e++)_m(t[e])}}function gy(e,t){return e(t)}function my(){}var zd=!1;function xy(e,t,n){if(zd)return e(t,n);zd=!0;try{return gy(e,t,n)}finally{zd=!1,(vu!==null||bu!==null)&&(my(),py())}}function $c(e,t){var n=e.stateNode;if(n===null)return null;var r=Jh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(et(231,t,typeof n));return n}var Z0=!1;if(Fa)try{var hc={};Object.defineProperty(hc,"passive",{get:function(){Z0=!0}}),window.addEventListener("test",hc,hc),window.removeEventListener("test",hc,hc)}catch{Z0=!1}function ib(e,t,n,r,s,a,u,h,p){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(w){this.onError(w)}}var Oc=!1,ah=null,oh=!1,Q0=null,sb={onError:function(e){Oc=!0,ah=e}};function ab(e,t,n,r,s,a,u,h,p){Oc=!1,ah=null,ib.apply(sb,arguments)}function ob(e,t,n,r,s,a,u,h,p){if(ab.apply(this,arguments),Oc){if(Oc){var m=ah;Oc=!1,ah=null}else throw Error(et(198));oh||(oh=!0,Q0=m)}}function Bl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Im(e){if(Bl(e)!==e)throw Error(et(188))}function lb(e){var t=e.alternate;if(!t){if(t=Bl(e),t===null)throw Error(et(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Im(s),e;if(a===r)return Im(s),t;a=a.sibling}throw Error(et(188))}if(n.return!==r.return)n=s,r=a;else{for(var u=!1,h=s.child;h;){if(h===n){u=!0,n=s,r=a;break}if(h===r){u=!0,r=s,n=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===n){u=!0,n=a,r=s;break}if(h===r){u=!0,r=a,n=s;break}h=h.sibling}if(!u)throw Error(et(189))}}if(n.alternate!==r)throw Error(et(190))}if(n.tag!==3)throw Error(et(188));return n.stateNode.current===n?e:t}function wy(e){return e=lb(e),e!==null?vy(e):null}function vy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vy(e);if(t!==null)return t;e=e.sibling}return null}var by=os.unstable_scheduleCallback,Tm=os.unstable_cancelCallback,ub=os.unstable_shouldYield,cb=os.unstable_requestPaint,br=os.unstable_now,fb=os.unstable_getCurrentPriorityLevel,Mp=os.unstable_ImmediatePriority,Ay=os.unstable_UserBlockingPriority,lh=os.unstable_NormalPriority,hb=os.unstable_LowPriority,Cy=os.unstable_IdlePriority,Yh=null,ua=null;function db(e){if(ua&&typeof ua.onCommitFiberRoot=="function")try{ua.onCommitFiberRoot(Yh,e,void 0,(e.current.flags&128)===128)}catch{}}var Vs=Math.clz32?Math.clz32:mb,pb=Math.log,gb=Math.LN2;function mb(e){return e>>>=0,e===0?32:31-(pb(e)/gb|0)|0}var l1=64,u1=4194304;function Ic(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,u=n&268435455;if(u!==0){var h=u&~s;h!==0?r=Ic(h):(a&=u,a!==0&&(r=Ic(a)))}else u=n&~s,u!==0?r=Ic(u):a!==0&&(r=Ic(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vs(t),s=1<<n,r|=e[n],t&=~s;return r}function xb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Vs(a),h=1<<u,p=s[u];p===-1?(!(h&n)||h&r)&&(s[u]=xb(h,t)):p<=t&&(e.expiredLanes|=h),a&=~h}}function J0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ey(){var e=l1;return l1<<=1,!(l1&4194240)&&(l1=64),e}function qd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _f(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vs(t),e[t]=n}function wb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Vs(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Bp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vs(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var En=0;function Ny(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sy,Fp,_y,Iy,Ty,$0=!1,c1=[],No=null,So=null,_o=null,ef=new Map,tf=new Map,xo=[],vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function km(e,t){switch(e){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":ef.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tf.delete(t.pointerId)}}function dc(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Tf(t),t!==null&&Fp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function bb(e,t,n,r,s){switch(t){case"focusin":return No=dc(No,e,t,n,r,s),!0;case"dragenter":return So=dc(So,e,t,n,r,s),!0;case"mouseover":return _o=dc(_o,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return ef.set(a,dc(ef.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,tf.set(a,dc(tf.get(a)||null,e,t,n,r,s)),!0}return!1}function ky(e){var t=wl(e.target);if(t!==null){var n=Bl(t);if(n!==null){if(t=n.tag,t===13){if(t=yy(n),t!==null){e.blockedOn=t,Ty(e.priority,function(){_y(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function B1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=e2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Y0=r,n.target.dispatchEvent(r),Y0=null}else return t=Tf(n),t!==null&&Fp(t),e.blockedOn=n,!1;t.shift()}return!0}function Lm(e,t,n){B1(e)&&n.delete(t)}function Ab(){$0=!1,No!==null&&B1(No)&&(No=null),So!==null&&B1(So)&&(So=null),_o!==null&&B1(_o)&&(_o=null),ef.forEach(Lm),tf.forEach(Lm)}function pc(e,t){e.blockedOn===t&&(e.blockedOn=null,$0||($0=!0,os.unstable_scheduleCallback(os.unstable_NormalPriority,Ab)))}function nf(e){function t(s){return pc(s,e)}if(0<c1.length){pc(c1[0],e);for(var n=1;n<c1.length;n++){var r=c1[n];r.blockedOn===e&&(r.blockedOn=null)}}for(No!==null&&pc(No,e),So!==null&&pc(So,e),_o!==null&&pc(_o,e),ef.forEach(t),tf.forEach(t),n=0;n<xo.length;n++)r=xo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<xo.length&&(n=xo[0],n.blockedOn===null);)ky(n),n.blockedOn===null&&xo.shift()}var Au=Va.ReactCurrentBatchConfig,ch=!0;function Cb(e,t,n,r){var s=En,a=Au.transition;Au.transition=null;try{En=1,jp(e,t,n,r)}finally{En=s,Au.transition=a}}function Eb(e,t,n,r){var s=En,a=Au.transition;Au.transition=null;try{En=4,jp(e,t,n,r)}finally{En=s,Au.transition=a}}function jp(e,t,n,r){if(ch){var s=e2(e,t,n,r);if(s===null)Jd(e,t,r,fh,n),km(e,r);else if(bb(s,e,t,n,r))r.stopPropagation();else if(km(e,r),t&4&&-1<vb.indexOf(e)){for(;s!==null;){var a=Tf(s);if(a!==null&&Sy(a),a=e2(e,t,n,r),a===null&&Jd(e,t,r,fh,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Jd(e,t,r,null,n)}}var fh=null;function e2(e,t,n,r){if(fh=null,e=Dp(r),e=wl(e),e!==null)if(t=Bl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fh=e,null}function Ly(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fb()){case Mp:return 1;case Ay:return 4;case lh:case hb:return 16;case Cy:return 536870912;default:return 16}default:return 16}}var vo=null,Up=null,F1=null;function Py(){if(F1)return F1;var e,t=Up,n=t.length,r,s="value"in vo?vo.value:vo.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===s[a-r];r++);return F1=s.slice(e,1<r?1-r:void 0)}function j1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function f1(){return!0}function Pm(){return!1}function cs(e){function t(n,r,s,a,u){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?f1:Pm,this.isPropagationStopped=Pm,this}return ar(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=f1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=f1)},persist:function(){},isPersistent:f1}),t}var Yu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zp=cs(Yu),If=ar({},Yu,{view:0,detail:0}),Nb=cs(If),Vd,Wd,gc,Kh=ar({},If,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gc&&(gc&&e.type==="mousemove"?(Vd=e.screenX-gc.screenX,Wd=e.screenY-gc.screenY):Wd=Vd=0,gc=e),Vd)},movementY:function(e){return"movementY"in e?e.movementY:Wd}}),Om=cs(Kh),Sb=ar({},Kh,{dataTransfer:0}),_b=cs(Sb),Ib=ar({},If,{relatedTarget:0}),Hd=cs(Ib),Tb=ar({},Yu,{animationName:0,elapsedTime:0,pseudoElement:0}),kb=cs(Tb),Lb=ar({},Yu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pb=cs(Lb),Ob=ar({},Yu,{data:0}),Rm=cs(Ob),Rb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Db={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mb[e])?!!t[e]:!1}function qp(){return Bb}var Fb=ar({},If,{key:function(e){if(e.key){var t=Rb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=j1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Db[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qp,charCode:function(e){return e.type==="keypress"?j1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?j1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jb=cs(Fb),Ub=ar({},Kh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dm=cs(Ub),zb=ar({},If,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qp}),qb=cs(zb),Vb=ar({},Yu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wb=cs(Vb),Hb=ar({},Kh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gb=cs(Hb),Xb=[9,13,27,32],Vp=Fa&&"CompositionEvent"in window,Rc=null;Fa&&"documentMode"in document&&(Rc=document.documentMode);var Yb=Fa&&"TextEvent"in window&&!Rc,Oy=Fa&&(!Vp||Rc&&8<Rc&&11>=Rc),Mm=" ",Bm=!1;function Ry(e,t){switch(e){case"keyup":return Xb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ou=!1;function Kb(e,t){switch(e){case"compositionend":return Dy(t);case"keypress":return t.which!==32?null:(Bm=!0,Mm);case"textInput":return e=t.data,e===Mm&&Bm?null:e;default:return null}}function Zb(e,t){if(ou)return e==="compositionend"||!Vp&&Ry(e,t)?(e=Py(),F1=Up=vo=null,ou=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Oy&&t.locale!=="ko"?null:t.data;default:return null}}var Qb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qb[e.type]:t==="textarea"}function My(e,t,n,r){dy(r),t=hh(t,"onChange"),0<t.length&&(n=new zp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dc=null,rf=null;function Jb(e){Xy(e,0)}function Zh(e){var t=cu(e);if(ay(t))return e}function $b(e,t){if(e==="change")return t}var By=!1;if(Fa){var Gd;if(Fa){var Xd="oninput"in document;if(!Xd){var jm=document.createElement("div");jm.setAttribute("oninput","return;"),Xd=typeof jm.oninput=="function"}Gd=Xd}else Gd=!1;By=Gd&&(!document.documentMode||9<document.documentMode)}function Um(){Dc&&(Dc.detachEvent("onpropertychange",Fy),rf=Dc=null)}function Fy(e){if(e.propertyName==="value"&&Zh(rf)){var t=[];My(t,rf,e,Dp(e)),xy(Jb,t)}}function e6(e,t,n){e==="focusin"?(Um(),Dc=t,rf=n,Dc.attachEvent("onpropertychange",Fy)):e==="focusout"&&Um()}function t6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zh(rf)}function n6(e,t){if(e==="click")return Zh(t)}function r6(e,t){if(e==="input"||e==="change")return Zh(t)}function i6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gs=typeof Object.is=="function"?Object.is:i6;function sf(e,t){if(Gs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!M0.call(t,s)||!Gs(e[s],t[s]))return!1}return!0}function zm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qm(e,t){var n=zm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zm(n)}}function jy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uy(){for(var e=window,t=sh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sh(e.document)}return t}function Wp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function s6(e){var t=Uy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jy(n.ownerDocument.documentElement,n)){if(r!==null&&Wp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=qm(n,a);var u=qm(n,r);s&&u&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var a6=Fa&&"documentMode"in document&&11>=document.documentMode,lu=null,t2=null,Mc=null,n2=!1;function Vm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;n2||lu==null||lu!==sh(r)||(r=lu,"selectionStart"in r&&Wp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mc&&sf(Mc,r)||(Mc=r,r=hh(t2,"onSelect"),0<r.length&&(t=new zp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lu)))}function h1(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var uu={animationend:h1("Animation","AnimationEnd"),animationiteration:h1("Animation","AnimationIteration"),animationstart:h1("Animation","AnimationStart"),transitionend:h1("Transition","TransitionEnd")},Yd={},zy={};Fa&&(zy=document.createElement("div").style,"AnimationEvent"in window||(delete uu.animationend.animation,delete uu.animationiteration.animation,delete uu.animationstart.animation),"TransitionEvent"in window||delete uu.transitionend.transition);function Qh(e){if(Yd[e])return Yd[e];if(!uu[e])return e;var t=uu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zy)return Yd[e]=t[n];return e}var qy=Qh("animationend"),Vy=Qh("animationiteration"),Wy=Qh("animationstart"),Hy=Qh("transitionend"),Gy=new Map,Wm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(e,t){Gy.set(e,t),Ml(t,[e])}for(var Kd=0;Kd<Wm.length;Kd++){var Zd=Wm[Kd],o6=Zd.toLowerCase(),l6=Zd[0].toUpperCase()+Zd.slice(1);Vo(o6,"on"+l6)}Vo(qy,"onAnimationEnd");Vo(Vy,"onAnimationIteration");Vo(Wy,"onAnimationStart");Vo("dblclick","onDoubleClick");Vo("focusin","onFocus");Vo("focusout","onBlur");Vo(Hy,"onTransitionEnd");Ru("onMouseEnter",["mouseout","mouseover"]);Ru("onMouseLeave",["mouseout","mouseover"]);Ru("onPointerEnter",["pointerout","pointerover"]);Ru("onPointerLeave",["pointerout","pointerover"]);Ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ml("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tc));function Hm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ob(r,t,void 0,e),e.currentTarget=null}function Xy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var u=r.length-1;0<=u;u--){var h=r[u],p=h.instance,m=h.currentTarget;if(h=h.listener,p!==a&&s.isPropagationStopped())break e;Hm(s,h,m),a=p}else for(u=0;u<r.length;u++){if(h=r[u],p=h.instance,m=h.currentTarget,h=h.listener,p!==a&&s.isPropagationStopped())break e;Hm(s,h,m),a=p}}}if(oh)throw e=Q0,oh=!1,Q0=null,e}function qn(e,t){var n=t[o2];n===void 0&&(n=t[o2]=new Set);var r=e+"__bubble";n.has(r)||(Yy(t,e,2,!1),n.add(r))}function Qd(e,t,n){var r=0;t&&(r|=4),Yy(n,e,r,t)}var d1="_reactListening"+Math.random().toString(36).slice(2);function af(e){if(!e[d1]){e[d1]=!0,ty.forEach(function(n){n!=="selectionchange"&&(u6.has(n)||Qd(n,!1,e),Qd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[d1]||(t[d1]=!0,Qd("selectionchange",!1,t))}}function Yy(e,t,n,r){switch(Ly(t)){case 1:var s=Cb;break;case 4:s=Eb;break;default:s=jp}n=s.bind(null,t,n,e),s=void 0,!Z0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Jd(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var h=r.stateNode.containerInfo;if(h===s||h.nodeType===8&&h.parentNode===s)break;if(u===4)for(u=r.return;u!==null;){var p=u.tag;if((p===3||p===4)&&(p=u.stateNode.containerInfo,p===s||p.nodeType===8&&p.parentNode===s))return;u=u.return}for(;h!==null;){if(u=wl(h),u===null)return;if(p=u.tag,p===5||p===6){r=a=u;continue e}h=h.parentNode}}r=r.return}xy(function(){var m=a,w=Dp(n),v=[];e:{var E=Gy.get(e);if(E!==void 0){var A=zp,R=e;switch(e){case"keypress":if(j1(n)===0)break e;case"keydown":case"keyup":A=jb;break;case"focusin":R="focus",A=Hd;break;case"focusout":R="blur",A=Hd;break;case"beforeblur":case"afterblur":A=Hd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=Om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=_b;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=qb;break;case qy:case Vy:case Wy:A=kb;break;case Hy:A=Wb;break;case"scroll":A=Nb;break;case"wheel":A=Gb;break;case"copy":case"cut":case"paste":A=Pb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=Dm}var k=(t&4)!==0,M=!k&&e==="scroll",S=k?E!==null?E+"Capture":null:E;k=[];for(var I=m,L;I!==null;){L=I;var q=L.stateNode;if(L.tag===5&&q!==null&&(L=q,S!==null&&(q=$c(I,S),q!=null&&k.push(of(I,q,L)))),M)break;I=I.return}0<k.length&&(E=new A(E,R,null,n,w),v.push({event:E,listeners:k}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",A=e==="mouseout"||e==="pointerout",E&&n!==Y0&&(R=n.relatedTarget||n.fromElement)&&(wl(R)||R[ja]))break e;if((A||E)&&(E=w.window===w?w:(E=w.ownerDocument)?E.defaultView||E.parentWindow:window,A?(R=n.relatedTarget||n.toElement,A=m,R=R?wl(R):null,R!==null&&(M=Bl(R),R!==M||R.tag!==5&&R.tag!==6)&&(R=null)):(A=null,R=m),A!==R)){if(k=Om,q="onMouseLeave",S="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(k=Dm,q="onPointerLeave",S="onPointerEnter",I="pointer"),M=A==null?E:cu(A),L=R==null?E:cu(R),E=new k(q,I+"leave",A,n,w),E.target=M,E.relatedTarget=L,q=null,wl(w)===m&&(k=new k(S,I+"enter",R,n,w),k.target=L,k.relatedTarget=M,q=k),M=q,A&&R)t:{for(k=A,S=R,I=0,L=k;L;L=Zl(L))I++;for(L=0,q=S;q;q=Zl(q))L++;for(;0<I-L;)k=Zl(k),I--;for(;0<L-I;)S=Zl(S),L--;for(;I--;){if(k===S||S!==null&&k===S.alternate)break t;k=Zl(k),S=Zl(S)}k=null}else k=null;A!==null&&Gm(v,E,A,k,!1),R!==null&&M!==null&&Gm(v,M,R,k,!0)}}e:{if(E=m?cu(m):window,A=E.nodeName&&E.nodeName.toLowerCase(),A==="select"||A==="input"&&E.type==="file")var $=$b;else if(Fm(E))if(By)$=r6;else{$=t6;var Q=e6}else(A=E.nodeName)&&A.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&($=n6);if($&&($=$(e,m))){My(v,$,n,w);break e}Q&&Q(e,E,m),e==="focusout"&&(Q=E._wrapperState)&&Q.controlled&&E.type==="number"&&V0(E,"number",E.value)}switch(Q=m?cu(m):window,e){case"focusin":(Fm(Q)||Q.contentEditable==="true")&&(lu=Q,t2=m,Mc=null);break;case"focusout":Mc=t2=lu=null;break;case"mousedown":n2=!0;break;case"contextmenu":case"mouseup":case"dragend":n2=!1,Vm(v,n,w);break;case"selectionchange":if(a6)break;case"keydown":case"keyup":Vm(v,n,w)}var D;if(Vp)e:{switch(e){case"compositionstart":var Y="onCompositionStart";break e;case"compositionend":Y="onCompositionEnd";break e;case"compositionupdate":Y="onCompositionUpdate";break e}Y=void 0}else ou?Ry(e,n)&&(Y="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Y="onCompositionStart");Y&&(Oy&&n.locale!=="ko"&&(ou||Y!=="onCompositionStart"?Y==="onCompositionEnd"&&ou&&(D=Py()):(vo=w,Up="value"in vo?vo.value:vo.textContent,ou=!0)),Q=hh(m,Y),0<Q.length&&(Y=new Rm(Y,e,null,n,w),v.push({event:Y,listeners:Q}),D?Y.data=D:(D=Dy(n),D!==null&&(Y.data=D)))),(D=Yb?Kb(e,n):Zb(e,n))&&(m=hh(m,"onBeforeInput"),0<m.length&&(w=new Rm("onBeforeInput","beforeinput",null,n,w),v.push({event:w,listeners:m}),w.data=D))}Xy(v,t)})}function of(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hh(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=$c(e,n),a!=null&&r.unshift(of(e,a,s)),a=$c(e,t),a!=null&&r.push(of(e,a,s))),e=e.return}return r}function Zl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gm(e,t,n,r,s){for(var a=t._reactName,u=[];n!==null&&n!==r;){var h=n,p=h.alternate,m=h.stateNode;if(p!==null&&p===r)break;h.tag===5&&m!==null&&(h=m,s?(p=$c(n,a),p!=null&&u.unshift(of(n,p,h))):s||(p=$c(n,a),p!=null&&u.push(of(n,p,h)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var c6=/\r\n?/g,f6=/\u0000|\uFFFD/g;function Xm(e){return(typeof e=="string"?e:""+e).replace(c6,`
`).replace(f6,"")}function p1(e,t,n){if(t=Xm(t),Xm(e)!==t&&n)throw Error(et(425))}function dh(){}var r2=null,i2=null;function s2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var a2=typeof setTimeout=="function"?setTimeout:void 0,h6=typeof clearTimeout=="function"?clearTimeout:void 0,Ym=typeof Promise=="function"?Promise:void 0,d6=typeof queueMicrotask=="function"?queueMicrotask:typeof Ym<"u"?function(e){return Ym.resolve(null).then(e).catch(p6)}:a2;function p6(e){setTimeout(function(){throw e})}function $d(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),nf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);nf(t)}function Io(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Km(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ku=Math.random().toString(36).slice(2),oa="__reactFiber$"+Ku,lf="__reactProps$"+Ku,ja="__reactContainer$"+Ku,o2="__reactEvents$"+Ku,g6="__reactListeners$"+Ku,m6="__reactHandles$"+Ku;function wl(e){var t=e[oa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ja]||n[oa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Km(e);e!==null;){if(n=e[oa])return n;e=Km(e)}return t}e=n,n=e.parentNode}return null}function Tf(e){return e=e[oa]||e[ja],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(et(33))}function Jh(e){return e[lf]||null}var l2=[],fu=-1;function Wo(e){return{current:e}}function Gn(e){0>fu||(e.current=l2[fu],l2[fu]=null,fu--)}function Mn(e,t){fu++,l2[fu]=e.current,e.current=t}var Do={},bi=Wo(Do),qi=Wo(!1),Tl=Do;function Du(e,t){var n=e.type.contextTypes;if(!n)return Do;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Vi(e){return e=e.childContextTypes,e!=null}function ph(){Gn(qi),Gn(bi)}function Zm(e,t,n){if(bi.current!==Do)throw Error(et(168));Mn(bi,t),Mn(qi,n)}function Ky(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(et(108,eb(e)||"Unknown",s));return ar({},n,r)}function gh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Do,Tl=bi.current,Mn(bi,e),Mn(qi,qi.current),!0}function Qm(e,t,n){var r=e.stateNode;if(!r)throw Error(et(169));n?(e=Ky(e,t,Tl),r.__reactInternalMemoizedMergedChildContext=e,Gn(qi),Gn(bi),Mn(bi,e)):Gn(qi),Mn(qi,n)}var Ta=null,$h=!1,e0=!1;function Zy(e){Ta===null?Ta=[e]:Ta.push(e)}function x6(e){$h=!0,Zy(e)}function Ho(){if(!e0&&Ta!==null){e0=!0;var e=0,t=En;try{var n=Ta;for(En=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ta=null,$h=!1}catch(s){throw Ta!==null&&(Ta=Ta.slice(e+1)),by(Mp,Ho),s}finally{En=t,e0=!1}}return null}var hu=[],du=0,mh=null,xh=0,As=[],Cs=0,kl=null,Pa=1,Oa="";function dl(e,t){hu[du++]=xh,hu[du++]=mh,mh=e,xh=t}function Qy(e,t,n){As[Cs++]=Pa,As[Cs++]=Oa,As[Cs++]=kl,kl=e;var r=Pa;e=Oa;var s=32-Vs(r)-1;r&=~(1<<s),n+=1;var a=32-Vs(t)+s;if(30<a){var u=s-s%5;a=(r&(1<<u)-1).toString(32),r>>=u,s-=u,Pa=1<<32-Vs(t)+s|n<<s|r,Oa=a+e}else Pa=1<<a|n<<s|r,Oa=e}function Hp(e){e.return!==null&&(dl(e,1),Qy(e,1,0))}function Gp(e){for(;e===mh;)mh=hu[--du],hu[du]=null,xh=hu[--du],hu[du]=null;for(;e===kl;)kl=As[--Cs],As[Cs]=null,Oa=As[--Cs],As[Cs]=null,Pa=As[--Cs],As[Cs]=null}var as=null,rs=null,$n=!1,qs=null;function Jy(e,t){var n=Es(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,as=e,rs=Io(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,as=e,rs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kl!==null?{id:Pa,overflow:Oa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Es(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,as=e,rs=null,!0):!1;default:return!1}}function u2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function c2(e){if($n){var t=rs;if(t){var n=t;if(!Jm(e,t)){if(u2(e))throw Error(et(418));t=Io(n.nextSibling);var r=as;t&&Jm(e,t)?Jy(r,n):(e.flags=e.flags&-4097|2,$n=!1,as=e)}}else{if(u2(e))throw Error(et(418));e.flags=e.flags&-4097|2,$n=!1,as=e}}}function $m(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;as=e}function g1(e){if(e!==as)return!1;if(!$n)return $m(e),$n=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!s2(e.type,e.memoizedProps)),t&&(t=rs)){if(u2(e))throw $y(),Error(et(418));for(;t;)Jy(e,t),t=Io(t.nextSibling)}if($m(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(et(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rs=Io(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rs=null}}else rs=as?Io(e.stateNode.nextSibling):null;return!0}function $y(){for(var e=rs;e;)e=Io(e.nextSibling)}function Mu(){rs=as=null,$n=!1}function Xp(e){qs===null?qs=[e]:qs.push(e)}var y6=Va.ReactCurrentBatchConfig;function mc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(et(309));var r=n.stateNode}if(!r)throw Error(et(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var h=s.refs;u===null?delete h[a]:h[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(et(284));if(!n._owner)throw Error(et(290,e))}return e}function m1(e,t){throw e=Object.prototype.toString.call(t),Error(et(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function e5(e){var t=e._init;return t(e._payload)}function ew(e){function t(S,I){if(e){var L=S.deletions;L===null?(S.deletions=[I],S.flags|=16):L.push(I)}}function n(S,I){if(!e)return null;for(;I!==null;)t(S,I),I=I.sibling;return null}function r(S,I){for(S=new Map;I!==null;)I.key!==null?S.set(I.key,I):S.set(I.index,I),I=I.sibling;return S}function s(S,I){return S=Po(S,I),S.index=0,S.sibling=null,S}function a(S,I,L){return S.index=L,e?(L=S.alternate,L!==null?(L=L.index,L<I?(S.flags|=2,I):L):(S.flags|=2,I)):(S.flags|=1048576,I)}function u(S){return e&&S.alternate===null&&(S.flags|=2),S}function h(S,I,L,q){return I===null||I.tag!==6?(I=o0(L,S.mode,q),I.return=S,I):(I=s(I,L),I.return=S,I)}function p(S,I,L,q){var $=L.type;return $===au?w(S,I,L.props.children,q,L.key):I!==null&&(I.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===po&&e5($)===I.type)?(q=s(I,L.props),q.ref=mc(S,I,L),q.return=S,q):(q=G1(L.type,L.key,L.props,null,S.mode,q),q.ref=mc(S,I,L),q.return=S,q)}function m(S,I,L,q){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=l0(L,S.mode,q),I.return=S,I):(I=s(I,L.children||[]),I.return=S,I)}function w(S,I,L,q,$){return I===null||I.tag!==7?(I=El(L,S.mode,q,$),I.return=S,I):(I=s(I,L),I.return=S,I)}function v(S,I,L){if(typeof I=="string"&&I!==""||typeof I=="number")return I=o0(""+I,S.mode,L),I.return=S,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case s1:return L=G1(I.type,I.key,I.props,null,S.mode,L),L.ref=mc(S,null,I),L.return=S,L;case su:return I=l0(I,S.mode,L),I.return=S,I;case po:var q=I._init;return v(S,q(I._payload),L)}if(_c(I)||fc(I))return I=El(I,S.mode,L,null),I.return=S,I;m1(S,I)}return null}function E(S,I,L,q){var $=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return $!==null?null:h(S,I,""+L,q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case s1:return L.key===$?p(S,I,L,q):null;case su:return L.key===$?m(S,I,L,q):null;case po:return $=L._init,E(S,I,$(L._payload),q)}if(_c(L)||fc(L))return $!==null?null:w(S,I,L,q,null);m1(S,L)}return null}function A(S,I,L,q,$){if(typeof q=="string"&&q!==""||typeof q=="number")return S=S.get(L)||null,h(I,S,""+q,$);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case s1:return S=S.get(q.key===null?L:q.key)||null,p(I,S,q,$);case su:return S=S.get(q.key===null?L:q.key)||null,m(I,S,q,$);case po:var Q=q._init;return A(S,I,L,Q(q._payload),$)}if(_c(q)||fc(q))return S=S.get(L)||null,w(I,S,q,$,null);m1(I,q)}return null}function R(S,I,L,q){for(var $=null,Q=null,D=I,Y=I=0,Z=null;D!==null&&Y<L.length;Y++){D.index>Y?(Z=D,D=null):Z=D.sibling;var ye=E(S,D,L[Y],q);if(ye===null){D===null&&(D=Z);break}e&&D&&ye.alternate===null&&t(S,D),I=a(ye,I,Y),Q===null?$=ye:Q.sibling=ye,Q=ye,D=Z}if(Y===L.length)return n(S,D),$n&&dl(S,Y),$;if(D===null){for(;Y<L.length;Y++)D=v(S,L[Y],q),D!==null&&(I=a(D,I,Y),Q===null?$=D:Q.sibling=D,Q=D);return $n&&dl(S,Y),$}for(D=r(S,D);Y<L.length;Y++)Z=A(D,S,Y,L[Y],q),Z!==null&&(e&&Z.alternate!==null&&D.delete(Z.key===null?Y:Z.key),I=a(Z,I,Y),Q===null?$=Z:Q.sibling=Z,Q=Z);return e&&D.forEach(function(W){return t(S,W)}),$n&&dl(S,Y),$}function k(S,I,L,q){var $=fc(L);if(typeof $!="function")throw Error(et(150));if(L=$.call(L),L==null)throw Error(et(151));for(var Q=$=null,D=I,Y=I=0,Z=null,ye=L.next();D!==null&&!ye.done;Y++,ye=L.next()){D.index>Y?(Z=D,D=null):Z=D.sibling;var W=E(S,D,ye.value,q);if(W===null){D===null&&(D=Z);break}e&&D&&W.alternate===null&&t(S,D),I=a(W,I,Y),Q===null?$=W:Q.sibling=W,Q=W,D=Z}if(ye.done)return n(S,D),$n&&dl(S,Y),$;if(D===null){for(;!ye.done;Y++,ye=L.next())ye=v(S,ye.value,q),ye!==null&&(I=a(ye,I,Y),Q===null?$=ye:Q.sibling=ye,Q=ye);return $n&&dl(S,Y),$}for(D=r(S,D);!ye.done;Y++,ye=L.next())ye=A(D,S,Y,ye.value,q),ye!==null&&(e&&ye.alternate!==null&&D.delete(ye.key===null?Y:ye.key),I=a(ye,I,Y),Q===null?$=ye:Q.sibling=ye,Q=ye);return e&&D.forEach(function(X){return t(S,X)}),$n&&dl(S,Y),$}function M(S,I,L,q){if(typeof L=="object"&&L!==null&&L.type===au&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case s1:e:{for(var $=L.key,Q=I;Q!==null;){if(Q.key===$){if($=L.type,$===au){if(Q.tag===7){n(S,Q.sibling),I=s(Q,L.props.children),I.return=S,S=I;break e}}else if(Q.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===po&&e5($)===Q.type){n(S,Q.sibling),I=s(Q,L.props),I.ref=mc(S,Q,L),I.return=S,S=I;break e}n(S,Q);break}else t(S,Q);Q=Q.sibling}L.type===au?(I=El(L.props.children,S.mode,q,L.key),I.return=S,S=I):(q=G1(L.type,L.key,L.props,null,S.mode,q),q.ref=mc(S,I,L),q.return=S,S=q)}return u(S);case su:e:{for(Q=L.key;I!==null;){if(I.key===Q)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){n(S,I.sibling),I=s(I,L.children||[]),I.return=S,S=I;break e}else{n(S,I);break}else t(S,I);I=I.sibling}I=l0(L,S.mode,q),I.return=S,S=I}return u(S);case po:return Q=L._init,M(S,I,Q(L._payload),q)}if(_c(L))return R(S,I,L,q);if(fc(L))return k(S,I,L,q);m1(S,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,I!==null&&I.tag===6?(n(S,I.sibling),I=s(I,L),I.return=S,S=I):(n(S,I),I=o0(L,S.mode,q),I.return=S,S=I),u(S)):n(S,I)}return M}var Bu=ew(!0),tw=ew(!1),yh=Wo(null),wh=null,pu=null,Yp=null;function Kp(){Yp=pu=wh=null}function Zp(e){var t=yh.current;Gn(yh),e._currentValue=t}function f2(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cu(e,t){wh=e,Yp=pu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zi=!0),e.firstContext=null)}function Ss(e){var t=e._currentValue;if(Yp!==e)if(e={context:e,memoizedValue:t,next:null},pu===null){if(wh===null)throw Error(et(308));pu=e,wh.dependencies={lanes:0,firstContext:e}}else pu=pu.next=e;return t}var vl=null;function Qp(e){vl===null?vl=[e]:vl.push(e)}function nw(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Qp(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ua(e,r)}function Ua(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var go=!1;function Jp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function To(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pn&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ua(e,n)}return s=r.interleaved,s===null?(t.next=t,Qp(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ua(e,n)}function U1(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bp(e,n)}}function t5(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vh(e,t,n,r){var s=e.updateQueue;go=!1;var a=s.firstBaseUpdate,u=s.lastBaseUpdate,h=s.shared.pending;if(h!==null){s.shared.pending=null;var p=h,m=p.next;p.next=null,u===null?a=m:u.next=m,u=p;var w=e.alternate;w!==null&&(w=w.updateQueue,h=w.lastBaseUpdate,h!==u&&(h===null?w.firstBaseUpdate=m:h.next=m,w.lastBaseUpdate=p))}if(a!==null){var v=s.baseState;u=0,w=m=p=null,h=a;do{var E=h.lane,A=h.eventTime;if((r&E)===E){w!==null&&(w=w.next={eventTime:A,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var R=e,k=h;switch(E=t,A=n,k.tag){case 1:if(R=k.payload,typeof R=="function"){v=R.call(A,v,E);break e}v=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=k.payload,E=typeof R=="function"?R.call(A,v,E):R,E==null)break e;v=ar({},v,E);break e;case 2:go=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,E=s.effects,E===null?s.effects=[h]:E.push(h))}else A={eventTime:A,lane:E,tag:h.tag,payload:h.payload,callback:h.callback,next:null},w===null?(m=w=A,p=v):w=w.next=A,u|=E;if(h=h.next,h===null){if(h=s.shared.pending,h===null)break;E=h,h=E.next,E.next=null,s.lastBaseUpdate=E,s.shared.pending=null}}while(!0);if(w===null&&(p=v),s.baseState=p,s.firstBaseUpdate=m,s.lastBaseUpdate=w,t=s.shared.interleaved,t!==null){s=t;do u|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Pl|=u,e.lanes=u,e.memoizedState=v}}function n5(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(et(191,s));s.call(r)}}}var kf={},ca=Wo(kf),uf=Wo(kf),cf=Wo(kf);function bl(e){if(e===kf)throw Error(et(174));return e}function $p(e,t){switch(Mn(cf,t),Mn(uf,e),Mn(ca,kf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:H0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=H0(t,e)}Gn(ca),Mn(ca,t)}function Fu(){Gn(ca),Gn(uf),Gn(cf)}function iw(e){bl(cf.current);var t=bl(ca.current),n=H0(t,e.type);t!==n&&(Mn(uf,e),Mn(ca,n))}function eg(e){uf.current===e&&(Gn(ca),Gn(uf))}var ir=Wo(0);function bh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var t0=[];function tg(){for(var e=0;e<t0.length;e++)t0[e]._workInProgressVersionPrimary=null;t0.length=0}var z1=Va.ReactCurrentDispatcher,n0=Va.ReactCurrentBatchConfig,Ll=0,sr=null,Mr=null,Gr=null,Ah=!1,Bc=!1,ff=0,w6=0;function fi(){throw Error(et(321))}function ng(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gs(e[n],t[n]))return!1;return!0}function rg(e,t,n,r,s,a){if(Ll=a,sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z1.current=e===null||e.memoizedState===null?C6:E6,e=n(r,s),Bc){a=0;do{if(Bc=!1,ff=0,25<=a)throw Error(et(301));a+=1,Gr=Mr=null,t.updateQueue=null,z1.current=N6,e=n(r,s)}while(Bc)}if(z1.current=Ch,t=Mr!==null&&Mr.next!==null,Ll=0,Gr=Mr=sr=null,Ah=!1,t)throw Error(et(300));return e}function ig(){var e=ff!==0;return ff=0,e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?sr.memoizedState=Gr=e:Gr=Gr.next=e,Gr}function _s(){if(Mr===null){var e=sr.alternate;e=e!==null?e.memoizedState:null}else e=Mr.next;var t=Gr===null?sr.memoizedState:Gr.next;if(t!==null)Gr=t,Mr=e;else{if(e===null)throw Error(et(310));Mr=e,e={memoizedState:Mr.memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},Gr===null?sr.memoizedState=Gr=e:Gr=Gr.next=e}return Gr}function hf(e,t){return typeof t=="function"?t(e):t}function r0(e){var t=_s(),n=t.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=e;var r=Mr,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var u=s.next;s.next=a.next,a.next=u}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var h=u=null,p=null,m=a;do{var w=m.lane;if((Ll&w)===w)p!==null&&(p=p.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:e(r,m.action);else{var v={lane:w,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};p===null?(h=p=v,u=r):p=p.next=v,sr.lanes|=w,Pl|=w}m=m.next}while(m!==null&&m!==a);p===null?u=r:p.next=h,Gs(r,t.memoizedState)||(zi=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,sr.lanes|=a,Pl|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function i0(e){var t=_s(),n=t.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var u=s=s.next;do a=e(a,u.action),u=u.next;while(u!==s);Gs(a,t.memoizedState)||(zi=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function sw(){}function aw(e,t){var n=sr,r=_s(),s=t(),a=!Gs(r.memoizedState,s);if(a&&(r.memoizedState=s,zi=!0),r=r.queue,sg(uw.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Gr!==null&&Gr.memoizedState.tag&1){if(n.flags|=2048,df(9,lw.bind(null,n,r,s,t),void 0,null),Kr===null)throw Error(et(349));Ll&30||ow(n,t,s)}return s}function ow(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=sr.updateQueue,t===null?(t={lastEffect:null,stores:null},sr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lw(e,t,n,r){t.value=n,t.getSnapshot=r,cw(t)&&fw(e)}function uw(e,t,n){return n(function(){cw(t)&&fw(e)})}function cw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gs(e,n)}catch{return!0}}function fw(e){var t=Ua(e,1);t!==null&&Ws(t,e,1,-1)}function r5(e){var t=sa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hf,lastRenderedState:e},t.queue=e,e=e.dispatch=A6.bind(null,sr,e),[t.memoizedState,e]}function df(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=sr.updateQueue,t===null?(t={lastEffect:null,stores:null},sr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hw(){return _s().memoizedState}function q1(e,t,n,r){var s=sa();sr.flags|=e,s.memoizedState=df(1|t,n,void 0,r===void 0?null:r)}function ed(e,t,n,r){var s=_s();r=r===void 0?null:r;var a=void 0;if(Mr!==null){var u=Mr.memoizedState;if(a=u.destroy,r!==null&&ng(r,u.deps)){s.memoizedState=df(t,n,a,r);return}}sr.flags|=e,s.memoizedState=df(1|t,n,a,r)}function i5(e,t){return q1(8390656,8,e,t)}function sg(e,t){return ed(2048,8,e,t)}function dw(e,t){return ed(4,2,e,t)}function pw(e,t){return ed(4,4,e,t)}function gw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mw(e,t,n){return n=n!=null?n.concat([e]):null,ed(4,4,gw.bind(null,t,e),n)}function ag(){}function xw(e,t){var n=_s();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ng(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yw(e,t){var n=_s();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ng(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ww(e,t,n){return Ll&21?(Gs(n,t)||(n=Ey(),sr.lanes|=n,Pl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zi=!0),e.memoizedState=n)}function v6(e,t){var n=En;En=n!==0&&4>n?n:4,e(!0);var r=n0.transition;n0.transition={};try{e(!1),t()}finally{En=n,n0.transition=r}}function vw(){return _s().memoizedState}function b6(e,t,n){var r=Lo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bw(e))Aw(t,n);else if(n=nw(e,t,n,r),n!==null){var s=ki();Ws(n,e,r,s),Cw(n,t,r)}}function A6(e,t,n){var r=Lo(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bw(e))Aw(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,h=a(u,n);if(s.hasEagerState=!0,s.eagerState=h,Gs(h,u)){var p=t.interleaved;p===null?(s.next=s,Qp(t)):(s.next=p.next,p.next=s),t.interleaved=s;return}}catch{}finally{}n=nw(e,t,s,r),n!==null&&(s=ki(),Ws(n,e,r,s),Cw(n,t,r))}}function bw(e){var t=e.alternate;return e===sr||t!==null&&t===sr}function Aw(e,t){Bc=Ah=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bp(e,n)}}var Ch={readContext:Ss,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},C6={readContext:Ss,useCallback:function(e,t){return sa().memoizedState=[e,t===void 0?null:t],e},useContext:Ss,useEffect:i5,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,q1(4194308,4,gw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return q1(4194308,4,e,t)},useInsertionEffect:function(e,t){return q1(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=b6.bind(null,sr,e),[r.memoizedState,e]},useRef:function(e){var t=sa();return e={current:e},t.memoizedState=e},useState:r5,useDebugValue:ag,useDeferredValue:function(e){return sa().memoizedState=e},useTransition:function(){var e=r5(!1),t=e[0];return e=v6.bind(null,e[1]),sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sr,s=sa();if($n){if(n===void 0)throw Error(et(407));n=n()}else{if(n=t(),Kr===null)throw Error(et(349));Ll&30||ow(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,i5(uw.bind(null,r,a,e),[e]),r.flags|=2048,df(9,lw.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=sa(),t=Kr.identifierPrefix;if($n){var n=Oa,r=Pa;n=(r&~(1<<32-Vs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ff++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=w6++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},E6={readContext:Ss,useCallback:xw,useContext:Ss,useEffect:sg,useImperativeHandle:mw,useInsertionEffect:dw,useLayoutEffect:pw,useMemo:yw,useReducer:r0,useRef:hw,useState:function(){return r0(hf)},useDebugValue:ag,useDeferredValue:function(e){var t=_s();return ww(t,Mr.memoizedState,e)},useTransition:function(){var e=r0(hf)[0],t=_s().memoizedState;return[e,t]},useMutableSource:sw,useSyncExternalStore:aw,useId:vw,unstable_isNewReconciler:!1},N6={readContext:Ss,useCallback:xw,useContext:Ss,useEffect:sg,useImperativeHandle:mw,useInsertionEffect:dw,useLayoutEffect:pw,useMemo:yw,useReducer:i0,useRef:hw,useState:function(){return i0(hf)},useDebugValue:ag,useDeferredValue:function(e){var t=_s();return Mr===null?t.memoizedState=e:ww(t,Mr.memoizedState,e)},useTransition:function(){var e=i0(hf)[0],t=_s().memoizedState;return[e,t]},useMutableSource:sw,useSyncExternalStore:aw,useId:vw,unstable_isNewReconciler:!1};function js(e,t){if(e&&e.defaultProps){t=ar({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function h2(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ar({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var td={isMounted:function(e){return(e=e._reactInternals)?Bl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ki(),s=Lo(e),a=Da(r,s);a.payload=t,n!=null&&(a.callback=n),t=To(e,a,s),t!==null&&(Ws(t,e,s,r),U1(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ki(),s=Lo(e),a=Da(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=To(e,a,s),t!==null&&(Ws(t,e,s,r),U1(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ki(),r=Lo(e),s=Da(n,r);s.tag=2,t!=null&&(s.callback=t),t=To(e,s,r),t!==null&&(Ws(t,e,r,n),U1(t,e,r))}};function s5(e,t,n,r,s,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,u):t.prototype&&t.prototype.isPureReactComponent?!sf(n,r)||!sf(s,a):!0}function Ew(e,t,n){var r=!1,s=Do,a=t.contextType;return typeof a=="object"&&a!==null?a=Ss(a):(s=Vi(t)?Tl:bi.current,r=t.contextTypes,a=(r=r!=null)?Du(e,s):Do),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=td,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function a5(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&td.enqueueReplaceState(t,t.state,null)}function d2(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Jp(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Ss(a):(a=Vi(t)?Tl:bi.current,s.context=Du(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(h2(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&td.enqueueReplaceState(s,s.state,null),vh(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ju(e,t){try{var n="",r=t;do n+=$4(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function s0(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function p2(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var S6=typeof WeakMap=="function"?WeakMap:Map;function Nw(e,t,n){n=Da(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Nh||(Nh=!0,E2=r),p2(e,t)},n}function Sw(e,t,n){n=Da(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){p2(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){p2(e,t),typeof r!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function o5(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new S6;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=U6.bind(null,e,t,n),t.then(e,e))}function l5(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function u5(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Da(-1,1),t.tag=2,To(n,t,1))),n.lanes|=1),e)}var _6=Va.ReactCurrentOwner,zi=!1;function Ii(e,t,n,r){t.child=e===null?tw(t,null,n,r):Bu(t,e.child,n,r)}function c5(e,t,n,r,s){n=n.render;var a=t.ref;return Cu(t,s),r=rg(e,t,n,r,a,s),n=ig(),e!==null&&!zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,za(e,t,s)):($n&&n&&Hp(t),t.flags|=1,Ii(e,t,r,s),t.child)}function f5(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!pg(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,_w(e,t,a,r,s)):(e=G1(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:sf,n(u,r)&&e.ref===t.ref)return za(e,t,s)}return t.flags|=1,e=Po(a,r),e.ref=t.ref,e.return=t,t.child=e}function _w(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(sf(a,r)&&e.ref===t.ref)if(zi=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(zi=!0);else return t.lanes=e.lanes,za(e,t,s)}return g2(e,t,n,r,s)}function Iw(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mn(mu,ns),ns|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mn(mu,ns),ns|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Mn(mu,ns),ns|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Mn(mu,ns),ns|=r;return Ii(e,t,s,n),t.child}function Tw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function g2(e,t,n,r,s){var a=Vi(n)?Tl:bi.current;return a=Du(t,a),Cu(t,s),n=rg(e,t,n,r,a,s),r=ig(),e!==null&&!zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,za(e,t,s)):($n&&r&&Hp(t),t.flags|=1,Ii(e,t,n,s),t.child)}function h5(e,t,n,r,s){if(Vi(n)){var a=!0;gh(t)}else a=!1;if(Cu(t,s),t.stateNode===null)V1(e,t),Ew(t,n,r),d2(t,n,r,s),r=!0;else if(e===null){var u=t.stateNode,h=t.memoizedProps;u.props=h;var p=u.context,m=n.contextType;typeof m=="object"&&m!==null?m=Ss(m):(m=Vi(n)?Tl:bi.current,m=Du(t,m));var w=n.getDerivedStateFromProps,v=typeof w=="function"||typeof u.getSnapshotBeforeUpdate=="function";v||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==r||p!==m)&&a5(t,u,r,m),go=!1;var E=t.memoizedState;u.state=E,vh(t,r,u,s),p=t.memoizedState,h!==r||E!==p||qi.current||go?(typeof w=="function"&&(h2(t,n,w,r),p=t.memoizedState),(h=go||s5(t,n,h,r,E,p,m))?(v||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),u.props=r,u.state=p,u.context=m,r=h):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,rw(e,t),h=t.memoizedProps,m=t.type===t.elementType?h:js(t.type,h),u.props=m,v=t.pendingProps,E=u.context,p=n.contextType,typeof p=="object"&&p!==null?p=Ss(p):(p=Vi(n)?Tl:bi.current,p=Du(t,p));var A=n.getDerivedStateFromProps;(w=typeof A=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==v||E!==p)&&a5(t,u,r,p),go=!1,E=t.memoizedState,u.state=E,vh(t,r,u,s);var R=t.memoizedState;h!==v||E!==R||qi.current||go?(typeof A=="function"&&(h2(t,n,A,r),R=t.memoizedState),(m=go||s5(t,n,m,r,E,R,p)||!1)?(w||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,R,p),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,R,p)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=R),u.props=r,u.state=R,u.context=p,r=m):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),r=!1)}return m2(e,t,n,r,a,s)}function m2(e,t,n,r,s,a){Tw(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return s&&Qm(t,n,!1),za(e,t,a);r=t.stateNode,_6.current=t;var h=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=Bu(t,e.child,null,a),t.child=Bu(t,null,h,a)):Ii(e,t,h,a),t.memoizedState=r.state,s&&Qm(t,n,!0),t.child}function kw(e){var t=e.stateNode;t.pendingContext?Zm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zm(e,t.context,!1),$p(e,t.containerInfo)}function d5(e,t,n,r,s){return Mu(),Xp(s),t.flags|=256,Ii(e,t,n,r),t.child}var x2={dehydrated:null,treeContext:null,retryLane:0};function y2(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lw(e,t,n){var r=t.pendingProps,s=ir.current,a=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(s&2)!==0),h?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Mn(ir,s&1),e===null)return c2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,e=r.fallback,a?(r=t.mode,a=t.child,u={mode:"hidden",children:u},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=id(u,r,0,null),e=El(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=y2(n),t.memoizedState=x2,e):og(t,u));if(s=e.memoizedState,s!==null&&(h=s.dehydrated,h!==null))return I6(e,t,u,r,h,s,n);if(a){a=r.fallback,u=t.mode,s=e.child,h=s.sibling;var p={mode:"hidden",children:r.children};return!(u&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=Po(s,p),r.subtreeFlags=s.subtreeFlags&14680064),h!==null?a=Po(h,a):(a=El(a,u,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,u=e.child.memoizedState,u=u===null?y2(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=x2,r}return a=e.child,e=a.sibling,r=Po(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function og(e,t){return t=id({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function x1(e,t,n,r){return r!==null&&Xp(r),Bu(t,e.child,null,n),e=og(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function I6(e,t,n,r,s,a,u){if(n)return t.flags&256?(t.flags&=-257,r=s0(Error(et(422))),x1(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=id({mode:"visible",children:r.children},s,0,null),a=El(a,s,u,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Bu(t,e.child,null,u),t.child.memoizedState=y2(u),t.memoizedState=x2,a);if(!(t.mode&1))return x1(e,t,u,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(et(419)),r=s0(a,r,void 0),x1(e,t,u,r)}if(h=(u&e.childLanes)!==0,zi||h){if(r=Kr,r!==null){switch(u&-u){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|u)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ua(e,s),Ws(r,e,s,-1))}return dg(),r=s0(Error(et(421))),x1(e,t,u,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=z6.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,rs=Io(s.nextSibling),as=t,$n=!0,qs=null,e!==null&&(As[Cs++]=Pa,As[Cs++]=Oa,As[Cs++]=kl,Pa=e.id,Oa=e.overflow,kl=t),t=og(t,r.children),t.flags|=4096,t)}function p5(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),f2(e.return,t,n)}function a0(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Pw(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Ii(e,t,r.children,n),r=ir.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&p5(e,n,t);else if(e.tag===19)p5(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Mn(ir,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&bh(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),a0(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&bh(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}a0(t,!0,n,null,a);break;case"together":a0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function V1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function za(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(et(153));if(t.child!==null){for(e=t.child,n=Po(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Po(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function T6(e,t,n){switch(t.tag){case 3:kw(t),Mu();break;case 5:iw(t);break;case 1:Vi(t.type)&&gh(t);break;case 4:$p(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Mn(yh,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Mn(ir,ir.current&1),t.flags|=128,null):n&t.child.childLanes?Lw(e,t,n):(Mn(ir,ir.current&1),e=za(e,t,n),e!==null?e.sibling:null);Mn(ir,ir.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Pw(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Mn(ir,ir.current),r)break;return null;case 22:case 23:return t.lanes=0,Iw(e,t,n)}return za(e,t,n)}var Ow,w2,Rw,Dw;Ow=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};w2=function(){};Rw=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,bl(ca.current);var a=null;switch(n){case"input":s=z0(e,s),r=z0(e,r),a=[];break;case"select":s=ar({},s,{value:void 0}),r=ar({},r,{value:void 0}),a=[];break;case"textarea":s=W0(e,s),r=W0(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=dh)}G0(n,r);var u;n=null;for(m in s)if(!r.hasOwnProperty(m)&&s.hasOwnProperty(m)&&s[m]!=null)if(m==="style"){var h=s[m];for(u in h)h.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Qc.hasOwnProperty(m)?a||(a=[]):(a=a||[]).push(m,null));for(m in r){var p=r[m];if(h=s!=null?s[m]:void 0,r.hasOwnProperty(m)&&p!==h&&(p!=null||h!=null))if(m==="style")if(h){for(u in h)!h.hasOwnProperty(u)||p&&p.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in p)p.hasOwnProperty(u)&&h[u]!==p[u]&&(n||(n={}),n[u]=p[u])}else n||(a||(a=[]),a.push(m,n)),n=p;else m==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,h=h?h.__html:void 0,p!=null&&h!==p&&(a=a||[]).push(m,p)):m==="children"?typeof p!="string"&&typeof p!="number"||(a=a||[]).push(m,""+p):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Qc.hasOwnProperty(m)?(p!=null&&m==="onScroll"&&qn("scroll",e),a||h===p||(a=[])):(a=a||[]).push(m,p))}n&&(a=a||[]).push("style",n);var m=a;(t.updateQueue=m)&&(t.flags|=4)}};Dw=function(e,t,n,r){n!==r&&(t.flags|=4)};function xc(e,t){if(!$n)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function k6(e,t,n){var r=t.pendingProps;switch(Gp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hi(t),null;case 1:return Vi(t.type)&&ph(),hi(t),null;case 3:return r=t.stateNode,Fu(),Gn(qi),Gn(bi),tg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(g1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qs!==null&&(_2(qs),qs=null))),w2(e,t),hi(t),null;case 5:eg(t);var s=bl(cf.current);if(n=t.type,e!==null&&t.stateNode!=null)Rw(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(et(166));return hi(t),null}if(e=bl(ca.current),g1(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[oa]=t,r[lf]=a,e=(t.mode&1)!==0,n){case"dialog":qn("cancel",r),qn("close",r);break;case"iframe":case"object":case"embed":qn("load",r);break;case"video":case"audio":for(s=0;s<Tc.length;s++)qn(Tc[s],r);break;case"source":qn("error",r);break;case"img":case"image":case"link":qn("error",r),qn("load",r);break;case"details":qn("toggle",r);break;case"input":Cm(r,a),qn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},qn("invalid",r);break;case"textarea":Nm(r,a),qn("invalid",r)}G0(n,a),s=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&p1(r.textContent,h,e),s=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&p1(r.textContent,h,e),s=["children",""+h]):Qc.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&qn("scroll",r)}switch(n){case"input":a1(r),Em(r,a,!0);break;case"textarea":a1(r),Sm(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=dh)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[oa]=t,e[lf]=r,Ow(e,t,!1,!1),t.stateNode=e;e:{switch(u=X0(n,r),n){case"dialog":qn("cancel",e),qn("close",e),s=r;break;case"iframe":case"object":case"embed":qn("load",e),s=r;break;case"video":case"audio":for(s=0;s<Tc.length;s++)qn(Tc[s],e);s=r;break;case"source":qn("error",e),s=r;break;case"img":case"image":case"link":qn("error",e),qn("load",e),s=r;break;case"details":qn("toggle",e),s=r;break;case"input":Cm(e,r),s=z0(e,r),qn("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ar({},r,{value:void 0}),qn("invalid",e);break;case"textarea":Nm(e,r),s=W0(e,r),qn("invalid",e);break;default:s=r}G0(n,s),h=s;for(a in h)if(h.hasOwnProperty(a)){var p=h[a];a==="style"?hy(e,p):a==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&cy(e,p)):a==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&Jc(e,p):typeof p=="number"&&Jc(e,""+p):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Qc.hasOwnProperty(a)?p!=null&&a==="onScroll"&&qn("scroll",e):p!=null&&Lp(e,a,p,u))}switch(n){case"input":a1(e),Em(e,r,!1);break;case"textarea":a1(e),Sm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ro(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?wu(e,!!r.multiple,a,!1):r.defaultValue!=null&&wu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=dh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return hi(t),null;case 6:if(e&&t.stateNode!=null)Dw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(et(166));if(n=bl(cf.current),bl(ca.current),g1(t)){if(r=t.stateNode,n=t.memoizedProps,r[oa]=t,(a=r.nodeValue!==n)&&(e=as,e!==null))switch(e.tag){case 3:p1(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&p1(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[oa]=t,t.stateNode=r}return hi(t),null;case 13:if(Gn(ir),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($n&&rs!==null&&t.mode&1&&!(t.flags&128))$y(),Mu(),t.flags|=98560,a=!1;else if(a=g1(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(et(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(et(317));a[oa]=t}else Mu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;hi(t),a=!1}else qs!==null&&(_2(qs),qs=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ir.current&1?Br===0&&(Br=3):dg())),t.updateQueue!==null&&(t.flags|=4),hi(t),null);case 4:return Fu(),w2(e,t),e===null&&af(t.stateNode.containerInfo),hi(t),null;case 10:return Zp(t.type._context),hi(t),null;case 17:return Vi(t.type)&&ph(),hi(t),null;case 19:if(Gn(ir),a=t.memoizedState,a===null)return hi(t),null;if(r=(t.flags&128)!==0,u=a.rendering,u===null)if(r)xc(a,!1);else{if(Br!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=bh(e),u!==null){for(t.flags|=128,xc(a,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Mn(ir,ir.current&1|2),t.child}e=e.sibling}a.tail!==null&&br()>Uu&&(t.flags|=128,r=!0,xc(a,!1),t.lanes=4194304)}else{if(!r)if(e=bh(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!$n)return hi(t),null}else 2*br()-a.renderingStartTime>Uu&&n!==1073741824&&(t.flags|=128,r=!0,xc(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(n=a.last,n!==null?n.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=br(),t.sibling=null,n=ir.current,Mn(ir,r?n&1|2:n&1),t):(hi(t),null);case 22:case 23:return hg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ns&1073741824&&(hi(t),t.subtreeFlags&6&&(t.flags|=8192)):hi(t),null;case 24:return null;case 25:return null}throw Error(et(156,t.tag))}function L6(e,t){switch(Gp(t),t.tag){case 1:return Vi(t.type)&&ph(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fu(),Gn(qi),Gn(bi),tg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return eg(t),null;case 13:if(Gn(ir),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(et(340));Mu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gn(ir),null;case 4:return Fu(),null;case 10:return Zp(t.type._context),null;case 22:case 23:return hg(),null;case 24:return null;default:return null}}var y1=!1,xi=!1,P6=typeof WeakSet=="function"?WeakSet:Set,pt=null;function gu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dr(e,t,r)}else n.current=null}function v2(e,t,n){try{n()}catch(r){dr(e,t,r)}}var g5=!1;function O6(e,t){if(r2=ch,e=Uy(),Wp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,h=-1,p=-1,m=0,w=0,v=e,E=null;t:for(;;){for(var A;v!==n||s!==0&&v.nodeType!==3||(h=u+s),v!==a||r!==0&&v.nodeType!==3||(p=u+r),v.nodeType===3&&(u+=v.nodeValue.length),(A=v.firstChild)!==null;)E=v,v=A;for(;;){if(v===e)break t;if(E===n&&++m===s&&(h=u),E===a&&++w===r&&(p=u),(A=v.nextSibling)!==null)break;v=E,E=v.parentNode}v=A}n=h===-1||p===-1?null:{start:h,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(i2={focusedElem:e,selectionRange:n},ch=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){t=pt;try{var R=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var k=R.memoizedProps,M=R.memoizedState,S=t.stateNode,I=S.getSnapshotBeforeUpdate(t.elementType===t.type?k:js(t.type,k),M);S.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(et(163))}}catch(q){dr(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}return R=g5,g5=!1,R}function Fc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&v2(t,n,a)}s=s.next}while(s!==r)}}function nd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function b2(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Mw(e){var t=e.alternate;t!==null&&(e.alternate=null,Mw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[oa],delete t[lf],delete t[o2],delete t[g6],delete t[m6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bw(e){return e.tag===5||e.tag===3||e.tag===4}function m5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function A2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dh));else if(r!==4&&(e=e.child,e!==null))for(A2(e,t,n),e=e.sibling;e!==null;)A2(e,t,n),e=e.sibling}function C2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(C2(e,t,n),e=e.sibling;e!==null;)C2(e,t,n),e=e.sibling}var ni=null,zs=!1;function lo(e,t,n){for(n=n.child;n!==null;)Fw(e,t,n),n=n.sibling}function Fw(e,t,n){if(ua&&typeof ua.onCommitFiberUnmount=="function")try{ua.onCommitFiberUnmount(Yh,n)}catch{}switch(n.tag){case 5:xi||gu(n,t);case 6:var r=ni,s=zs;ni=null,lo(e,t,n),ni=r,zs=s,ni!==null&&(zs?(e=ni,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ni.removeChild(n.stateNode));break;case 18:ni!==null&&(zs?(e=ni,n=n.stateNode,e.nodeType===8?$d(e.parentNode,n):e.nodeType===1&&$d(e,n),nf(e)):$d(ni,n.stateNode));break;case 4:r=ni,s=zs,ni=n.stateNode.containerInfo,zs=!0,lo(e,t,n),ni=r,zs=s;break;case 0:case 11:case 14:case 15:if(!xi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&v2(n,t,u),s=s.next}while(s!==r)}lo(e,t,n);break;case 1:if(!xi&&(gu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){dr(n,t,h)}lo(e,t,n);break;case 21:lo(e,t,n);break;case 22:n.mode&1?(xi=(r=xi)||n.memoizedState!==null,lo(e,t,n),xi=r):lo(e,t,n);break;default:lo(e,t,n)}}function x5(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new P6),t.forEach(function(r){var s=q6.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ms(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,u=t,h=u;e:for(;h!==null;){switch(h.tag){case 5:ni=h.stateNode,zs=!1;break e;case 3:ni=h.stateNode.containerInfo,zs=!0;break e;case 4:ni=h.stateNode.containerInfo,zs=!0;break e}h=h.return}if(ni===null)throw Error(et(160));Fw(a,u,s),ni=null,zs=!1;var p=s.alternate;p!==null&&(p.return=null),s.return=null}catch(m){dr(s,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jw(t,e),t=t.sibling}function jw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ms(t,e),ra(e),r&4){try{Fc(3,e,e.return),nd(3,e)}catch(k){dr(e,e.return,k)}try{Fc(5,e,e.return)}catch(k){dr(e,e.return,k)}}break;case 1:Ms(t,e),ra(e),r&512&&n!==null&&gu(n,n.return);break;case 5:if(Ms(t,e),ra(e),r&512&&n!==null&&gu(n,n.return),e.flags&32){var s=e.stateNode;try{Jc(s,"")}catch(k){dr(e,e.return,k)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,u=n!==null?n.memoizedProps:a,h=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&oy(s,a),X0(h,u);var m=X0(h,a);for(u=0;u<p.length;u+=2){var w=p[u],v=p[u+1];w==="style"?hy(s,v):w==="dangerouslySetInnerHTML"?cy(s,v):w==="children"?Jc(s,v):Lp(s,w,v,m)}switch(h){case"input":q0(s,a);break;case"textarea":ly(s,a);break;case"select":var E=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var A=a.value;A!=null?wu(s,!!a.multiple,A,!1):E!==!!a.multiple&&(a.defaultValue!=null?wu(s,!!a.multiple,a.defaultValue,!0):wu(s,!!a.multiple,a.multiple?[]:"",!1))}s[lf]=a}catch(k){dr(e,e.return,k)}}break;case 6:if(Ms(t,e),ra(e),r&4){if(e.stateNode===null)throw Error(et(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(k){dr(e,e.return,k)}}break;case 3:if(Ms(t,e),ra(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nf(t.containerInfo)}catch(k){dr(e,e.return,k)}break;case 4:Ms(t,e),ra(e);break;case 13:Ms(t,e),ra(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(cg=br())),r&4&&x5(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(xi=(m=xi)||w,Ms(t,e),xi=m):Ms(t,e),ra(e),r&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!w&&e.mode&1)for(pt=e,w=e.child;w!==null;){for(v=pt=w;pt!==null;){switch(E=pt,A=E.child,E.tag){case 0:case 11:case 14:case 15:Fc(4,E,E.return);break;case 1:gu(E,E.return);var R=E.stateNode;if(typeof R.componentWillUnmount=="function"){r=E,n=E.return;try{t=r,R.props=t.memoizedProps,R.state=t.memoizedState,R.componentWillUnmount()}catch(k){dr(r,n,k)}}break;case 5:gu(E,E.return);break;case 22:if(E.memoizedState!==null){w5(v);continue}}A!==null?(A.return=E,pt=A):w5(v)}w=w.sibling}e:for(w=null,v=e;;){if(v.tag===5){if(w===null){w=v;try{s=v.stateNode,m?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=v.stateNode,p=v.memoizedProps.style,u=p!=null&&p.hasOwnProperty("display")?p.display:null,h.style.display=fy("display",u))}catch(k){dr(e,e.return,k)}}}else if(v.tag===6){if(w===null)try{v.stateNode.nodeValue=m?"":v.memoizedProps}catch(k){dr(e,e.return,k)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;w===v&&(w=null),v=v.return}w===v&&(w=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Ms(t,e),ra(e),r&4&&x5(e);break;case 21:break;default:Ms(t,e),ra(e)}}function ra(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Bw(n)){var r=n;break e}n=n.return}throw Error(et(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Jc(s,""),r.flags&=-33);var a=m5(e);C2(e,a,s);break;case 3:case 4:var u=r.stateNode.containerInfo,h=m5(e);A2(e,h,u);break;default:throw Error(et(161))}}catch(p){dr(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function R6(e,t,n){pt=e,Uw(e)}function Uw(e,t,n){for(var r=(e.mode&1)!==0;pt!==null;){var s=pt,a=s.child;if(s.tag===22&&r){var u=s.memoizedState!==null||y1;if(!u){var h=s.alternate,p=h!==null&&h.memoizedState!==null||xi;h=y1;var m=xi;if(y1=u,(xi=p)&&!m)for(pt=s;pt!==null;)u=pt,p=u.child,u.tag===22&&u.memoizedState!==null?v5(s):p!==null?(p.return=u,pt=p):v5(s);for(;a!==null;)pt=a,Uw(a),a=a.sibling;pt=s,y1=h,xi=m}y5(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,pt=a):y5(e)}}function y5(e){for(;pt!==null;){var t=pt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xi||nd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xi)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:js(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&n5(t,a,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}n5(t,u,n)}break;case 5:var h=t.stateNode;if(n===null&&t.flags&4){n=h;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var w=m.memoizedState;if(w!==null){var v=w.dehydrated;v!==null&&nf(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(et(163))}xi||t.flags&512&&b2(t)}catch(E){dr(t,t.return,E)}}if(t===e){pt=null;break}if(n=t.sibling,n!==null){n.return=t.return,pt=n;break}pt=t.return}}function w5(e){for(;pt!==null;){var t=pt;if(t===e){pt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pt=n;break}pt=t.return}}function v5(e){for(;pt!==null;){var t=pt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nd(4,t)}catch(p){dr(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(p){dr(t,s,p)}}var a=t.return;try{b2(t)}catch(p){dr(t,a,p)}break;case 5:var u=t.return;try{b2(t)}catch(p){dr(t,u,p)}}}catch(p){dr(t,t.return,p)}if(t===e){pt=null;break}var h=t.sibling;if(h!==null){h.return=t.return,pt=h;break}pt=t.return}}var D6=Math.ceil,Eh=Va.ReactCurrentDispatcher,lg=Va.ReactCurrentOwner,Ns=Va.ReactCurrentBatchConfig,pn=0,Kr=null,Tr=null,ri=0,ns=0,mu=Wo(0),Br=0,pf=null,Pl=0,rd=0,ug=0,jc=null,Ui=null,cg=0,Uu=1/0,Ia=null,Nh=!1,E2=null,ko=null,w1=!1,bo=null,Sh=0,Uc=0,N2=null,W1=-1,H1=0;function ki(){return pn&6?br():W1!==-1?W1:W1=br()}function Lo(e){return e.mode&1?pn&2&&ri!==0?ri&-ri:y6.transition!==null?(H1===0&&(H1=Ey()),H1):(e=En,e!==0||(e=window.event,e=e===void 0?16:Ly(e.type)),e):1}function Ws(e,t,n,r){if(50<Uc)throw Uc=0,N2=null,Error(et(185));_f(e,n,r),(!(pn&2)||e!==Kr)&&(e===Kr&&(!(pn&2)&&(rd|=n),Br===4&&yo(e,ri)),Wi(e,r),n===1&&pn===0&&!(t.mode&1)&&(Uu=br()+500,$h&&Ho()))}function Wi(e,t){var n=e.callbackNode;yb(e,t);var r=uh(e,e===Kr?ri:0);if(r===0)n!==null&&Tm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Tm(n),t===1)e.tag===0?x6(b5.bind(null,e)):Zy(b5.bind(null,e)),d6(function(){!(pn&6)&&Ho()}),n=null;else{switch(Ny(r)){case 1:n=Mp;break;case 4:n=Ay;break;case 16:n=lh;break;case 536870912:n=Cy;break;default:n=lh}n=Yw(n,zw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zw(e,t){if(W1=-1,H1=0,pn&6)throw Error(et(327));var n=e.callbackNode;if(Eu()&&e.callbackNode!==n)return null;var r=uh(e,e===Kr?ri:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_h(e,r);else{t=r;var s=pn;pn|=2;var a=Vw();(Kr!==e||ri!==t)&&(Ia=null,Uu=br()+500,Cl(e,t));do try{F6();break}catch(h){qw(e,h)}while(!0);Kp(),Eh.current=a,pn=s,Tr!==null?t=0:(Kr=null,ri=0,t=Br)}if(t!==0){if(t===2&&(s=J0(e),s!==0&&(r=s,t=S2(e,s))),t===1)throw n=pf,Cl(e,0),yo(e,r),Wi(e,br()),n;if(t===6)yo(e,r);else{if(s=e.current.alternate,!(r&30)&&!M6(s)&&(t=_h(e,r),t===2&&(a=J0(e),a!==0&&(r=a,t=S2(e,a))),t===1))throw n=pf,Cl(e,0),yo(e,r),Wi(e,br()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(et(345));case 2:pl(e,Ui,Ia);break;case 3:if(yo(e,r),(r&130023424)===r&&(t=cg+500-br(),10<t)){if(uh(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ki(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=a2(pl.bind(null,e,Ui,Ia),t);break}pl(e,Ui,Ia);break;case 4:if(yo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var u=31-Vs(r);a=1<<u,u=t[u],u>s&&(s=u),r&=~a}if(r=s,r=br()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*D6(r/1960))-r,10<r){e.timeoutHandle=a2(pl.bind(null,e,Ui,Ia),r);break}pl(e,Ui,Ia);break;case 5:pl(e,Ui,Ia);break;default:throw Error(et(329))}}}return Wi(e,br()),e.callbackNode===n?zw.bind(null,e):null}function S2(e,t){var n=jc;return e.current.memoizedState.isDehydrated&&(Cl(e,t).flags|=256),e=_h(e,t),e!==2&&(t=Ui,Ui=n,t!==null&&_2(t)),e}function _2(e){Ui===null?Ui=e:Ui.push.apply(Ui,e)}function M6(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Gs(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yo(e,t){for(t&=~ug,t&=~rd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vs(t),r=1<<n;e[n]=-1,t&=~r}}function b5(e){if(pn&6)throw Error(et(327));Eu();var t=uh(e,0);if(!(t&1))return Wi(e,br()),null;var n=_h(e,t);if(e.tag!==0&&n===2){var r=J0(e);r!==0&&(t=r,n=S2(e,r))}if(n===1)throw n=pf,Cl(e,0),yo(e,t),Wi(e,br()),n;if(n===6)throw Error(et(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pl(e,Ui,Ia),Wi(e,br()),null}function fg(e,t){var n=pn;pn|=1;try{return e(t)}finally{pn=n,pn===0&&(Uu=br()+500,$h&&Ho())}}function Ol(e){bo!==null&&bo.tag===0&&!(pn&6)&&Eu();var t=pn;pn|=1;var n=Ns.transition,r=En;try{if(Ns.transition=null,En=1,e)return e()}finally{En=r,Ns.transition=n,pn=t,!(pn&6)&&Ho()}}function hg(){ns=mu.current,Gn(mu)}function Cl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,h6(n)),Tr!==null)for(n=Tr.return;n!==null;){var r=n;switch(Gp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ph();break;case 3:Fu(),Gn(qi),Gn(bi),tg();break;case 5:eg(r);break;case 4:Fu();break;case 13:Gn(ir);break;case 19:Gn(ir);break;case 10:Zp(r.type._context);break;case 22:case 23:hg()}n=n.return}if(Kr=e,Tr=e=Po(e.current,null),ri=ns=t,Br=0,pf=null,ug=rd=Pl=0,Ui=jc=null,vl!==null){for(t=0;t<vl.length;t++)if(n=vl[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=s,r.next=u}n.pending=r}vl=null}return e}function qw(e,t){do{var n=Tr;try{if(Kp(),z1.current=Ch,Ah){for(var r=sr.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ah=!1}if(Ll=0,Gr=Mr=sr=null,Bc=!1,ff=0,lg.current=null,n===null||n.return===null){Br=1,pf=t,Tr=null;break}e:{var a=e,u=n.return,h=n,p=t;if(t=ri,h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var m=p,w=h,v=w.tag;if(!(w.mode&1)&&(v===0||v===11||v===15)){var E=w.alternate;E?(w.updateQueue=E.updateQueue,w.memoizedState=E.memoizedState,w.lanes=E.lanes):(w.updateQueue=null,w.memoizedState=null)}var A=l5(u);if(A!==null){A.flags&=-257,u5(A,u,h,a,t),A.mode&1&&o5(a,m,t),t=A,p=m;var R=t.updateQueue;if(R===null){var k=new Set;k.add(p),t.updateQueue=k}else R.add(p);break e}else{if(!(t&1)){o5(a,m,t),dg();break e}p=Error(et(426))}}else if($n&&h.mode&1){var M=l5(u);if(M!==null){!(M.flags&65536)&&(M.flags|=256),u5(M,u,h,a,t),Xp(ju(p,h));break e}}a=p=ju(p,h),Br!==4&&(Br=2),jc===null?jc=[a]:jc.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var S=Nw(a,p,t);t5(a,S);break e;case 1:h=p;var I=a.type,L=a.stateNode;if(!(a.flags&128)&&(typeof I.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(ko===null||!ko.has(L)))){a.flags|=65536,t&=-t,a.lanes|=t;var q=Sw(a,h,t);t5(a,q);break e}}a=a.return}while(a!==null)}Hw(n)}catch($){t=$,Tr===n&&n!==null&&(Tr=n=n.return);continue}break}while(!0)}function Vw(){var e=Eh.current;return Eh.current=Ch,e===null?Ch:e}function dg(){(Br===0||Br===3||Br===2)&&(Br=4),Kr===null||!(Pl&268435455)&&!(rd&268435455)||yo(Kr,ri)}function _h(e,t){var n=pn;pn|=2;var r=Vw();(Kr!==e||ri!==t)&&(Ia=null,Cl(e,t));do try{B6();break}catch(s){qw(e,s)}while(!0);if(Kp(),pn=n,Eh.current=r,Tr!==null)throw Error(et(261));return Kr=null,ri=0,Br}function B6(){for(;Tr!==null;)Ww(Tr)}function F6(){for(;Tr!==null&&!ub();)Ww(Tr)}function Ww(e){var t=Xw(e.alternate,e,ns);e.memoizedProps=e.pendingProps,t===null?Hw(e):Tr=t,lg.current=null}function Hw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=L6(n,t),n!==null){n.flags&=32767,Tr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Br=6,Tr=null;return}}else if(n=k6(n,t,ns),n!==null){Tr=n;return}if(t=t.sibling,t!==null){Tr=t;return}Tr=t=e}while(t!==null);Br===0&&(Br=5)}function pl(e,t,n){var r=En,s=Ns.transition;try{Ns.transition=null,En=1,j6(e,t,n,r)}finally{Ns.transition=s,En=r}return null}function j6(e,t,n,r){do Eu();while(bo!==null);if(pn&6)throw Error(et(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(et(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(wb(e,a),e===Kr&&(Tr=Kr=null,ri=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||w1||(w1=!0,Yw(lh,function(){return Eu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ns.transition,Ns.transition=null;var u=En;En=1;var h=pn;pn|=4,lg.current=null,O6(e,n),jw(n,e),s6(i2),ch=!!r2,i2=r2=null,e.current=n,R6(n),cb(),pn=h,En=u,Ns.transition=a}else e.current=n;if(w1&&(w1=!1,bo=e,Sh=s),a=e.pendingLanes,a===0&&(ko=null),db(n.stateNode),Wi(e,br()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Nh)throw Nh=!1,e=E2,E2=null,e;return Sh&1&&e.tag!==0&&Eu(),a=e.pendingLanes,a&1?e===N2?Uc++:(Uc=0,N2=e):Uc=0,Ho(),null}function Eu(){if(bo!==null){var e=Ny(Sh),t=Ns.transition,n=En;try{if(Ns.transition=null,En=16>e?16:e,bo===null)var r=!1;else{if(e=bo,bo=null,Sh=0,pn&6)throw Error(et(331));var s=pn;for(pn|=4,pt=e.current;pt!==null;){var a=pt,u=a.child;if(pt.flags&16){var h=a.deletions;if(h!==null){for(var p=0;p<h.length;p++){var m=h[p];for(pt=m;pt!==null;){var w=pt;switch(w.tag){case 0:case 11:case 15:Fc(8,w,a)}var v=w.child;if(v!==null)v.return=w,pt=v;else for(;pt!==null;){w=pt;var E=w.sibling,A=w.return;if(Mw(w),w===m){pt=null;break}if(E!==null){E.return=A,pt=E;break}pt=A}}}var R=a.alternate;if(R!==null){var k=R.child;if(k!==null){R.child=null;do{var M=k.sibling;k.sibling=null,k=M}while(k!==null)}}pt=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,pt=u;else e:for(;pt!==null;){if(a=pt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Fc(9,a,a.return)}var S=a.sibling;if(S!==null){S.return=a.return,pt=S;break e}pt=a.return}}var I=e.current;for(pt=I;pt!==null;){u=pt;var L=u.child;if(u.subtreeFlags&2064&&L!==null)L.return=u,pt=L;else e:for(u=I;pt!==null;){if(h=pt,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:nd(9,h)}}catch($){dr(h,h.return,$)}if(h===u){pt=null;break e}var q=h.sibling;if(q!==null){q.return=h.return,pt=q;break e}pt=h.return}}if(pn=s,Ho(),ua&&typeof ua.onPostCommitFiberRoot=="function")try{ua.onPostCommitFiberRoot(Yh,e)}catch{}r=!0}return r}finally{En=n,Ns.transition=t}}return!1}function A5(e,t,n){t=ju(n,t),t=Nw(e,t,1),e=To(e,t,1),t=ki(),e!==null&&(_f(e,1,t),Wi(e,t))}function dr(e,t,n){if(e.tag===3)A5(e,e,n);else for(;t!==null;){if(t.tag===3){A5(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ko===null||!ko.has(r))){e=ju(n,e),e=Sw(t,e,1),t=To(t,e,1),e=ki(),t!==null&&(_f(t,1,e),Wi(t,e));break}}t=t.return}}function U6(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ki(),e.pingedLanes|=e.suspendedLanes&n,Kr===e&&(ri&n)===n&&(Br===4||Br===3&&(ri&130023424)===ri&&500>br()-cg?Cl(e,0):ug|=n),Wi(e,t)}function Gw(e,t){t===0&&(e.mode&1?(t=u1,u1<<=1,!(u1&130023424)&&(u1=4194304)):t=1);var n=ki();e=Ua(e,t),e!==null&&(_f(e,t,n),Wi(e,n))}function z6(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gw(e,n)}function q6(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(et(314))}r!==null&&r.delete(t),Gw(e,n)}var Xw;Xw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qi.current)zi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return zi=!1,T6(e,t,n);zi=!!(e.flags&131072)}else zi=!1,$n&&t.flags&1048576&&Qy(t,xh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;V1(e,t),e=t.pendingProps;var s=Du(t,bi.current);Cu(t,n),s=rg(null,t,r,e,s,n);var a=ig();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vi(r)?(a=!0,gh(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jp(t),s.updater=td,t.stateNode=s,s._reactInternals=t,d2(t,r,e,n),t=m2(null,t,r,!0,a,n)):(t.tag=0,$n&&a&&Hp(t),Ii(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(V1(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=W6(r),e=js(r,e),s){case 0:t=g2(null,t,r,e,n);break e;case 1:t=h5(null,t,r,e,n);break e;case 11:t=c5(null,t,r,e,n);break e;case 14:t=f5(null,t,r,js(r.type,e),n);break e}throw Error(et(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:js(r,s),g2(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:js(r,s),h5(e,t,r,s,n);case 3:e:{if(kw(t),e===null)throw Error(et(387));r=t.pendingProps,a=t.memoizedState,s=a.element,rw(e,t),vh(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ju(Error(et(423)),t),t=d5(e,t,r,n,s);break e}else if(r!==s){s=ju(Error(et(424)),t),t=d5(e,t,r,n,s);break e}else for(rs=Io(t.stateNode.containerInfo.firstChild),as=t,$n=!0,qs=null,n=tw(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mu(),r===s){t=za(e,t,n);break e}Ii(e,t,r,n)}t=t.child}return t;case 5:return iw(t),e===null&&c2(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,u=s.children,s2(r,s)?u=null:a!==null&&s2(r,a)&&(t.flags|=32),Tw(e,t),Ii(e,t,u,n),t.child;case 6:return e===null&&c2(t),null;case 13:return Lw(e,t,n);case 4:return $p(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Bu(t,null,r,n):Ii(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:js(r,s),c5(e,t,r,s,n);case 7:return Ii(e,t,t.pendingProps,n),t.child;case 8:return Ii(e,t,t.pendingProps.children,n),t.child;case 12:return Ii(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,u=s.value,Mn(yh,r._currentValue),r._currentValue=u,a!==null)if(Gs(a.value,u)){if(a.children===s.children&&!qi.current){t=za(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var p=h.firstContext;p!==null;){if(p.context===r){if(a.tag===1){p=Da(-1,n&-n),p.tag=2;var m=a.updateQueue;if(m!==null){m=m.shared;var w=m.pending;w===null?p.next=p:(p.next=w.next,w.next=p),m.pending=p}}a.lanes|=n,p=a.alternate,p!==null&&(p.lanes|=n),f2(a.return,n,t),h.lanes|=n;break}p=p.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(et(341));u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),f2(u,n,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Ii(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Cu(t,n),s=Ss(s),r=r(s),t.flags|=1,Ii(e,t,r,n),t.child;case 14:return r=t.type,s=js(r,t.pendingProps),s=js(r.type,s),f5(e,t,r,s,n);case 15:return _w(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:js(r,s),V1(e,t),t.tag=1,Vi(r)?(e=!0,gh(t)):e=!1,Cu(t,n),Ew(t,r,s),d2(t,r,s,n),m2(null,t,r,!0,e,n);case 19:return Pw(e,t,n);case 22:return Iw(e,t,n)}throw Error(et(156,t.tag))};function Yw(e,t){return by(e,t)}function V6(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(e,t,n,r){return new V6(e,t,n,r)}function pg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function W6(e){if(typeof e=="function")return pg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Op)return 11;if(e===Rp)return 14}return 2}function Po(e,t){var n=e.alternate;return n===null?(n=Es(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function G1(e,t,n,r,s,a){var u=2;if(r=e,typeof e=="function")pg(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case au:return El(n.children,s,a,t);case Pp:u=8,s|=8;break;case B0:return e=Es(12,n,t,s|2),e.elementType=B0,e.lanes=a,e;case F0:return e=Es(13,n,t,s),e.elementType=F0,e.lanes=a,e;case j0:return e=Es(19,n,t,s),e.elementType=j0,e.lanes=a,e;case iy:return id(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ny:u=10;break e;case ry:u=9;break e;case Op:u=11;break e;case Rp:u=14;break e;case po:u=16,r=null;break e}throw Error(et(130,e==null?e:typeof e,""))}return t=Es(u,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function El(e,t,n,r){return e=Es(7,e,r,t),e.lanes=n,e}function id(e,t,n,r){return e=Es(22,e,r,t),e.elementType=iy,e.lanes=n,e.stateNode={isHidden:!1},e}function o0(e,t,n){return e=Es(6,e,null,t),e.lanes=n,e}function l0(e,t,n){return t=Es(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function H6(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qd(0),this.expirationTimes=qd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gg(e,t,n,r,s,a,u,h,p){return e=new H6(e,t,n,h,p),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Es(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jp(a),e}function G6(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:su,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Kw(e){if(!e)return Do;e=e._reactInternals;e:{if(Bl(e)!==e||e.tag!==1)throw Error(et(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(et(171))}if(e.tag===1){var n=e.type;if(Vi(n))return Ky(e,n,t)}return t}function Zw(e,t,n,r,s,a,u,h,p){return e=gg(n,r,!0,e,s,a,u,h,p),e.context=Kw(null),n=e.current,r=ki(),s=Lo(n),a=Da(r,s),a.callback=t??null,To(n,a,s),e.current.lanes=s,_f(e,s,r),Wi(e,r),e}function sd(e,t,n,r){var s=t.current,a=ki(),u=Lo(s);return n=Kw(n),t.context===null?t.context=n:t.pendingContext=n,t=Da(a,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=To(s,t,u),e!==null&&(Ws(e,s,u,a),U1(e,s,u)),u}function Ih(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function C5(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mg(e,t){C5(e,t),(e=e.alternate)&&C5(e,t)}function X6(){return null}var Qw=typeof reportError=="function"?reportError:function(e){console.error(e)};function xg(e){this._internalRoot=e}ad.prototype.render=xg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(et(409));sd(e,t,null,null)};ad.prototype.unmount=xg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ol(function(){sd(null,e,null,null)}),t[ja]=null}};function ad(e){this._internalRoot=e}ad.prototype.unstable_scheduleHydration=function(e){if(e){var t=Iy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xo.length&&t!==0&&t<xo[n].priority;n++);xo.splice(n,0,e),n===0&&ky(e)}};function yg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function od(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function E5(){}function Y6(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var m=Ih(u);a.call(m)}}var u=Zw(t,r,e,0,null,!1,!1,"",E5);return e._reactRootContainer=u,e[ja]=u.current,af(e.nodeType===8?e.parentNode:e),Ol(),u}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var h=r;r=function(){var m=Ih(p);h.call(m)}}var p=gg(e,0,!1,null,null,!1,!1,"",E5);return e._reactRootContainer=p,e[ja]=p.current,af(e.nodeType===8?e.parentNode:e),Ol(function(){sd(t,p,n,r)}),p}function ld(e,t,n,r,s){var a=n._reactRootContainer;if(a){var u=a;if(typeof s=="function"){var h=s;s=function(){var p=Ih(u);h.call(p)}}sd(t,u,e,s)}else u=Y6(n,t,e,s,r);return Ih(u)}Sy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ic(t.pendingLanes);n!==0&&(Bp(t,n|1),Wi(t,br()),!(pn&6)&&(Uu=br()+500,Ho()))}break;case 13:Ol(function(){var r=Ua(e,1);if(r!==null){var s=ki();Ws(r,e,1,s)}}),mg(e,1)}};Fp=function(e){if(e.tag===13){var t=Ua(e,134217728);if(t!==null){var n=ki();Ws(t,e,134217728,n)}mg(e,134217728)}};_y=function(e){if(e.tag===13){var t=Lo(e),n=Ua(e,t);if(n!==null){var r=ki();Ws(n,e,t,r)}mg(e,t)}};Iy=function(){return En};Ty=function(e,t){var n=En;try{return En=e,t()}finally{En=n}};K0=function(e,t,n){switch(t){case"input":if(q0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Jh(r);if(!s)throw Error(et(90));ay(r),q0(r,s)}}}break;case"textarea":ly(e,n);break;case"select":t=n.value,t!=null&&wu(e,!!n.multiple,t,!1)}};gy=fg;my=Ol;var K6={usingClientEntryPoint:!1,Events:[Tf,cu,Jh,dy,py,fg]},yc={findFiberByHostInstance:wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z6={bundleType:yc.bundleType,version:yc.version,rendererPackageName:yc.rendererPackageName,rendererConfig:yc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Va.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wy(e),e===null?null:e.stateNode},findFiberByHostInstance:yc.findFiberByHostInstance||X6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var v1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!v1.isDisabled&&v1.supportsFiber)try{Yh=v1.inject(Z6),ua=v1}catch{}}us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K6;us.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yg(t))throw Error(et(200));return G6(e,t,null,n)};us.createRoot=function(e,t){if(!yg(e))throw Error(et(299));var n=!1,r="",s=Qw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=gg(e,1,!1,null,null,n,!1,r,s),e[ja]=t.current,af(e.nodeType===8?e.parentNode:e),new xg(t)};us.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(et(188)):(e=Object.keys(e).join(","),Error(et(268,e)));return e=wy(t),e=e===null?null:e.stateNode,e};us.flushSync=function(e){return Ol(e)};us.hydrate=function(e,t,n){if(!od(t))throw Error(et(200));return ld(null,e,t,!0,n)};us.hydrateRoot=function(e,t,n){if(!yg(e))throw Error(et(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",u=Qw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=Zw(t,null,e,1,n??null,s,!1,a,u),e[ja]=t.current,af(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ad(t)};us.render=function(e,t,n){if(!od(t))throw Error(et(200));return ld(null,e,t,!1,n)};us.unmountComponentAtNode=function(e){if(!od(e))throw Error(et(40));return e._reactRootContainer?(Ol(function(){ld(null,null,e,!1,function(){e._reactRootContainer=null,e[ja]=null})}),!0):!1};us.unstable_batchedUpdates=fg;us.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!od(n))throw Error(et(200));if(e==null||e._reactInternals===void 0)throw Error(et(38));return ld(e,t,n,!1,r)};us.version="18.3.1-next-f1338f8080-20240426";function Jw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jw)}catch(e){console.error(e)}}Jw(),Jx.exports=us;var Q6=Jx.exports,N5=Q6;D0.createRoot=N5.createRoot,D0.hydrateRoot=N5.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gf.apply(this,arguments)}var Ao;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ao||(Ao={}));const S5="popstate";function J6(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:u,hash:h}=r.location;return I2("",{pathname:a,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Th(s)}return e8(t,n,null,e)}function Nr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $w(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $6(){return Math.random().toString(36).substr(2,8)}function _5(e,t){return{usr:e.state,key:e.key,idx:t}}function I2(e,t,n,r){return n===void 0&&(n=null),gf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zu(t):t,{state:n,key:t&&t.key||r||$6()})}function Th(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Zu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function e8(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,h=Ao.Pop,p=null,m=w();m==null&&(m=0,u.replaceState(gf({},u.state,{idx:m}),""));function w(){return(u.state||{idx:null}).idx}function v(){h=Ao.Pop;let M=w(),S=M==null?null:M-m;m=M,p&&p({action:h,location:k.location,delta:S})}function E(M,S){h=Ao.Push;let I=I2(k.location,M,S);m=w()+1;let L=_5(I,m),q=k.createHref(I);try{u.pushState(L,"",q)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;s.location.assign(q)}a&&p&&p({action:h,location:k.location,delta:1})}function A(M,S){h=Ao.Replace;let I=I2(k.location,M,S);m=w();let L=_5(I,m),q=k.createHref(I);u.replaceState(L,"",q),a&&p&&p({action:h,location:k.location,delta:0})}function R(M){let S=s.location.origin!=="null"?s.location.origin:s.location.href,I=typeof M=="string"?M:Th(M);return I=I.replace(/ $/,"%20"),Nr(S,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,S)}let k={get action(){return h},get location(){return e(s,u)},listen(M){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(S5,v),p=M,()=>{s.removeEventListener(S5,v),p=null}},createHref(M){return t(s,M)},createURL:R,encodeLocation(M){let S=R(M);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:E,replace:A,go(M){return u.go(M)}};return k}var I5;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(I5||(I5={}));function t8(e,t,n){return n===void 0&&(n="/"),n8(e,t,n)}function n8(e,t,n,r){let s=typeof t=="string"?Zu(t):t,a=wg(s.pathname||"/",n);if(a==null)return null;let u=e3(e);r8(u);let h=null;for(let p=0;h==null&&p<u.length;++p){let m=g8(a);h=h8(u[p],m)}return h}function e3(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,u,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};p.relativePath.startsWith("/")&&(Nr(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let m=Oo([r,p.relativePath]),w=n.concat(p);a.children&&a.children.length>0&&(Nr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),e3(a.children,t,w,m)),!(a.path==null&&!a.index)&&t.push({path:m,score:c8(m,a.index),routesMeta:w})};return e.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,u);else for(let p of t3(a.path))s(a,u,p)}),t}function t3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=t3(r.join("/")),h=[];return h.push(...u.map(p=>p===""?a:[a,p].join("/"))),s&&h.push(...u),h.map(p=>e.startsWith("/")&&p===""?"/":p)}function r8(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:f8(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const i8=/^:[\w-]+$/,s8=3,a8=2,o8=1,l8=10,u8=-2,T5=e=>e==="*";function c8(e,t){let n=e.split("/"),r=n.length;return n.some(T5)&&(r+=u8),t&&(r+=a8),n.filter(s=>!T5(s)).reduce((s,a)=>s+(i8.test(a)?s8:a===""?o8:l8),r)}function f8(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function h8(e,t,n){let{routesMeta:r}=e,s={},a="/",u=[];for(let h=0;h<r.length;++h){let p=r[h],m=h===r.length-1,w=a==="/"?t:t.slice(a.length)||"/",v=d8({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},w),E=p.route;if(!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:Oo([a,v.pathname]),pathnameBase:w8(Oo([a,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(a=Oo([a,v.pathnameBase]))}return u}function d8(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=p8(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((m,w,v)=>{let{paramName:E,isOptional:A}=w;if(E==="*"){let k=h[v]||"";u=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const R=h[v];return A&&!R?m[E]=void 0:m[E]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:e}}function p8(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),$w(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function g8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $w(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function m8(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Zu(e):e;return{pathname:n?n.startsWith("/")?n:x8(n,t):t,search:v8(r),hash:b8(s)}}function x8(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function u0(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function y8(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vg(e,t){let n=y8(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bg(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Zu(e):(s=gf({},e),Nr(!s.pathname||!s.pathname.includes("?"),u0("?","pathname","search",s)),Nr(!s.pathname||!s.pathname.includes("#"),u0("#","pathname","hash",s)),Nr(!s.search||!s.search.includes("#"),u0("#","search","hash",s)));let a=e===""||s.pathname==="",u=a?"/":s.pathname,h;if(u==null)h=n;else{let v=t.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),v-=1;s.pathname=E.join("/")}h=v>=0?t[v]:"/"}let p=m8(s,h),m=u&&u!=="/"&&u.endsWith("/"),w=(a||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||w)&&(p.pathname+="/"),p}const Oo=e=>e.join("/").replace(/\/\/+/g,"/"),w8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),v8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,b8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function A8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const n3=["post","put","patch","delete"];new Set(n3);const C8=["get",...n3];new Set(C8);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mf.apply(this,arguments)}const Ag=ze.createContext(null),E8=ze.createContext(null),Go=ze.createContext(null),ud=ze.createContext(null),Wa=ze.createContext({outlet:null,matches:[],isDataRoute:!1}),r3=ze.createContext(null);function N8(e,t){let{relative:n}=t===void 0?{}:t;Qu()||Nr(!1);let{basename:r,navigator:s}=ze.useContext(Go),{hash:a,pathname:u,search:h}=s3(e,{relative:n}),p=u;return r!=="/"&&(p=u==="/"?r:Oo([r,u])),s.createHref({pathname:p,search:h,hash:a})}function Qu(){return ze.useContext(ud)!=null}function Lf(){return Qu()||Nr(!1),ze.useContext(ud).location}function i3(e){ze.useContext(Go).static||ze.useLayoutEffect(e)}function Xs(){let{isDataRoute:e}=ze.useContext(Wa);return e?F8():S8()}function S8(){Qu()||Nr(!1);let e=ze.useContext(Ag),{basename:t,future:n,navigator:r}=ze.useContext(Go),{matches:s}=ze.useContext(Wa),{pathname:a}=Lf(),u=JSON.stringify(vg(s,n.v7_relativeSplatPath)),h=ze.useRef(!1);return i3(()=>{h.current=!0}),ze.useCallback(function(m,w){if(w===void 0&&(w={}),!h.current)return;if(typeof m=="number"){r.go(m);return}let v=bg(m,JSON.parse(u),a,w.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Oo([t,v.pathname])),(w.replace?r.replace:r.push)(v,w.state,w)},[t,r,u,a,e])}function Pf(){let{matches:e}=ze.useContext(Wa),t=e[e.length-1];return t?t.params:{}}function s3(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=ze.useContext(Go),{matches:s}=ze.useContext(Wa),{pathname:a}=Lf(),u=JSON.stringify(vg(s,r.v7_relativeSplatPath));return ze.useMemo(()=>bg(e,JSON.parse(u),a,n==="path"),[e,u,a,n])}function _8(e,t){return I8(e,t)}function I8(e,t,n,r){Qu()||Nr(!1);let{navigator:s}=ze.useContext(Go),{matches:a}=ze.useContext(Wa),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let m=Lf(),w;if(t){var v;let M=typeof t=="string"?Zu(t):t;p==="/"||(v=M.pathname)!=null&&v.startsWith(p)||Nr(!1),w=M}else w=m;let E=w.pathname||"/",A=E;if(p!=="/"){let M=p.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(M.length).join("/")}let R=t8(e,{pathname:A}),k=O8(R&&R.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:Oo([p,s.encodeLocation?s.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:Oo([p,s.encodeLocation?s.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),a,n,r);return t&&k?ze.createElement(ud.Provider,{value:{location:mf({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Ao.Pop}},k):k}function T8(){let e=B8(),t=A8(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ze.createElement(ze.Fragment,null,ze.createElement("h2",null,"Unexpected Application Error!"),ze.createElement("h3",{style:{fontStyle:"italic"}},t),n?ze.createElement("pre",{style:s},n):null,null)}const k8=ze.createElement(T8,null);class L8 extends ze.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?ze.createElement(Wa.Provider,{value:this.props.routeContext},ze.createElement(r3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function P8(e){let{routeContext:t,match:n,children:r}=e,s=ze.useContext(Ag);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),ze.createElement(Wa.Provider,{value:t},r)}function O8(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,h=(s=n)==null?void 0:s.errors;if(h!=null){let w=u.findIndex(v=>v.route.id&&(h==null?void 0:h[v.route.id])!==void 0);w>=0||Nr(!1),u=u.slice(0,Math.min(u.length,w+1))}let p=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let w=0;w<u.length;w++){let v=u[w];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=w),v.route.id){let{loaderData:E,errors:A}=n,R=v.route.loader&&E[v.route.id]===void 0&&(!A||A[v.route.id]===void 0);if(v.route.lazy||R){p=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((w,v,E)=>{let A,R=!1,k=null,M=null;n&&(A=h&&v.route.id?h[v.route.id]:void 0,k=v.route.errorElement||k8,p&&(m<0&&E===0?(j8("route-fallback"),R=!0,M=null):m===E&&(R=!0,M=v.route.hydrateFallbackElement||null)));let S=t.concat(u.slice(0,E+1)),I=()=>{let L;return A?L=k:R?L=M:v.route.Component?L=ze.createElement(v.route.Component,null):v.route.element?L=v.route.element:L=w,ze.createElement(P8,{match:v,routeContext:{outlet:w,matches:S,isDataRoute:n!=null},children:L})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?ze.createElement(L8,{location:n.location,revalidation:n.revalidation,component:k,error:A,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):I()},null)}var a3=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(a3||{}),o3=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(o3||{});function R8(e){let t=ze.useContext(Ag);return t||Nr(!1),t}function D8(e){let t=ze.useContext(E8);return t||Nr(!1),t}function M8(e){let t=ze.useContext(Wa);return t||Nr(!1),t}function l3(e){let t=M8(),n=t.matches[t.matches.length-1];return n.route.id||Nr(!1),n.route.id}function B8(){var e;let t=ze.useContext(r3),n=D8(),r=l3();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function F8(){let{router:e}=R8(a3.UseNavigateStable),t=l3(o3.UseNavigateStable),n=ze.useRef(!1);return i3(()=>{n.current=!0}),ze.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,mf({fromRouteId:t},a)))},[e,t])}const k5={};function j8(e,t,n){k5[e]||(k5[e]=!0)}function U8(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function L5(e){let{to:t,replace:n,state:r,relative:s}=e;Qu()||Nr(!1);let{future:a,static:u}=ze.useContext(Go),{matches:h}=ze.useContext(Wa),{pathname:p}=Lf(),m=Xs(),w=bg(t,vg(h,a.v7_relativeSplatPath),p,s==="path"),v=JSON.stringify(w);return ze.useEffect(()=>m(JSON.parse(v),{replace:n,state:r,relative:s}),[m,v,s,n,r]),null}function $i(e){Nr(!1)}function z8(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ao.Pop,navigator:a,static:u=!1,future:h}=e;Qu()&&Nr(!1);let p=t.replace(/^\/*/,"/"),m=ze.useMemo(()=>({basename:p,navigator:a,static:u,future:mf({v7_relativeSplatPath:!1},h)}),[p,h,a,u]);typeof r=="string"&&(r=Zu(r));let{pathname:w="/",search:v="",hash:E="",state:A=null,key:R="default"}=r,k=ze.useMemo(()=>{let M=wg(w,p);return M==null?null:{location:{pathname:M,search:v,hash:E,state:A,key:R},navigationType:s}},[p,w,v,E,A,R,s]);return k==null?null:ze.createElement(Go.Provider,{value:m},ze.createElement(ud.Provider,{children:n,value:k}))}function q8(e){let{children:t,location:n}=e;return _8(T2(t),n)}new Promise(()=>{});function T2(e,t){t===void 0&&(t=[]);let n=[];return ze.Children.forEach(e,(r,s)=>{if(!ze.isValidElement(r))return;let a=[...t,s];if(r.type===ze.Fragment){n.push.apply(n,T2(r.props.children,a));return}r.type!==$i&&Nr(!1),!r.props.index||!r.props.children||Nr(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=T2(r.props.children,a)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function k2(){return k2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k2.apply(this,arguments)}function V8(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function W8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function H8(e,t){return e.button===0&&(!t||t==="_self")&&!W8(e)}const G8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],X8="6";try{window.__reactRouterVersion=X8}catch{}const Y8="startTransition",P5=U4[Y8];function K8(e){let{basename:t,children:n,future:r,window:s}=e,a=ze.useRef();a.current==null&&(a.current=J6({window:s,v5Compat:!0}));let u=a.current,[h,p]=ze.useState({action:u.action,location:u.location}),{v7_startTransition:m}=r||{},w=ze.useCallback(v=>{m&&P5?P5(()=>p(v)):p(v)},[p,m]);return ze.useLayoutEffect(()=>u.listen(w),[u,w]),ze.useEffect(()=>U8(r),[r]),ze.createElement(z8,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:u,future:r})}const Z8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u3=ze.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:u,state:h,target:p,to:m,preventScrollReset:w,viewTransition:v}=t,E=V8(t,G8),{basename:A}=ze.useContext(Go),R,k=!1;if(typeof m=="string"&&Q8.test(m)&&(R=m,Z8))try{let L=new URL(window.location.href),q=m.startsWith("//")?new URL(L.protocol+m):new URL(m),$=wg(q.pathname,A);q.origin===L.origin&&$!=null?m=$+q.search+q.hash:k=!0}catch{}let M=N8(m,{relative:s}),S=J8(m,{replace:u,state:h,target:p,preventScrollReset:w,relative:s,viewTransition:v});function I(L){r&&r(L),L.defaultPrevented||S(L)}return ze.createElement("a",k2({},E,{href:R||M,onClick:k||a?r:I,ref:n,target:p}))});var O5;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(O5||(O5={}));var R5;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(R5||(R5={}));function J8(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:u,viewTransition:h}=t===void 0?{}:t,p=Xs(),m=Lf(),w=s3(e,{relative:u});return ze.useCallback(v=>{if(H8(v,n)){v.preventDefault();let E=r!==void 0?r:Th(m)===Th(w);p(e,{replace:E,state:s,preventScrollReset:a,relative:u,viewTransition:h})}},[m,p,w,r,s,n,e,a,u,h])}const c3=ze.createContext(null),Fl=()=>{const e=ze.useContext(c3);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},$8=({children:e})=>{const[t,n]=ze.useState(null),[r,s]=ze.useState(!0);ze.useEffect(()=>{const v=localStorage.getItem("eventsx_user");if(v)try{n(JSON.parse(v))}catch(E){console.error("Error parsing stored user:",E),localStorage.removeItem("eventsx_user")}s(!1)},[]);const w={user:t,loading:r,login:v=>{n(v),localStorage.setItem("eventsx_user",JSON.stringify(v))},logout:()=>{n(null),localStorage.removeItem("eventsx_user")},isSuperAdmin:()=>(t==null?void 0:t.role)==="superadmin",isOwner:()=>(t==null?void 0:t.role)==="owner",canEditEvent:v=>t?t.role==="superadmin":!1,isAuthenticated:!!t};return r?T.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:T.jsx("p",{className:"text-white",children:"Loading..."})}):T.jsx(c3.Provider,{value:w,children:e})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pr=(e,t)=>{const n=ze.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:h="",children:p,...m},w)=>ze.createElement("svg",{ref:w,...eA,width:s,height:s,stroke:r,strokeWidth:u?Number(a)*24/Number(s):a,className:["lucide",`lucide-${tA(e)}`,h].join(" "),...m},[...t.map(([v,E])=>ze.createElement(v,E)),...Array.isArray(p)?p:[p]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=pr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=pr("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=pr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=pr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=pr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=pr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=pr("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=pr("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=pr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=pr("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=pr("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=pr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=pr("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=pr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=pr("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=pr("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=pr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=pr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=pr("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=pr("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=pr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=pr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Wn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,kr=Object.keys,vi=Array.isArray;function Li(e,t){return typeof t!="object"||kr(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||Wn.Promise||(Wn.Promise=Promise);const xf=Object.getPrototypeOf,hA={}.hasOwnProperty;function ls(e,t){return hA.call(e,t)}function zu(e,t){typeof t=="function"&&(t=t(xf(e))),(typeof Reflect>"u"?kr:Reflect.ownKeys)(t).forEach(n=>{Ma(e,n,t[n])})}const d3=Object.defineProperty;function Ma(e,t,n,r){d3(e,t,Li(n&&ls(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function _u(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Ma(e.prototype,"constructor",e),{extend:zu.bind(null,e.prototype)}}}}const dA=Object.getOwnPropertyDescriptor;function Cg(e,t){let n;return dA(e,t)||(n=xf(e))&&Cg(n,t)}const pA=[].slice;function kh(e,t,n){return pA.call(e,t,n)}function p3(e,t){return t(e)}function kc(e){if(!e)throw new Error("Assertion Failed")}function g3(e){Wn.setImmediate?setImmediate(e):setTimeout(e,0)}function m3(e,t){return e.reduce((n,r,s)=>{var a=t(r,s);return a&&(n[a[0]]=a[1]),n},{})}function Ba(e,t){if(typeof t=="string"&&ls(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,s=t.length;r<s;++r){var a=Ba(e,t[r]);n.push(a)}return n}var u=t.indexOf(".");if(u!==-1){var h=e[t.substr(0,u)];return h==null?void 0:Ba(h,t.substr(u+1))}}function Hs(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){kc(typeof n!="string"&&"length"in n);for(var r=0,s=t.length;r<s;++r)Hs(e,t[r],n[r])}else{var a=t.indexOf(".");if(a!==-1){var u=t.substr(0,a),h=t.substr(a+1);if(h==="")n===void 0?vi(e)&&!isNaN(parseInt(u))?e.splice(u,1):delete e[u]:e[u]=n;else{var p=e[u];p&&ls(e,u)||(p=e[u]={}),Hs(p,h,n)}}else n===void 0?vi(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function x3(e){var t={};for(var n in e)ls(e,n)&&(t[n]=e[n]);return t}const gA=[].concat;function y3(e){return gA.apply([],e)}const w3="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(y3([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>Wn[e]),mA=w3.map(e=>Wn[e]);m3(w3,e=>[e,!0]);let mo=null;function Of(e){mo=typeof WeakMap<"u"&&new WeakMap;const t=R2(e);return mo=null,t}function R2(e){if(!e||typeof e!="object")return e;let t=mo&&mo.get(e);if(t)return t;if(vi(e)){t=[],mo&&mo.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(R2(e[n]))}else if(mA.indexOf(e.constructor)>=0)t=e;else{const a=xf(e);for(var s in t=a===Object.prototype?{}:Object.create(a),mo&&mo.set(e,t),e)ls(e,s)&&(t[s]=R2(e[s]))}return t}const{toString:xA}={};function D2(e){return xA.call(e).slice(8,-1)}const M2=typeof Symbol<"u"?Symbol.iterator:"@@iterator",yA=typeof M2=="symbol"?function(e){var t;return e!=null&&(t=e[M2])&&t.apply(e)}:function(){return null},nu={};function La(e){var t,n,r,s;if(arguments.length===1){if(vi(e))return e.slice();if(this===nu&&typeof e=="string")return[e];if(s=yA(e)){for(n=[];!(r=s.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Eg=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var ha=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function v3(e,t){ha=e,b3=t}var b3=()=>!0;const wA=!new Error("").stack;function jl(){if(wA)try{throw jl.arguments,new Error}catch(e){return e}return new Error}function B2(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(b3).map(r=>`
`+r).join("")):""}var A3=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ng=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(A3),vA={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Iu(e,t){this._e=jl(),this.name=e,this.message=t}function C3(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,s)=>s.indexOf(n)===r).join(`
`)}function Lh(e,t,n,r){this._e=jl(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=C3(e,t)}function zc(e,t){this._e=jl(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=C3(e,t)}_u(Iu).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+B2(this._e,2))}},toString:function(){return this.name+": "+this.message}}),_u(Lh).from(Iu),_u(zc).from(Iu);var Sg=Ng.reduce((e,t)=>(e[t]=t+"Error",e),{});const bA=Iu;var Dt=Ng.reduce((e,t)=>{var n=t+"Error";function r(s,a){this._e=jl(),this.name=n,s?typeof s=="string"?(this.message=`${s}${a?`
 `+a:""}`,this.inner=a||null):typeof s=="object"&&(this.message=`${s.name} ${s.message}`,this.inner=s):(this.message=vA[t]||n,this.inner=null)}return _u(r).from(bA),e[t]=r,e},{});Dt.Syntax=SyntaxError,Dt.Type=TypeError,Dt.Range=RangeError;var F5=A3.reduce((e,t)=>(e[t+"Error"]=Dt[t],e),{}),Y1=Ng.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=Dt[t]),e),{});function kn(){}function yf(e){return e}function AA(e,t){return e==null||e===yf?t:function(n){return t(e(n))}}function Rl(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function CA(e,t){return e===kn?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Rl(r,this.onsuccess):r),s&&(this.onerror=this.onerror?Rl(s,this.onerror):s),a!==void 0?a:n}}function EA(e,t){return e===kn?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Rl(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Rl(r,this.onerror):r)}}function NA(e,t){return e===kn?t:function(n){var r=e.apply(this,arguments);Li(n,r);var s=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var u=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?Rl(s,this.onsuccess):s),a&&(this.onerror=this.onerror?Rl(a,this.onerror):a),r===void 0?u===void 0?void 0:u:Li(r,u)}}function SA(e,t){return e===kn?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function _g(e,t){return e===kn?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,s=arguments.length,a=new Array(s);s--;)a[s]=arguments[s];return n.then(function(){return t.apply(r,a)})}return t.apply(this,arguments)}}Y1.ModifyError=Lh,Y1.DexieError=Iu,Y1.BulkError=zc;var wf={};const E3=100,[F2,Ph,j2]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,xf(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,xf(t),e]})(),N3=Ph&&Ph.then,K1=F2&&F2.constructor,Ig=!!j2;var U2=!1,_A=j2?()=>{j2.then(b1)}:Wn.setImmediate?setImmediate.bind(null,b1):Wn.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{b1(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(b1,0)},qc=function(e,t){Lc.push([e,t]),Oh&&(_A(),Oh=!1)},z2=!0,Oh=!0,Nl=[],Z1=[],q2=null,V2=yf,Tu={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:z5,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{z5(e[0],e[1])}catch{}})}},It=Tu,Lc=[],Sl=0,Q1=[];function ht(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=kn,this._lib=!1;var t=this._PSD=It;if(ha&&(this._stackHolder=jl(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==wf)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&H2(this,this._value))}this._state=null,this._value=null,++t.ref,_3(this,e)}const W2={get:function(){var e=It,t=Rh;function n(r,s){var a=!e.global&&(e!==It||t!==Rh);const u=a&&!qa();var h=new ht((p,m)=>{Tg(this,new S3(Dh(r,e,a,u),Dh(s,e,a,u),p,m,e))});return ha&&k3(h,this),h}return n.prototype=wf,n},set:function(e){Ma(this,"then",e&&e.prototype===wf?W2:{get:function(){return e},set:W2.set})}};function S3(e,t,n,r,s){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=s}function _3(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&Rf();n&&typeof n.then=="function"?_3(e,(s,a)=>{n instanceof ht?n._then(s,a):n.then(s,a)}):(e._state=!0,e._value=n,I3(e)),r&&Df()}},H2.bind(null,e))}catch(n){H2(e,n)}}function H2(e,t){if(Z1.push(t),e._state===null){var n=e._lib&&Rf();t=V2(t),e._state=!1,e._value=t,ha&&t!==null&&typeof t=="object"&&!t._promise&&function(r,s,a){try{r.apply(null,a)}catch{}}(()=>{var r=Cg(t,"stack");t._promise=e,Ma(t,"stack",{get:()=>U2?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){Nl.some(s=>s._value===r._value)||Nl.push(r)}(e),I3(e),n&&Df()}}function I3(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Tg(e,t[n]);var s=e._PSD;--s.ref||s.finalize(),Sl===0&&(++Sl,qc(()=>{--Sl==0&&kg()},[]))}function Tg(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Sl,qc(IA,[n,e,t])}else e._listeners.push(t)}function IA(e,t,n){try{q2=t;var r,s=t._value;t._state?r=e(s):(Z1.length&&(Z1=[]),r=e(s),Z1.indexOf(s)===-1&&function(a){for(var u=Nl.length;u;)if(Nl[--u]._value===a._value)return void Nl.splice(u,1)}(t)),n.resolve(r)}catch(a){n.reject(a)}finally{q2=null,--Sl==0&&kg(),--n.psd.ref||n.psd.finalize()}}function T3(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var s,a,u=e._value;u!=null?(s=u.name||"Error",a=u.message||u,r=B2(u,0)):(s=u,a=""),t.push(s+(a?": "+a:"")+r)}return ha&&((r=B2(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&T3(e._prev,t,n)),t}function k3(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function b1(){Rf()&&Df()}function Rf(){var e=z2;return z2=!1,Oh=!1,e}function Df(){var e,t,n;do for(;Lc.length>0;)for(e=Lc,Lc=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Lc.length>0);z2=!0,Oh=!0}function kg(){var e=Nl;Nl=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=Q1.slice(0),n=t.length;n;)t[--n]()}function A1(e){return new ht(wf,!1,e)}function Jn(e,t){var n=It;return function(){var r=Rf(),s=It;try{return Bo(n,!0),e.apply(this,arguments)}catch(a){t&&t(a)}finally{Bo(s,!1),r&&Df()}}}zu(ht.prototype,{then:W2,_then:function(e,t){Tg(this,new S3(null,null,e,t,It))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):A1(r)):this.then(null,r=>r&&r.name===t?n(r):A1(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),A1(t)))},stack:{get:function(){if(this._stack)return this._stack;try{U2=!0;var e=T3(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{U2=!1}}},timeout:function(e,t){return e<1/0?new ht((n,r)=>{var s=setTimeout(()=>r(new Dt.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Ma(ht.prototype,Symbol.toStringTag,"Dexie.Promise"),Tu.env=L3(),zu(ht,{all:function(){var e=La.apply(null,arguments).map(C1);return new ht(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((s,a)=>ht.resolve(s).then(u=>{e[a]=u,--r||t(e)},n))})},resolve:e=>{if(e instanceof ht)return e;if(e&&typeof e.then=="function")return new ht((n,r)=>{e.then(n,r)});var t=new ht(wf,!0,e);return k3(t,q2),t},reject:A1,race:function(){var e=La.apply(null,arguments).map(C1);return new ht((t,n)=>{e.map(r=>ht.resolve(r).then(t,n))})},PSD:{get:()=>It,set:e=>It=e},totalEchoes:{get:()=>Rh},newPSD:Mo,usePSD:$u,scheduler:{get:()=>qc,set:e=>{qc=e}},rejectionMapper:{get:()=>V2,set:e=>{V2=e}},follow:(e,t)=>new ht((n,r)=>Mo((s,a)=>{var u=It;u.unhandleds=[],u.onunhandled=a,u.finalize=Rl(function(){(function(h){function p(){h(),Q1.splice(Q1.indexOf(p),1)}Q1.push(p),++Sl,qc(()=>{--Sl==0&&kg()},[])})(()=>{this.unhandleds.length===0?s():a(this.unhandleds[0])})},u.finalize),e()},t,n,r))}),K1&&(K1.allSettled&&Ma(ht,"allSettled",function(){const e=La.apply(null,arguments).map(C1);return new ht(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((s,a)=>ht.resolve(s).then(u=>r[a]={status:"fulfilled",value:u},u=>r[a]={status:"rejected",reason:u}).then(()=>--n||t(r)))})}),K1.any&&typeof AggregateError<"u"&&Ma(ht,"any",function(){const e=La.apply(null,arguments).map(C1);return new ht((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const s=new Array(r);e.forEach((a,u)=>ht.resolve(a).then(h=>t(h),h=>{s[u]=h,--r||n(new AggregateError(s))}))})}));const yi={awaits:0,echoes:0,id:0};var TA=0,J1=[],f0=0,Rh=0,kA=0;function Mo(e,t,n,r){var s=It,a=Object.create(s);a.parent=s,a.ref=0,a.global=!1,a.id=++kA;var u=Tu.env;a.env=Ig?{Promise:ht,PromiseProp:{value:ht,configurable:!0,writable:!0},all:ht.all,race:ht.race,allSettled:ht.allSettled,any:ht.any,resolve:ht.resolve,reject:ht.reject,nthen:j5(u.nthen,a),gthen:j5(u.gthen,a)}:{},t&&Li(a,t),++s.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var h=$u(a,e,n,r);return a.ref===0&&a.finalize(),h}function Ju(){return yi.id||(yi.id=++TA),++yi.awaits,yi.echoes+=E3,yi.id}function qa(){return!!yi.awaits&&(--yi.awaits==0&&(yi.id=0),yi.echoes=yi.awaits*E3,!0)}function C1(e){return yi.echoes&&e&&e.constructor===K1?(Ju(),e.then(t=>(qa(),t),t=>(qa(),Fr(t)))):e}function LA(e){++Rh,yi.echoes&&--yi.echoes!=0||(yi.echoes=yi.id=0),J1.push(It),Bo(e,!0)}function PA(){var e=J1[J1.length-1];J1.pop(),Bo(e,!1)}function Bo(e,t){var n=It;if((t?!yi.echoes||f0++&&e===It:!f0||--f0&&e===It)||P3(t?LA.bind(null,e):PA),e!==It&&(It=e,n===Tu&&(Tu.env=L3()),Ig)){var r=Tu.env.Promise,s=e.env;Ph.then=s.nthen,r.prototype.then=s.gthen,(n.global||e.global)&&(Object.defineProperty(Wn,"Promise",s.PromiseProp),r.all=s.all,r.race=s.race,r.resolve=s.resolve,r.reject=s.reject,s.allSettled&&(r.allSettled=s.allSettled),s.any&&(r.any=s.any))}}function L3(){var e=Wn.Promise;return Ig?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Wn,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Ph.then,gthen:e.prototype.then}:{}}function $u(e,t,n,r,s){var a=It;try{return Bo(e,!0),t(n,r,s)}finally{Bo(a,!1)}}function P3(e){N3.call(F2,e)}function Dh(e,t,n,r){return typeof e!="function"?e:function(){var s=It;n&&Ju(),Bo(t,!0);try{return e.apply(this,arguments)}finally{Bo(s,!1),r&&P3(qa)}}}function j5(e,t){return function(n,r){return e.call(this,Dh(n,t),Dh(r,t))}}(""+N3).indexOf("[native code]")===-1&&(Ju=qa=kn);const U5="unhandledrejection";function z5(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,s={promise:t,reason:e};if(Wn.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(U5,!0,!0),Li(r,s)):Wn.CustomEvent&&Li(r=new CustomEvent(U5,{detail:s}),s),r&&Wn.dispatchEvent&&(dispatchEvent(r),!Wn.PromiseRejectionEvent&&Wn.onunhandledrejection))try{Wn.onunhandledrejection(r)}catch{}ha&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var Fr=ht.reject;function G2(e,t,n,r){if(e.idbdb&&(e._state.openComplete||It.letThrough||e._vip)){var s=e._createTransaction(t,n,e._dbSchema);try{s.create(),e._state.PR1398_maxLoop=3}catch(a){return a.name===Sg.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>G2(e,t,n,r))):Fr(a)}return s._promise(t,(a,u)=>Mo(()=>(It.trans=s,r(a,u,s)))).then(a=>s._completion.then(()=>a))}if(e._state.openComplete)return Fr(new Dt.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Fr(new Dt.DatabaseClosed);e.open().catch(kn)}return e._state.dbReadyPromise.then(()=>G2(e,t,n,r))}const q5="3.2.7",Al="",X2=-1/0,Na="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",O3="String expected.",Vc=[],cd=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),OA=cd,RA=cd,R3=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),fd="__dbnames",h0="readonly",d0="readwrite";function Dl(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const D3={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function E1(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=Of(t))[e],t)}let DA=class{_trans(t,n,r){const s=this._tx||It.trans,a=this.name;function u(p,m,w){if(!w.schema[a])throw new Dt.NotFound("Table "+a+" not part of transaction");return n(w.idbtrans,w)}const h=Rf();try{return s&&s.db===this.db?s===It.trans?s._promise(t,u,r):Mo(()=>s._promise(t,u,r),{trans:s,transless:It.transless||It}):G2(this.db,t,[this.name],u)}finally{h&&Df()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(s=>this.hook.reading.fire(s))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(vi(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=kr(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(m=>{if(m.compound&&n.every(w=>m.keyPath.indexOf(w)>=0)){for(let w=0;w<n.length;++w)if(n.indexOf(m.keyPath[w])===-1)return!1;return!0}return!1}).sort((m,w)=>m.keyPath.length-w.keyPath.length)[0];if(r&&this.db._maxKey!==Al){const m=r.keyPath.slice(0,n.length);return this.where(m).equals(m.map(w=>t[w]))}!r&&ha&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:s}=this.schema,a=this.db._deps.indexedDB;function u(m,w){try{return a.cmp(m,w)===0}catch{return!1}}const[h,p]=n.reduce(([m,w],v)=>{const E=s[v],A=t[v];return[m||E,m||!E?Dl(w,E&&E.multi?R=>{const k=Ba(R,v);return vi(k)&&k.some(M=>u(A,M))}:R=>u(A,Ba(R,v))):w]},[null,null]);return h?this.where(h.name).equals(t[h.keyPath]).filter(p):r?this.filter(p):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,vi(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const s=Object.create(t.prototype);for(var a in r)if(ls(r,a))try{s[a]=r[a]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){Li(this,t)})}add(t,n){const{auto:r,keyPath:s}=this.schema.primKey;let a=t;return s&&r&&(a=E1(s)(t)),this._trans("readwrite",u=>this.core.mutate({trans:u,type:"add",keys:n!=null?[n]:null,values:[a]})).then(u=>u.numFailures?ht.reject(u.failures[0]):u.lastResult).then(u=>{if(s)try{Hs(t,s,u)}catch{}return u})}update(t,n){if(typeof t!="object"||vi(t))return this.where(":id").equals(t).modify(n);{const r=Ba(t,this.schema.primKey.keyPath);if(r===void 0)return Fr(new Dt.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?kr(n).forEach(s=>{Hs(t,s,n[s])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:s}=this.schema.primKey;let a=t;return s&&r&&(a=E1(s)(t)),this._trans("readwrite",u=>this.core.mutate({trans:u,type:"put",values:[a],keys:n!=null?[n]:null})).then(u=>u.numFailures?ht.reject(u.failures[0]):u.lastResult).then(u=>{if(s)try{Hs(t,s,u)}catch{}return u})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?ht.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:D3})).then(t=>t.numFailures?ht.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(s=>this.hook.reading.fire(s))))}bulkAdd(t,n,r){const s=Array.isArray(n)?n:void 0,a=(r=r||(s?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",u=>{const{auto:h,keyPath:p}=this.schema.primKey;if(p&&s)throw new Dt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==t.length)throw new Dt.InvalidArgument("Arguments objects and keys must have the same length");const m=t.length;let w=p&&h?t.map(E1(p)):t;return this.core.mutate({trans:u,type:"add",keys:s,values:w,wantResults:a}).then(({numFailures:v,results:E,lastResult:A,failures:R})=>{if(v===0)return a?E:A;throw new zc(`${this.name}.bulkAdd(): ${v} of ${m} operations failed`,R)})})}bulkPut(t,n,r){const s=Array.isArray(n)?n:void 0,a=(r=r||(s?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",u=>{const{auto:h,keyPath:p}=this.schema.primKey;if(p&&s)throw new Dt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==t.length)throw new Dt.InvalidArgument("Arguments objects and keys must have the same length");const m=t.length;let w=p&&h?t.map(E1(p)):t;return this.core.mutate({trans:u,type:"put",keys:s,values:w,wantResults:a}).then(({numFailures:v,results:E,lastResult:A,failures:R})=>{if(v===0)return a?E:A;throw new zc(`${this.name}.bulkPut(): ${v} of ${m} operations failed`,R)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:s,failures:a})=>{if(r===0)return s;throw new zc(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,a)})}};function Wc(e){var t={},n=function(u,h){if(h){for(var p=arguments.length,m=new Array(p-1);--p;)m[p-1]=arguments[p];return t[u].subscribe.apply(null,m),e}if(typeof u=="string")return t[u]};n.addEventType=a;for(var r=1,s=arguments.length;r<s;++r)a(arguments[r]);return n;function a(u,h,p){if(typeof u!="object"){var m;h||(h=SA),p||(p=kn);var w={subscribers:[],fire:p,subscribe:function(v){w.subscribers.indexOf(v)===-1&&(w.subscribers.push(v),w.fire=h(w.fire,v))},unsubscribe:function(v){w.subscribers=w.subscribers.filter(function(E){return E!==v}),w.fire=w.subscribers.reduce(h,p)}};return t[u]=n[u]=w,w}kr(m=u).forEach(function(v){var E=m[v];if(vi(E))a(v,m[v][0],m[v][1]);else{if(E!=="asap")throw new Dt.InvalidArgument("Invalid event config");var A=a(v,yf,function(){for(var R=arguments.length,k=new Array(R);R--;)k[R]=arguments[R];A.subscribers.forEach(function(M){g3(function(){M.apply(null,k)})})})}})}}function wc(e,t){return _u(t).from({prototype:e}),t}function Ql(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function p0(e,t){e.filter=Dl(e.filter,t)}function g0(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Dl(r(),t()):t,e.justLimit=n&&!r}function $1(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new Dt.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function V5(e,t,n){const r=$1(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function N1(e,t,n,r){const s=e.replayFilter?Dl(e.filter,e.replayFilter()):e.filter;if(e.or){const a={},u=(h,p,m)=>{if(!s||s(p,m,E=>p.stop(E),E=>p.fail(E))){var w=p.primaryKey,v=""+w;v==="[object ArrayBuffer]"&&(v=""+new Uint8Array(w)),ls(a,v)||(a[v]=!0,t(h,p,m))}};return Promise.all([e.or._iterate(u,n),W5(V5(e,r,n),e.algorithm,u,!e.keysOnly&&e.valueMapper)])}return W5(V5(e,r,n),Dl(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function W5(e,t,n,r){var s=Jn(r?(a,u,h)=>n(r(a),u,h):n);return e.then(a=>{if(a)return a.start(()=>{var u=()=>a.continue();t&&!t(a,h=>u=h,h=>{a.stop(h),u=kn},h=>{a.fail(h),u=kn})||s(a.value,a,h=>u=h),u()})})}function Ti(e,t){try{const n=H5(e),r=H5(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(s,a){const u=s.length,h=a.length,p=u<h?u:h;for(let m=0;m<p;++m)if(s[m]!==a[m])return s[m]<a[m]?-1:1;return u===h?0:u<h?-1:1}(G5(e),G5(t));case"Array":return function(s,a){const u=s.length,h=a.length,p=u<h?u:h;for(let m=0;m<p;++m){const w=Ti(s[m],a[m]);if(w!==0)return w}return u===h?0:u<h?-1:1}(e,t)}}catch{}return NaN}function H5(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=D2(e);return n==="ArrayBuffer"?"binary":n}function G5(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}let MA=class{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,Fr.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,Fr.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=Dl(n.algorithm,t)}_iterate(t,n){return N1(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&Li(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>N1(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,s=r.table.core;if(Ql(r,!0))return s.count({trans:n,query:{index:$1(r,s.schema),range:r.range}}).then(u=>Math.min(u,r.limit));var a=0;return N1(r,()=>(++a,!1),n,s).then(()=>a)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),s=r[0],a=r.length-1;function u(m,w){return w?u(m[r[w]],w-1):m[s]}var h=this._ctx.dir==="next"?1:-1;function p(m,w){var v=u(m,a),E=u(w,a);return v<E?-h:v>E?h:0}return this.toArray(function(m){return m.sort(p)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Ql(r,!0)&&r.limit>0){const{valueMapper:s}=r,a=$1(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:a,range:r.range}}).then(({result:u})=>s?u.map(s):u)}{const s=[];return N1(r,a=>s.push(a),n,r.table.core).then(()=>s)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,Ql(n)?g0(n,()=>{var r=t;return(s,a)=>r===0||(r===1?(--r,!1):(a(()=>{s.advance(r),r=0}),!1))}):g0(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),g0(this._ctx,()=>{var n=t;return function(r,s,a){return--n<=0&&s(a),n>=0}},!0),this}until(t,n){return p0(this._ctx,function(r,s,a){return!t(r.value)||(s(a),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return p0(this._ctx,function(s){return t(s.value)}),n=this._ctx,r=t,n.isMatch=Dl(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){t(s.key,s)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){t(s.primaryKey,s)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,a){r.push(a.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&Ql(n,!0)&&n.limit>0)return this._read(s=>{var a=$1(n,n.table.core.schema);return n.table.core.query({trans:s,values:!1,limit:n.limit,query:{index:a,range:n.range}})}).then(({result:s})=>s).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,a){r.push(a.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return p0(this._ctx,function(s){var a=s.primaryKey.toString(),u=ls(r,a);return r[a]=!0,!u}),this}modify(t){var n=this._ctx;return this._write(r=>{var s;if(typeof t=="function")s=t;else{var a=kr(t),u=a.length;s=function(k){for(var M=!1,S=0;S<u;++S){var I=a[S],L=t[I];Ba(k,I)!==L&&(Hs(k,I,L),M=!0)}return M}}const h=n.table.core,{outbound:p,extractKey:m}=h.schema.primaryKey,w=this.db._options.modifyChunkSize||200,v=[];let E=0;const A=[],R=(k,M)=>{const{failures:S,numFailures:I}=M;E+=k-I;for(let L of kr(S))v.push(S[L])};return this.clone().primaryKeys().then(k=>{const M=S=>{const I=Math.min(w,k.length-S);return h.getMany({trans:r,keys:k.slice(S,S+I),cache:"immutable"}).then(L=>{const q=[],$=[],Q=p?[]:null,D=[];for(let Z=0;Z<I;++Z){const ye=L[Z],W={value:Of(ye),primKey:k[S+Z]};s.call(W,W.value,W)!==!1&&(W.value==null?D.push(k[S+Z]):p||Ti(m(ye),m(W.value))===0?($.push(W.value),p&&Q.push(k[S+Z])):(D.push(k[S+Z]),q.push(W.value)))}const Y=Ql(n)&&n.limit===1/0&&(typeof t!="function"||t===m0)&&{index:n.index,range:n.range};return Promise.resolve(q.length>0&&h.mutate({trans:r,type:"add",values:q}).then(Z=>{for(let ye in Z.failures)D.splice(parseInt(ye),1);R(q.length,Z)})).then(()=>($.length>0||Y&&typeof t=="object")&&h.mutate({trans:r,type:"put",keys:Q,values:$,criteria:Y,changeSpec:typeof t!="function"&&t}).then(Z=>R($.length,Z))).then(()=>(D.length>0||Y&&t===m0)&&h.mutate({trans:r,type:"delete",keys:D,criteria:Y}).then(Z=>R(D.length,Z))).then(()=>k.length>S+I&&M(S+w))})};return M(0).then(()=>{if(v.length>0)throw new Lh("Error modifying one or more objects",v,E,A);return k.length})})})}delete(){var t=this._ctx,n=t.range;return Ql(t)&&(t.isPrimKey&&!RA||n.type===3)?this._write(r=>{const{primaryKey:s}=t.table.core.schema,a=n;return t.table.core.count({trans:r,query:{index:s,range:a}}).then(u=>t.table.core.mutate({trans:r,type:"deleteRange",range:a}).then(({failures:h,lastResult:p,results:m,numFailures:w})=>{if(w)throw new Lh("Could not delete some values",Object.keys(h).map(v=>h[v]),u-w);return u-w}))}):this.modify(m0)}};const m0=(e,t)=>t.value=null;function BA(e,t){return e<t?-1:e===t?0:1}function FA(e,t){return e>t?-1:e===t?0:1}function es(e,t,n){var r=e instanceof B3?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Jl(e){return new e.Collection(e,()=>M3("")).limit(0)}function jA(e,t,n,r,s,a){for(var u=Math.min(e.length,r.length),h=-1,p=0;p<u;++p){var m=t[p];if(m!==r[p])return s(e[p],n[p])<0?e.substr(0,p)+n[p]+n.substr(p+1):s(e[p],r[p])<0?e.substr(0,p)+r[p]+n.substr(p+1):h>=0?e.substr(0,h)+t[h]+n.substr(h+1):null;s(e[p],m)<0&&(h=p)}return u<r.length&&a==="next"?e+n.substr(e.length):u<e.length&&a==="prev"?e.substr(0,n.length):h<0?null:e.substr(0,h)+r[h]+n.substr(h+1)}function S1(e,t,n,r){var s,a,u,h,p,m,w,v=n.length;if(!n.every(k=>typeof k=="string"))return es(e,O3);function E(k){s=function(S){return S==="next"?I=>I.toUpperCase():I=>I.toLowerCase()}(k),a=function(S){return S==="next"?I=>I.toLowerCase():I=>I.toUpperCase()}(k),u=k==="next"?BA:FA;var M=n.map(function(S){return{lower:a(S),upper:s(S)}}).sort(function(S,I){return u(S.lower,I.lower)});h=M.map(function(S){return S.upper}),p=M.map(function(S){return S.lower}),m=k,w=k==="next"?"":r}E("next");var A=new e.Collection(e,()=>ho(h[0],p[v-1]+r));A._ondirectionchange=function(k){E(k)};var R=0;return A._addAlgorithm(function(k,M,S){var I=k.key;if(typeof I!="string")return!1;var L=a(I);if(t(L,p,R))return!0;for(var q=null,$=R;$<v;++$){var Q=jA(I,L,h[$],p[$],u,m);Q===null&&q===null?R=$+1:(q===null||u(q,Q)>0)&&(q=Q)}return M(q!==null?function(){k.continue(q+w)}:S),!1}),A}function ho(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function M3(e){return{type:1,lower:e,upper:e}}class B3{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,s){r=r!==!1,s=s===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||s)&&(!r||!s)?Jl(this):new this.Collection(this,()=>ho(t,n,!r,!s))}catch{return es(this,Na)}}equals(t){return t==null?es(this,Na):new this.Collection(this,()=>M3(t))}above(t){return t==null?es(this,Na):new this.Collection(this,()=>ho(t,void 0,!0))}aboveOrEqual(t){return t==null?es(this,Na):new this.Collection(this,()=>ho(t,void 0,!1))}below(t){return t==null?es(this,Na):new this.Collection(this,()=>ho(void 0,t,!1,!0))}belowOrEqual(t){return t==null?es(this,Na):new this.Collection(this,()=>ho(void 0,t))}startsWith(t){return typeof t!="string"?es(this,O3):this.between(t,t+Al,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):S1(this,(n,r)=>n.indexOf(r[0])===0,[t],Al)}equalsIgnoreCase(t){return S1(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=La.apply(nu,arguments);return t.length===0?Jl(this):S1(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=La.apply(nu,arguments);return t.length===0?Jl(this):S1(this,(n,r)=>r.some(s=>n.indexOf(s)===0),t,Al)}anyOf(){const t=La.apply(nu,arguments);let n=this._cmp;try{t.sort(n)}catch{return es(this,Na)}if(t.length===0)return Jl(this);const r=new this.Collection(this,()=>ho(t[0],t[t.length-1]));r._ondirectionchange=a=>{n=a==="next"?this._ascending:this._descending,t.sort(n)};let s=0;return r._addAlgorithm((a,u,h)=>{const p=a.key;for(;n(p,t[s])>0;)if(++s,s===t.length)return u(h),!1;return n(p,t[s])===0||(u(()=>{a.continue(t[s])}),!1)}),r}notEqual(t){return this.inAnyRange([[X2,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=La.apply(nu,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return es(this,Na)}const n=t.reduce((r,s)=>r?r.concat([[r[r.length-1][1],s]]):[[X2,s]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,s=this._ascending,a=this._descending,u=this._min,h=this._max;if(t.length===0)return Jl(this);if(!t.every(I=>I[0]!==void 0&&I[1]!==void 0&&s(I[0],I[1])<=0))return es(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Dt.InvalidArgument);const p=!n||n.includeLowers!==!1,m=n&&n.includeUppers===!0;let w,v=s;function E(I,L){return v(I[0],L[0])}try{w=t.reduce(function(I,L){let q=0,$=I.length;for(;q<$;++q){const Q=I[q];if(r(L[0],Q[1])<0&&r(L[1],Q[0])>0){Q[0]=u(Q[0],L[0]),Q[1]=h(Q[1],L[1]);break}}return q===$&&I.push(L),I},[]),w.sort(E)}catch{return es(this,Na)}let A=0;const R=m?I=>s(I,w[A][1])>0:I=>s(I,w[A][1])>=0,k=p?I=>a(I,w[A][0])>0:I=>a(I,w[A][0])>=0;let M=R;const S=new this.Collection(this,()=>ho(w[0][0],w[w.length-1][1],!p,!m));return S._ondirectionchange=I=>{I==="next"?(M=R,v=s):(M=k,v=a),w.sort(E)},S._addAlgorithm((I,L,q)=>{for(var $=I.key;M($);)if(++A,A===w.length)return L(q),!1;return!!function(Q){return!R(Q)&&!k(Q)}($)||(this._cmp($,w[A][1])===0||this._cmp($,w[A][0])===0||L(()=>{v===s?I.continue(w[A][0]):I.continue(w[A][1])}),!1)}),S}startsWithAnyOf(){const t=La.apply(nu,arguments);return t.every(n=>typeof n=="string")?t.length===0?Jl(this):this.inAnyRange(t.map(n=>[n,n+Al])):es(this,"startsWithAnyOf() only works with strings")}}function aa(e){return Jn(function(t){return vf(t),e(t.target.error),!1})}function vf(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const bf="storagemutated",wo="x-storagemutated-1",Fo=Wc(null,bf);class UA{_lock(){return kc(!It.global),++this._reculock,this._reculock!==1||It.global||(It.lockOwnerFor=this),this}_unlock(){if(kc(!It.global),--this._reculock==0)for(It.global||(It.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{$u(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&It.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(kc(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new Dt.DatabaseClosed(r);case"MissingAPIError":throw new Dt.MissingAPI(r.message,r);default:throw new Dt.OpenFailed(r)}if(!this.active)throw new Dt.TransactionInactive;return kc(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Jn(s=>{vf(s),this._reject(t.error)}),t.onabort=Jn(s=>{vf(s),this.active&&this._reject(new Dt.Abort(t.error)),this.active=!1,this.on("abort").fire(s)}),t.oncomplete=Jn(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Fo.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return Fr(new Dt.ReadOnly("Transaction is readonly"));if(!this.active)return Fr(new Dt.TransactionInactive);if(this._locked())return new ht((a,u)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(a,u)},It])});if(r)return Mo(()=>{var a=new ht((u,h)=>{this._lock();const p=n(u,h,this);p&&p.then&&p.then(u,h)});return a.finally(()=>this._unlock()),a._lib=!0,a});var s=new ht((a,u)=>{var h=n(a,u,this);h&&h.then&&h.then(a,u)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=ht.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var s=n.idbtrans.objectStore(n.storeNames[0]);(function u(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(s.get(-1/0).onsuccess=u)})()}var a=n._waitingFor;return new ht((u,h)=>{r.then(p=>n._waitingQueue.push(Jn(u.bind(null,p))),p=>n._waitingQueue.push(Jn(h.bind(null,p)))).finally(()=>{n._waitingFor===a&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Dt.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(ls(n,t))return n[t];const r=this.schema[t];if(!r)throw new Dt.NotFound("Table "+t+" not part of transaction");const s=new this.db.Table(t,r,this);return s.core=this.db.core.table(t),n[t]=s,s}}function Y2(e,t,n,r,s,a,u){return{name:e,keyPath:t,unique:n,multi:r,auto:s,compound:a,src:(n&&!u?"&":"")+(r?"*":"")+(s?"++":"")+F3(t)}}function F3(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function j3(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:m3(n,r=>[r.name,r])}}let Af=e=>{try{return e.only([[]]),Af=()=>[[]],[[]]}catch{return Af=()=>Al,Al}};function K2(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>Ba(r,t)}(e):t=>Ba(t,e)}function X5(e){return[].slice.call(e)}let zA=0;function Hc(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function qA(e,t,n){function r(p){if(p.type===3)return null;if(p.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:m,upper:w,lowerOpen:v,upperOpen:E}=p;return m===void 0?w===void 0?null:t.upperBound(w,!!E):w===void 0?t.lowerBound(m,!!v):t.bound(m,w,!!v,!!E)}const{schema:s,hasGetAll:a}=function(p,m){const w=X5(p.objectStoreNames);return{schema:{name:p.name,tables:w.map(v=>m.objectStore(v)).map(v=>{const{keyPath:E,autoIncrement:A}=v,R=vi(E),k=E==null,M={},S={name:v.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:k,compound:R,keyPath:E,autoIncrement:A,unique:!0,extractKey:K2(E)},indexes:X5(v.indexNames).map(I=>v.index(I)).map(I=>{const{name:L,unique:q,multiEntry:$,keyPath:Q}=I,D={name:L,compound:vi(Q),keyPath:Q,unique:q,multiEntry:$,extractKey:K2(Q)};return M[Hc(Q)]=D,D}),getIndexByKeyPath:I=>M[Hc(I)]};return M[":id"]=S.primaryKey,E!=null&&(M[Hc(E)]=S.primaryKey),S})},hasGetAll:w.length>0&&"getAll"in m.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),u=s.tables.map(p=>function(m){const w=m.name;return{name:w,schema:m,mutate:function({trans:v,type:E,keys:A,values:R,range:k}){return new Promise((M,S)=>{M=Jn(M);const I=v.objectStore(w),L=I.keyPath==null,q=E==="put"||E==="add";if(!q&&E!=="delete"&&E!=="deleteRange")throw new Error("Invalid operation type: "+E);const{length:$}=A||R||{length:1};if(A&&R&&A.length!==R.length)throw new Error("Given keys array must have same length as given values array.");if($===0)return M({numFailures:0,failures:{},results:[],lastResult:void 0});let Q;const D=[],Y=[];let Z=0;const ye=X=>{++Z,vf(X)};if(E==="deleteRange"){if(k.type===4)return M({numFailures:Z,failures:Y,results:[],lastResult:void 0});k.type===3?D.push(Q=I.clear()):D.push(Q=I.delete(r(k)))}else{const[X,ae]=q?L?[R,A]:[R,null]:[A,null];if(q)for(let oe=0;oe<$;++oe)D.push(Q=ae&&ae[oe]!==void 0?I[E](X[oe],ae[oe]):I[E](X[oe])),Q.onerror=ye;else for(let oe=0;oe<$;++oe)D.push(Q=I[E](X[oe])),Q.onerror=ye}const W=X=>{const ae=X.target.result;D.forEach((oe,se)=>oe.error!=null&&(Y[se]=oe.error)),M({numFailures:Z,failures:Y,results:E==="delete"?A:D.map(oe=>oe.result),lastResult:ae})};Q.onerror=X=>{ye(X),W(X)},Q.onsuccess=W})},getMany:({trans:v,keys:E})=>new Promise((A,R)=>{A=Jn(A);const k=v.objectStore(w),M=E.length,S=new Array(M);let I,L=0,q=0;const $=D=>{const Y=D.target;S[Y._pos]=Y.result,++q===L&&A(S)},Q=aa(R);for(let D=0;D<M;++D)E[D]!=null&&(I=k.get(E[D]),I._pos=D,I.onsuccess=$,I.onerror=Q,++L);L===0&&A(S)}),get:({trans:v,key:E})=>new Promise((A,R)=>{A=Jn(A);const k=v.objectStore(w).get(E);k.onsuccess=M=>A(M.target.result),k.onerror=aa(R)}),query:function(v){return E=>new Promise((A,R)=>{A=Jn(A);const{trans:k,values:M,limit:S,query:I}=E,L=S===1/0?void 0:S,{index:q,range:$}=I,Q=k.objectStore(w),D=q.isPrimaryKey?Q:Q.index(q.name),Y=r($);if(S===0)return A({result:[]});if(v){const Z=M?D.getAll(Y,L):D.getAllKeys(Y,L);Z.onsuccess=ye=>A({result:ye.target.result}),Z.onerror=aa(R)}else{let Z=0;const ye=M||!("openKeyCursor"in D)?D.openCursor(Y):D.openKeyCursor(Y),W=[];ye.onsuccess=X=>{const ae=ye.result;return ae?(W.push(M?ae.value:ae.primaryKey),++Z===S?A({result:W}):void ae.continue()):A({result:W})},ye.onerror=aa(R)}})}(a),openCursor:function({trans:v,values:E,query:A,reverse:R,unique:k}){return new Promise((M,S)=>{M=Jn(M);const{index:I,range:L}=A,q=v.objectStore(w),$=I.isPrimaryKey?q:q.index(I.name),Q=R?k?"prevunique":"prev":k?"nextunique":"next",D=E||!("openKeyCursor"in $)?$.openCursor(r(L),Q):$.openKeyCursor(r(L),Q);D.onerror=aa(S),D.onsuccess=Jn(Y=>{const Z=D.result;if(!Z)return void M(null);Z.___id=++zA,Z.done=!1;const ye=Z.continue.bind(Z);let W=Z.continuePrimaryKey;W&&(W=W.bind(Z));const X=Z.advance.bind(Z),ae=()=>{throw new Error("Cursor not stopped")};Z.trans=v,Z.stop=Z.continue=Z.continuePrimaryKey=Z.advance=()=>{throw new Error("Cursor not started")},Z.fail=Jn(S),Z.next=function(){let oe=1;return this.start(()=>oe--?this.continue():this.stop()).then(()=>this)},Z.start=oe=>{const se=new Promise((ve,fe)=>{ve=Jn(ve),D.onerror=aa(fe),Z.fail=fe,Z.stop=Ae=>{Z.stop=Z.continue=Z.continuePrimaryKey=Z.advance=ae,ve(Ae)}}),Ne=()=>{if(D.result)try{oe()}catch(ve){Z.fail(ve)}else Z.done=!0,Z.start=()=>{throw new Error("Cursor behind last entry")},Z.stop()};return D.onsuccess=Jn(ve=>{D.onsuccess=Ne,Ne()}),Z.continue=ye,Z.continuePrimaryKey=W,Z.advance=X,Ne(),se},M(Z)},S)})},count({query:v,trans:E}){const{index:A,range:R}=v;return new Promise((k,M)=>{const S=E.objectStore(w),I=A.isPrimaryKey?S:S.index(A.name),L=r(R),q=L?I.count(L):I.count();q.onsuccess=Jn($=>k($.target.result)),q.onerror=aa(M)})}}}(p)),h={};return u.forEach(p=>h[p.name]=p),{stack:"dbcore",transaction:e.transaction.bind(e),table(p){if(!h[p])throw new Error(`Table '${p}' not found`);return h[p]},MIN_KEY:-1/0,MAX_KEY:Af(t),schema:s}}function Z2({_novip:e},t){const n=t.db,r=function(s,a,{IDBKeyRange:u,indexedDB:h},p){return{dbcore:function(w,v){return v.reduce((E,{create:A})=>({...E,...A(E)}),w)}(qA(a,u,p),s.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(s=>{const a=s.name;e.core.schema.tables.some(u=>u.name===a)&&(s.core=e.core.table(a),e[a]instanceof e.Table&&(e[a].core=s.core))})}function Mh({_novip:e},t,n,r){n.forEach(s=>{const a=r[s];t.forEach(u=>{const h=Cg(u,s);(!h||"value"in h&&h.value===void 0)&&(u===e.Transaction.prototype||u instanceof e.Transaction?Ma(u,s,{get(){return this.table(s)},set(p){d3(this,s,{value:p,writable:!0,configurable:!0,enumerable:!0})}}):u[s]=new e.Table(s,a))})})}function Q2({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function VA(e,t){return e._cfg.version-t._cfg.version}function WA(e,t,n,r){const s=e._dbSchema,a=e._createTransaction("readwrite",e._storeNames,s);a.create(n),a._completion.catch(r);const u=a._reject.bind(a),h=It.transless||It;Mo(()=>{It.trans=a,It.transless=h,t===0?(kr(s).forEach(p=>{x0(n,p,s[p].primKey,s[p].indexes)}),Z2(e,n),ht.follow(()=>e.on.populate.fire(a)).catch(u)):function({_novip:p},m,w,v){const E=[],A=p._versions;let R=p._dbSchema=$2(p,p.idbdb,v),k=!1;const M=A.filter(I=>I._cfg.version>=m);function S(){return E.length?ht.resolve(E.shift()(w.idbtrans)).then(S):ht.resolve()}return M.forEach(I=>{E.push(()=>{const L=R,q=I._cfg.dbschema;ep(p,L,v),ep(p,q,v),R=p._dbSchema=q;const $=U3(L,q);$.add.forEach(D=>{x0(v,D[0],D[1].primKey,D[1].indexes)}),$.change.forEach(D=>{if(D.recreate)throw new Dt.Upgrade("Not yet support for changing primary key");{const Y=v.objectStore(D.name);D.add.forEach(Z=>J2(Y,Z)),D.change.forEach(Z=>{Y.deleteIndex(Z.name),J2(Y,Z)}),D.del.forEach(Z=>Y.deleteIndex(Z))}});const Q=I._cfg.contentUpgrade;if(Q&&I._cfg.version>m){Z2(p,v),w._memoizedTables={},k=!0;let D=x3(q);$.del.forEach(W=>{D[W]=L[W]}),Q2(p,[p.Transaction.prototype]),Mh(p,[p.Transaction.prototype],kr(D),D),w.schema=D;const Y=Eg(Q);let Z;Y&&Ju();const ye=ht.follow(()=>{if(Z=Q(w),Z&&Y){var W=qa.bind(null,null);Z.then(W,W)}});return Z&&typeof Z.then=="function"?ht.resolve(Z):ye.then(()=>Z)}}),E.push(L=>{(!k||!OA)&&function(q,$){[].slice.call($.db.objectStoreNames).forEach(Q=>q[Q]==null&&$.db.deleteObjectStore(Q))}(I._cfg.dbschema,L),Q2(p,[p.Transaction.prototype]),Mh(p,[p.Transaction.prototype],p._storeNames,p._dbSchema),w.schema=p._dbSchema})}),S().then(()=>{var I,L;L=v,kr(I=R).forEach(q=>{L.db.objectStoreNames.contains(q)||x0(L,q,I[q].primKey,I[q].indexes)})})}(e,t,a,n).catch(u)})}function U3(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const s=e[r],a=t[r];if(s){const u={name:r,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||s.primKey.auto!==a.primKey.auto&&!cd)u.recreate=!0,n.change.push(u);else{const h=s.idxByName,p=a.idxByName;let m;for(m in h)p[m]||u.del.push(m);for(m in p){const w=h[m],v=p[m];w?w.src!==v.src&&u.change.push(v):u.add.push(v)}(u.del.length>0||u.add.length>0||u.change.length>0)&&n.change.push(u)}}else n.add.push([r,a])}return n}function x0(e,t,n,r){const s=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(a=>J2(s,a)),s}function J2(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function $2(e,t,n){const r={};return kh(t.objectStoreNames,0).forEach(s=>{const a=n.objectStore(s);let u=a.keyPath;const h=Y2(F3(u),u||"",!1,!1,!!a.autoIncrement,u&&typeof u!="string",!0),p=[];for(let w=0;w<a.indexNames.length;++w){const v=a.index(a.indexNames[w]);u=v.keyPath;var m=Y2(v.name,u,!!v.unique,!!v.multiEntry,!1,u&&typeof u!="string",!1);p.push(m)}r[s]=j3(s,h,p)}),r}function ep({_novip:e},t,n){const r=n.db.objectStoreNames;for(let s=0;s<r.length;++s){const a=r[s],u=n.objectStore(a);e._hasGetAll="getAll"in u;for(let h=0;h<u.indexNames.length;++h){const p=u.indexNames[h],m=u.index(p).keyPath,w=typeof m=="string"?m:"["+kh(m).join("+")+"]";if(t[a]){const v=t[a].idxByName[w];v&&(v.name=p,delete t[a].idxByName[w],t[a].idxByName[p]=v)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Wn.WorkerGlobalScope&&Wn instanceof Wn.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class HA{_parseStoresSpec(t,n){kr(t).forEach(r=>{if(t[r]!==null){var s=t[r].split(",").map((u,h)=>{const p=(u=u.trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(p)?p.match(/^\[(.*)\]$/)[1].split("+"):p;return Y2(p,m||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),vi(m),h===0)}),a=s.shift();if(a.multi)throw new Dt.Schema("Primary key cannot be multi-valued");s.forEach(u=>{if(u.auto)throw new Dt.Schema("Only primary key can be marked as autoIncrement (++)");if(!u.keyPath)throw new Dt.Schema("Index must have a name and cannot be an empty string")}),n[r]=j3(r,a,s)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?Li(this._cfg.storesSource,t):t;const r=n._versions,s={};let a={};return r.forEach(u=>{Li(s,u._cfg.storesSource),a=u._cfg.dbschema={},u._parseStoresSpec(s,a)}),n._dbSchema=a,Q2(n,[n._allTables,n,n.Transaction.prototype]),Mh(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],kr(a),a),n._storeNames=kr(a),this}upgrade(t){return this._cfg.contentUpgrade=_g(this._cfg.contentUpgrade||kn,t),this}}function Lg(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new _l(fd,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Pg(e){return e&&typeof e.databases=="function"}function tp(e){return Mo(function(){return It.letThrough=!0,e()})}function GA(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function XA(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?Fr(t.dbOpenError):e);ha&&(t.openCanceller._stackHolder=jl()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function s(){if(t.openCanceller!==r)throw new Dt.DatabaseClosed("db.open() was cancelled")}let a=t.dbReadyResolve,u=null,h=!1;const p=()=>new ht((m,w)=>{if(s(),!n)throw new Dt.MissingAPI;const v=e.name,E=t.autoSchema?n.open(v):n.open(v,Math.round(10*e.verno));if(!E)throw new Dt.MissingAPI;E.onerror=aa(w),E.onblocked=Jn(e._fireOnBlocked),E.onupgradeneeded=Jn(A=>{if(u=E.transaction,t.autoSchema&&!e._options.allowEmptyDB){E.onerror=vf,u.abort(),E.result.close();const k=n.deleteDatabase(v);k.onsuccess=k.onerror=Jn(()=>{w(new Dt.NoSuchDatabase(`Database ${v} doesnt exist`))})}else{u.onerror=aa(w);var R=A.oldVersion>Math.pow(2,62)?0:A.oldVersion;h=R<1,e._novip.idbdb=E.result,WA(e,R/10,u,w)}},w),E.onsuccess=Jn(()=>{u=null;const A=e._novip.idbdb=E.result,R=kh(A.objectStoreNames);if(R.length>0)try{const M=A.transaction((k=R).length===1?k[0]:k,"readonly");t.autoSchema?function({_novip:S},I,L){S.verno=I.version/10;const q=S._dbSchema=$2(0,I,L);S._storeNames=kh(I.objectStoreNames,0),Mh(S,[S._allTables],kr(q),q)}(e,A,M):(ep(e,e._dbSchema,M),function(S,I){const L=U3($2(0,S.idbdb,I),S._dbSchema);return!(L.add.length||L.change.some(q=>q.add.length||q.change.length))}(e,M)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Z2(e,M)}catch{}var k;Vc.push(e),A.onversionchange=Jn(M=>{t.vcFired=!0,e.on("versionchange").fire(M)}),A.onclose=Jn(M=>{e.on("close").fire(M)}),h&&function({indexedDB:M,IDBKeyRange:S},I){!Pg(M)&&I!==fd&&Lg(M,S).put({name:I}).catch(kn)}(e._deps,v),m()},w)}).catch(m=>m&&m.name==="UnknownError"&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),p()):ht.reject(m));return ht.race([r,(typeof navigator>"u"?ht.resolve():GA()).then(p)]).then(()=>(s(),t.onReadyBeingFired=[],ht.resolve(tp(()=>e.on.ready.fire(e.vip))).then(function m(){if(t.onReadyBeingFired.length>0){let w=t.onReadyBeingFired.reduce(_g,kn);return t.onReadyBeingFired=[],ht.resolve(tp(()=>w(e.vip))).then(m)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(m=>{t.dbOpenError=m;try{u&&u.abort()}catch{}return r===t.openCanceller&&e._close(),Fr(m)}).finally(()=>{t.openComplete=!0,a()})}function np(e){var t=a=>e.next(a),n=s(t),r=s(a=>e.throw(a));function s(a){return u=>{var h=a(u),p=h.value;return h.done?p:p&&typeof p.then=="function"?p.then(n,r):vi(p)?Promise.all(p).then(n,r):n(p)}}return s(t)()}function YA(e,t,n){var r=arguments.length;if(r<2)throw new Dt.InvalidArgument("Too few arguments");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];return n=s.pop(),[e,y3(s),n]}function z3(e,t,n,r,s){return ht.resolve().then(()=>{const a=It.transless||It,u=e._createTransaction(t,n,e._dbSchema,r),h={trans:u,transless:a};if(r)u.idbtrans=r.idbtrans;else try{u.create(),e._state.PR1398_maxLoop=3}catch(v){return v.name===Sg.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>z3(e,t,n,null,s))):Fr(v)}const p=Eg(s);let m;p&&Ju();const w=ht.follow(()=>{if(m=s.call(u,u),m)if(p){var v=qa.bind(null,null);m.then(v,v)}else typeof m.next=="function"&&typeof m.throw=="function"&&(m=np(m))},h);return(m&&typeof m.then=="function"?ht.resolve(m).then(v=>u.active?v:Fr(new Dt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):w.then(()=>m)).then(v=>(r&&u._resolve(),u._completion.then(()=>v))).catch(v=>(u._reject(v),Fr(v)))})}function _1(e,t,n){const r=vi(e)?e.slice():[e];for(let s=0;s<n;++s)r.push(t);return r}const KA={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,s={},a=[];function u(w,v,E){const A=Hc(w),R=s[A]=s[A]||[],k=w==null?0:typeof w=="string"?1:w.length,M=v>0,S={...E,isVirtual:M,keyTail:v,keyLength:k,extractKey:K2(w),unique:!M&&E.unique};return R.push(S),S.isPrimaryKey||a.push(S),k>1&&u(k===2?w[0]:w.slice(0,k-1),v+1,E),R.sort((I,L)=>I.keyTail-L.keyTail),S}const h=u(r.primaryKey.keyPath,0,r.primaryKey);s[":id"]=[h];for(const w of r.indexes)u(w.keyPath,0,w);function p(w){const v=w.query.index;return v.isVirtual?{...w,query:{index:v,range:(E=w.query.range,A=v.keyTail,{type:E.type===1?2:E.type,lower:_1(E.lower,E.lowerOpen?e.MAX_KEY:e.MIN_KEY,A),lowerOpen:!0,upper:_1(E.upper,E.upperOpen?e.MIN_KEY:e.MAX_KEY,A),upperOpen:!0})}}:w;var E,A}return{...n,schema:{...r,primaryKey:h,indexes:a,getIndexByKeyPath:function(w){const v=s[Hc(w)];return v&&v[0]}},count:w=>n.count(p(w)),query:w=>n.query(p(w)),openCursor(w){const{keyTail:v,isVirtual:E,keyLength:A}=w.query.index;return E?n.openCursor(p(w)).then(R=>R&&function(k){return Object.create(k,{continue:{value:function(S){S!=null?k.continue(_1(S,w.reverse?e.MAX_KEY:e.MIN_KEY,v)):w.unique?k.continue(k.key.slice(0,A).concat(w.reverse?e.MIN_KEY:e.MAX_KEY,v)):k.continue()}},continuePrimaryKey:{value(S,I){k.continuePrimaryKey(_1(S,e.MAX_KEY,v),I)}},primaryKey:{get:()=>k.primaryKey},key:{get(){const S=k.key;return A===1?S[0]:S.slice(0,A)}},value:{get:()=>k.value}})}(R)):n.openCursor(w)}}}}}};function Og(e,t,n,r){return n=n||{},r=r||"",kr(e).forEach(s=>{if(ls(t,s)){var a=e[s],u=t[s];if(typeof a=="object"&&typeof u=="object"&&a&&u){const h=D2(a);h!==D2(u)?n[r+s]=t[s]:h==="Object"?Og(a,u,n,r+s+"."):a!==u&&(n[r+s]=t[s])}else a!==u&&(n[r+s]=t[s])}else n[r+s]=void 0}),kr(t).forEach(s=>{ls(e,s)||(n[r+s]=t[s])}),n}const ZA={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(a){const u=It.trans,{deleting:h,creating:p,updating:m}=u.table(t).hook;switch(a.type){case"add":if(p.fire===kn)break;return u._promise("readwrite",()=>w(a),!0);case"put":if(p.fire===kn&&m.fire===kn)break;return u._promise("readwrite",()=>w(a),!0);case"delete":if(h.fire===kn)break;return u._promise("readwrite",()=>w(a),!0);case"deleteRange":if(h.fire===kn)break;return u._promise("readwrite",()=>function(E){return v(E.trans,E.range,1e4)}(a),!0)}return n.mutate(a);function w(E){const A=It.trans,R=E.keys||function(k,M){return M.type==="delete"?M.keys:M.keys||M.values.map(k.extractKey)}(r,E);if(!R)throw new Error("Keys missing");return(E=E.type==="add"||E.type==="put"?{...E,keys:R}:{...E}).type!=="delete"&&(E.values=[...E.values]),E.keys&&(E.keys=[...E.keys]),function(k,M,S){return M.type==="add"?Promise.resolve([]):k.getMany({trans:M.trans,keys:S,cache:"immutable"})}(n,E,R).then(k=>{const M=R.map((S,I)=>{const L=k[I],q={onerror:null,onsuccess:null};if(E.type==="delete")h.fire.call(q,S,L,A);else if(E.type==="add"||L===void 0){const $=p.fire.call(q,S,E.values[I],A);S==null&&$!=null&&(S=$,E.keys[I]=S,r.outbound||Hs(E.values[I],r.keyPath,S))}else{const $=Og(L,E.values[I]),Q=m.fire.call(q,$,S,L,A);if(Q){const D=E.values[I];Object.keys(Q).forEach(Y=>{ls(D,Y)?D[Y]=Q[Y]:Hs(D,Y,Q[Y])})}}return q});return n.mutate(E).then(({failures:S,results:I,numFailures:L,lastResult:q})=>{for(let $=0;$<R.length;++$){const Q=I?I[$]:R[$],D=M[$];Q==null?D.onerror&&D.onerror(S[$]):D.onsuccess&&D.onsuccess(E.type==="put"&&k[$]?E.values[$]:Q)}return{failures:S,results:I,numFailures:L,lastResult:q}}).catch(S=>(M.forEach(I=>I.onerror&&I.onerror(S)),Promise.reject(S)))})}function v(E,A,R){return n.query({trans:E,values:!1,query:{index:r,range:A},limit:R}).then(({result:k})=>w({type:"delete",keys:k,trans:E}).then(M=>M.numFailures>0?Promise.reject(M.failures[0]):k.length<R?{failures:[],numFailures:0,lastResult:void 0}:v(E,{...A,lower:k[k.length-1],lowerOpen:!0},R)))}}}}})};function q3(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let s=0,a=0;s<t.keys.length&&a<e.length;++s)Ti(t.keys[s],e[a])===0&&(r.push(n?Of(t.values[s]):t.values[s]),++a);return r.length===e.length?r:null}catch{return null}}const QA={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const s=q3(r.keys,r.trans._cache,r.cache==="clone");return s?ht.resolve(s):n.getMany(r).then(a=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?Of(a):a},a))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function Rg(e){return!("from"in e)}const ka=function(e,t){if(!this){const n=new ka;return e&&"d"in e&&Li(n,e),n}Li(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Cf(e,t,n){const r=Ti(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Rg(e))return Li(e,{from:t,to:n,d:1});const s=e.l,a=e.r;if(Ti(n,e.from)<0)return s?Cf(s,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Y5(e);if(Ti(t,e.to)>0)return a?Cf(a,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Y5(e);Ti(t,e.from)<0&&(e.from=t,e.l=null,e.d=a?a.d+1:1),Ti(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const u=!e.r;s&&!e.l&&Bh(e,s),a&&u&&Bh(e,a)}function Bh(e,t){Rg(t)||function n(r,{from:s,to:a,l:u,r:h}){Cf(r,s,a),u&&n(r,u),h&&n(r,h)}(e,t)}function JA(e,t){const n=rp(t);let r=n.next();if(r.done)return!1;let s=r.value;const a=rp(e);let u=a.next(s.from),h=u.value;for(;!r.done&&!u.done;){if(Ti(h.from,s.to)<=0&&Ti(h.to,s.from)>=0)return!0;Ti(s.from,h.from)<0?s=(r=n.next(h.from)).value:h=(u=a.next(s.from)).value}return!1}function rp(e){let t=Rg(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Ti(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Ti(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Y5(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),s=r>1?"r":r<-1?"l":"";if(s){const a=s==="r"?"l":"r",u={...e},h=e[s];e.from=h.from,e.to=h.to,e[s]=h[s],u[s]=h[a],e[a]=u,u.d=K5(u)}e.d=K5(e)}function K5({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}zu(ka.prototype,{add(e){return Bh(this,e),this},addKey(e){return Cf(this,e,e),this},addKeys(e){return e.forEach(t=>Cf(this,t,t)),this},[M2](){return rp(this)}});const $A={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new ka(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const s=e.table(r),{schema:a}=s,{primaryKey:u}=a,{extractKey:h,outbound:p}=u,m={...s,mutate:E=>{const A=E.trans,R=A.mutatedParts||(A.mutatedParts={}),k=Q=>{const D=`idb://${t}/${r}/${Q}`;return R[D]||(R[D]=new ka)},M=k(""),S=k(":dels"),{type:I}=E;let[L,q]=E.type==="deleteRange"?[E.range]:E.type==="delete"?[E.keys]:E.values.length<50?[[],E.values]:[];const $=E.trans._cache;return s.mutate(E).then(Q=>{if(vi(L)){I!=="delete"&&(L=Q.results),M.addKeys(L);const D=q3(L,$);D||I==="add"||S.addKeys(L),(D||q)&&function(Y,Z,ye,W){function X(ae){const oe=Y(ae.name||"");function se(ve){return ve!=null?ae.extractKey(ve):null}const Ne=ve=>ae.multiEntry&&vi(ve)?ve.forEach(fe=>oe.addKey(fe)):oe.addKey(ve);(ye||W).forEach((ve,fe)=>{const Ae=ye&&se(ye[fe]),Se=W&&se(W[fe]);Ti(Ae,Se)!==0&&(Ae!=null&&Ne(Ae),Se!=null&&Ne(Se))})}Z.indexes.forEach(X)}(k,a,D,q)}else if(L){const D={from:L.lower,to:L.upper};S.add(D),M.add(D)}else M.add(n),S.add(n),a.indexes.forEach(D=>k(D.name).add(n));return Q})}},w=({query:{index:E,range:A}})=>{var R,k;return[E,new ka((R=A.lower)!==null&&R!==void 0?R:e.MIN_KEY,(k=A.upper)!==null&&k!==void 0?k:e.MAX_KEY)]},v={get:E=>[u,new ka(E.key)],getMany:E=>[u,new ka().addKeys(E.keys)],count:w,query:w,openCursor:w};return kr(v).forEach(E=>{m[E]=function(A){const{subscr:R}=It;if(R){const k=q=>{const $=`idb://${t}/${r}/${q}`;return R[$]||(R[$]=new ka)},M=k(""),S=k(":dels"),[I,L]=v[E](A);if(k(I.name||"").add(L),!I.isPrimaryKey){if(E!=="count"){const q=E==="query"&&p&&A.values&&s.query({...A,values:!1});return s[E].apply(this,arguments).then($=>{if(E==="query"){if(p&&A.values)return q.then(({result:D})=>(M.addKeys(D),$));const Q=A.values?$.result.map(h):$.result;A.values?M.addKeys(Q):S.addKeys(Q)}else if(E==="openCursor"){const Q=$,D=A.values;return Q&&Object.create(Q,{key:{get:()=>(S.addKey(Q.primaryKey),Q.key)},primaryKey:{get(){const Y=Q.primaryKey;return S.addKey(Y),Y}},value:{get:()=>(D&&M.addKey(Q.primaryKey),Q.value)}})}return $})}S.add(n)}}return s[E].apply(this,arguments)}}),m}}}};class _l{constructor(t,n){this._middlewares={},this.verno=0;const r=_l.dependencies;this._options=n={addons:_l.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:s}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:kn,dbReadyPromise:null,cancelOpen:kn,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var u;a.dbReadyPromise=new ht(h=>{a.dbReadyResolve=h}),a.openCanceller=new ht((h,p)=>{a.cancelOpen=p}),this._state=a,this.name=t,this.on=Wc(this,"populate","blocked","versionchange","close",{ready:[_g,kn]}),this.on.ready.subscribe=p3(this.on.ready.subscribe,h=>(p,m)=>{_l.vip(()=>{const w=this._state;if(w.openComplete)w.dbOpenError||ht.resolve().then(p),m&&h(p);else if(w.onReadyBeingFired)w.onReadyBeingFired.push(p),m&&h(p);else{h(p);const v=this;m||h(function E(){v.on.ready.unsubscribe(p),v.on.ready.unsubscribe(E)})}})}),this.Collection=(u=this,wc(MA.prototype,function(h,p){this.db=u;let m=D3,w=null;if(p)try{m=p()}catch(R){w=R}const v=h._ctx,E=v.table,A=E.hook.reading.fire;this._ctx={table:E,index:v.index,isPrimKey:!v.index||E.schema.primKey.keyPath&&v.index===E.schema.primKey.name,range:m,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:w,or:v.or,valueMapper:A!==yf?A:null}})),this.Table=function(h){return wc(DA.prototype,function(p,m,w){this.db=h,this._tx=w,this.name=p,this.schema=m,this.hook=h._allTables[p]?h._allTables[p].hook:Wc(null,{creating:[CA,kn],reading:[AA,yf],updating:[NA,kn],deleting:[EA,kn]})})}(this),this.Transaction=function(h){return wc(UA.prototype,function(p,m,w,v,E){this.db=h,this.mode=p,this.storeNames=m,this.schema=w,this.chromeTransactionDurability=v,this.idbtrans=null,this.on=Wc(this,"complete","error","abort"),this.parent=E||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ht((A,R)=>{this._resolve=A,this._reject=R}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},A=>{var R=this.active;return this.active=!1,this.on.error.fire(A),this.parent?this.parent._reject(A):R&&this.idbtrans&&this.idbtrans.abort(),Fr(A)})})}(this),this.Version=function(h){return wc(HA.prototype,function(p){this.db=h,this._cfg={version:p,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(h){return wc(B3.prototype,function(p,m,w){this.db=h,this._ctx={table:p,index:m===":id"?null:m,or:w};const v=h._deps.indexedDB;if(!v)throw new Dt.MissingAPI;this._cmp=this._ascending=v.cmp.bind(v),this._descending=(E,A)=>v.cmp(A,E),this._max=(E,A)=>v.cmp(E,A)>0?E:A,this._min=(E,A)=>v.cmp(E,A)<0?E:A,this._IDBKeyRange=h._deps.IDBKeyRange})}(this),this.on("versionchange",h=>{h.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",h=>{!h.newVersion||h.newVersion<h.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${h.oldVersion/10}`)}),this._maxKey=Af(n.IDBKeyRange),this._createTransaction=(h,p,m,w)=>new this.Transaction(h,p,m,this._options.chromeTransactionDurability,w),this._fireOnBlocked=h=>{this.on("blocked").fire(h),Vc.filter(p=>p.name===this.name&&p!==this&&!p._state.vcFired).map(p=>p.on("versionchange").fire(h))},this.use(KA),this.use(ZA),this.use($A),this.use(QA),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(h=>h(this))}version(t){if(isNaN(t)||t<.1)throw new Dt.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Dt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(s=>s._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(VA),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||It.letThrough||this._vip)?t():new ht((n,r)=>{if(this._state.openComplete)return r(new Dt.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new Dt.DatabaseClosed);this.open().catch(kn)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:s}){s&&this.unuse({stack:t,name:s});const a=this._middlewares[t]||(this._middlewares[t]=[]);return a.push({stack:t,create:n,level:r??10,name:s}),a.sort((u,h)=>u.level-h.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(s=>r?s.create!==r:!!n&&s.name!==n)),this}open(){return XA(this)}_close(){const t=this._state,n=Vc.indexOf(this);if(n>=0&&Vc.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new ht(r=>{t.dbReadyResolve=r}),t.openCanceller=new ht((r,s)=>{t.cancelOpen=s})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Dt.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new ht((r,s)=>{const a=()=>{this.close();var u=this._deps.indexedDB.deleteDatabase(this.name);u.onsuccess=Jn(()=>{(function({indexedDB:h,IDBKeyRange:p},m){!Pg(h)&&m!==fd&&Lg(h,p).delete(m).catch(kn)})(this._deps,this.name),r()}),u.onerror=aa(s),u.onblocked=this._fireOnBlocked};if(t)throw new Dt.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(a):a()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return kr(this._allTables).map(t=>this._allTables[t])}transaction(){const t=YA.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let s=It.trans;s&&s.db===this&&t.indexOf("!")===-1||(s=null);const a=t.indexOf("?")!==-1;let u,h;t=t.replace("!","").replace("?","");try{if(h=n.map(m=>{var w=m instanceof this.Table?m.name:m;if(typeof w!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return w}),t=="r"||t===h0)u=h0;else{if(t!="rw"&&t!=d0)throw new Dt.InvalidArgument("Invalid transaction mode: "+t);u=d0}if(s){if(s.mode===h0&&u===d0){if(!a)throw new Dt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&h.forEach(m=>{if(s&&s.storeNames.indexOf(m)===-1){if(!a)throw new Dt.SubTransaction("Table "+m+" not included in parent transaction.");s=null}}),a&&s&&!s.active&&(s=null)}}catch(m){return s?s._promise(null,(w,v)=>{v(m)}):Fr(m)}const p=z3.bind(null,this,u,h,s,r);return s?s._promise(u,p,"lock"):It.trans?$u(It.transless,()=>this._whenReady(p)):this._whenReady(p)}table(t){if(!ls(this._allTables,t))throw new Dt.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const eC=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class tC{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[eC](){return this}}function V3(e,t){return kr(t).forEach(n=>{Bh(e[n]||(e[n]=new ka),t[n])}),e}function W3(e){let t,n=!1;const r=new tC(s=>{const a=Eg(e);let u=!1,h={},p={};const m={get closed(){return u},unsubscribe:()=>{u=!0,Fo.storagemutated.unsubscribe(A)}};s.start&&s.start(m);let w=!1,v=!1;function E(){return kr(p).some(k=>h[k]&&JA(h[k],p[k]))}const A=k=>{V3(h,k),E()&&R()},R=()=>{if(w||u)return;h={};const k={},M=function(S){a&&Ju();const I=()=>Mo(e,{subscr:S,trans:null}),L=It.trans?$u(It.transless,I):I();return a&&L.then(qa,qa),L}(k);v||(Fo(bf,A),v=!0),w=!0,Promise.resolve(M).then(S=>{n=!0,t=S,w=!1,u||(E()?R():(h={},p=k,s.next&&s.next(S)))},S=>{w=!1,n=!1,s.error&&s.error(S),m.unsubscribe()})};return R(),m});return r.hasValue=()=>n,r.getValue=()=>t,r}let ip;try{ip={indexedDB:Wn.indexedDB||Wn.mozIndexedDB||Wn.webkitIndexedDB||Wn.msIndexedDB,IDBKeyRange:Wn.IDBKeyRange||Wn.webkitIDBKeyRange}}catch{ip={indexedDB:null,IDBKeyRange:null}}const hl=_l;function eh(e){let t=Ra;try{Ra=!0,Fo.storagemutated.fire(e)}finally{Ra=t}}zu(hl,{...Y1,delete:e=>new hl(e,{addons:[]}).delete(),exists:e=>new hl(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return Pg(t)?Promise.resolve(t.databases()).then(r=>r.map(s=>s.name).filter(s=>s!==fd)):Lg(t,n).toCollection().primaryKeys()}(hl.dependencies).then(e)}catch{return Fr(new Dt.MissingAPI)}},defineClass:()=>function(e){Li(this,e)},ignoreTransaction:e=>It.trans?$u(It.transless,e):e(),vip:tp,async:function(e){return function(){try{var t=np(e.apply(this,arguments));return t&&typeof t.then=="function"?t:ht.resolve(t)}catch(n){return Fr(n)}}},spawn:function(e,t,n){try{var r=np(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:ht.resolve(r)}catch(s){return Fr(s)}},currentTransaction:{get:()=>It.trans||null},waitFor:function(e,t){const n=ht.resolve(typeof e=="function"?hl.ignoreTransaction(e):e).timeout(t||6e4);return It.trans?It.trans.waitFor(n):n},Promise:ht,debug:{get:()=>ha,set:e=>{v3(e,e==="dexie"?()=>!0:R3)}},derive:_u,extend:Li,props:zu,override:p3,Events:Wc,on:Fo,liveQuery:W3,extendObservabilitySet:V3,getByKeyPath:Ba,setByKeyPath:Hs,delByKeyPath:function(e,t){typeof t=="string"?Hs(e,t,void 0):"length"in t&&[].map.call(t,function(n){Hs(e,n,void 0)})},shallowClone:x3,deepClone:Of,getObjectDiff:Og,cmp:Ti,asap:g3,minKey:X2,addons:[],connections:Vc,errnames:Sg,dependencies:ip,semVer:q5,version:q5.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),hl.maxKey=Af(hl.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Fo(bf,e=>{if(!Ra){let t;cd?(t=document.createEvent("CustomEvent"),t.initCustomEvent(wo,!0,!0,e)):t=new CustomEvent(wo,{detail:e}),Ra=!0,dispatchEvent(t),Ra=!1}}),addEventListener(wo,({detail:e})=>{Ra||eh(e)}));let Ra=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(wo);typeof e.unref=="function"&&e.unref(),Fo(bf,t=>{Ra||e.postMessage(t)}),e.onmessage=t=>{t.data&&eh(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Fo(bf,t=>{try{Ra||(typeof localStorage<"u"&&localStorage.setItem(wo,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:wo,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===wo){const n=JSON.parse(t.newValue);n&&eh(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===wo&&eh(t.changedParts)})}ht.rejectionMapper=function(e,t){if(!e||e instanceof Iu||e instanceof TypeError||e instanceof SyntaxError||!e.name||!F5[e.name])return e;var n=new F5[e.name](t||e.message,e);return"stack"in e&&Ma(n,"stack",{get:function(){return this.inner.stack}}),n},v3(ha,R3);const Yr=new _l("EventsXDB");Yr.version(1).stores({users:"++id, email, role",events:"++id, title, date, ownerId",attendees:"++id, eventId, name, email, contact, attended"});Yr.on("ready",async()=>{await Yr.users.where("email").equals("Robocorpsg@gmail.com").first()||await Yr.users.add({email:"Robocorpsg@gmail.com",password:"Admin@7990",role:"superadmin",contact:"+65 0000 0000",createdAt:new Date().toISOString()}),await Yr.events.count()===0&&await nC()});const nC=async()=>{const e=[{id:1,title:"Tech Conference 2025",description:"Annual technology conference featuring the latest innovations in AI, blockchain, and web development.",date:"2025-03-15",venue:"Singapore Convention Centre",ownerId:1,organisers:[{name:"TechCorp Singapore",detail:"Leading technology company"}],speakers:[{name:"Dr. Sarah Chen",title:"AI Research Director",photo:null},{name:"Mike Johnson",title:"Blockchain Expert",photo:null}],sponsors:[{name:"TechCorp",logo:null},{name:"InnovateLab",logo:null}],createdAt:new Date().toISOString()},{id:2,title:"Digital Marketing Summit",description:"Learn the latest digital marketing strategies and network with industry professionals.",date:"2025-04-20",venue:"Marina Bay Sands",ownerId:1,organisers:[{name:"Marketing Pro",detail:"Digital marketing agency"}],speakers:[{name:"Lisa Wong",title:"Social Media Strategist",photo:null},{name:"David Kim",title:"SEO Specialist",photo:null}],createdAt:new Date().toISOString()},{id:3,title:"Startup Pitch Night",description:"Watch innovative startups pitch their ideas to investors and vote for your favorite.",date:"2025-05-10",venue:"The Hive Singapore",ownerId:1,organisers:[{name:"Startup Hub",detail:"Entrepreneurship community"}],createdAt:new Date().toISOString()},{id:4,title:"Web Development Workshop",description:"Hands-on workshop covering React, Node.js, and modern web development practices.",date:"2025-06-05",venue:"NUS School of Computing",ownerId:1,organisers:[{name:"CodeCraft Academy",detail:"Programming education center"}],speakers:[{name:"Alex Tan",title:"Full Stack Developer",photo:null}],createdAt:new Date().toISOString()},{id:5,title:"Cybersecurity Awareness Seminar",description:"Essential cybersecurity knowledge for businesses and individuals in the digital age.",date:"2025-07-12",venue:"Raffles City Convention Centre",ownerId:1,organisers:[{name:"SecureNet Solutions",detail:"Cybersecurity consultancy"}],speakers:[{name:"Jennifer Lee",title:"Security Analyst",photo:null},{name:"Robert Zhang",title:"Ethical Hacker",photo:null}],sponsors:[{name:"CyberGuard",logo:null}],createdAt:new Date().toISOString()}];for(const t of e)await Yr.events.put(t);console.log("Sample events seeded successfully")},rC=async e=>{try{return await Yr.events.put(e)}catch(t){throw console.error("Error saving event:",t),t}},qu=async e=>{try{return await Yr.events.get(e)}catch(t){throw console.error("Error getting event:",t),t}},iC=async e=>{try{return await Yr.attendees.add(e)}catch(t){throw console.error("Error saving attendee:",t),t}},H3=async e=>{try{return await Yr.attendees.where("eventId").equals(e).toArray()}catch(t){throw console.error("Error getting attendees:",t),t}},sC=async(e,t)=>{try{await Yr.attendees.update(e,{attended:t})}catch(n){throw console.error("Error updating attendee:",n),n}},Z5=async(e,t)=>{try{const n=await Yr.attendees.where("eventId").equals(e).toArray(),r=t.toLowerCase();return n.filter(s=>s.name.toLowerCase().includes(r)||s.email.toLowerCase().includes(r)||s.contact&&s.contact.toLowerCase().includes(r))}catch(n){throw console.error("Error searching attendees:",n),n}},G3=async e=>{try{if(await Yr.users.where("email").equals(e.email).first())throw new Error("User with this email already exists");return await Yr.users.add({...e,role:"owner",createdAt:new Date().toISOString()})}catch(t){throw console.error("Error registering user:",t),t}},sp=async(e,t)=>{try{const n=await Yr.users.where("email").equals(e).first();if(!n)throw new Error("User not found");if(n.password!==t)throw new Error("Invalid password");const{password:r,...s}=n;return s}catch(n){throw console.error("Error logging in:",n),n}},aC=()=>{const e=Xs(),{login:t}=Fl(),[n,r]=ze.useState({email:"",password:""}),[s,a]=ze.useState(!1),[u,h]=ze.useState(""),p=(w,v)=>{r(E=>({...E,[w]:v})),h("")},m=async w=>{if(w.preventDefault(),!n.email||!n.password){h("Please fill in all fields");return}a(!0),h("");try{const v=await sp(n.email,n.password);t(v),e("/events")}catch(v){h(v.message||"Login failed. Please check your credentials.")}finally{a(!1)}};return T.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:T.jsxs("div",{className:"max-w-md w-full",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:T.jsx("span",{className:"text-5xl font-bold",children:"EX"})}),T.jsx("h1",{className:"text-3xl font-bold",children:"EventsX"}),T.jsx("p",{className:"text-gray-400 mt-2",children:"Event Management System"})]}),T.jsxs("div",{className:"bg-dark-lighter border border-gray-800 rounded-lg p-8",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Login"}),u&&T.jsx("div",{className:"bg-red-900/20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:u}),T.jsxs("form",{onSubmit:m,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),T.jsx("input",{type:"email",value:n.email,onChange:w=>p("email",w.target.value),placeholder:"your@email.com",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password"}),T.jsx("input",{type:"password",value:n.password,onChange:w=>p("password",w.target.value),placeholder:"Enter your password",required:!0})]}),T.jsxs("button",{type:"submit",disabled:s,className:"btn-primary w-full flex items-center justify-center gap-2",children:[T.jsx(aA,{size:20}),s?"Logging in...":"Login"]})]}),T.jsx("div",{className:"mt-6 text-center",children:T.jsx(u3,{to:"/events",className:"text-sm text-gray-500 hover:text-gray-400",children:" Back to events"})})]}),T.jsx("p",{className:"text-center text-xs text-gray-500 mt-6",children:"Powered by Robocorp"})]})})},oC=()=>{const e=Xs(),{login:t}=Fl(),[n,r]=ze.useState({email:"",password:"",confirmPassword:"",contact:"",countryCode:"+65"}),[s,a]=ze.useState(!1),[u,h]=ze.useState(""),p=(w,v)=>{r(E=>({...E,[w]:v})),h("")},m=async w=>{if(w.preventDefault(),!n.email||!n.password||!n.contact){h("Please fill in all required fields");return}if(n.password!==n.confirmPassword){h("Passwords do not match");return}if(n.password.length<6){h("Password must be at least 6 characters");return}a(!0),h("");try{const E={id:await G3({email:n.email,password:n.password,contact:`${n.countryCode} ${n.contact}`}),email:n.email,contact:`${n.countryCode} ${n.contact}`,role:"owner"};t(E),e("/events")}catch(v){h(v.message||"Registration failed. Please try again.")}finally{a(!1)}};return T.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-4 py-8",children:T.jsxs("div",{className:"max-w-md w-full",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:T.jsx("span",{className:"text-5xl font-bold",children:"EX"})}),T.jsx("h1",{className:"text-3xl font-bold",children:"EventsX"}),T.jsx("p",{className:"text-gray-400 mt-2",children:"Create your account"})]}),T.jsxs("div",{className:"bg-dark-lighter border border-gray-800 rounded-lg p-8",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Register"}),u&&T.jsx("div",{className:"bg-red-900/20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:u}),T.jsxs("form",{onSubmit:m,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),T.jsx("input",{type:"email",value:n.email,onChange:w=>p("email",w.target.value),placeholder:"your@email.com",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password *"}),T.jsx("input",{type:"password",value:n.password,onChange:w=>p("password",w.target.value),placeholder:"At least 6 characters",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirm Password *"}),T.jsx("input",{type:"password",value:n.confirmPassword,onChange:w=>p("confirmPassword",w.target.value),placeholder:"Re-enter password",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Contact Number *"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("select",{value:n.countryCode,onChange:w=>p("countryCode",w.target.value),className:"w-32",children:[T.jsx("option",{value:"+65",children:"+65 (SG)"}),T.jsx("option",{value:"+1",children:"+1 (US)"}),T.jsx("option",{value:"+44",children:"+44 (UK)"}),T.jsx("option",{value:"+91",children:"+91 (IN)"}),T.jsx("option",{value:"+86",children:"+86 (CN)"}),T.jsx("option",{value:"+81",children:"+81 (JP)"}),T.jsx("option",{value:"+82",children:"+82 (KR)"}),T.jsx("option",{value:"+61",children:"+61 (AU)"}),T.jsx("option",{value:"+49",children:"+49 (DE)"}),T.jsx("option",{value:"+33",children:"+33 (FR)"})]}),T.jsx("input",{type:"tel",value:n.contact,onChange:w=>p("contact",w.target.value),placeholder:"Phone number",className:"flex-1",required:!0})]})]}),T.jsxs("button",{type:"submit",disabled:s,className:"btn-primary w-full flex items-center justify-center gap-2",children:[T.jsx(cA,{size:20}),s?"Creating account...":"Register"]})]}),T.jsx("div",{className:"mt-6 text-center",children:T.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",T.jsx(u3,{to:"/login",className:"text-primary hover:text-primary-dark",children:"Login here"})]})})]}),T.jsx("p",{className:"text-center text-xs text-gray-500 mt-6",children:"Powered by Robocorp"})]})})};function lC(e,t,n){var r,s;typeof e=="function"?(r=t||[],s=n):(r=[],s=t);var a=xl.useRef({hasResult:!1,result:s,error:null}),u=xl.useReducer(function(m){return m+1},0);u[0];var h=u[1],p=xl.useMemo(function(){var m=typeof e=="function"?e():e;if(!m||typeof m.subscribe!="function")throw e===m?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!a.current.hasResult&&typeof window<"u"&&(typeof m.hasValue!="function"||m.hasValue()))if(typeof m.getValue=="function")a.current.result=m.getValue(),a.current.hasResult=!0;else{var w=m.subscribe(function(v){a.current.result=v,a.current.hasResult=!0});typeof w=="function"?w():w.unsubscribe()}return m},r);if(xl.useDebugValue(a.current.result),xl.useEffect(function(){var m=p.subscribe(function(w){var v=a.current;(v.error!==null||v.result!==w)&&(v.error=null,v.result=w,v.hasResult=!0,h())},function(w){var v=a.current;v.error!==w&&(v.error=w,h())});return typeof m=="function"?m:m.unsubscribe.bind(m)},r),a.current.error)throw a.current.error;return a.current.result}function ap(e,t,n){return lC(function(){return W3(e)},t||[],n)}function yn(e){"@babel/helpers - typeof";return yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yn(e)}function jo(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Lr(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Is(e){Lr(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||yn(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function uC(e,t){Lr(2,arguments);var n=Is(e).getTime(),r=jo(t);return new Date(n+r)}var cC={};function hd(){return cC}function fC(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Q5(e){Lr(1,arguments);var t=Is(e);return t.setHours(0,0,0,0),t}var X3=6e4,Y3=36e5;function hC(e,t){Lr(2,arguments);var n=Q5(e),r=Q5(t);return n.getTime()===r.getTime()}function dC(e){return Lr(1,arguments),e instanceof Date||yn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function pC(e){if(Lr(1,arguments),!dC(e)&&typeof e!="number")return!1;var t=Is(e);return!isNaN(Number(t))}function gC(e,t){Lr(2,arguments);var n=jo(t);return uC(e,-n)}var mC=864e5;function xC(e){Lr(1,arguments);var t=Is(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/mC)+1}function Fh(e){Lr(1,arguments);var t=1,n=Is(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function K3(e){Lr(1,arguments);var t=Is(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Fh(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var u=Fh(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}function yC(e){Lr(1,arguments);var t=K3(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Fh(n);return r}var wC=6048e5;function vC(e){Lr(1,arguments);var t=Is(e),n=Fh(t).getTime()-yC(t).getTime();return Math.round(n/wC)+1}function jh(e,t){var n,r,s,a,u,h,p,m;Lr(1,arguments);var w=hd(),v=jo((n=(r=(s=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(u=t.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&s!==void 0?s:w.weekStartsOn)!==null&&r!==void 0?r:(p=w.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&n!==void 0?n:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var E=Is(e),A=E.getUTCDay(),R=(A<v?7:0)+A-v;return E.setUTCDate(E.getUTCDate()-R),E.setUTCHours(0,0,0,0),E}function Z3(e,t){var n,r,s,a,u,h,p,m;Lr(1,arguments);var w=Is(e),v=w.getUTCFullYear(),E=hd(),A=jo((n=(r=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(u=t.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:E.firstWeekContainsDate)!==null&&r!==void 0?r:(p=E.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=new Date(0);R.setUTCFullYear(v+1,0,A),R.setUTCHours(0,0,0,0);var k=jh(R,t),M=new Date(0);M.setUTCFullYear(v,0,A),M.setUTCHours(0,0,0,0);var S=jh(M,t);return w.getTime()>=k.getTime()?v+1:w.getTime()>=S.getTime()?v:v-1}function bC(e,t){var n,r,s,a,u,h,p,m;Lr(1,arguments);var w=hd(),v=jo((n=(r=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(u=t.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:w.firstWeekContainsDate)!==null&&r!==void 0?r:(p=w.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&n!==void 0?n:1),E=Z3(e,t),A=new Date(0);A.setUTCFullYear(E,0,v),A.setUTCHours(0,0,0,0);var R=jh(A,t);return R}var AC=6048e5;function CC(e,t){Lr(1,arguments);var n=Is(e),r=jh(n,t).getTime()-bC(n,t).getTime();return Math.round(r/AC)+1}function Cn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var uo={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return Cn(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Cn(r+1,2)},d:function(t,n){return Cn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Cn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Cn(t.getUTCHours(),n.length)},m:function(t,n){return Cn(t.getUTCMinutes(),n.length)},s:function(t,n){return Cn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),a=Math.floor(s*Math.pow(10,r-3));return Cn(a,n.length)}},$l={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},EC={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return uo.y(t,n)},Y:function(t,n,r,s){var a=Z3(t,s),u=a>0?a:1-a;if(n==="YY"){var h=u%100;return Cn(h,2)}return n==="Yo"?r.ordinalNumber(u,{unit:"year"}):Cn(u,n.length)},R:function(t,n){var r=K3(t);return Cn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Cn(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return Cn(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return Cn(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return uo.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return Cn(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var a=CC(t,s);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):Cn(a,n.length)},I:function(t,n,r){var s=vC(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):Cn(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):uo.d(t,n)},D:function(t,n,r){var s=xC(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Cn(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var a=t.getUTCDay(),u=(a-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(u);case"ee":return Cn(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var a=t.getUTCDay(),u=(a-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(u);case"cc":return Cn(u,n.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),a=s===0?7:s;switch(n){case"i":return String(a);case"ii":return Cn(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),a=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),a;switch(s===12?a=$l.noon:s===0?a=$l.midnight:a=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),a;switch(s>=17?a=$l.evening:s>=12?a=$l.afternoon:s>=4?a=$l.morning:a=$l.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return uo.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):uo.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Cn(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):Cn(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):uo.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):uo.s(t,n)},S:function(t,n){return uo.S(t,n)},X:function(t,n,r,s){var a=s._originalDate||t,u=a.getTimezoneOffset();if(u===0)return"Z";switch(n){case"X":return $5(u);case"XXXX":case"XX":return gl(u);case"XXXXX":case"XXX":default:return gl(u,":")}},x:function(t,n,r,s){var a=s._originalDate||t,u=a.getTimezoneOffset();switch(n){case"x":return $5(u);case"xxxx":case"xx":return gl(u);case"xxxxx":case"xxx":default:return gl(u,":")}},O:function(t,n,r,s){var a=s._originalDate||t,u=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+J5(u,":");case"OOOO":default:return"GMT"+gl(u,":")}},z:function(t,n,r,s){var a=s._originalDate||t,u=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+J5(u,":");case"zzzz":default:return"GMT"+gl(u,":")}},t:function(t,n,r,s){var a=s._originalDate||t,u=Math.floor(a.getTime()/1e3);return Cn(u,n.length)},T:function(t,n,r,s){var a=s._originalDate||t,u=a.getTime();return Cn(u,n.length)}};function J5(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),a=r%60;if(a===0)return n+String(s);var u=t;return n+String(s)+u+Cn(a,2)}function $5(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Cn(Math.abs(e)/60,2)}return gl(e,t)}function gl(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),a=Cn(Math.floor(s/60),2),u=Cn(s%60,2);return r+a+n+u}var ex=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Q3=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},NC=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return ex(t,n);var u;switch(s){case"P":u=n.dateTime({width:"short"});break;case"PP":u=n.dateTime({width:"medium"});break;case"PPP":u=n.dateTime({width:"long"});break;case"PPPP":default:u=n.dateTime({width:"full"});break}return u.replace("{{date}}",ex(s,n)).replace("{{time}}",Q3(a,n))},SC={p:Q3,P:NC},_C=["D","DD"],IC=["YY","YYYY"];function TC(e){return _C.indexOf(e)!==-1}function kC(e){return IC.indexOf(e)!==-1}function tx(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var LC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},PC=function(t,n,r){var s,a=LC[t];return typeof a=="string"?s=a:n===1?s=a.one:s=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function y0(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var OC={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},RC={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},DC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},MC={date:y0({formats:OC,defaultWidth:"full"}),time:y0({formats:RC,defaultWidth:"full"}),dateTime:y0({formats:DC,defaultWidth:"full"})},BC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},FC=function(t,n,r,s){return BC[t]};function vc(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):a;s=e.formattingValues[u]||e.formattingValues[a]}else{var h=e.defaultWidth,p=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[p]||e.values[h]}var m=e.argumentCallback?e.argumentCallback(t):t;return s[m]}}var jC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},UC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},VC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},WC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},HC=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},GC={ordinalNumber:HC,era:vc({values:jC,defaultWidth:"wide"}),quarter:vc({values:UC,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:vc({values:zC,defaultWidth:"wide"}),day:vc({values:qC,defaultWidth:"wide"}),dayPeriod:vc({values:VC,defaultWidth:"wide",formattingValues:WC,defaultFormattingWidth:"wide"})};function bc(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;var u=a[0],h=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],p=Array.isArray(h)?YC(h,function(v){return v.test(u)}):XC(h,function(v){return v.test(u)}),m;m=e.valueCallback?e.valueCallback(p):p,m=n.valueCallback?n.valueCallback(m):m;var w=t.slice(u.length);return{value:m,rest:w}}}function XC(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function YC(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function KC(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],a=t.match(e.parsePattern);if(!a)return null;var u=e.valueCallback?e.valueCallback(a[0]):a[0];u=n.valueCallback?n.valueCallback(u):u;var h=t.slice(s.length);return{value:u,rest:h}}}var ZC=/^(\d+)(th|st|nd|rd)?/i,QC=/\d+/i,JC={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$C={any:[/^b/i,/^(a|c)/i]},eE={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tE={any:[/1/i,/2/i,/3/i,/4/i]},nE={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rE={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},iE={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sE={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},aE={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oE={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lE={ordinalNumber:KC({matchPattern:ZC,parsePattern:QC,valueCallback:function(t){return parseInt(t,10)}}),era:bc({matchPatterns:JC,defaultMatchWidth:"wide",parsePatterns:$C,defaultParseWidth:"any"}),quarter:bc({matchPatterns:eE,defaultMatchWidth:"wide",parsePatterns:tE,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:bc({matchPatterns:nE,defaultMatchWidth:"wide",parsePatterns:rE,defaultParseWidth:"any"}),day:bc({matchPatterns:iE,defaultMatchWidth:"wide",parsePatterns:sE,defaultParseWidth:"any"}),dayPeriod:bc({matchPatterns:aE,defaultMatchWidth:"any",parsePatterns:oE,defaultParseWidth:"any"})},uE={code:"en-US",formatDistance:PC,formatLong:MC,formatRelative:FC,localize:GC,match:lE,options:{weekStartsOn:0,firstWeekContainsDate:1}},cE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hE=/^'([^]*?)'?$/,dE=/''/g,pE=/[a-zA-Z]/;function is(e,t,n){var r,s,a,u,h,p,m,w,v,E,A,R,k,M;Lr(2,arguments);var S=String(t),I=hd(),L=(r=(s=void 0)!==null&&s!==void 0?s:I.locale)!==null&&r!==void 0?r:uE,q=jo((a=(u=(h=(p=void 0)!==null&&p!==void 0?p:void 0)!==null&&h!==void 0?h:I.firstWeekContainsDate)!==null&&u!==void 0?u:(m=I.locale)===null||m===void 0||(w=m.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(q>=1&&q<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var $=jo((v=(E=(A=(R=void 0)!==null&&R!==void 0?R:void 0)!==null&&A!==void 0?A:I.weekStartsOn)!==null&&E!==void 0?E:(k=I.locale)===null||k===void 0||(M=k.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&v!==void 0?v:0);if(!($>=0&&$<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!L.localize)throw new RangeError("locale must contain localize property");if(!L.formatLong)throw new RangeError("locale must contain formatLong property");var Q=Is(e);if(!pC(Q))throw new RangeError("Invalid time value");var D=fC(Q),Y=gC(Q,D),Z={firstWeekContainsDate:q,weekStartsOn:$,locale:L,_originalDate:Q},ye=S.match(fE).map(function(W){var X=W[0];if(X==="p"||X==="P"){var ae=SC[X];return ae(W,L.formatLong)}return W}).join("").match(cE).map(function(W){if(W==="''")return"'";var X=W[0];if(X==="'")return gE(W);var ae=EC[X];if(ae)return kC(W)&&tx(W,t,String(e)),TC(W)&&tx(W,t,String(e)),ae(Y,W,L.localize,Z);if(X.match(pE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");return W}).join("");return ye}function gE(e){var t=e.match(hE);return t?t[1].replace(dE,"'"):e}function w0(e){return Lr(1,arguments),Is(e).getTime()>Date.now()}function Gc(e){return Lr(1,arguments),hC(e,Date.now())}function Xc(e,t){var n;Lr(1,arguments);var r=jo((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=wE(e),a;if(s.date){var u=vE(s.date,r);a=bE(u.restDateString,u.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var h=a.getTime(),p=0,m;if(s.time&&(p=AE(s.time),isNaN(p)))return new Date(NaN);if(s.timezone){if(m=CE(s.timezone),isNaN(m))return new Date(NaN)}else{var w=new Date(h+p),v=new Date(0);return v.setFullYear(w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()),v.setHours(w.getUTCHours(),w.getUTCMinutes(),w.getUTCSeconds(),w.getUTCMilliseconds()),v}return new Date(h+p+m)}var I1={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},mE=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,xE=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,yE=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wE(e){var t={},n=e.split(I1.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],I1.timeZoneDelimiter.test(t.date)&&(t.date=e.split(I1.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var s=I1.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function vE(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?s:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function bE(e,t){if(t===null)return new Date(NaN);var n=e.match(mE);if(!n)return new Date(NaN);var r=!!n[4],s=Ac(n[1]),a=Ac(n[2])-1,u=Ac(n[3]),h=Ac(n[4]),p=Ac(n[5])-1;if(r)return IE(t,h,p)?EE(t,h,p):new Date(NaN);var m=new Date(0);return!SE(t,a,u)||!_E(t,s)?new Date(NaN):(m.setUTCFullYear(t,a,Math.max(s,u)),m)}function Ac(e){return e?parseInt(e):1}function AE(e){var t=e.match(xE);if(!t)return NaN;var n=v0(t[1]),r=v0(t[2]),s=v0(t[3]);return TE(n,r,s)?n*Y3+r*X3+s*1e3:NaN}function v0(e){return e&&parseFloat(e.replace(",","."))||0}function CE(e){if(e==="Z")return 0;var t=e.match(yE);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return kE(r,s)?n*(r*Y3+s*X3):NaN}function EE(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,a=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+a),r}var NE=[31,null,31,30,31,30,31,31,30,31,30,31];function J3(e){return e%400===0||e%4===0&&e%100!==0}function SE(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(NE[t]||(J3(e)?29:28))}function _E(e,t){return t>=1&&t<=(J3(e)?366:365)}function IE(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function TE(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function kE(e,t){return t>=0&&t<=59}const Uo=({title:e,showBack:t=!1,rightAction:n=null})=>{const r=Xs();return T.jsx("header",{className:"bg-black border-b border-gray-800 sticky top-0 z-50",children:T.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[t&&T.jsx("button",{onClick:()=>r(-1),className:"text-white hover:text-gray-300",children:T.jsx(nA,{size:24})}),T.jsxs("div",{children:[T.jsx("div",{className:"flex items-center gap-2",children:T.jsx("span",{className:"text-2xl font-bold",children:"EX"})}),T.jsx("p",{className:"text-xs text-gray-400",children:"EventsX - Powered by Robocorp"})]})]}),e&&T.jsx("h1",{className:"text-lg font-semibold absolute left-1/2 transform -translate-x-1/2",children:e}),n&&T.jsx("div",{children:n})]})})},LE=()=>{const e=Xs(),{user:t,logout:n,isSuperAdmin:r}=Fl(),s=ap(()=>Yr.events.toArray(),[]),a=ap(()=>Yr.users.toArray(),[]);ze.useEffect(()=>{(!t||!r())&&e("/login")},[t]);const u=()=>{n(),e("/login")};return!s||!a?T.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:T.jsx("p",{className:"text-gray-400",children:"Loading..."})}):T.jsxs("div",{className:"min-h-screen bg-black",children:[T.jsx(Uo,{rightAction:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("button",{onClick:()=>e("/new"),className:"btn-primary flex items-center gap-2",children:[T.jsx(Su,{size:20}),"New Event"]}),T.jsxs("button",{onClick:u,className:"btn-secondary flex items-center gap-2",children:[T.jsx(L2,{size:18}),"Logout"]})]})}),T.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[T.jsxs("div",{className:"mb-6",children:[T.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Super Admin Dashboard"}),T.jsx("p",{className:"text-gray-400",children:"Full system access"})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[T.jsx("div",{className:"bg-dark-lighter border border-gray-800 rounded-lg p-6",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-gray-400 text-sm",children:"Total Events"}),T.jsx("p",{className:"text-3xl font-bold text-primary",children:(s==null?void 0:s.length)||0})]}),T.jsx(Nu,{size:40,className:"text-gray-600"})]})}),T.jsx("div",{className:"bg-dark-lighter border border-gray-800 rounded-lg p-6",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-gray-400 text-sm",children:"Total Users"}),T.jsx("p",{className:"text-3xl font-bold text-primary",children:(a==null?void 0:a.length)||0})]}),T.jsx(B5,{size:40,className:"text-gray-600"})]})}),T.jsx("div",{className:"bg-dark-lighter border border-gray-800 rounded-lg p-6",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-gray-400 text-sm",children:"Event Owners"}),T.jsx("p",{className:"text-3xl font-bold text-primary",children:(a==null?void 0:a.filter(h=>h.role==="owner").length)||0})]}),T.jsx(B5,{size:40,className:"text-gray-600"})]})})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Events"}),!s||s.length===0?T.jsxs("div",{className:"text-center py-20 bg-dark-lighter rounded-lg border border-gray-800",children:[T.jsx(Nu,{size:64,className:"mx-auto text-gray-600 mb-4"}),T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Events Yet"}),T.jsx("p",{className:"text-gray-400 mb-6",children:"Create the first event"}),T.jsxs("button",{onClick:()=>e("/new"),className:"btn-primary inline-flex items-center gap-2",children:[T.jsx(Su,{size:20}),"Create Event"]})]}):T.jsx("div",{className:"grid gap-4",children:s.map(h=>T.jsx("div",{onClick:()=>e(`/${h.id}`),className:"bg-dark-lighter border border-gray-800 rounded-lg p-5 cursor-pointer hover:border-primary transition-colors",children:T.jsxs("div",{className:"flex items-start gap-4",children:[h.logo&&T.jsx("img",{src:h.logo,alt:h.title,className:"w-16 h-16 object-cover rounded"}),T.jsx("div",{className:"flex-1",children:T.jsxs("div",{className:"flex items-start justify-between",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold mb-2",children:h.title}),T.jsxs("div",{className:"space-y-1 text-sm text-gray-400",children:[h.date&&T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Nu,{size:16}),is(new Date(h.date),"PPP")]}),h.venue&&T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(f3,{size:16}),h.venue]})]})]}),T.jsxs("span",{className:"text-xs bg-primary/20 text-primary px-2 py-1 rounded",children:["Owner ID: ",h.ownerId]})]})})]})},h.id))})]})]})]})},PE=()=>{const e=Xs(),{user:t,logout:n,isSuperAdmin:r}=Fl(),s=ap(()=>Yr.events.toArray(),[]),[a,u]=ze.useState(null),h=s?[...s].sort((E,A)=>{if(!E.date&&!A.date)return 0;if(!E.date)return 1;if(!A.date)return-1;const R=new Date(E.date),k=new Date(A.date);if(isNaN(R.getTime())&&isNaN(k.getTime()))return 0;if(isNaN(R.getTime()))return 1;if(isNaN(k.getTime()))return-1;const M=Gc(R),S=Gc(k),I=w0(R),L=w0(k);return M&&!S?-1:!M&&S?1:I&&!L&&!S?-1:!I&&L&&!M?1:I&&L?R-k:!I&&!L&&!M&&!S?k-R:R-k}):[],p=()=>{n(),e("/events")},m=(E,A)=>{A.stopPropagation();const R=`${window.location.origin}/event/${E}`;navigator.clipboard.writeText(R),u(E),setTimeout(()=>u(null),2e3)},w=E=>Gc(new Date(E))?T.jsx("span",{className:"text-green-500 font-semibold",children:"Today"}):w0(new Date(E))?T.jsx("span",{className:"text-blue-500",children:"Upcoming"}):T.jsx("span",{className:"text-gray-500",children:"Past"}),v=()=>r()?T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("button",{onClick:()=>e("/admin"),className:"btn-secondary flex items-center gap-2",children:"Admin Panel"}),T.jsxs("button",{onClick:()=>e("/new"),className:"btn-primary flex items-center gap-2",children:[T.jsx(Su,{size:20}),"New Event"]}),T.jsx("button",{onClick:p,className:"btn-secondary flex items-center gap-2",children:T.jsx(L2,{size:18})})]}):T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("button",{onClick:()=>e("/new"),className:"btn-primary flex items-center gap-2",children:[T.jsx(Su,{size:20}),"New Event"]}),t&&T.jsx("button",{onClick:p,className:"btn-secondary flex items-center gap-2",children:T.jsx(L2,{size:18})})]});return s===void 0?T.jsxs("div",{className:"min-h-screen bg-black",children:[T.jsx(Uo,{rightAction:v()}),T.jsx("div",{className:"flex items-center justify-center py-20",children:T.jsx("p",{className:"text-gray-400",children:"Loading events..."})})]}):T.jsxs("div",{className:"min-h-screen bg-black",children:[T.jsx(Uo,{rightAction:v()}),T.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[T.jsxs("div",{className:"mb-6",children:[T.jsx("h1",{className:"text-2xl font-bold",children:r()?"All Events - Admin View":"Events"}),T.jsx("p",{className:"text-gray-400",children:t?T.jsxs(T.Fragment,{children:["Welcome back, ",t.email,r()&&T.jsx("span",{className:"text-primary ml-2",children:"(Super Admin)"})]}):"Browse, create, and register for events"})]}),h.length===0?T.jsxs("div",{className:"text-center py-20",children:[T.jsx(Nu,{size:64,className:"mx-auto text-gray-600 mb-4"}),T.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No Events Yet"}),T.jsx("p",{className:"text-gray-400 mb-6",children:"Create your first event to get started"}),T.jsxs("button",{onClick:()=>e("/new"),className:"btn-primary inline-flex items-center gap-2",children:[T.jsx(Su,{size:20}),"Create Event"]})]}):T.jsx("div",{className:"grid gap-4",children:h.map(E=>T.jsx("div",{onClick:()=>e(`/${E.id}`),className:"bg-dark-lighter border border-gray-800 rounded-lg p-5 cursor-pointer hover:border-primary transition-colors",children:T.jsxs("div",{className:"flex items-start gap-4",children:[T.jsx("div",{className:"flex-shrink-0",children:E.image?T.jsx("img",{src:E.image,alt:E.title,className:"w-20 h-20 object-cover rounded"}):E.logo?T.jsx("img",{src:E.logo,alt:E.title,className:"w-20 h-20 object-cover rounded"}):T.jsx("div",{className:"w-20 h-20 bg-dark-light rounded flex items-center justify-center",children:T.jsx(Nu,{size:32,className:"text-gray-600"})})}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("h3",{className:"text-lg font-semibold truncate",children:E.title}),E.date&&w(E.date)]}),T.jsxs("div",{className:"space-y-1 text-sm text-gray-400",children:[E.date&&T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Nu,{size:16}),(()=>{try{return is(new Date(E.date),"PPP")}catch{return E.date}})()]}),E.venue&&T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(f3,{size:16}),T.jsx("span",{className:"truncate",children:E.venue})]})]})]}),T.jsx("div",{className:"flex-shrink-0",children:T.jsx("button",{onClick:A=>m(E.id,A),className:"p-2 bg-dark-light rounded-full hover:bg-gray-700 transition-colors",title:"Copy event link",children:a===E.id?T.jsx(iA,{size:18,className:"text-green-500"}):T.jsx(h3,{size:18,className:"text-gray-400"})})})]})},E.id))})]})]})},$3=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}),ev=(e,t=800,n=800)=>new Promise(r=>{const s=new Image;s.onload=()=>{const a=document.createElement("canvas");let u=s.width,h=s.height;u>h?u>t&&(h*=t/u,u=t):h>n&&(u*=n/h,h=n),a.width=u,a.height=h,a.getContext("2d").drawImage(s,0,0,u,h),r(a.toDataURL("image/jpeg",.8))},s.src=e}),Cc=({title:e,items:t,onChange:n,fields:r})=>{const s=()=>{const p={};r.forEach(m=>{p[m.name]=m.type==="image"?null:""}),n([...t,p])},a=p=>{n(t.filter((m,w)=>w!==p))},u=(p,m,w)=>{const v=[...t];v[p]={...v[p],[m]:w},n(v)},h=async(p,m,w)=>{if(w)try{const v=await $3(w),E=await ev(v,400,400);u(p,m,E)}catch(v){console.error("Error uploading image:",v),alert("Failed to upload image")}};return T.jsxs("div",{className:"mb-6",children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-300",children:e}),T.jsxs("button",{type:"button",onClick:s,className:"flex items-center gap-1 text-primary hover:text-primary-dark text-sm",children:[T.jsx(Su,{size:16}),"Add"]})]}),T.jsxs("div",{className:"space-y-3",children:[t.map((p,m)=>T.jsx("div",{className:"bg-dark-lighter p-4 rounded-lg border border-gray-800",children:T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx("div",{className:"flex-1 space-y-3",children:r.map(w=>T.jsx("div",{children:w.type==="image"?T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:w.label}),T.jsxs("div",{className:"flex items-center gap-3",children:[p[w.name]&&T.jsx("img",{src:p[w.name],alt:w.label,className:"w-16 h-16 object-cover rounded"}),T.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-dark-light rounded cursor-pointer hover:bg-gray-700 text-sm",children:[T.jsx(O2,{size:16}),p[w.name]?"Change":"Upload",T.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:v=>h(m,w.name,v.target.files[0])})]})]})]}):T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:w.label}),T.jsx("input",{type:"text",value:p[w.name]||"",onChange:v=>u(m,w.name,v.target.value),placeholder:w.placeholder,className:"w-full"})]})},w.name))}),T.jsx("button",{type:"button",onClick:()=>a(m),className:"text-red-500 hover:text-red-400 mt-1",children:T.jsx(uA,{size:18})})]})},m)),t.length===0&&T.jsxs("p",{className:"text-gray-500 text-sm text-center py-4",children:["No ",e.toLowerCase(),' added yet. Click "Add" to create one.']})]})]})},nx=()=>{const e=Xs(),{id:t}=Pf(),{user:n,canEditEvent:r,login:s}=Fl(),a=!!t;ze.useEffect(()=>{a&&u()},[n,t]);const u=async()=>{try{const S=await qu(parseInt(t));(!n||!r(S.ownerId))&&(alert("Only Super Admin can edit events. Events cannot be edited after creation."),e("/events"))}catch(S){console.error("Error checking permissions:",S)}},[h,p]=ze.useState({title:"",description:"",date:"",venue:"",organisers:[],logo:null,image:null,guestsOfHonour:[],speakers:[],sponsors:[],media:[],creatorEmail:"",creatorPassword:"",creatorContact:"",creatorCountryCode:"+65"}),[m,w]=ze.useState(!1),[v,E]=ze.useState(!a);ze.useEffect(()=>{a&&A()},[t]);const A=async()=>{try{const S=await qu(parseInt(t));S&&p(S)}catch(S){console.error("Error loading event:",S),alert("Failed to load event")}},R=(S,I)=>{p(L=>({...L,[S]:I}))},k=async(S,I)=>{if(I)try{const L=await $3(I),q=await ev(L,800,800);R(S,q)}catch(L){console.error("Error uploading image:",L),alert("Failed to upload image")}},M=async S=>{if(S.preventDefault(),!h.title||!h.date){alert("Please fill in title and date");return}if(!a&&!n){if(!h.creatorEmail||!h.creatorPassword||!h.creatorContact){alert("Please fill in your registration details (Email, Password, Contact)");return}if(h.creatorPassword.length<6){alert("Password must be at least 6 characters");return}}w(!0);try{let I=n==null?void 0:n.id;if(!a&&!n)try{I=await G3({email:h.creatorEmail,password:h.creatorPassword,contact:`${h.creatorCountryCode} ${h.creatorContact}`});const $=await sp(h.creatorEmail,h.creatorPassword);s($)}catch($){if($.message.includes("already exists"))try{const Q=await sp(h.creatorEmail,h.creatorPassword);s(Q),I=Q.id}catch{alert("Email already exists. Please use correct password or use a different email."),w(!1);return}else throw $}const L={...h,id:a?parseInt(t):void 0,ownerId:I,updatedAt:new Date().toISOString(),creatorEmail:void 0,creatorPassword:void 0,creatorContact:void 0,creatorCountryCode:void 0};a||(L.createdAt=new Date().toISOString());const q=await rC(L);e("/events")}catch(I){console.error("Error saving event:",I),alert("Failed to save event: "+I.message)}finally{w(!1)}};return T.jsxs("div",{className:"min-h-screen bg-black",children:[T.jsx(Uo,{title:a?"Edit Event":"New Event",showBack:!0}),T.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:T.jsxs("form",{onSubmit:M,className:"space-y-6",children:[!a&&!n&&T.jsxs("div",{className:"bg-primary/10 border border-primary rounded-lg p-6 space-y-4",children:[T.jsx("h2",{className:"text-xl font-semibold text-primary",children:"Your Registration Details"}),T.jsx("p",{className:"text-sm text-gray-400",children:"Register to create and manage your event. If you already have an account, use the same email and password."}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),T.jsx("input",{type:"email",value:h.creatorEmail,onChange:S=>R("creatorEmail",S.target.value),placeholder:"your@email.com",required:!n})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password *"}),T.jsx("input",{type:"password",value:h.creatorPassword,onChange:S=>R("creatorPassword",S.target.value),placeholder:"At least 6 characters",required:!n})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Contact Number *"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("select",{value:h.creatorCountryCode,onChange:S=>R("creatorCountryCode",S.target.value),className:"w-32",children:[T.jsx("option",{value:"+65",children:"+65 (SG)"}),T.jsx("option",{value:"+1",children:"+1 (US)"}),T.jsx("option",{value:"+44",children:"+44 (UK)"}),T.jsx("option",{value:"+91",children:"+91 (IN)"}),T.jsx("option",{value:"+86",children:"+86 (CN)"}),T.jsx("option",{value:"+81",children:"+81 (JP)"}),T.jsx("option",{value:"+82",children:"+82 (KR)"}),T.jsx("option",{value:"+61",children:"+61 (AU)"})]}),T.jsx("input",{type:"tel",value:h.creatorContact,onChange:S=>R("creatorContact",S.target.value),placeholder:"Phone number",className:"flex-1",required:!n})]})]})]}),T.jsxs("div",{className:"bg-dark-lighter border border-gray-800 rounded-lg p-6 space-y-6",children:[T.jsx("h2",{className:"text-xl font-semibold",children:"Event Details"}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Event Date"}),T.jsx("input",{type:"date",value:h.date,onChange:S=>R("date",S.target.value),required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),T.jsx("input",{type:"text",value:h.title,onChange:S=>R("title",S.target.value),placeholder:"Event title",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),T.jsx("textarea",{value:h.description,onChange:S=>R("description",S.target.value),placeholder:"Event description here",rows:4})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Venue"}),T.jsx("input",{type:"text",value:h.venue,onChange:S=>R("venue",S.target.value),placeholder:"Venue"})]}),T.jsx(Cc,{title:"Organisers",items:h.organisers,onChange:S=>R("organisers",S),fields:[{name:"name",label:"Name",placeholder:"Name",type:"text"},{name:"detail",label:"Detail",placeholder:"Detail",type:"text"}]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Logo"}),T.jsxs("div",{className:"flex items-center gap-4",children:[h.logo&&T.jsx("img",{src:h.logo,alt:"Logo",className:"w-20 h-20 object-cover rounded"}),T.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-dark-light rounded cursor-pointer hover:bg-gray-700",children:[T.jsx(O2,{size:18}),h.logo?"Change Logo":"Choose Logo",T.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:S=>k("logo",S.target.files[0])})]})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Event Image"}),T.jsxs("div",{className:"flex items-center gap-4",children:[h.image&&T.jsx("img",{src:h.image,alt:"Event",className:"w-32 h-20 object-cover rounded"}),T.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-dark-light rounded cursor-pointer hover:bg-gray-700",children:[T.jsx(O2,{size:18}),h.image?"Change Image":"Choose Image",T.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:S=>k("image",S.target.files[0])})]})]})]}),T.jsx(Cc,{title:"Guests of Honour",items:h.guestsOfHonour,onChange:S=>R("guestsOfHonour",S),fields:[{name:"name",label:"Name",placeholder:"Name",type:"text"},{name:"title",label:"Title",placeholder:"Title/Position",type:"text"},{name:"photo",label:"Photo",type:"image"}]}),T.jsx(Cc,{title:"Speakers",items:h.speakers,onChange:S=>R("speakers",S),fields:[{name:"name",label:"Name",placeholder:"Name",type:"text"},{name:"title",label:"Title",placeholder:"Title/Position",type:"text"},{name:"photo",label:"Photo",type:"image"}]}),T.jsx(Cc,{title:"Sponsors",items:h.sponsors,onChange:S=>R("sponsors",S),fields:[{name:"name",label:"Name",placeholder:"Sponsor Name",type:"text"},{name:"logo",label:"Logo",type:"image"}]}),T.jsx(Cc,{title:"Media Partners",items:h.media,onChange:S=>R("media",S),fields:[{name:"name",label:"Name",placeholder:"Media Name",type:"text"},{name:"logo",label:"Logo",type:"image"}]})]}),T.jsx("button",{type:"submit",disabled:m,className:"btn-primary w-full",children:m?"Saving...":a?"Update Event":"Create Event"})]})})]})},OE=({tabs:e,activeTab:t,onTabChange:n})=>T.jsx("div",{className:"flex border-b border-gray-800 mb-6",children:e.map(r=>T.jsx("button",{onClick:()=>n(r.id),className:`px-4 py-3 font-medium transition-colors ${t===r.id?"text-white border-b-2 border-primary":"text-gray-400 hover:text-gray-300"}`,children:r.label},r.id))}),rx=(e,t)=>{if(!e||e.length===0){alert("No data to export");return}const n=Object.keys(e[0]),r=[n.join(","),...e.map(h=>n.map(p=>{const m=h[p]||"";return`"${String(m).replace(/"/g,'""')}"`}).join(","))].join(`
`),s=new Blob([r],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),u=URL.createObjectURL(s);a.setAttribute("href",u),a.setAttribute("download",t),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},ix=(e,t=!1)=>e.map(n=>({Name:n.name,Email:n.email,Contact:n.contact||"",Notes:n.notes||"",Attended:t?n.attended?"Yes":"No":"Registered","Registration Date":new Date(n.registeredAt).toLocaleString()}));var Mf={},RE=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},tv={},fs={};let Dg;const DE=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];fs.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};fs.getSymbolTotalCodewords=function(t){return DE[t]};fs.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};fs.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Dg=t};fs.isKanjiModeEnabled=function(){return typeof Dg<"u"};fs.toSJIS=function(t){return Dg(t)};var dd={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,s){if(e.isValid(r))return r;try{return t(r)}catch{return s}}})(dd);function nv(){this.buffer=[],this.length=0}nv.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var ME=nv;function Bf(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Bf.prototype.set=function(e,t,n,r){const s=e*this.size+t;this.data[s]=n,r&&(this.reservedBit[s]=!0)};Bf.prototype.get=function(e,t){return this.data[e*this.size+t]};Bf.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};Bf.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var BE=Bf,rv={};(function(e){const t=fs.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,a=t(r),u=a===145?26:Math.ceil((a-13)/(2*s-2))*2,h=[a-7];for(let p=1;p<s-1;p++)h[p]=h[p-1]-u;return h.push(6),h.reverse()},e.getPositions=function(r){const s=[],a=e.getRowColCoords(r),u=a.length;for(let h=0;h<u;h++)for(let p=0;p<u;p++)h===0&&p===0||h===0&&p===u-1||h===u-1&&p===0||s.push([a[h],a[p]]);return s}})(rv);var iv={};const FE=fs.getSymbolSize,sx=7;iv.getPositions=function(t){const n=FE(t);return[[0,0],[n-sx,0],[0,n-sx]]};var sv={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const a=s.size;let u=0,h=0,p=0,m=null,w=null;for(let v=0;v<a;v++){h=p=0,m=w=null;for(let E=0;E<a;E++){let A=s.get(v,E);A===m?h++:(h>=5&&(u+=t.N1+(h-5)),m=A,h=1),A=s.get(E,v),A===w?p++:(p>=5&&(u+=t.N1+(p-5)),w=A,p=1)}h>=5&&(u+=t.N1+(h-5)),p>=5&&(u+=t.N1+(p-5))}return u},e.getPenaltyN2=function(s){const a=s.size;let u=0;for(let h=0;h<a-1;h++)for(let p=0;p<a-1;p++){const m=s.get(h,p)+s.get(h,p+1)+s.get(h+1,p)+s.get(h+1,p+1);(m===4||m===0)&&u++}return u*t.N2},e.getPenaltyN3=function(s){const a=s.size;let u=0,h=0,p=0;for(let m=0;m<a;m++){h=p=0;for(let w=0;w<a;w++)h=h<<1&2047|s.get(m,w),w>=10&&(h===1488||h===93)&&u++,p=p<<1&2047|s.get(w,m),w>=10&&(p===1488||p===93)&&u++}return u*t.N3},e.getPenaltyN4=function(s){let a=0;const u=s.data.length;for(let p=0;p<u;p++)a+=s.data[p];return Math.abs(Math.ceil(a*100/u/5)-10)*t.N4};function n(r,s,a){switch(r){case e.Patterns.PATTERN000:return(s+a)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(s+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return s*a%2+s*a%3===0;case e.Patterns.PATTERN110:return(s*a%2+s*a%3)%2===0;case e.Patterns.PATTERN111:return(s*a%3+(s+a)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(s,a){const u=a.size;for(let h=0;h<u;h++)for(let p=0;p<u;p++)a.isReserved(p,h)||a.xor(p,h,n(s,p,h))},e.getBestMask=function(s,a){const u=Object.keys(e.Patterns).length;let h=0,p=1/0;for(let m=0;m<u;m++){a(m),e.applyMask(m,s);const w=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(m,s),w<p&&(p=w,h=m)}return h}})(sv);var pd={};const Co=dd,T1=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],k1=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];pd.getBlocksCount=function(t,n){switch(n){case Co.L:return T1[(t-1)*4+0];case Co.M:return T1[(t-1)*4+1];case Co.Q:return T1[(t-1)*4+2];case Co.H:return T1[(t-1)*4+3];default:return}};pd.getTotalCodewordsCount=function(t,n){switch(n){case Co.L:return k1[(t-1)*4+0];case Co.M:return k1[(t-1)*4+1];case Co.Q:return k1[(t-1)*4+2];case Co.H:return k1[(t-1)*4+3];default:return}};var av={},gd={};const Yc=new Uint8Array(512),Uh=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)Yc[n]=t,Uh[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)Yc[n]=Yc[n-255]})();gd.log=function(t){if(t<1)throw new Error("log("+t+")");return Uh[t]};gd.exp=function(t){return Yc[t]};gd.mul=function(t,n){return t===0||n===0?0:Yc[Uh[t]+Uh[n]]};(function(e){const t=gd;e.mul=function(r,s){const a=new Uint8Array(r.length+s.length-1);for(let u=0;u<r.length;u++)for(let h=0;h<s.length;h++)a[u+h]^=t.mul(r[u],s[h]);return a},e.mod=function(r,s){let a=new Uint8Array(r);for(;a.length-s.length>=0;){const u=a[0];for(let p=0;p<s.length;p++)a[p]^=t.mul(s[p],u);let h=0;for(;h<a.length&&a[h]===0;)h++;a=a.slice(h)}return a},e.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let a=0;a<r;a++)s=e.mul(s,new Uint8Array([1,t.exp(a)]));return s}})(av);const ov=av;function Mg(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Mg.prototype.initialize=function(t){this.degree=t,this.genPoly=ov.generateECPolynomial(this.degree)};Mg.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=ov.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const a=new Uint8Array(this.degree);return a.set(r,s),a}return r};var jE=Mg,lv={},Xo={},Bg={};Bg.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var da={};const uv="[0-9]+",UE="[A-Z $%*+\\-./:]+";let Ef="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ef=Ef.replace(/u/g,"\\u");const zE="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ef+`)(?:.|[\r
]))+`;da.KANJI=new RegExp(Ef,"g");da.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");da.BYTE=new RegExp(zE,"g");da.NUMERIC=new RegExp(uv,"g");da.ALPHANUMERIC=new RegExp(UE,"g");const qE=new RegExp("^"+Ef+"$"),VE=new RegExp("^"+uv+"$"),WE=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");da.testKanji=function(t){return qE.test(t)};da.testNumeric=function(t){return VE.test(t)};da.testAlphanumeric=function(t){return WE.test(t)};(function(e){const t=Bg,n=da;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,u){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?a.ccBits[0]:u<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return n.testNumeric(a)?e.NUMERIC:n.testAlphanumeric(a)?e.ALPHANUMERIC:n.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(a,u){if(e.isValid(a))return a;try{return r(a)}catch{return u}}})(Xo);(function(e){const t=fs,n=pd,r=dd,s=Xo,a=Bg,u=7973,h=t.getBCHDigit(u);function p(E,A,R){for(let k=1;k<=40;k++)if(A<=e.getCapacity(k,R,E))return k}function m(E,A){return s.getCharCountIndicator(E,A)+4}function w(E,A){let R=0;return E.forEach(function(k){const M=m(k.mode,A);R+=M+k.getBitsLength()}),R}function v(E,A){for(let R=1;R<=40;R++)if(w(E,R)<=e.getCapacity(R,A,s.MIXED))return R}e.from=function(A,R){return a.isValid(A)?parseInt(A,10):R},e.getCapacity=function(A,R,k){if(!a.isValid(A))throw new Error("Invalid QR Code version");typeof k>"u"&&(k=s.BYTE);const M=t.getSymbolTotalCodewords(A),S=n.getTotalCodewordsCount(A,R),I=(M-S)*8;if(k===s.MIXED)return I;const L=I-m(k,A);switch(k){case s.NUMERIC:return Math.floor(L/10*3);case s.ALPHANUMERIC:return Math.floor(L/11*2);case s.KANJI:return Math.floor(L/13);case s.BYTE:default:return Math.floor(L/8)}},e.getBestVersionForData=function(A,R){let k;const M=r.from(R,r.M);if(Array.isArray(A)){if(A.length>1)return v(A,M);if(A.length===0)return 1;k=A[0]}else k=A;return p(k.mode,k.getLength(),M)},e.getEncodedBits=function(A){if(!a.isValid(A)||A<7)throw new Error("Invalid QR Code version");let R=A<<12;for(;t.getBCHDigit(R)-h>=0;)R^=u<<t.getBCHDigit(R)-h;return A<<12|R}})(lv);var cv={};const op=fs,fv=1335,HE=21522,ax=op.getBCHDigit(fv);cv.getEncodedBits=function(t,n){const r=t.bit<<3|n;let s=r<<10;for(;op.getBCHDigit(s)-ax>=0;)s^=fv<<op.getBCHDigit(s)-ax;return(r<<10|s)^HE};var hv={};const GE=Xo;function Vu(e){this.mode=GE.NUMERIC,this.data=e.toString()}Vu.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Vu.prototype.getLength=function(){return this.data.length};Vu.prototype.getBitsLength=function(){return Vu.getBitsLength(this.data.length)};Vu.prototype.write=function(t){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),t.put(s,10);const a=this.data.length-n;a>0&&(r=this.data.substr(n),s=parseInt(r,10),t.put(s,a*3+1))};var XE=Vu;const YE=Xo,b0=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Wu(e){this.mode=YE.ALPHANUMERIC,this.data=e}Wu.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Wu.prototype.getLength=function(){return this.data.length};Wu.prototype.getBitsLength=function(){return Wu.getBitsLength(this.data.length)};Wu.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=b0.indexOf(this.data[n])*45;r+=b0.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(b0.indexOf(this.data[n]),6)};var KE=Wu;const ZE=Xo;function Hu(e){this.mode=ZE.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Hu.getBitsLength=function(t){return t*8};Hu.prototype.getLength=function(){return this.data.length};Hu.prototype.getBitsLength=function(){return Hu.getBitsLength(this.data.length)};Hu.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var QE=Hu;const JE=Xo,$E=fs;function Gu(e){this.mode=JE.KANJI,this.data=e}Gu.getBitsLength=function(t){return t*13};Gu.prototype.getLength=function(){return this.data.length};Gu.prototype.getBitsLength=function(){return Gu.getBitsLength(this.data.length)};Gu.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=$E.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var eN=Gu,dv={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,s){var a={},u={};u[r]=0;var h=t.PriorityQueue.make();h.push(r,0);for(var p,m,w,v,E,A,R,k,M;!h.empty();){p=h.pop(),m=p.value,v=p.cost,E=n[m]||{};for(w in E)E.hasOwnProperty(w)&&(A=E[w],R=v+A,k=u[w],M=typeof u[w]>"u",(M||k>R)&&(u[w]=R,h.push(w,R),a[w]=m))}if(typeof s<"u"&&typeof u[s]>"u"){var S=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(S)}return a},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],a=r;a;)s.push(a),n[a],a=n[a];return s.reverse(),s},find_path:function(n,r,s){var a=t.single_source_shortest_paths(n,r,s);return t.extract_shortest_path_from_predecessor_list(a,s)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,s={},a;n=n||{};for(a in r)r.hasOwnProperty(a)&&(s[a]=r[a]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(dv);var tN=dv.exports;(function(e){const t=Xo,n=XE,r=KE,s=QE,a=eN,u=da,h=fs,p=tN;function m(S){return unescape(encodeURIComponent(S)).length}function w(S,I,L){const q=[];let $;for(;($=S.exec(L))!==null;)q.push({data:$[0],index:$.index,mode:I,length:$[0].length});return q}function v(S){const I=w(u.NUMERIC,t.NUMERIC,S),L=w(u.ALPHANUMERIC,t.ALPHANUMERIC,S);let q,$;return h.isKanjiModeEnabled()?(q=w(u.BYTE,t.BYTE,S),$=w(u.KANJI,t.KANJI,S)):(q=w(u.BYTE_KANJI,t.BYTE,S),$=[]),I.concat(L,q,$).sort(function(D,Y){return D.index-Y.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function E(S,I){switch(I){case t.NUMERIC:return n.getBitsLength(S);case t.ALPHANUMERIC:return r.getBitsLength(S);case t.KANJI:return a.getBitsLength(S);case t.BYTE:return s.getBitsLength(S)}}function A(S){return S.reduce(function(I,L){const q=I.length-1>=0?I[I.length-1]:null;return q&&q.mode===L.mode?(I[I.length-1].data+=L.data,I):(I.push(L),I)},[])}function R(S){const I=[];for(let L=0;L<S.length;L++){const q=S[L];switch(q.mode){case t.NUMERIC:I.push([q,{data:q.data,mode:t.ALPHANUMERIC,length:q.length},{data:q.data,mode:t.BYTE,length:q.length}]);break;case t.ALPHANUMERIC:I.push([q,{data:q.data,mode:t.BYTE,length:q.length}]);break;case t.KANJI:I.push([q,{data:q.data,mode:t.BYTE,length:m(q.data)}]);break;case t.BYTE:I.push([{data:q.data,mode:t.BYTE,length:m(q.data)}])}}return I}function k(S,I){const L={},q={start:{}};let $=["start"];for(let Q=0;Q<S.length;Q++){const D=S[Q],Y=[];for(let Z=0;Z<D.length;Z++){const ye=D[Z],W=""+Q+Z;Y.push(W),L[W]={node:ye,lastCount:0},q[W]={};for(let X=0;X<$.length;X++){const ae=$[X];L[ae]&&L[ae].node.mode===ye.mode?(q[ae][W]=E(L[ae].lastCount+ye.length,ye.mode)-E(L[ae].lastCount,ye.mode),L[ae].lastCount+=ye.length):(L[ae]&&(L[ae].lastCount=ye.length),q[ae][W]=E(ye.length,ye.mode)+4+t.getCharCountIndicator(ye.mode,I))}}$=Y}for(let Q=0;Q<$.length;Q++)q[$[Q]].end=0;return{map:q,table:L}}function M(S,I){let L;const q=t.getBestModeForData(S);if(L=t.from(I,q),L!==t.BYTE&&L.bit<q.bit)throw new Error('"'+S+'" cannot be encoded with mode '+t.toString(L)+`.
 Suggested mode is: `+t.toString(q));switch(L===t.KANJI&&!h.isKanjiModeEnabled()&&(L=t.BYTE),L){case t.NUMERIC:return new n(S);case t.ALPHANUMERIC:return new r(S);case t.KANJI:return new a(S);case t.BYTE:return new s(S)}}e.fromArray=function(I){return I.reduce(function(L,q){return typeof q=="string"?L.push(M(q,null)):q.data&&L.push(M(q.data,q.mode)),L},[])},e.fromString=function(I,L){const q=v(I,h.isKanjiModeEnabled()),$=R(q),Q=k($,L),D=p.find_path(Q.map,"start","end"),Y=[];for(let Z=1;Z<D.length-1;Z++)Y.push(Q.table[D[Z]].node);return e.fromArray(A(Y))},e.rawSplit=function(I){return e.fromArray(v(I,h.isKanjiModeEnabled()))}})(hv);const md=fs,A0=dd,nN=ME,rN=BE,iN=rv,sN=iv,lp=sv,up=pd,aN=jE,zh=lv,oN=cv,lN=Xo,C0=hv;function uN(e,t){const n=e.size,r=sN.getPositions(t);for(let s=0;s<r.length;s++){const a=r[s][0],u=r[s][1];for(let h=-1;h<=7;h++)if(!(a+h<=-1||n<=a+h))for(let p=-1;p<=7;p++)u+p<=-1||n<=u+p||(h>=0&&h<=6&&(p===0||p===6)||p>=0&&p<=6&&(h===0||h===6)||h>=2&&h<=4&&p>=2&&p<=4?e.set(a+h,u+p,!0,!0):e.set(a+h,u+p,!1,!0))}}function cN(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function fN(e,t){const n=iN.getPositions(t);for(let r=0;r<n.length;r++){const s=n[r][0],a=n[r][1];for(let u=-2;u<=2;u++)for(let h=-2;h<=2;h++)u===-2||u===2||h===-2||h===2||u===0&&h===0?e.set(s+u,a+h,!0,!0):e.set(s+u,a+h,!1,!0)}}function hN(e,t){const n=e.size,r=zh.getEncodedBits(t);let s,a,u;for(let h=0;h<18;h++)s=Math.floor(h/3),a=h%3+n-8-3,u=(r>>h&1)===1,e.set(s,a,u,!0),e.set(a,s,u,!0)}function E0(e,t,n){const r=e.size,s=oN.getEncodedBits(t,n);let a,u;for(a=0;a<15;a++)u=(s>>a&1)===1,a<6?e.set(a,8,u,!0):a<8?e.set(a+1,8,u,!0):e.set(r-15+a,8,u,!0),a<8?e.set(8,r-a-1,u,!0):a<9?e.set(8,15-a-1+1,u,!0):e.set(8,15-a-1,u,!0);e.set(r-8,8,1,!0)}function dN(e,t){const n=e.size;let r=-1,s=n-1,a=7,u=0;for(let h=n-1;h>0;h-=2)for(h===6&&h--;;){for(let p=0;p<2;p++)if(!e.isReserved(s,h-p)){let m=!1;u<t.length&&(m=(t[u]>>>a&1)===1),e.set(s,h-p,m),a--,a===-1&&(u++,a=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function pN(e,t,n){const r=new nN;n.forEach(function(p){r.put(p.mode.bit,4),r.put(p.getLength(),lN.getCharCountIndicator(p.mode,e)),p.write(r)});const s=md.getSymbolTotalCodewords(e),a=up.getTotalCodewordsCount(e,t),u=(s-a)*8;for(r.getLengthInBits()+4<=u&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const h=(u-r.getLengthInBits())/8;for(let p=0;p<h;p++)r.put(p%2?17:236,8);return gN(r,e,t)}function gN(e,t,n){const r=md.getSymbolTotalCodewords(t),s=up.getTotalCodewordsCount(t,n),a=r-s,u=up.getBlocksCount(t,n),h=r%u,p=u-h,m=Math.floor(r/u),w=Math.floor(a/u),v=w+1,E=m-w,A=new aN(E);let R=0;const k=new Array(u),M=new Array(u);let S=0;const I=new Uint8Array(e.buffer);for(let D=0;D<u;D++){const Y=D<p?w:v;k[D]=I.slice(R,R+Y),M[D]=A.encode(k[D]),R+=Y,S=Math.max(S,Y)}const L=new Uint8Array(r);let q=0,$,Q;for($=0;$<S;$++)for(Q=0;Q<u;Q++)$<k[Q].length&&(L[q++]=k[Q][$]);for($=0;$<E;$++)for(Q=0;Q<u;Q++)L[q++]=M[Q][$];return L}function mN(e,t,n,r){let s;if(Array.isArray(e))s=C0.fromArray(e);else if(typeof e=="string"){let m=t;if(!m){const w=C0.rawSplit(e);m=zh.getBestVersionForData(w,n)}s=C0.fromString(e,m||40)}else throw new Error("Invalid data");const a=zh.getBestVersionForData(s,n);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const u=pN(t,n,s),h=md.getSymbolSize(t),p=new rN(h);return uN(p,t),cN(p),fN(p,t),E0(p,n,0),t>=7&&hN(p,t),dN(p,u),isNaN(r)&&(r=lp.getBestMask(p,E0.bind(null,p,n))),lp.applyMask(r,p),E0(p,n,r),{modules:p,version:t,errorCorrectionLevel:n,maskPattern:r,segments:s}}tv.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=A0.M,s,a;return typeof n<"u"&&(r=A0.from(n.errorCorrectionLevel,A0.M),s=zh.from(n.version),a=lp.from(n.maskPattern),n.toSJISFunc&&md.setToSJISFunction(n.toSJISFunc)),mN(t,s,r,a)};var pv={},Fg={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(a){return[a,a]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,a=r.width&&r.width>=21?r.width:void 0,u=r.scale||4;return{width:a,scale:a?4:u,margin:s,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},e.getImageWidth=function(r,s){const a=e.getScale(r,s);return Math.floor((r+s.margin*2)*a)},e.qrToImageData=function(r,s,a){const u=s.modules.size,h=s.modules.data,p=e.getScale(u,a),m=Math.floor((u+a.margin*2)*p),w=a.margin*p,v=[a.color.light,a.color.dark];for(let E=0;E<m;E++)for(let A=0;A<m;A++){let R=(E*m+A)*4,k=a.color.light;if(E>=w&&A>=w&&E<m-w&&A<m-w){const M=Math.floor((E-w)/p),S=Math.floor((A-w)/p);k=v[h[M*u+S]?1:0]}r[R++]=k.r,r[R++]=k.g,r[R++]=k.b,r[R]=k.a}}})(Fg);(function(e){const t=Fg;function n(s,a,u){s.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=u,a.width=u,a.style.height=u+"px",a.style.width=u+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,u,h){let p=h,m=u;typeof p>"u"&&(!u||!u.getContext)&&(p=u,u=void 0),u||(m=r()),p=t.getOptions(p);const w=t.getImageWidth(a.modules.size,p),v=m.getContext("2d"),E=v.createImageData(w,w);return t.qrToImageData(E.data,a,p),n(v,m,w),v.putImageData(E,0,0),m},e.renderToDataURL=function(a,u,h){let p=h;typeof p>"u"&&(!u||!u.getContext)&&(p=u,u=void 0),p||(p={});const m=e.render(a,u,p),w=p.type||"image/png",v=p.rendererOpts||{};return m.toDataURL(w,v.quality)}})(pv);var gv={};const xN=Fg;function ox(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function N0(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function yN(e,t,n){let r="",s=0,a=!1,u=0;for(let h=0;h<e.length;h++){const p=Math.floor(h%t),m=Math.floor(h/t);!p&&!a&&(a=!0),e[h]?(u++,h>0&&p>0&&e[h-1]||(r+=a?N0("M",p+n,.5+m+n):N0("m",s,0),s=0,a=!1),p+1<t&&e[h+1]||(r+=N0("h",u),u=0)):s++}return r}gv.render=function(t,n,r){const s=xN.getOptions(n),a=t.modules.size,u=t.modules.data,h=a+s.margin*2,p=s.color.light.a?"<path "+ox(s.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",m="<path "+ox(s.color.dark,"stroke")+' d="'+yN(u,a,s.margin)+'"/>',w='viewBox="0 0 '+h+" "+h+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+w+' shape-rendering="crispEdges">'+p+m+`</svg>
`;return typeof r=="function"&&r(null,E),E};const wN=RE,cp=tv,mv=pv,vN=gv;function jg(e,t,n,r,s){const a=[].slice.call(arguments,1),u=a.length,h=typeof a[u-1]=="function";if(!h&&!wN())throw new Error("Callback required as last argument");if(h){if(u<2)throw new Error("Too few arguments provided");u===2?(s=n,n=t,t=r=void 0):u===3&&(t.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=t,t=void 0))}else{if(u<1)throw new Error("Too few arguments provided");return u===1?(n=t,t=r=void 0):u===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(p,m){try{const w=cp.create(n,r);p(e(w,t,r))}catch(w){m(w)}})}try{const p=cp.create(n,r);s(null,e(p,t,r))}catch(p){s(p)}}Mf.create=cp.create;Mf.toCanvas=jg.bind(null,mv.render);Mf.toDataURL=jg.bind(null,mv.renderToDataURL);Mf.toString=jg.bind(null,function(e,t,n){return vN.render(e,n)});const xv=async e=>{try{return await Mf.toDataURL(e,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}})}catch(t){throw console.error("Error generating QR code:",t),t}},Kc=e=>`${window.location.origin}/event/${e}/register`,bN=()=>{const{id:e}=Pf(),t=Xs(),{user:n,canEditEvent:r,isSuperAdmin:s}=Fl(),[a,u]=ze.useState(null),[h,p]=ze.useState([]),[m,w]=ze.useState("event"),[v,E]=ze.useState(!0),[A,R]=ze.useState(null),[k,M]=ze.useState(null),S=()=>{if(!(a!=null&&a.date))return!1;try{const Q=Xc(a.date);return Gc(Q)}catch(Q){return console.error("Error parsing event date:",Q),!1}};ze.useEffect(()=>{I()},[e]);const I=async()=>{try{E(!0),R(null);const Q=await qu(parseInt(e));if(!Q){R(`Event with ID ${e} not found. This event may not exist or may have been created on a different device.`),E(!1);return}u(Q);const D=await H3(parseInt(e));p(D);try{const Y=Kc(e),Z=await xv(Y);M(Z)}catch(Y){console.error("Error generating QR code:",Y)}E(!1)}catch(Q){console.error("Error loading data:",Q),R("Failed to load event data. Please try again."),E(!1)}},L=()=>{if(!s()){alert("Export feature is only available for Super Admin. Please contact Robocorpsg@gmail.com");return}const Q=ix(h);rx(Q,`${a.title}-registered.csv`)},q=()=>{if(!s()){alert("Export feature is only available for Super Admin. Please contact Robocorpsg@gmail.com");return}const Q=h.filter(Y=>Y.attended),D=ix(Q,!0);rx(D,`${a.title}-attended.csv`)};if(v)return T.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:T.jsx("p",{className:"text-gray-400",children:"Loading..."})});if(A)return T.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:T.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[T.jsx("div",{className:"text-6xl mb-4",children:""}),T.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Not Found"}),T.jsx("p",{className:"text-gray-400 mb-6",children:A}),T.jsxs("div",{className:"space-y-3",children:[T.jsx("button",{onClick:()=>t("/events"),className:"btn-primary w-full",children:"View All Events"}),T.jsx("button",{onClick:()=>window.location.reload(),className:"btn-secondary w-full",children:"Try Again"})]})]})});if(!a)return T.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:T.jsx("p",{className:"text-gray-400",children:"No event data available"})});const $=[{id:"event",label:"Event"},{id:"details",label:"Details"},{id:"flyer",label:"Flyer"},...s()&&S()?[{id:"checkin",label:"Check-in (Today Only)"}]:[]];return T.jsxs("div",{className:"min-h-screen bg-black",children:[T.jsx(Uo,{showBack:!0,rightAction:r(a==null?void 0:a.ownerId)?T.jsx("button",{onClick:()=>t(`/${e}/edit`),className:"text-white hover:text-gray-300",children:T.jsx(oA,{size:20})}):null}),T.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[(a.image||a.logo)&&T.jsxs("div",{className:"mb-6",children:[a.image&&T.jsx("img",{src:a.image,alt:a.title,className:"w-full h-48 object-cover rounded-lg mb-4"}),T.jsxs("div",{className:"flex items-center gap-4",children:[a.logo&&!a.image&&T.jsx("img",{src:a.logo,alt:"Logo",className:"w-20 h-20 object-cover rounded"}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-2xl font-bold",children:a.title}),a.date&&T.jsx("p",{className:"text-gray-400 mt-1",children:is(new Date(a.date),"PPP")})]})]})]}),!a.image&&!a.logo&&T.jsxs("div",{className:"mb-6",children:[T.jsx("h1",{className:"text-2xl font-bold",children:a.title}),a.date&&T.jsx("p",{className:"text-gray-400 mt-1",children:is(new Date(a.date),"PPP")})]}),T.jsxs("div",{className:"mb-6 bg-blue-900/20 border border-blue-500 rounded-lg p-6",children:[T.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[T.jsx(h3,{size:20,className:"text-blue-500"}),"Share This Event"]}),T.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Copy and share this link to invite people"}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("div",{className:"flex-1 bg-dark-light border border-gray-700 rounded-lg px-4 py-3 font-mono text-sm text-gray-300 overflow-x-auto",children:[window.location.origin,"/event/",e]}),T.jsxs("button",{onClick:()=>{const Q=`${window.location.origin}/event/${e}`;navigator.clipboard.writeText(Q),alert(" Link copied to clipboard!")},className:"btn-primary flex items-center gap-2 px-6 py-3 whitespace-nowrap",children:[T.jsx(D5,{size:18}),"Copy Link"]})]})]}),T.jsx("div",{className:"mb-6 bg-primary/10 border border-primary rounded-lg p-6",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Join This Event"}),T.jsxs("p",{className:"text-gray-400 flex items-center gap-2",children:[T.jsx(c0,{size:18}),h.length," people registered"]})]}),T.jsxs("button",{onClick:()=>t(`/${e}/register`),className:"btn-primary flex items-center gap-2 px-8 py-4 text-lg",children:[T.jsx(c0,{size:24}),"Register Now"]})]})}),T.jsxs("div",{className:"mb-6 bg-dark-lighter rounded-lg p-6",children:[T.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[T.jsx(P2,{size:20,className:"text-primary"}),"Quick Registration"]}),T.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Scan this QR code with your phone to register instantly"}),T.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[k?T.jsx("div",{className:"flex-shrink-0",children:T.jsx("div",{className:"bg-white p-4 rounded-lg inline-block",children:T.jsx("img",{src:k,alt:"Registration QR Code",className:"w-32 h-32 md:w-40 md:h-40"})})}):T.jsx("div",{className:"flex-shrink-0 w-32 h-32 md:w-40 md:h-40 bg-gray-800 rounded-lg flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-primary border-t-transparent rounded-full mx-auto mb-2"}),T.jsx("p",{className:"text-xs text-gray-400",children:"Loading..."})]})}),T.jsxs("div",{className:"flex-1 text-center md:text-left",children:[T.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Or copy this registration link:"}),T.jsx("div",{className:"bg-dark-light border border-gray-700 rounded-lg px-4 py-3 font-mono text-sm text-gray-300 mb-3 break-all",children:Kc(e)}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[T.jsxs("button",{onClick:()=>{const Q=Kc(e);navigator.clipboard.writeText(Q),alert(" Registration link copied to clipboard!")},className:"btn-secondary flex items-center justify-center gap-2 text-sm",children:[T.jsx(D5,{size:16}),"Copy Link"]}),k&&T.jsxs("button",{onClick:()=>{const Q=document.createElement("a");Q.download=`${a.title}-registration-qr.png`,Q.href=k,Q.click()},className:"btn-secondary flex items-center justify-center gap-2 text-sm",children:[T.jsx(X1,{size:16}),"Download QR"]})]})]})]})]}),T.jsx(OE,{tabs:$,activeTab:m,onTabChange:w}),m==="event"&&T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event date"}),T.jsx("p",{className:"text-white",children:a.date?is(new Date(a.date),"yyyy-MM-dd"):"-"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Title"}),T.jsx("p",{className:"text-white",children:a.title})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Desc"}),T.jsx("p",{className:"text-white",children:a.description||"-"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Venue"}),T.jsx("p",{className:"text-white",children:a.venue||"-"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Organiser name"}),a.organisers&&a.organisers.length>0?T.jsx("div",{className:"space-y-2",children:a.organisers.map((Q,D)=>T.jsxs("div",{className:"bg-dark-lighter p-3 rounded",children:[T.jsx("p",{className:"text-white",children:Q.name}),Q.detail&&T.jsx("p",{className:"text-sm text-gray-400",children:Q.detail})]},D))}):T.jsx("p",{className:"text-white",children:"-"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Logo"}),a.logo?T.jsx("img",{src:a.logo,alt:"Logo",className:"w-24 h-24 object-cover rounded"}):T.jsx("p",{className:"text-white",children:"No file chosen"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Image"}),a.image?T.jsx("img",{src:a.image,alt:"Event",className:"w-full max-w-md rounded"}):T.jsx("p",{className:"text-white",children:"No file chosen"})]})]}),m==="details"&&T.jsxs("div",{className:"space-y-6",children:[a.guestsOfHonour&&a.guestsOfHonour.length>0&&T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Guests of Honour"}),T.jsx("div",{className:"grid gap-3",children:a.guestsOfHonour.map((Q,D)=>T.jsxs("div",{className:"bg-dark-lighter p-4 rounded flex items-center gap-4",children:[Q.photo&&T.jsx("img",{src:Q.photo,alt:Q.name,className:"w-16 h-16 object-cover rounded-full"}),T.jsxs("div",{children:[T.jsx("p",{className:"font-medium",children:Q.name}),Q.title&&T.jsx("p",{className:"text-sm text-gray-400",children:Q.title})]})]},D))})]}),a.speakers&&a.speakers.length>0&&T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Speakers"}),T.jsx("div",{className:"grid gap-3",children:a.speakers.map((Q,D)=>T.jsxs("div",{className:"bg-dark-lighter p-4 rounded flex items-center gap-4",children:[Q.photo&&T.jsx("img",{src:Q.photo,alt:Q.name,className:"w-16 h-16 object-cover rounded-full"}),T.jsxs("div",{children:[T.jsx("p",{className:"font-medium",children:Q.name}),Q.title&&T.jsx("p",{className:"text-sm text-gray-400",children:Q.title})]})]},D))})]}),a.sponsors&&a.sponsors.length>0&&T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Sponsors"}),T.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.sponsors.map((Q,D)=>T.jsxs("div",{className:"bg-dark-lighter p-4 rounded text-center",children:[Q.logo&&T.jsx("img",{src:Q.logo,alt:Q.name,className:"w-20 h-20 object-contain mx-auto mb-2"}),T.jsx("p",{className:"text-sm",children:Q.name})]},D))})]}),a.media&&a.media.length>0&&T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Media Partners"}),T.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.media.map((Q,D)=>T.jsxs("div",{className:"bg-dark-lighter p-4 rounded text-center",children:[Q.logo&&T.jsx("img",{src:Q.logo,alt:Q.name,className:"w-20 h-20 object-contain mx-auto mb-2"}),T.jsx("p",{className:"text-sm",children:Q.name})]},D))})]})]}),m==="flyer"&&T.jsxs("div",{className:"space-y-4",children:[T.jsxs("button",{onClick:()=>t(`/${e}/flyer`),className:"btn-primary w-full flex items-center justify-center gap-2",children:[T.jsx(sA,{size:20}),"View & Download Flyer"]}),T.jsxs("button",{onClick:()=>t(`/${e}/register`),className:"btn-secondary w-full flex items-center justify-center gap-2",children:[T.jsx(P2,{size:20}),"Registration Page"]}),T.jsx("div",{className:"bg-dark-lighter rounded-lg p-4 text-center",children:T.jsx("p",{className:"text-sm text-gray-400",children:" The QR code for registration is now available on the main event page above"})})]}),m==="checkin"&&T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-500 rounded-lg p-4",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("div",{className:"w-5 h-5 bg-yellow-500 rounded-full flex items-center justify-center",children:T.jsx("span",{className:"text-black text-xs font-bold",children:"!"})}),T.jsx("h3",{className:"font-semibold text-yellow-400",children:"Admin Only - Event Day Only"})]}),T.jsxs("p",{className:"text-sm text-gray-300",children:["Check-in and export functions are restricted to Super Admin users and only available on the event day.",a.date&&T.jsxs("span",{className:"block mt-1",children:["Event Date: ",is(Xc(a.date),"PPP"),S()?" (Today - Check-in Available)":" (Check-in Not Available Today)"]})]})]}),T.jsx("div",{className:"bg-dark-lighter p-4 rounded",children:T.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-3xl font-bold text-primary",children:h.length}),T.jsx("p",{className:"text-sm text-gray-400",children:"Registered"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-3xl font-bold text-green-500",children:h.filter(Q=>Q.attended).length}),T.jsx("p",{className:"text-sm text-gray-400",children:"Attended"})]})]})}),T.jsxs("button",{onClick:()=>t(`/${e}/checkin`),className:"btn-primary w-full flex items-center justify-center gap-2",children:[T.jsx(c0,{size:20}),"Check-in Attendees (Admin Only)"]}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("button",{onClick:L,disabled:h.length===0,className:"btn-secondary flex items-center justify-center gap-2",children:[T.jsx(X1,{size:18}),"Export Registered"]}),T.jsxs("button",{onClick:q,disabled:h.filter(Q=>Q.attended).length===0,className:"btn-secondary flex items-center justify-center gap-2",children:[T.jsx(X1,{size:18}),"Export Attended"]})]}),T.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Only Super Admin (Robocorpsg@gmail.com) can perform check-in operations"})]})]})]})},AN="modulepreload",CN=function(e){return"/event/"+e},lx={},fp=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=Promise.allSettled(n.map(p=>{if(p=CN(p),p in lx)return;lx[p]=!0;const m=p.endsWith(".css"),w=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":AN,m||(v.as="script"),v.crossOrigin="",v.href=p,h&&v.setAttribute("nonce",h),document.head.appendChild(v),m)return new Promise((E,A)=>{v.addEventListener("load",E),v.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return s.then(u=>{for(const h of u||[])h.status==="rejected"&&a(h.reason);return t().catch(a)})};var wi=Uint8Array,ss=Uint16Array,Ug=Int32Array,xd=new wi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yd=new wi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hp=new wi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yv=function(e,t){for(var n=new ss(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var s=new Ug(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)s[a]=a-n[r]<<5|r;return{b:n,r:s}},wv=yv(xd,2),vv=wv.b,dp=wv.r;vv[28]=258,dp[258]=28;var bv=yv(yd,0),EN=bv.b,ux=bv.r,pp=new ss(32768);for(var Hn=0;Hn<32768;++Hn){var co=(Hn&43690)>>1|(Hn&21845)<<1;co=(co&52428)>>2|(co&13107)<<2,co=(co&61680)>>4|(co&3855)<<4,pp[Hn]=((co&65280)>>8|(co&255)<<8)>>1}var fa=function(e,t,n){for(var r=e.length,s=0,a=new ss(t);s<r;++s)e[s]&&++a[e[s]-1];var u=new ss(t);for(s=1;s<t;++s)u[s]=u[s-1]+a[s-1]<<1;var h;if(n){h=new ss(1<<t);var p=15-t;for(s=0;s<r;++s)if(e[s])for(var m=s<<4|e[s],w=t-e[s],v=u[e[s]-1]++<<w,E=v|(1<<w)-1;v<=E;++v)h[pp[v]>>p]=m}else for(h=new ss(r),s=0;s<r;++s)e[s]&&(h[s]=pp[u[e[s]-1]++]>>15-e[s]);return h},zo=new wi(288);for(var Hn=0;Hn<144;++Hn)zo[Hn]=8;for(var Hn=144;Hn<256;++Hn)zo[Hn]=9;for(var Hn=256;Hn<280;++Hn)zo[Hn]=7;for(var Hn=280;Hn<288;++Hn)zo[Hn]=8;var Nf=new wi(32);for(var Hn=0;Hn<32;++Hn)Nf[Hn]=5;var NN=fa(zo,9,0),SN=fa(zo,9,1),_N=fa(Nf,5,0),IN=fa(Nf,5,1),S0=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Bs=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},_0=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},zg=function(e){return(e+7)/8|0},Av=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new wi(e.subarray(t,n))},TN=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Us=function(e,t,n){var r=new Error(t||TN[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Us),!n)throw r;return r},kN=function(e,t,n,r){var s=e.length,a=0;if(!s||t.f&&!t.l)return n||new wi(0);var u=!n,h=u||t.i!=2,p=t.i;u&&(n=new wi(s*3));var m=function(Ye){var st=n.length;if(Ye>st){var Ge=new wi(Math.max(st*2,Ye));Ge.set(n),n=Ge}},w=t.f||0,v=t.p||0,E=t.b||0,A=t.l,R=t.d,k=t.m,M=t.n,S=s*8;do{if(!A){w=Bs(e,v,1);var I=Bs(e,v+1,3);if(v+=3,I)if(I==1)A=SN,R=IN,k=9,M=5;else if(I==2){var Q=Bs(e,v,31)+257,D=Bs(e,v+10,15)+4,Y=Q+Bs(e,v+5,31)+1;v+=14;for(var Z=new wi(Y),ye=new wi(19),W=0;W<D;++W)ye[hp[W]]=Bs(e,v+W*3,7);v+=D*3;for(var X=S0(ye),ae=(1<<X)-1,oe=fa(ye,X,1),W=0;W<Y;){var se=oe[Bs(e,v,ae)];v+=se&15;var L=se>>4;if(L<16)Z[W++]=L;else{var Ne=0,ve=0;for(L==16?(ve=3+Bs(e,v,3),v+=2,Ne=Z[W-1]):L==17?(ve=3+Bs(e,v,7),v+=3):L==18&&(ve=11+Bs(e,v,127),v+=7);ve--;)Z[W++]=Ne}}var fe=Z.subarray(0,Q),Ae=Z.subarray(Q);k=S0(fe),M=S0(Ae),A=fa(fe,k,1),R=fa(Ae,M,1)}else Us(1);else{var L=zg(v)+4,q=e[L-4]|e[L-3]<<8,$=L+q;if($>s){p&&Us(0);break}h&&m(E+q),n.set(e.subarray(L,$),E),t.b=E+=q,t.p=v=$*8,t.f=w;continue}if(v>S){p&&Us(0);break}}h&&m(E+131072);for(var Se=(1<<k)-1,Je=(1<<M)-1,z=v;;z=v){var Ne=A[_0(e,v)&Se],ie=Ne>>4;if(v+=Ne&15,v>S){p&&Us(0);break}if(Ne||Us(2),ie<256)n[E++]=ie;else if(ie==256){z=v,A=null;break}else{var le=ie-254;if(ie>264){var W=ie-257,ge=xd[W];le=Bs(e,v,(1<<ge)-1)+vv[W],v+=ge}var ce=R[_0(e,v)&Je],Te=ce>>4;ce||Us(3),v+=ce&15;var Ae=EN[Te];if(Te>3){var ge=yd[Te];Ae+=_0(e,v)&(1<<ge)-1,v+=ge}if(v>S){p&&Us(0);break}h&&m(E+131072);var _e=E+le;if(E<Ae){var Pe=a-Ae,$e=Math.min(Ae,_e);for(Pe+E<0&&Us(3);E<$e;++E)n[E]=r[Pe+E]}for(;E<_e;++E)n[E]=n[E-Ae]}}t.l=A,t.p=z,t.b=E,t.f=w,A&&(w=1,t.m=k,t.d=R,t.n=M)}while(!w);return E!=n.length&&u?Av(n,0,E):n.subarray(0,E)},Sa=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Ec=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},I0=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,a=n.slice();if(!s)return{t:Ev,l:0};if(s==1){var u=new wi(n[0].s+1);return u[n[0].s]=1,{t:u,l:1}}n.sort(function($,Q){return $.f-Q.f}),n.push({s:-1,f:25001});var h=n[0],p=n[1],m=0,w=1,v=2;for(n[0]={s:-1,f:h.f+p.f,l:h,r:p};w!=s-1;)h=n[n[m].f<n[v].f?m++:v++],p=n[m!=w&&n[m].f<n[v].f?m++:v++],n[w++]={s:-1,f:h.f+p.f,l:h,r:p};for(var E=a[0].s,r=1;r<s;++r)a[r].s>E&&(E=a[r].s);var A=new ss(E+1),R=gp(n[w-1],A,0);if(R>t){var r=0,k=0,M=R-t,S=1<<M;for(a.sort(function(Q,D){return A[D.s]-A[Q.s]||Q.f-D.f});r<s;++r){var I=a[r].s;if(A[I]>t)k+=S-(1<<R-A[I]),A[I]=t;else break}for(k>>=M;k>0;){var L=a[r].s;A[L]<t?k-=1<<t-A[L]++-1:++r}for(;r>=0&&k;--r){var q=a[r].s;A[q]==t&&(--A[q],++k)}R=t}return{t:new wi(A),l:R}},gp=function(e,t,n){return e.s==-1?Math.max(gp(e.l,t,n+1),gp(e.r,t,n+1)):t[e.s]=n},cx=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ss(++t),r=0,s=e[0],a=1,u=function(p){n[r++]=p},h=1;h<=t;++h)if(e[h]==s&&h!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)u(32754);a>2&&(u(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(u(s),--a;a>6;a-=6)u(8304);a>2&&(u(a-3<<5|8208),a=0)}for(;a--;)u(s);a=1,s=e[h]}return{c:n.subarray(0,r),n:t}},Nc=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Cv=function(e,t,n){var r=n.length,s=zg(t+2);e[s]=r&255,e[s+1]=r>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var a=0;a<r;++a)e[s+a+4]=n[a];return(s+4+r)*8},fx=function(e,t,n,r,s,a,u,h,p,m,w){Sa(t,w++,n),++s[256];for(var v=I0(s,15),E=v.t,A=v.l,R=I0(a,15),k=R.t,M=R.l,S=cx(E),I=S.c,L=S.n,q=cx(k),$=q.c,Q=q.n,D=new ss(19),Y=0;Y<I.length;++Y)++D[I[Y]&31];for(var Y=0;Y<$.length;++Y)++D[$[Y]&31];for(var Z=I0(D,7),ye=Z.t,W=Z.l,X=19;X>4&&!ye[hp[X-1]];--X);var ae=m+5<<3,oe=Nc(s,zo)+Nc(a,Nf)+u,se=Nc(s,E)+Nc(a,k)+u+14+3*X+Nc(D,ye)+2*D[16]+3*D[17]+7*D[18];if(p>=0&&ae<=oe&&ae<=se)return Cv(t,w,e.subarray(p,p+m));var Ne,ve,fe,Ae;if(Sa(t,w,1+(se<oe)),w+=2,se<oe){Ne=fa(E,A,0),ve=E,fe=fa(k,M,0),Ae=k;var Se=fa(ye,W,0);Sa(t,w,L-257),Sa(t,w+5,Q-1),Sa(t,w+10,X-4),w+=14;for(var Y=0;Y<X;++Y)Sa(t,w+3*Y,ye[hp[Y]]);w+=3*X;for(var Je=[I,$],z=0;z<2;++z)for(var ie=Je[z],Y=0;Y<ie.length;++Y){var le=ie[Y]&31;Sa(t,w,Se[le]),w+=ye[le],le>15&&(Sa(t,w,ie[Y]>>5&127),w+=ie[Y]>>12)}}else Ne=NN,ve=zo,fe=_N,Ae=Nf;for(var Y=0;Y<h;++Y){var ge=r[Y];if(ge>255){var le=ge>>18&31;Ec(t,w,Ne[le+257]),w+=ve[le+257],le>7&&(Sa(t,w,ge>>23&31),w+=xd[le]);var ce=ge&31;Ec(t,w,fe[ce]),w+=Ae[ce],ce>3&&(Ec(t,w,ge>>5&8191),w+=yd[ce])}else Ec(t,w,Ne[ge]),w+=ve[ge]}return Ec(t,w,Ne[256]),w+ve[256]},LN=new Ug([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ev=new wi(0),PN=function(e,t,n,r,s,a){var u=a.z||e.length,h=new wi(r+u+5*(1+Math.ceil(u/7e3))+s),p=h.subarray(r,h.length-s),m=a.l,w=(a.r||0)&7;if(t){w&&(p[0]=a.r>>3);for(var v=LN[t-1],E=v>>13,A=v&8191,R=(1<<n)-1,k=a.p||new ss(32768),M=a.h||new ss(R+1),S=Math.ceil(n/3),I=2*S,L=function(Nt){return(e[Nt]^e[Nt+1]<<S^e[Nt+2]<<I)&R},q=new Ug(25e3),$=new ss(288),Q=new ss(32),D=0,Y=0,Z=a.i||0,ye=0,W=a.w||0,X=0;Z+2<u;++Z){var ae=L(Z),oe=Z&32767,se=M[ae];if(k[oe]=se,M[ae]=oe,W<=Z){var Ne=u-Z;if((D>7e3||ye>24576)&&(Ne>423||!m)){w=fx(e,p,0,q,$,Q,Y,ye,X,Z-X,w),ye=D=Y=0,X=Z;for(var ve=0;ve<286;++ve)$[ve]=0;for(var ve=0;ve<30;++ve)Q[ve]=0}var fe=2,Ae=0,Se=A,Je=oe-se&32767;if(Ne>2&&ae==L(Z-Je))for(var z=Math.min(E,Ne)-1,ie=Math.min(32767,Z),le=Math.min(258,Ne);Je<=ie&&--Se&&oe!=se;){if(e[Z+fe]==e[Z+fe-Je]){for(var ge=0;ge<le&&e[Z+ge]==e[Z+ge-Je];++ge);if(ge>fe){if(fe=ge,Ae=Je,ge>z)break;for(var ce=Math.min(Je,ge-2),Te=0,ve=0;ve<ce;++ve){var _e=Z-Je+ve&32767,Pe=k[_e],$e=_e-Pe&32767;$e>Te&&(Te=$e,se=_e)}}}oe=se,se=k[oe],Je+=oe-se&32767}if(Ae){q[ye++]=268435456|dp[fe]<<18|ux[Ae];var Ye=dp[fe]&31,st=ux[Ae]&31;Y+=xd[Ye]+yd[st],++$[257+Ye],++Q[st],W=Z+fe,++D}else q[ye++]=e[Z],++$[e[Z]]}}for(Z=Math.max(Z,W);Z<u;++Z)q[ye++]=e[Z],++$[e[Z]];w=fx(e,p,m,q,$,Q,Y,ye,X,Z-X,w),m||(a.r=w&7|p[w/8|0]<<3,w-=7,a.h=M,a.p=k,a.i=Z,a.w=W)}else{for(var Z=a.w||0;Z<u+m;Z+=65535){var Ge=Z+65535;Ge>=u&&(p[w/8|0]=m,Ge=u),w=Cv(p,w+1,e.subarray(Z,Ge))}a.i=u}return Av(h,0,r+zg(w)+s)},Nv=function(){var e=1,t=0;return{p:function(n){for(var r=e,s=t,a=n.length|0,u=0;u!=a;){for(var h=Math.min(u+2655,a);u<h;++u)s+=r+=n[u];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}e=r,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},ON=function(e,t,n,r,s){if(!s&&(s={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),u=new wi(a.length+e.length);u.set(a),u.set(e,a.length),e=u,s.w=a.length}return PN(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,s)},Sv=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},RN=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=Nv();s.p(t.dictionary),Sv(e,2,s.d())}},DN=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Us(6,"invalid zlib data"),(e[1]>>5&1)==1&&Us(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function mp(e,t){t||(t={});var n=Nv();n.p(e);var r=ON(e,t,t.dictionary?6:2,4);return RN(r,t),Sv(r,r.length-4,n.d()),r}function MN(e,t){return kN(e.subarray(DN(e),-4),{i:2},t,t)}var BN=typeof TextDecoder<"u"&&new TextDecoder,FN=0;try{BN.decode(Ev,{stream:!0}),FN=1}catch{}var Ot=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function T0(){Ot.console&&typeof Ot.console.log=="function"&&Ot.console.log.apply(Ot.console,arguments)}var Tn={log:T0,warn:function(e){Ot.console&&(typeof Ot.console.warn=="function"?Ot.console.warn.apply(Ot.console,arguments):T0.call(null,arguments))},error:function(e){Ot.console&&(typeof Ot.console.error=="function"?Ot.console.error.apply(Ot.console,arguments):T0(e))}};function k0(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){ml(r.response,t,n)},r.onerror=function(){Tn.error("could not download file")},r.send()}function hx(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function L1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Zc,xp,ml=Ot.saveAs||((typeof window>"u"?"undefined":yn(window))!=="object"||window!==Ot?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Ot.URL||Ot.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?hx(s.href)?k0(e,t,n):L1(s,s.target="_blank"):L1(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){L1(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(hx(e))k0(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){L1(r)})}else navigator.msSaveOrOpenBlob(function(s,a){return a===void 0?a={autoBom:!1}:yn(a)!=="object"&&(Tn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return k0(e,t,n);var s=e.type==="application/octet-stream",a=/constructor/i.test(Ot.HTMLElement)||Ot.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&a)&&(typeof FileReader>"u"?"undefined":yn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var w=h.result;w=u?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=w:location=w,r=null},h.readAsDataURL(e)}else{var p=Ot.URL||Ot.webkitURL,m=p.createObjectURL(e);r?r.location=m:location.href=m,r=null,setTimeout(function(){p.revokeObjectURL(m)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function _v(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,a=n[r].process,u=s.exec(e);u&&(t=a(u),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),p=this.g.toString(16),m=this.b.toString(16);return h.length==1&&(h="0"+h),p.length==1&&(p="0"+p),m.length==1&&(m="0"+m),"#"+h+p+m}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function L0(e,t){var n=e[0],r=e[1],s=e[2],a=e[3];n=di(n,r,s,a,t[0],7,-680876936),a=di(a,n,r,s,t[1],12,-389564586),s=di(s,a,n,r,t[2],17,606105819),r=di(r,s,a,n,t[3],22,-1044525330),n=di(n,r,s,a,t[4],7,-176418897),a=di(a,n,r,s,t[5],12,1200080426),s=di(s,a,n,r,t[6],17,-1473231341),r=di(r,s,a,n,t[7],22,-45705983),n=di(n,r,s,a,t[8],7,1770035416),a=di(a,n,r,s,t[9],12,-1958414417),s=di(s,a,n,r,t[10],17,-42063),r=di(r,s,a,n,t[11],22,-1990404162),n=di(n,r,s,a,t[12],7,1804603682),a=di(a,n,r,s,t[13],12,-40341101),s=di(s,a,n,r,t[14],17,-1502002290),n=pi(n,r=di(r,s,a,n,t[15],22,1236535329),s,a,t[1],5,-165796510),a=pi(a,n,r,s,t[6],9,-1069501632),s=pi(s,a,n,r,t[11],14,643717713),r=pi(r,s,a,n,t[0],20,-373897302),n=pi(n,r,s,a,t[5],5,-701558691),a=pi(a,n,r,s,t[10],9,38016083),s=pi(s,a,n,r,t[15],14,-660478335),r=pi(r,s,a,n,t[4],20,-405537848),n=pi(n,r,s,a,t[9],5,568446438),a=pi(a,n,r,s,t[14],9,-1019803690),s=pi(s,a,n,r,t[3],14,-187363961),r=pi(r,s,a,n,t[8],20,1163531501),n=pi(n,r,s,a,t[13],5,-1444681467),a=pi(a,n,r,s,t[2],9,-51403784),s=pi(s,a,n,r,t[7],14,1735328473),n=gi(n,r=pi(r,s,a,n,t[12],20,-1926607734),s,a,t[5],4,-378558),a=gi(a,n,r,s,t[8],11,-2022574463),s=gi(s,a,n,r,t[11],16,1839030562),r=gi(r,s,a,n,t[14],23,-35309556),n=gi(n,r,s,a,t[1],4,-1530992060),a=gi(a,n,r,s,t[4],11,1272893353),s=gi(s,a,n,r,t[7],16,-155497632),r=gi(r,s,a,n,t[10],23,-1094730640),n=gi(n,r,s,a,t[13],4,681279174),a=gi(a,n,r,s,t[0],11,-358537222),s=gi(s,a,n,r,t[3],16,-722521979),r=gi(r,s,a,n,t[6],23,76029189),n=gi(n,r,s,a,t[9],4,-640364487),a=gi(a,n,r,s,t[12],11,-421815835),s=gi(s,a,n,r,t[15],16,530742520),n=mi(n,r=gi(r,s,a,n,t[2],23,-995338651),s,a,t[0],6,-198630844),a=mi(a,n,r,s,t[7],10,1126891415),s=mi(s,a,n,r,t[14],15,-1416354905),r=mi(r,s,a,n,t[5],21,-57434055),n=mi(n,r,s,a,t[12],6,1700485571),a=mi(a,n,r,s,t[3],10,-1894986606),s=mi(s,a,n,r,t[10],15,-1051523),r=mi(r,s,a,n,t[1],21,-2054922799),n=mi(n,r,s,a,t[8],6,1873313359),a=mi(a,n,r,s,t[15],10,-30611744),s=mi(s,a,n,r,t[6],15,-1560198380),r=mi(r,s,a,n,t[13],21,1309151649),n=mi(n,r,s,a,t[4],6,-145523070),a=mi(a,n,r,s,t[11],10,-1120210379),s=mi(s,a,n,r,t[2],15,718787259),r=mi(r,s,a,n,t[9],21,-343485551),e[0]=Eo(n,e[0]),e[1]=Eo(r,e[1]),e[2]=Eo(s,e[2]),e[3]=Eo(a,e[3])}function wd(e,t,n,r,s,a){return t=Eo(Eo(t,e),Eo(r,a)),Eo(t<<s|t>>>32-s,n)}function di(e,t,n,r,s,a,u){return wd(t&n|~t&r,e,t,s,a,u)}function pi(e,t,n,r,s,a,u){return wd(t&r|n&~r,e,t,s,a,u)}function gi(e,t,n,r,s,a,u){return wd(t^n^r,e,t,s,a,u)}function mi(e,t,n,r,s,a,u){return wd(n^(t|~r),e,t,s,a,u)}function Iv(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)L0(r,jN(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(L0(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,L0(r,s),r}function jN(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Zc=Ot.atob.bind(Ot),xp=Ot.btoa.bind(Ot);var dx="0123456789abcdef".split("");function UN(e){for(var t="",n=0;n<4;n++)t+=dx[e>>8*n+4&15]+dx[e>>8*n&15];return t}function zN(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function yp(e){return Iv(e).map(zN).join("")}var qN=function(e){for(var t=0;t<e.length;t++)e[t]=UN(e[t]);return e.join("")}(Iv("hello"))!="5d41402abc4b2a76b9719d911017c592";function Eo(e,t){if(qN){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function wp(e,t){var n,r,s,a;if(e!==n){for(var u=(s=e,a=1+(256/e.length>>0),new Array(a+1).join(s)),h=[],p=0;p<256;p++)h[p]=p;var m=0;for(p=0;p<256;p++){var w=h[p];m=(m+w+u.charCodeAt(p))%256,h[p]=h[m],h[m]=w}n=e,r=h}else h=r;var v=t.length,E=0,A=0,R="";for(p=0;p<v;p++)A=(A+(w=h[E=(E+1)%256]))%256,h[E]=h[A],h[A]=w,u=h[(h[E]+h[A])%256],R+=String.fromCharCode(t.charCodeAt(p)^u);return R}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var px={print:4,modify:8,copy:16,"annot-forms":32};function ru(e,t,n,r){this.v=1,this.r=2;var s=192;e.forEach(function(h){if(px.perm!==void 0)throw new Error("Invalid permission: "+h);s+=px[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),u=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,u),this.P=-(1+(255^s)),this.encryptionKey=yp(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=wp(this.encryptionKey,this.padding)}function iu(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var s=e.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[r]}return t}function gx(e){if(yn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!s],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var a in t[n]){var u=t[n][a];try{u[0].apply(e,r)}catch(h){Ot.console&&Tn.error("jsPDF PubSub Error",h.message,h)}u[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function qh(e){if(!(this instanceof qh))return new qh(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Tv(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function yl(e,t,n,r,s){if(!(this instanceof yl))return new yl(e,t,n,r,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Tv.call(this,r,s)}function xu(e,t,n,r,s){if(!(this instanceof xu))return new xu(e,t,n,r,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Tv.call(this,r,s)}function Pt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],a=arguments[3],u=[],h=1,p=16,m="S",w=null;yn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,s=e.format||s,a=e.compress||e.compressPdf||a,(w=e.encryption||null)!==null&&(w.userPassword=w.userPassword||"",w.ownerPassword=w.ownerPassword||"",w.userPermissions=w.userPermissions||[]),h=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(p=e.floatPrecision),m=e.defaultPathOperation||"S"),u=e.filters||(a===!0?["FlateEncode"]:u),r=r||"mm",n=(""+(n||"P")).toLowerCase();var v=e.putOnlyUsedFonts||!1,E={},A={internal:{},__private__:{}};A.__private__.PubSub=gx;var R="1.3",k=A.__private__.getPdfVersion=function(){return R};A.__private__.setPdfVersion=function(C){R=C};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};A.__private__.getPageFormats=function(){return M};var S=A.__private__.getPageFormat=function(C){return M[C]};s=s||"a4";var I={COMPAT:"compat",ADVANCED:"advanced"},L=I.COMPAT;function q(){this.saveGraphicsState(),ue(new wt(ot,0,0,-ot,0,ui()*ot).toString()+" cm"),this.setFontSize(this.getFontSize()/ot),m="n",L=I.ADVANCED}function $(){this.restoreGraphicsState(),m="S",L=I.COMPAT}var Q=A.__private__.combineFontStyleAndFontWeight=function(C,U){if(C=="bold"&&U=="normal"||C=="bold"&&U==400||C=="normal"&&U=="italic"||C=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(C=U==400||U==="normal"?C==="italic"?"italic":"normal":U!=700&&U!=="bold"||C!=="normal"?(U==700?"bold":U)+""+C:"bold"),C};A.advancedAPI=function(C){var U=L===I.COMPAT;return U&&q.call(this),typeof C!="function"||(C(this),U&&$.call(this)),this},A.compatAPI=function(C){var U=L===I.ADVANCED;return U&&$.call(this),typeof C!="function"||(C(this),U&&q.call(this)),this},A.isAdvancedAPI=function(){return L===I.ADVANCED};var D,Y=function(C){if(L!==I.ADVANCED)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Z=A.roundToPrecision=A.__private__.roundToPrecision=function(C,U){var te=t||U;if(isNaN(C)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(te).replace(/0+$/,"")};D=A.hpf=A.__private__.hpf=typeof p=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(C,p)}:p==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(C,16)};var ye=A.f2=A.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return Z(C,2)},W=A.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return Z(C,3)},X=A.scale=A.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return L===I.COMPAT?C*ot:L===I.ADVANCED?C:void 0},ae=function(C){return L===I.COMPAT?ui()-C:L===I.ADVANCED?C:void 0},oe=function(C){return X(ae(C))};A.__private__.setPrecision=A.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(t=parseInt(C,10))};var se,Ne="00000000000000000000000000000000",ve=A.__private__.getFileId=function(){return Ne},fe=A.__private__.setFileId=function(C){return Ne=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():Ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),w!==null&&(yr=new ru(w.userPermissions,w.userPassword,w.ownerPassword,Ne)),Ne};A.setFileId=function(C){return fe(C),this},A.getFileId=function(){return ve()};var Ae=A.__private__.convertDateToPDFDate=function(C){var U=C.getTimezoneOffset(),te=U<0?"+":"-",de=Math.floor(Math.abs(U/60)),Ee=Math.abs(U%60),Fe=[te,le(de),"'",le(Ee),"'"].join("");return["D:",C.getFullYear(),le(C.getMonth()+1),le(C.getDate()),le(C.getHours()),le(C.getMinutes()),le(C.getSeconds()),Fe].join("")},Se=A.__private__.convertPDFDateToDate=function(C){var U=parseInt(C.substr(2,4),10),te=parseInt(C.substr(6,2),10)-1,de=parseInt(C.substr(8,2),10),Ee=parseInt(C.substr(10,2),10),Fe=parseInt(C.substr(12,2),10),He=parseInt(C.substr(14,2),10);return new Date(U,te,de,Ee,Fe,He,0)},Je=A.__private__.setCreationDate=function(C){var U;if(C===void 0&&(C=new Date),C instanceof Date)U=Ae(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=C}return se=U},z=A.__private__.getCreationDate=function(C){var U=se;return C==="jsDate"&&(U=Se(se)),U};A.setCreationDate=function(C){return Je(C),this},A.getCreationDate=function(C){return z(C)};var ie,le=A.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},ge=A.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},ce=0,Te=[],_e=[],Pe=0,$e=[],Ye=[],st=!1,Ge=_e,Nt=function(){ce=0,Pe=0,_e=[],Te=[],$e=[],si=Nn(),Ci=Nn()};A.__private__.setCustomOutputDestination=function(C){st=!0,Ge=C};var De=function(C){st||(Ge=C)};A.__private__.resetCustomOutputDestination=function(){st=!1,Ge=_e};var ue=A.__private__.out=function(C){return C=C.toString(),Pe+=C.length+1,Ge.push(C),Ge},yt=A.__private__.write=function(C){return ue(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},nt=A.__private__.getArrayBuffer=function(C){for(var U=C.length,te=new ArrayBuffer(U),de=new Uint8Array(te);U--;)de[U]=C.charCodeAt(U);return te},je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];A.__private__.getStandardFonts=function(){return je};var rt=e.fontSize||16;A.__private__.setFontSize=A.setFontSize=function(C){return rt=L===I.ADVANCED?C/ot:C,this};var Be,it=A.__private__.getFontSize=A.getFontSize=function(){return L===I.COMPAT?rt:rt*ot},At=e.R2L||!1;A.__private__.setR2L=A.setR2L=function(C){return At=C,this},A.__private__.getR2L=A.getR2L=function(){return At};var St,Ut=A.__private__.setZoomMode=function(C){var U=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))Be=C;else if(isNaN(C)){if(U.indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');Be=C}else Be=parseInt(C,10)};A.__private__.getZoomMode=function(){return Be};var Lt,tn=A.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');St=C};A.__private__.getPageMode=function(){return St};var Qt=A.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');Lt=C};A.__private__.getLayoutMode=function(){return Lt},A.__private__.setDisplayMode=A.setDisplayMode=function(C,U,te){return Ut(C),Qt(U),tn(te),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};A.__private__.getDocumentProperty=function(C){if(Object.keys(xt).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[C]},A.__private__.getDocumentProperties=function(){return xt},A.__private__.setDocumentProperties=A.setProperties=A.setDocumentProperties=function(C){for(var U in xt)xt.hasOwnProperty(U)&&C[U]&&(xt[U]=C[U]);return this},A.__private__.setDocumentProperty=function(C,U){if(Object.keys(xt).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[C]=U};var Kt,ot,jr,_t,tt,Mt={},Tt={},cn=[],nn={},Ts={},Bn={},Vt={},Zr=null,Fn=0,Bt=[],Ht=new gx(A),ks=e.hotfixes||[],ln={},Qr={},Ai=[],wt=function C(U,te,de,Ee,Fe,He){if(!(this instanceof C))return new C(U,te,de,Ee,Fe,He);isNaN(U)&&(U=1),isNaN(te)&&(te=0),isNaN(de)&&(de=0),isNaN(Ee)&&(Ee=1),isNaN(Fe)&&(Fe=0),isNaN(He)&&(He=0),this._matrix=[U,te,de,Ee,Fe,He]};Object.defineProperty(wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wt.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(C)},wt.prototype.multiply=function(C){var U=C.sx*this.sx+C.shy*this.shx,te=C.sx*this.shy+C.shy*this.sy,de=C.shx*this.sx+C.sy*this.shx,Ee=C.shx*this.shy+C.sy*this.sy,Fe=C.tx*this.sx+C.ty*this.shx+this.tx,He=C.tx*this.shy+C.ty*this.sy+this.ty;return new wt(U,te,de,Ee,Fe,He)},wt.prototype.decompose=function(){var C=this.sx,U=this.shy,te=this.shx,de=this.sy,Ee=this.tx,Fe=this.ty,He=Math.sqrt(C*C+U*U),ut=(C/=He)*te+(U/=He)*de;te-=C*ut,de-=U*ut;var Ct=Math.sqrt(te*te+de*de);return ut/=Ct,C*(de/=Ct)<U*(te/=Ct)&&(C=-C,U=-U,ut=-ut,He=-He),{scale:new wt(He,0,0,Ct,0,0),translate:new wt(1,0,0,1,Ee,Fe),rotate:new wt(C,U,-U,C,0,0),skew:new wt(1,0,ut,1,0,0)}},wt.prototype.toString=function(C){return this.join(" ")},wt.prototype.inversed=function(){var C=this.sx,U=this.shy,te=this.shx,de=this.sy,Ee=this.tx,Fe=this.ty,He=1/(C*de-U*te),ut=de*He,Ct=-U*He,Ft=-te*He,jt=C*He;return new wt(ut,Ct,Ft,jt,-ut*Ee-Ft*Fe,-Ct*Ee-jt*Fe)},wt.prototype.applyToPoint=function(C){var U=C.x*this.sx+C.y*this.shx+this.tx,te=C.x*this.shy+C.y*this.sy+this.ty;return new Za(U,te)},wt.prototype.applyToRectangle=function(C){var U=this.applyToPoint(C),te=this.applyToPoint(new Za(C.x+C.w,C.y+C.h));return new ll(U.x,U.y,te.x-U.x,te.y-U.y)},wt.prototype.clone=function(){var C=this.sx,U=this.shy,te=this.shx,de=this.sy,Ee=this.tx,Fe=this.ty;return new wt(C,U,te,de,Ee,Fe)},A.Matrix=wt;var Gi=A.matrixMult=function(C,U){return U.multiply(C)},Ur=new wt(1,0,0,1,0,0);A.unitMatrix=A.identityMatrix=Ur;var zr=function(C,U){if(!Ts[C]){var te=(U instanceof yl?"Sh":"P")+(Object.keys(nn).length+1).toString(10);U.id=te,Ts[C]=te,nn[te]=U,Ht.publish("addPattern",U)}};A.ShadingPattern=yl,A.TilingPattern=xu,A.addShadingPattern=function(C,U){return Y("addShadingPattern()"),zr(C,U),this},A.beginTilingPattern=function(C){Y("beginTilingPattern()"),Qa(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},A.endTilingPattern=function(C,U){Y("endTilingPattern()"),U.stream=Ye[ie].join(`
`),zr(C,U),Ht.publish("endTilingPattern",U),Ai.pop().restore()};var un=A.__private__.newObject=function(){var C=Nn();return Ln(C,!0),C},Nn=A.__private__.newObjectDeferred=function(){return ce++,Te[ce]=function(){return Pe},ce},Ln=function(C,U){return U=typeof U=="boolean"&&U,Te[C]=Pe,U&&ue(C+" 0 obj"),C},ct=A.__private__.newAdditionalObject=function(){var C={objId:Nn(),content:""};return $e.push(C),C},si=Nn(),Ci=Nn(),Pn=A.__private__.decodeColorString=function(C){var U=C.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length===5&&(U[4]==="k"||U[4]==="K")&&(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var te=parseFloat(U[0]);U=[te,te,te,"r"]}for(var de="#",Ee=0;Ee<3;Ee++)de+=("0"+Math.floor(255*parseFloat(U[Ee])).toString(16)).slice(-2);return de},qr=A.__private__.encodeColorString=function(C){var U;typeof C=="string"&&(C={ch1:C});var te=C.ch1,de=C.ch2,Ee=C.ch3,Fe=C.ch4,He=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var ut=new _v(te);if(ut.ok)te=ut.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var Ct=parseInt(te.substr(1),16);te=Ct>>16&255,de=Ct>>8&255,Ee=255&Ct}if(de===void 0||Fe===void 0&&te===de&&de===Ee)if(typeof te=="string")U=te+" "+He[0];else switch(C.precision){case 2:U=ye(te/255)+" "+He[0];break;case 3:default:U=W(te/255)+" "+He[0]}else if(Fe===void 0||yn(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return U=["1.","1.","1.",He[1]].join(" ");if(typeof te=="string")U=[te,de,Ee,He[1]].join(" ");else switch(C.precision){case 2:U=[ye(te/255),ye(de/255),ye(Ee/255),He[1]].join(" ");break;default:case 3:U=[W(te/255),W(de/255),W(Ee/255),He[1]].join(" ")}}else if(typeof te=="string")U=[te,de,Ee,Fe,He[2]].join(" ");else switch(C.precision){case 2:U=[ye(te),ye(de),ye(Ee),ye(Fe),He[2]].join(" ");break;case 3:default:U=[W(te),W(de),W(Ee),W(Fe),He[2]].join(" ")}return U},Ei=A.__private__.getFilters=function(){return u},Jr=A.__private__.putStream=function(C){var U=(C=C||{}).data||"",te=C.filters||Ei(),de=C.alreadyAppliedFilters||[],Ee=C.addLength1||!1,Fe=U.length,He=C.objectId,ut=function(Vr){return Vr};if(w!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");w!==null&&(ut=yr.encryptor(He,0));var Ct={};te===!0&&(te=["FlateEncode"]);var Ft=C.additionalKeyValues||[],jt=(Ct=Pt.API.processDataByFilters!==void 0?Pt.API.processDataByFilters(U,te):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(Ct.data.length!==0&&(Ft.push({key:"Length",value:Ct.data.length}),Ee===!0&&Ft.push({key:"Length1",value:Fe})),jt.length!=0)if(jt.split("/").length-1==1)Ft.push({key:"Filter",value:jt});else{Ft.push({key:"Filter",value:"["+jt+"]"});for(var $t=0;$t<Ft.length;$t+=1)if(Ft[$t].key==="DecodeParms"){for(var zn=[],vn=0;vn<Ct.reverseChain.split("/").length-1;vn+=1)zn.push("null");zn.push(Ft[$t].value),Ft[$t].value="["+zn.join(" ")+"]"}}ue("<<");for(var Kn=0;Kn<Ft.length;Kn++)ue("/"+Ft[Kn].key+" "+Ft[Kn].value);ue(">>"),Ct.data.length!==0&&(ue("stream"),ue(ut(Ct.data)),ue("endstream"))},gr=A.__private__.putPage=function(C){var U=C.number,te=C.data,de=C.objId,Ee=C.contentsObjId;Ln(de,!0),ue("<</Type /Page"),ue("/Parent "+C.rootDictionaryObjId+" 0 R"),ue("/Resources "+C.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(D(C.mediaBox.bottomLeftX))+" "+parseFloat(D(C.mediaBox.bottomLeftY))+" "+D(C.mediaBox.topRightX)+" "+D(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&ue("/CropBox ["+D(C.cropBox.bottomLeftX)+" "+D(C.cropBox.bottomLeftY)+" "+D(C.cropBox.topRightX)+" "+D(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&ue("/BleedBox ["+D(C.bleedBox.bottomLeftX)+" "+D(C.bleedBox.bottomLeftY)+" "+D(C.bleedBox.topRightX)+" "+D(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&ue("/TrimBox ["+D(C.trimBox.bottomLeftX)+" "+D(C.trimBox.bottomLeftY)+" "+D(C.trimBox.topRightX)+" "+D(C.trimBox.topRightY)+"]"),C.artBox!==null&&ue("/ArtBox ["+D(C.artBox.bottomLeftX)+" "+D(C.artBox.bottomLeftY)+" "+D(C.artBox.topRightX)+" "+D(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&ue("/UserUnit "+C.userUnit),Ht.publish("putPage",{objId:de,pageContext:Bt[U],pageNumber:U,page:te}),ue("/Contents "+Ee+" 0 R"),ue(">>"),ue("endobj");var Fe=te.join(`
`);return L===I.ADVANCED&&(Fe+=`
Q`),Ln(Ee,!0),Jr({data:Fe,filters:Ei(),objectId:Ee}),ue("endobj"),de},ga=A.__private__.putPages=function(){var C,U,te=[];for(C=1;C<=Fn;C++)Bt[C].objId=Nn(),Bt[C].contentsObjId=Nn();for(C=1;C<=Fn;C++)te.push(gr({number:C,data:Ye[C],objId:Bt[C].objId,contentsObjId:Bt[C].contentsObjId,mediaBox:Bt[C].mediaBox,cropBox:Bt[C].cropBox,bleedBox:Bt[C].bleedBox,trimBox:Bt[C].trimBox,artBox:Bt[C].artBox,userUnit:Bt[C].userUnit,rootDictionaryObjId:si,resourceDictionaryObjId:Ci}));Ln(si,!0),ue("<</Type /Pages");var de="/Kids [";for(U=0;U<Fn;U++)de+=te[U]+" 0 R ";ue(de+"]"),ue("/Count "+Fn),ue(">>"),ue("endobj"),Ht.publish("postPutPages")},Ha=function(C){Ht.publish("putFont",{font:C,out:ue,newObject:un,putStream:Jr}),C.isAlreadyPutted!==!0&&(C.objectNumber=un(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+iu(C.postScriptName)),ue("/Subtype /Type1"),typeof C.encoding=="string"&&ue("/Encoding /"+C.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},$r=function(){for(var C in Mt)Mt.hasOwnProperty(C)&&(v===!1||v===!0&&E.hasOwnProperty(C))&&Ha(Mt[C])},or=function(C){C.objectNumber=un();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[D(C.x),D(C.y),D(C.x+C.width),D(C.y+C.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var te=C.pages[1].join(`
`);Jr({data:te,additionalKeyValues:U,objectId:C.objectNumber}),ue("endobj")},mn=function(){for(var C in ln)ln.hasOwnProperty(C)&&or(ln[C])},Yo=function(C,U){var te,de=[],Ee=1/(U-1);for(te=0;te<1;te+=Ee)de.push(te);if(de.push(1),C[0].offset!=0){var Fe={offset:0,color:C[0].color};C.unshift(Fe)}if(C[C.length-1].offset!=1){var He={offset:1,color:C[C.length-1].color};C.push(He)}for(var ut="",Ct=0,Ft=0;Ft<de.length;Ft++){for(te=de[Ft];te>C[Ct+1].offset;)Ct++;var jt=C[Ct].offset,$t=(te-jt)/(C[Ct+1].offset-jt),zn=C[Ct].color,vn=C[Ct+1].color;ut+=ge(Math.round((1-$t)*zn[0]+$t*vn[0]).toString(16))+ge(Math.round((1-$t)*zn[1]+$t*vn[1]).toString(16))+ge(Math.round((1-$t)*zn[2]+$t*vn[2]).toString(16))}return ut.trim()},hs=function(C,U){U||(U=21);var te=un(),de=Yo(C.colors,U),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+U+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Jr({data:de,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),ue("endobj"),C.objectNumber=un(),ue("<< /ShadingType "+C.type),ue("/ColorSpace /DeviceRGB");var Fe="/Coords ["+D(parseFloat(C.coords[0]))+" "+D(parseFloat(C.coords[1]))+" ";C.type===2?Fe+=D(parseFloat(C.coords[2]))+" "+D(parseFloat(C.coords[3])):Fe+=D(parseFloat(C.coords[2]))+" "+D(parseFloat(C.coords[3]))+" "+D(parseFloat(C.coords[4]))+" "+D(parseFloat(C.coords[5])),ue(Fe+="]"),C.matrix&&ue("/Matrix ["+C.matrix.toString()+"]"),ue("/Function "+te+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},Ko=function(C,U){var te=Nn(),de=un();U.push({resourcesOid:te,objectOid:de}),C.objectNumber=de;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+C.boundingBox.map(D).join(" ")+"]"}),Ee.push({key:"XStep",value:D(C.xStep)}),Ee.push({key:"YStep",value:D(C.yStep)}),Ee.push({key:"Resources",value:te+" 0 R"}),C.matrix&&Ee.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),Jr({data:C.stream,additionalKeyValues:Ee,objectId:C.objectNumber}),ue("endobj")},Ve=function(C){var U;for(U in nn)nn.hasOwnProperty(U)&&(nn[U]instanceof yl?hs(nn[U]):nn[U]instanceof xu&&Ko(nn[U],C))},zl=function(C){for(var U in C.objectNumber=un(),ue("<<"),C)switch(U){case"opacity":ue("/ca "+ye(C[U]));break;case"stroke-opacity":ue("/CA "+ye(C[U]))}ue(">>"),ue("endobj")},On=function(){var C;for(C in Bn)Bn.hasOwnProperty(C)&&zl(Bn[C])},ds=function(){for(var C in ue("/XObject <<"),ln)ln.hasOwnProperty(C)&&ln[C].objectNumber>=0&&ue("/"+C+" "+ln[C].objectNumber+" 0 R");Ht.publish("putXobjectDict"),ue(">>")},ec=function(){yr.oid=un(),ue("<<"),ue("/Filter /Standard"),ue("/V "+yr.v),ue("/R "+yr.r),ue("/U <"+yr.toHexString(yr.U)+">"),ue("/O <"+yr.toHexString(yr.O)+">"),ue("/P "+yr.P),ue(">>"),ue("endobj")},sn=function(){for(var C in ue("/Font <<"),Mt)Mt.hasOwnProperty(C)&&(v===!1||v===!0&&E.hasOwnProperty(C))&&ue("/"+C+" "+Mt[C].objectNumber+" 0 R");ue(">>")},an=function(){if(Object.keys(nn).length>0){for(var C in ue("/Shading <<"),nn)nn.hasOwnProperty(C)&&nn[C]instanceof yl&&nn[C].objectNumber>=0&&ue("/"+C+" "+nn[C].objectNumber+" 0 R");Ht.publish("putShadingPatternDict"),ue(">>")}},Gt=function(C){if(Object.keys(nn).length>0){for(var U in ue("/Pattern <<"),nn)nn.hasOwnProperty(U)&&nn[U]instanceof A.TilingPattern&&nn[U].objectNumber>=0&&nn[U].objectNumber<C&&ue("/"+U+" "+nn[U].objectNumber+" 0 R");Ht.publish("putTilingPatternDict"),ue(">>")}},Zo=function(){if(Object.keys(Bn).length>0){var C;for(C in ue("/ExtGState <<"),Bn)Bn.hasOwnProperty(C)&&Bn[C].objectNumber>=0&&ue("/"+C+" "+Bn[C].objectNumber+" 0 R");Ht.publish("putGStateDict"),ue(">>")}},jn=function(C){Ln(C.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),sn(),an(),Gt(C.objectOid),Zo(),ds(),ue(">>"),ue("endobj")},Ga=function(){var C=[];$r(),On(),mn(),Ve(C),Ht.publish("putResources"),C.forEach(jn),jn({resourcesOid:Ci,objectOid:Number.MAX_SAFE_INTEGER}),Ht.publish("postPutResources")},Xn=function(){Ht.publish("putAdditionalObjects");for(var C=0;C<$e.length;C++){var U=$e[C];Ln(U.objId,!0),ue(U.content),ue("endobj")}Ht.publish("postPutAdditionalObjects")},Xi=function(C){Tt[C.fontName]=Tt[C.fontName]||{},Tt[C.fontName][C.fontStyle]=C.id},Qo=function(C,U,te,de,Ee){var Fe={id:"F"+(Object.keys(Mt).length+1).toString(10),postScriptName:C,fontName:U,fontStyle:te,encoding:de,isStandardFont:Ee||!1,metadata:{}};return Ht.publish("addFont",{font:Fe,instance:this}),Mt[Fe.id]=Fe,Xi(Fe),Fe.id},Un=function(C){for(var U=0,te=je.length;U<te;U++){var de=Qo.call(this,C[U][0],C[U][1],C[U][2],je[U][3],!0);v===!1&&(E[de]=!0);var Ee=C[U][0].split("-");Xi({id:de,fontName:Ee[0],fontStyle:Ee[1]||""})}Ht.publish("addFonts",{fonts:Mt,dictionary:Tt})},Sr=function(C){return C.foo=function(){try{return C.apply(this,arguments)}catch(de){var U=de.stack||"";~U.indexOf(" at ")&&(U=U.split(" at ")[1]);var te="Error in function "+U.split(`
`)[0].split("<")[0]+": "+de.message;if(!Ot.console)throw new Error(te);Ot.console.error(te,de),Ot.alert&&alert(te)}},C.foo.bar=C,C.foo},Xa=function(C,U){var te,de,Ee,Fe,He,ut,Ct,Ft,jt;if(Ee=(U=U||{}).sourceEncoding||"Unicode",He=U.outputEncoding,(U.autoencode||He)&&Mt[Kt].metadata&&Mt[Kt].metadata[Ee]&&Mt[Kt].metadata[Ee].encoding&&(Fe=Mt[Kt].metadata[Ee].encoding,!He&&Mt[Kt].encoding&&(He=Mt[Kt].encoding),!He&&Fe.codePages&&(He=Fe.codePages[0]),typeof He=="string"&&(He=Fe[He]),He)){for(Ct=!1,ut=[],te=0,de=C.length;te<de;te++)(Ft=He[C.charCodeAt(te)])?ut.push(String.fromCharCode(Ft)):ut.push(C[te]),ut[te].charCodeAt(0)>>8&&(Ct=!0);C=ut.join("")}for(te=C.length;Ct===void 0&&te!==0;)C.charCodeAt(te-1)>>8&&(Ct=!0),te--;if(!Ct)return C;for(ut=U.noBOM?[]:[254,255],te=0,de=C.length;te<de;te++){if((jt=(Ft=C.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+C+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ut.push(jt),ut.push(Ft-(jt<<8))}return String.fromCharCode.apply(void 0,ut)},mr=A.__private__.pdfEscape=A.pdfEscape=function(C,U){return Xa(C,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gn=A.__private__.beginPage=function(C){Ye[++Fn]=[],Bt[Fn]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},ee(Fn),De(Ye[ie])},xr=function(C,U){var te,de,Ee;switch(n=U||n,typeof C=="string"&&(te=S(C.toLowerCase()),Array.isArray(te)&&(de=te[0],Ee=te[1])),Array.isArray(C)&&(de=C[0]*ot,Ee=C[1]*ot),isNaN(de)&&(de=s[0],Ee=s[1]),(de>14400||Ee>14400)&&(Tn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),Ee=Math.min(14400,Ee)),s=[de,Ee],n.substr(0,1)){case"l":Ee>de&&(s=[Ee,de]);break;case"p":de>Ee&&(s=[Ee,de])}gn(s),Pr(Ps),ue(Di),tr!==0&&ue(tr+" J"),Js!==0&&ue(Js+" j"),Ht.publish("addPage",{pageNumber:Fn})},Ie=function(C){C>0&&C<=Fn&&(Ye.splice(C,1),Bt.splice(C,1),Fn--,ie>Fn&&(ie=Fn),this.setPage(ie))},ee=function(C){C>0&&C<=Fn&&(ie=C)},vt=A.__private__.getNumberOfPages=A.getNumberOfPages=function(){return Ye.length-1},er=function(C,U,te){var de,Ee=void 0;return te=te||{},C=C!==void 0?C:Mt[Kt].fontName,U=U!==void 0?U:Mt[Kt].fontStyle,de=C.toLowerCase(),Tt[de]!==void 0&&Tt[de][U]!==void 0?Ee=Tt[de][U]:Tt[C]!==void 0&&Tt[C][U]!==void 0?Ee=Tt[C][U]:te.disableWarning===!1&&Tn.warn("Unable to look up font label for font '"+C+"', '"+U+"'. Refer to getFontList() for available fonts."),Ee||te.noFallback||(Ee=Tt.times[U])==null&&(Ee=Tt.times.normal),Ee},ai=A.__private__.putInfo=function(){var C=un(),U=function(de){return de};for(var te in w!==null&&(U=yr.encryptor(C,0)),ue("<<"),ue("/Producer ("+mr(U("jsPDF "+Pt.version))+")"),xt)xt.hasOwnProperty(te)&&xt[te]&&ue("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+mr(U(xt[te]))+")");ue("/CreationDate ("+mr(U(se))+")"),ue(">>"),ue("endobj")},Jo=A.__private__.putCatalog=function(C){var U=(C=C||{}).rootDictionaryObjId||si;switch(un(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+U+" 0 R"),Be||(Be="fullwidth"),Be){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+Be;te.substr(te.length-1)==="%"&&(Be=parseInt(Be)/100),typeof Be=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+ye(Be)+"]")}switch(Lt||(Lt="continuous"),Lt){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}St&&ue("/PageMode /"+St),Ht.publish("putCatalog"),ue(">>"),ue("endobj")},$o=A.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(ce+1)),ue("/Root "+ce+" 0 R"),ue("/Info "+(ce-1)+" 0 R"),w!==null&&ue("/Encrypt "+yr.oid+" 0 R"),ue("/ID [ <"+Ne+"> <"+Ne+"> ]"),ue(">>")},oi=A.__private__.putHeader=function(){ue("%PDF-"+R),ue("%")},Et=A.__private__.putXRef=function(){var C="0000000000";ue("xref"),ue("0 "+(ce+1)),ue("0000000000 65535 f ");for(var U=1;U<=ce;U++)typeof Te[U]=="function"?ue((C+Te[U]()).slice(-10)+" 00000 n "):Te[U]!==void 0?ue((C+Te[U]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},fn=A.__private__.buildDocument=function(){Nt(),De(_e),Ht.publish("buildDocument"),oi(),ga(),Xn(),Ga(),w!==null&&ec(),ai(),Jo();var C=Pe;return Et(),$o(),ue("startxref"),ue(""+C),ue("%%EOF"),De(Ye[ie]),_e.join(`
`)},ma=A.__private__.getBlob=function(C){return new Blob([nt(C)],{type:"application/pdf"})},Ya=A.output=A.__private__.output=Sr(function(C,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",C){case void 0:return fn();case"save":A.save(U.filename);break;case"arraybuffer":return nt(fn());case"blob":return ma(fn());case"bloburi":case"bloburl":if(Ot.URL!==void 0&&typeof Ot.URL.createObjectURL=="function")return Ot.URL&&Ot.URL.createObjectURL(ma(fn()))||void 0;Tn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",de=fn();try{te=xp(de)}catch{te=xp(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+U.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ot)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(Ee=U.pdfObjectUrl,Fe="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",ut=Ot.open();return ut!==null&&ut.document.write(He),ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ot)==="[object Window]"){var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',Ft=Ot.open();if(Ft!==null){Ft.document.write(Ct);var jt=this;Ft.document.documentElement.querySelector("#pdfViewer").onload=function(){Ft.document.title=U.filename,Ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(jt.output("bloburl"))}}return Ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ot)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',zn=Ot.open();if(zn!==null&&(zn.document.write($t),zn.document.title=U.filename),zn||typeof safari>"u")return zn;break;case"datauri":case"dataurl":return Ot.document.location.href=this.output("datauristring",U);default:return null}}),Ka=function(C){return Array.isArray(ks)===!0&&ks.indexOf(C)>-1};switch(r){case"pt":ot=1;break;case"mm":ot=72/25.4;break;case"cm":ot=72/2.54;break;case"in":ot=72;break;case"px":ot=Ka("px_scaling")==1?.75:96/72;break;case"pc":case"em":ot=12;break;case"ex":ot=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ot=r}var yr=null;Je(),fe();var el=function(C){return w!==null?yr.encryptor(C,0):function(U){return U}},ql=A.__private__.getPageInfo=A.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Bt[C].objId,pageNumber:C,pageContext:Bt[C]}},gt=A.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in Bt)if(Bt[U].objId===C)break;return ql(U)},xa=A.__private__.getCurrentPageInfo=A.getCurrentPageInfo=function(){return{objId:Bt[ie].objId,pageNumber:ie,pageContext:Bt[ie]}};A.addPage=function(){return xr.apply(this,arguments),this},A.setPage=function(){return ee.apply(this,arguments),De.call(this,Ye[ie]),this},A.insertPage=function(C){return this.addPage(),this.movePage(ie,C),this},A.movePage=function(C,U){var te,de;if(C>U){te=Ye[C],de=Bt[C];for(var Ee=C;Ee>U;Ee--)Ye[Ee]=Ye[Ee-1],Bt[Ee]=Bt[Ee-1];Ye[U]=te,Bt[U]=de,this.setPage(U)}else if(C<U){te=Ye[C],de=Bt[C];for(var Fe=C;Fe<U;Fe++)Ye[Fe]=Ye[Fe+1],Bt[Fe]=Bt[Fe+1];Ye[U]=te,Bt[U]=de,this.setPage(U)}return this},A.deletePage=function(){return Ie.apply(this,arguments),this},A.__private__.text=A.text=function(C,U,te,de,Ee){var Fe,He,ut,Ct,Ft,jt,$t,zn,vn,Kn=(de=de||{}).scope||this;if(typeof C=="number"&&typeof U=="number"&&(typeof te=="string"||Array.isArray(te))){var Vr=te;te=U,U=C,C=Vr}if(arguments[3]instanceof wt?(Y("The transform parameter of text() with a Matrix value"),vn=Ee):(ut=arguments[4],Ct=arguments[5],yn($t=arguments[3])==="object"&&$t!==null||(typeof ut=="string"&&(Ct=ut,ut=null),typeof $t=="string"&&(Ct=$t,$t=null),typeof $t=="number"&&(ut=$t,$t=null),de={flags:$t,angle:ut,align:Ct})),isNaN(U)||isNaN(te)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return Kn;var Zn="",Ki=!1,lr=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:Zs,Ni=Kn.internal.scaleFactor;function ei(Rn){return Rn=Rn.split("	").join(Array(de.TabLen||9).join(" ")),mr(Rn,$t)}function Ja(Rn){for(var Dn,vr=Rn.concat(),Dr=[],ba=vr.length;ba--;)typeof(Dn=vr.shift())=="string"?Dr.push(Dn):Array.isArray(Rn)&&(Dn.length===1||Dn[1]===void 0&&Dn[2]===void 0)?Dr.push(Dn[0]):Dr.push([Dn[0],Dn[1],Dn[2]]);return Dr}function ci(Rn,Dn){var vr;if(typeof Rn=="string")vr=Dn(Rn)[0];else if(Array.isArray(Rn)){for(var Dr,ba,rc=Rn.concat(),Hl=[],Ff=rc.length;Ff--;)typeof(Dr=rc.shift())=="string"?Hl.push(Dn(Dr)[0]):Array.isArray(Dr)&&typeof Dr[0]=="string"&&(ba=Dn(Dr[0],Dr[1],Dr[2]),Hl.push([ba[0],ba[1],ba[2]]));vr=Hl}return vr}var $a=!1,wa=!0;if(typeof C=="string")$a=!0;else if(Array.isArray(C)){var cl=C.concat();He=[];for(var va,Sn=cl.length;Sn--;)(typeof(va=cl.shift())!="string"||Array.isArray(va)&&typeof va[0]!="string")&&(wa=!1);$a=wa}if($a===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var eo=rt/Kn.internal.scaleFactor,ta=eo*(lr-1);switch(de.baseline){case"bottom":te-=ta;break;case"top":te+=eo-ta;break;case"hanging":te+=eo-2*ta;break;case"middle":te+=eo/2-ta}if((jt=de.maxWidth||0)>0&&(typeof C=="string"?C=Kn.splitTextToSize(C,jt):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(Rn,Dn){return Rn.concat(Kn.splitTextToSize(Dn,jt))},[]))),Fe={text:C,x:U,y:te,options:de,mutex:{pdfEscape:mr,activeFontKey:Kt,fonts:Mt,activeFontSize:rt}},Ht.publish("preProcessText",Fe),C=Fe.text,ut=(de=Fe.options).angle,!(vn instanceof wt)&&ut&&typeof ut=="number"){ut*=Math.PI/180,de.rotationDirection===0&&(ut=-ut),L===I.ADVANCED&&(ut=-ut);var xs=Math.cos(ut),Zt=Math.sin(ut);vn=new wt(xs,Zt,-Zt,xs,0,0)}else ut&&ut instanceof wt&&(vn=ut);L!==I.ADVANCED||vn||(vn=Ur),(Ft=de.charSpace||Oe)!==void 0&&(Zn+=D(X(Ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(zn=de.horizontalScale)!==void 0&&(Zn+=D(100*zn)+` Tz
`),de.lang;var Or=-1,F=de.renderingMode!==void 0?de.renderingMode:de.stroke,i=Kn.internal.getCurrentPageInfo().pageContext;switch(F){case 0:case!1:case"fill":Or=0;break;case 1:case!0:case"stroke":Or=1;break;case 2:case"fillThenStroke":Or=2;break;case 3:case"invisible":Or=3;break;case 4:case"fillAndAddForClipping":Or=4;break;case 5:case"strokeAndAddPathForClipping":Or=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Or=6;break;case 7:case"addToPathForClipping":Or=7}var o=i.usedRenderingMode!==void 0?i.usedRenderingMode:-1;Or!==-1?Zn+=Or+` Tr
`:o!==-1&&(Zn+=`0 Tr
`),Or!==-1&&(i.usedRenderingMode=Or),Ct=de.align||"left";var l,c=rt*lr,f=Kn.internal.pageSize.getWidth(),d=Mt[Kt];Ft=de.charSpace||Oe,jt=de.maxWidth||0,$t=Object.assign({autoencode:!0,noBOM:!0},de.flags);var x=[],b=function(Rn){return Kn.getStringUnitWidth(Rn,{font:d,charSpace:Ft,fontSize:rt,doKerning:!1})*rt/Ni};if(Object.prototype.toString.call(C)==="[object Array]"){var N;He=Ja(C),Ct!=="left"&&(l=He.map(b));var O,B=0;if(Ct==="right"){U-=l[0],C=[],Sn=He.length;for(var H=0;H<Sn;H++)H===0?(O=ms(U),N=Os(te)):(O=X(B-l[H]),N=-c),C.push([He[H],O,N]),B=l[H]}else if(Ct==="center"){U-=l[0]/2,C=[],Sn=He.length;for(var ne=0;ne<Sn;ne++)ne===0?(O=ms(U),N=Os(te)):(O=X((B-l[ne])/2),N=-c),C.push([He[ne],O,N]),B=l[ne]}else if(Ct==="left"){C=[],Sn=He.length;for(var he=0;he<Sn;he++)C.push(He[he])}else if(Ct==="justify"&&d.encoding==="Identity-H"){C=[],Sn=He.length,jt=jt!==0?jt:f;for(var pe=0,be=0;be<Sn;be++)if(N=be===0?Os(te):-c,O=be===0?ms(U):pe,be<Sn-1){var Re=X((jt-l[be])/(He[be].split(" ").length-1)),Xe=He[be].split(" ");C.push([Xe[0]+" ",O,N]),pe=0;for(var Qe=1;Qe<Xe.length;Qe++){var Ke=(b(Xe[Qe-1]+" "+Xe[Qe])-b(Xe[Qe]))*Ni+Re;Qe==Xe.length-1?C.push([Xe[Qe],Ke,0]):C.push([Xe[Qe]+" ",Ke,0]),pe-=Ke}}else C.push([He[be],O,N]);C.push(["",pe,0])}else{if(Ct!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],Sn=He.length,jt=jt!==0?jt:f,be=0;be<Sn;be++)N=be===0?Os(te):-c,O=be===0?ms(U):0,be<Sn-1?x.push(D(X((jt-l[be])/(He[be].split(" ").length-1)))):x.push(0),C.push([He[be],O,N])}}var Yt=typeof de.R2L=="boolean"?de.R2L:At;Yt===!0&&(C=ci(C,function(Rn,Dn,vr){return[Rn.split("").reverse().join(""),Dn,vr]})),Fe={text:C,x:U,y:te,options:de,mutex:{pdfEscape:mr,activeFontKey:Kt,fonts:Mt,activeFontSize:rt}},Ht.publish("postProcessText",Fe),C=Fe.text,Ki=Fe.mutex.isHex||!1;var Rt=Mt[Kt].encoding;Rt!=="WinAnsiEncoding"&&Rt!=="StandardEncoding"||(C=ci(C,function(Rn,Dn,vr){return[ei(Rn),Dn,vr]})),He=Ja(C),C=[];for(var ur,Rr,rr,on=0,Qn=1,wr=Array.isArray(He[0])?Qn:on,Si="",ys=function(Rn,Dn,vr){var Dr="";return vr instanceof wt?(vr=typeof de.angle=="number"?Gi(vr,new wt(1,0,0,1,Rn,Dn)):Gi(new wt(1,0,0,1,Rn,Dn),vr),L===I.ADVANCED&&(vr=Gi(new wt(1,0,0,-1,0,0),vr)),Dr=vr.join(" ")+` Tm
`):Dr=D(Rn)+" "+D(Dn)+` Td
`,Dr},Mi=0;Mi<He.length;Mi++){switch(Si="",wr){case Qn:rr=(Ki?"<":"(")+He[Mi][0]+(Ki?">":")"),ur=parseFloat(He[Mi][1]),Rr=parseFloat(He[Mi][2]);break;case on:rr=(Ki?"<":"(")+He[Mi]+(Ki?">":")"),ur=ms(U),Rr=Os(te)}x!==void 0&&x[Mi]!==void 0&&(Si=x[Mi]+` Tw
`),Mi===0?C.push(Si+ys(ur,Rr,vn)+rr):wr===on?C.push(Si+rr):wr===Qn&&C.push(Si+ys(ur,Rr,vn)+rr)}C=wr===on?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var Bi=`BT
/`;return Bi+=Kt+" "+rt+` Tf
`,Bi+=D(rt*lr)+` TL
`,Bi+=li+`
`,Bi+=Zn,Bi+=C,ue(Bi+="ET"),E[Kt]=!0,Kn};var ps=A.__private__.clip=A.clip=function(C){return ue(C==="evenodd"?"W*":"W"),this};A.clipEvenOdd=function(){return ps("evenodd")},A.__private__.discardPath=A.discardPath=function(){return ue("n"),this};var bt=A.__private__.isValidStyle=function(C){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(U=!0),U};A.__private__.setDefaultPathOperation=A.setDefaultPathOperation=function(C){return bt(C)&&(m=C),this};var Vl=A.__private__.getStyle=A.getStyle=function(C){var U=m;switch(C){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=C}return U},zt=A.close=function(){return ue("h"),this};A.stroke=function(){return ue("S"),this},A.fill=function(C){return Yn("f",C),this},A.fillEvenOdd=function(C){return Yn("f*",C),this},A.fillStroke=function(C){return Yn("B",C),this},A.fillStrokeEvenOdd=function(C){return Yn("B*",C),this};var Yn=function(C,U){yn(U)==="object"?Wl(U,C):ue(C)},tl=function(C){C===null||L===I.ADVANCED&&C===void 0||(C=Vl(C),ue(C))};function nl(C,U,te,de,Ee){var Fe=new xu(U||this.boundingBox,te||this.xStep,de||this.yStep,this.gState,Ee||this.matrix);Fe.stream=this.stream;var He=C+"$$"+this.cloneIndex+++"$$";return zr(He,Fe),Fe}var Wl=function(C,U){var te=Ts[C.key],de=nn[te];if(de instanceof yl)ue("q"),ue(Ls(U)),de.gState&&A.setGState(de.gState),ue(C.matrix.toString()+" cm"),ue("/"+te+" sh"),ue("Q");else if(de instanceof xu){var Ee=new wt(1,0,0,-1,0,ui());C.matrix&&(Ee=Ee.multiply(C.matrix||Ur),te=nl.call(de,C.key,C.boundingBox,C.xStep,C.yStep,Ee).id),ue("q"),ue("/Pattern cs"),ue("/"+te+" scn"),de.gState&&A.setGState(de.gState),ue(U),ue("Q")}},Ls=function(C){switch(C){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},rl=A.moveTo=function(C,U){return ue(D(X(C))+" "+D(oe(U))+" m"),this},Yi=A.lineTo=function(C,U){return ue(D(X(C))+" "+D(oe(U))+" l"),this},Ri=A.curveTo=function(C,U,te,de,Ee,Fe){return ue([D(X(C)),D(oe(U)),D(X(te)),D(oe(de)),D(X(Ee)),D(oe(Fe)),"c"].join(" ")),this};A.__private__.line=A.line=function(C,U,te,de,Ee){if(isNaN(C)||isNaN(U)||isNaN(te)||isNaN(de)||!bt(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return L===I.COMPAT?this.lines([[te-C,de-U]],C,U,[1,1],Ee||"S"):this.lines([[te-C,de-U]],C,U,[1,1]).stroke()},A.__private__.lines=A.lines=function(C,U,te,de,Ee,Fe){var He,ut,Ct,Ft,jt,$t,zn,vn,Kn,Vr,Zn,Ki;if(typeof C=="number"&&(Ki=te,te=U,U=C,C=Ki),de=de||[1,1],Fe=Fe||!1,isNaN(U)||isNaN(te)||!Array.isArray(C)||!Array.isArray(de)||!bt(Ee)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(rl(U,te),He=de[0],ut=de[1],Ft=C.length,Vr=U,Zn=te,Ct=0;Ct<Ft;Ct++)(jt=C[Ct]).length===2?(Vr=jt[0]*He+Vr,Zn=jt[1]*ut+Zn,Yi(Vr,Zn)):($t=jt[0]*He+Vr,zn=jt[1]*ut+Zn,vn=jt[2]*He+Vr,Kn=jt[3]*ut+Zn,Vr=jt[4]*He+Vr,Zn=jt[5]*ut+Zn,Ri($t,zn,vn,Kn,Vr,Zn));return Fe&&zt(),tl(Ee),this},A.path=function(C){for(var U=0;U<C.length;U++){var te=C[U],de=te.c;switch(te.op){case"m":rl(de[0],de[1]);break;case"l":Yi(de[0],de[1]);break;case"c":Ri.apply(this,de);break;case"h":zt()}}return this},A.__private__.rect=A.rect=function(C,U,te,de,Ee){if(isNaN(C)||isNaN(U)||isNaN(te)||isNaN(de)||!bt(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return L===I.COMPAT&&(de=-de),ue([D(X(C)),D(oe(U)),D(X(te)),D(X(de)),"re"].join(" ")),tl(Ee),this},A.__private__.triangle=A.triangle=function(C,U,te,de,Ee,Fe,He){if(isNaN(C)||isNaN(U)||isNaN(te)||isNaN(de)||isNaN(Ee)||isNaN(Fe)||!bt(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-C,de-U],[Ee-te,Fe-de],[C-Ee,U-Fe]],C,U,[1,1],He,!0),this},A.__private__.roundedRect=A.roundedRect=function(C,U,te,de,Ee,Fe,He){if(isNaN(C)||isNaN(U)||isNaN(te)||isNaN(de)||isNaN(Ee)||isNaN(Fe)||!bt(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ut=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*te),Fe=Math.min(Fe,.5*de),this.lines([[te-2*Ee,0],[Ee*ut,0,Ee,Fe-Fe*ut,Ee,Fe],[0,de-2*Fe],[0,Fe*ut,-Ee*ut,Fe,-Ee,Fe],[2*Ee-te,0],[-Ee*ut,0,-Ee,-Fe*ut,-Ee,-Fe],[0,2*Fe-de],[0,-Fe*ut,Ee*ut,-Fe,Ee,-Fe]],C+Ee,U,[1,1],He,!0),this},A.__private__.ellipse=A.ellipse=function(C,U,te,de,Ee){if(isNaN(C)||isNaN(U)||isNaN(te)||isNaN(de)||!bt(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*te,He=4/3*(Math.SQRT2-1)*de;return rl(C+te,U),Ri(C+te,U-He,C+Fe,U-de,C,U-de),Ri(C-Fe,U-de,C-te,U-He,C-te,U),Ri(C-te,U+He,C-Fe,U+de,C,U+de),Ri(C+Fe,U+de,C+te,U+He,C+te,U),tl(Ee),this},A.__private__.circle=A.circle=function(C,U,te,de){if(isNaN(C)||isNaN(U)||isNaN(te)||!bt(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,U,te,te,de)},A.setFont=function(C,U,te){return te&&(U=Q(U,te)),Kt=er(C,U,{disableWarning:!1}),this};var ya=A.__private__.getFont=A.getFont=function(){return Mt[er.apply(A,arguments)]};A.__private__.getFontList=A.getFontList=function(){var C,U,te={};for(C in Tt)if(Tt.hasOwnProperty(C))for(U in te[C]=[],Tt[C])Tt[C].hasOwnProperty(U)&&te[C].push(U);return te},A.addFont=function(C,U,te,de,Ee){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(te=Q(te,de)),Ee=Ee||"Identity-H",Qo.call(this,C,U,te,Ee)};var Zs,Ps=e.lineWidth||.200025,gs=A.__private__.getLineWidth=A.getLineWidth=function(){return Ps},Pr=A.__private__.setLineWidth=A.setLineWidth=function(C){return Ps=C,ue(D(X(C))+" w"),this};A.__private__.setLineDash=Pt.API.setLineDash=Pt.API.setLineDashPattern=function(C,U){if(C=C||[],U=U||0,isNaN(U)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(te){return D(X(te))}).join(" "),U=D(X(U)),ue("["+C+"] "+U+" d"),this};var il=A.__private__.getLineHeight=A.getLineHeight=function(){return rt*Zs};A.__private__.getLineHeight=A.getLineHeight=function(){return rt*Zs};var sl=A.__private__.setLineHeightFactor=A.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(Zs=C),this},al=A.__private__.getLineHeightFactor=A.getLineHeightFactor=function(){return Zs};sl(e.lineHeight);var ms=A.__private__.getHorizontalCoordinate=function(C){return X(C)},Os=A.__private__.getVerticalCoordinate=function(C){return L===I.ADVANCED?C:Bt[ie].mediaBox.topRightY-Bt[ie].mediaBox.bottomLeftY-X(C)},tc=A.__private__.getHorizontalCoordinateString=A.getHorizontalCoordinateString=function(C){return D(ms(C))},Jt=A.__private__.getVerticalCoordinateString=A.getVerticalCoordinateString=function(C){return D(Os(C))},Di=e.strokeColor||"0 G";A.__private__.getStrokeColor=A.getDrawColor=function(){return Pn(Di)},A.__private__.setStrokeColor=A.setDrawColor=function(C,U,te,de){return Di=qr({ch1:C,ch2:U,ch3:te,ch4:de,pdfColorType:"draw",precision:2}),ue(Di),this};var Qs=e.fillColor||"0 g";A.__private__.getFillColor=A.getFillColor=function(){return Pn(Qs)},A.__private__.setFillColor=A.setFillColor=function(C,U,te,de){return Qs=qr({ch1:C,ch2:U,ch3:te,ch4:de,pdfColorType:"fill",precision:2}),ue(Qs),this};var li=e.textColor||"0 g",nc=A.__private__.getTextColor=A.getTextColor=function(){return Pn(li)};A.__private__.setTextColor=A.setTextColor=function(C,U,te,de){return li=qr({ch1:C,ch2:U,ch3:te,ch4:de,pdfColorType:"text",precision:3}),this};var Oe=e.charSpace,Wt=A.__private__.getCharSpace=A.getCharSpace=function(){return parseFloat(Oe||0)};A.__private__.setCharSpace=A.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Oe=C,this};var tr=0;A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.__private__.setLineCap=A.setLineCap=function(C){var U=A.CapJoinStyles[C];if(U===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tr=U,ue(U+" J"),this};var Js=0;A.__private__.setLineJoin=A.setLineJoin=function(C){var U=A.CapJoinStyles[C];if(U===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Js=U,ue(U+" j"),this},A.__private__.setLineMiterLimit=A.__private__.setMiterLimit=A.setLineMiterLimit=A.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(D(X(C))+" M"),this},A.GState=qh,A.setGState=function(C){(C=typeof C=="string"?Bn[Vt[C]]:ol(null,C)).equals(Zr)||(ue("/"+C.id+" gs"),Zr=C)};var ol=function(C,U){if(!C||!Vt[C]){var te=!1;for(var de in Bn)if(Bn.hasOwnProperty(de)&&Bn[de].equals(U)){te=!0;break}if(te)U=Bn[de];else{var Ee="GS"+(Object.keys(Bn).length+1).toString(10);Bn[Ee]=U,U.id=Ee}return C&&(Vt[C]=U.id),Ht.publish("addGState",U),U}};A.addGState=function(C,U){return ol(C,U),this},A.saveGraphicsState=function(){return ue("q"),cn.push({key:Kt,size:rt,color:li}),this},A.restoreGraphicsState=function(){ue("Q");var C=cn.pop();return Kt=C.key,rt=C.size,li=C.color,Zr=null,this},A.setCurrentTransformationMatrix=function(C){return ue(C.toString()+" cm"),this},A.comment=function(C){return ue("#"+C),this};var Za=function(C,U){var te=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Fe){isNaN(Fe)||(te=parseFloat(Fe))}});var de=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Fe){isNaN(Fe)||(de=parseFloat(Fe))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function(Fe){Ee=Fe.toString()}}),this},ll=function(C,U,te,de){Za.call(this,C,U),this.type="rect";var Ee=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(He){isNaN(He)||(Ee=parseFloat(He))}});var Fe=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(He){isNaN(He)||(Fe=parseFloat(He))}}),this},ul=function(){this.page=Fn,this.currentPage=ie,this.pages=Ye.slice(0),this.pagesContext=Bt.slice(0),this.x=jr,this.y=_t,this.matrix=tt,this.width=wn(ie),this.height=ui(ie),this.outputDestination=Ge,this.id="",this.objectNumber=-1};ul.prototype.restore=function(){Fn=this.page,ie=this.currentPage,Bt=this.pagesContext,Ye=this.pages,jr=this.x,_t=this.y,tt=this.matrix,ea(ie,this.width),hn(ie,this.height),Ge=this.outputDestination};var Qa=function(C,U,te,de,Ee){Ai.push(new ul),Fn=ie=0,Ye=[],jr=C,_t=U,tt=Ee,gn([te,de])},nr=function(C){if(Qr[C])Ai.pop().restore();else{var U=new ul,te="Xo"+(Object.keys(ln).length+1).toString(10);U.id=te,Qr[C]=te,ln[te]=U,Ht.publish("addFormObject",U),Ai.pop().restore()}};for(var $s in A.beginFormObject=function(C,U,te,de,Ee){return Qa(C,U,te,de,Ee),this},A.endFormObject=function(C){return nr(C),this},A.doFormObject=function(C,U){var te=ln[Qr[C]];return ue("q"),ue(U.toString()+" cm"),ue("/"+te.id+" Do"),ue("Q"),this},A.getFormObject=function(C){var U=ln[Qr[C]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},A.save=function(C,U){return C=C||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(ml(ma(fn()),C),typeof ml.unload=="function"&&Ot.setTimeout&&setTimeout(ml.unload,911),this):new Promise(function(te,de){try{var Ee=ml(ma(fn()),C);typeof ml.unload=="function"&&Ot.setTimeout&&setTimeout(ml.unload,911),te(Ee)}catch(Fe){de(Fe.message)}})},Pt.API)Pt.API.hasOwnProperty($s)&&($s==="events"&&Pt.API.events.length?function(C,U){var te,de,Ee;for(Ee=U.length-1;Ee!==-1;Ee--)te=U[Ee][0],de=U[Ee][1],C.subscribe.apply(C,[te].concat(typeof de=="function"?[de]:de))}(Ht,Pt.API.events):A[$s]=Pt.API[$s]);var wn=A.getPageWidth=function(C){return(Bt[C=C||ie].mediaBox.topRightX-Bt[C].mediaBox.bottomLeftX)/ot},ea=A.setPageWidth=function(C,U){Bt[C].mediaBox.topRightX=U*ot+Bt[C].mediaBox.bottomLeftX},ui=A.getPageHeight=function(C){return(Bt[C=C||ie].mediaBox.topRightY-Bt[C].mediaBox.bottomLeftY)/ot},hn=A.setPageHeight=function(C,U){Bt[C].mediaBox.topRightY=U*ot+Bt[C].mediaBox.bottomLeftY};return A.internal={pdfEscape:mr,getStyle:Vl,getFont:ya,getFontSize:it,getCharSpace:Wt,getTextColor:nc,getLineHeight:il,getLineHeightFactor:al,getLineWidth:gs,write:yt,getHorizontalCoordinate:ms,getVerticalCoordinate:Os,getCoordinateString:tc,getVerticalCoordinateString:Jt,collections:{},newObject:un,newAdditionalObject:ct,newObjectDeferred:Nn,newObjectDeferredBegin:Ln,getFilters:Ei,putStream:Jr,events:Ht,scaleFactor:ot,pageSize:{getWidth:function(){return wn(ie)},setWidth:function(C){ea(ie,C)},getHeight:function(){return ui(ie)},setHeight:function(C){hn(ie,C)}},encryptionOptions:w,encryption:yr,getEncryptor:el,output:Ya,getNumberOfPages:vt,pages:Ye,out:ue,f2:ye,f3:W,getPageInfo:ql,getPageInfoByObjId:gt,getCurrentPageInfo:xa,getPDFVersion:k,Point:Za,Rectangle:ll,Matrix:wt,hasHotfix:Ka},Object.defineProperty(A.internal.pageSize,"width",{get:function(){return wn(ie)},set:function(C){ea(ie,C)},enumerable:!0,configurable:!0}),Object.defineProperty(A.internal.pageSize,"height",{get:function(){return ui(ie)},set:function(C){hn(ie,C)},enumerable:!0,configurable:!0}),Un.call(A,je),Kt="F1",xr(s,n),Ht.publish("initialized"),A}ru.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},ru.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ru.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},ru.prototype.processOwnerPassword=function(e,t){return wp(yp(t).substr(0,5),e)},ru.prototype.encryptor=function(e,t){var n=yp(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return wp(n,r)}},qh.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||yn(e)!==yn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Pt.API={events:[]},Pt.version="2.5.2";var fr=Pt.API,qg=1,Ul=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},eu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qt=function(e){return e.toFixed(2)},fo=function(e){return e.toFixed(5)};fr.__acroform__={};var Hi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},mx=function(e){return e*qg},ia=function(e){var t=new Lv,n=mt.internal.getHeight(e)||0,r=mt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(qt(r)),Number(qt(n))],t},VN=fr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},WN=fr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},HN=fr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ar=fr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return HN(e,t-1)},Cr=fr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return VN(e,t-1)},Er=fr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return WN(e,t-1)},GN=fr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=e[0],a=e[1],u=e[2],h=e[3],p={};return p.lowerLeft_X=n(s)||0,p.lowerLeft_Y=r(a+h)||0,p.upperRight_X=n(s+u)||0,p.upperRight_Y=r(a)||0,[Number(qt(p.lowerLeft_X)),Number(qt(p.lowerLeft_Y)),Number(qt(p.upperRight_X)),Number(qt(p.upperRight_Y))]},XN=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=vp(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+qt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=ia(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},vp=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(W){return W.split(`
`)}):s.map(function(W){return[W]});var a=n,u=mt.internal.getHeight(e)||0;u=u<0?-u:u;var h=mt.internal.getWidth(e)||0;h=h<0?-h:h;var p=function(W,X,ae){if(W+1<s.length){var oe=X+" "+s[W+1][0];return P1(oe,e,ae).width<=h-4}return!1};a++;e:for(;a>0;){t="",a--;var m,w,v=P1("3",e,a).height,E=e.multiline?u-a:(u-v)/2,A=E+=2,R=0,k=0,M=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+P1(t,e,a=12).width+", FieldWidth:"+h+`
`;break}for(var S="",I=0,L=0;L<s.length;L++)if(s.hasOwnProperty(L)){var q=!1;if(s[L].length!==1&&M!==s[L].length-1){if((v+2)*(I+2)+2>u)continue e;S+=s[L][M],q=!0,k=L,L--}else{S=(S+=s[L][M]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var $=parseInt(L),Q=p($,S,a),D=L>=s.length-1;if(Q&&!D){S+=" ",M=0;continue}if(Q||D){if(D)k=$;else if(e.multiline&&(v+2)*(I+2)+2>u)continue e}else{if(!e.multiline||(v+2)*(I+2)+2>u)continue e;k=$}}for(var Y="",Z=R;Z<=k;Z++){var ye=s[Z];if(e.multiline){if(Z===k){Y+=ye[M]+" ",M=(M+1)%ye.length;continue}if(Z===R){Y+=ye[ye.length-1]+" ";continue}}Y+=ye[0]+" "}switch(Y=Y.substr(Y.length-1)==" "?Y.substr(0,Y.length-1):Y,w=P1(Y,e,a).width,e.textAlign){case"right":m=h-w-2;break;case"center":m=(h-w)/2;break;case"left":default:m=2}t+=qt(m)+" "+qt(A)+` Td
`,t+="("+Ul(Y)+`) Tj
`,t+=-qt(m)+` 0 Td
`,A=-(a+2),w=0,R=q?k:k+1,I++,S=""}break}return r.text=t,r.fontSize=a,r},P1=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},YN={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},KN=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},ZN=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,s=e[n];t.internal.newObjectDeferredBegin(s.objId,!0),yn(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[r]}},QN=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ys.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(YN)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");qg=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Pv,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s];a.objId=void 0,a.hasAnnotation&&KN(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,s){var a=!r;for(var u in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var h=r[u],p=[],m=h.Rect;if(h.Rect&&(h.Rect=GN(h.Rect,s)),s.internal.newObjectDeferredBegin(h.objId,!0),h.DA=mt.createDefaultAppearanceStream(h),yn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(p=h.getKeyValueListForStream()),h.Rect=m,h.hasAppearanceStream&&!h.appearanceStreamContent){var w=XN(h);p.push({key:"AP",value:"<</N "+w+">>"}),s.internal.acroformPlugin.xForms.push(w)}if(h.appearanceStreamContent){var v="";for(var E in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(E)){var A=h.appearanceStreamContent[E];if(v+="/"+E+" ",v+="<<",Object.keys(A).length>=1||Array.isArray(A)){for(var u in A)if(A.hasOwnProperty(u)){var R=A[u];typeof R=="function"&&(R=R.call(s,h)),v+="/"+u+" "+R+" ",s.internal.acroformPlugin.xForms.indexOf(R)>=0||s.internal.acroformPlugin.xForms.push(R)}}else typeof(R=A)=="function"&&(R=R.call(s,h)),v+="/"+u+" "+R,s.internal.acroformPlugin.xForms.indexOf(R)>=0||s.internal.acroformPlugin.xForms.push(R);v+=">>"}p.push({key:"AP",value:`<<
`+v+">>"})}s.internal.putStream({additionalKeyValues:p,objectId:h.objId}),s.internal.out("endobj")}a&&ZN(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},kv=fr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(u){return u};if(Array.isArray(e)){for(var s="[",a=0;a<e.length;a++)switch(a!==0&&(s+=" "),yn(e[a])){case"boolean":case"number":case"object":s+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),s+="("+Ul(r(e[a].toString()))+")"):s+=e[a].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},P0=function(e,t,n){var r=function(s){return s};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ul(r(e))+")"},la=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};la.prototype.toString=function(){return this.objId+" 0 R"},la.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},la.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:kv(s,this.objId,this.scope)}):s instanceof la?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:r,value:s}))}return e};var Lv=function(){la.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Hi(Lv,la);var Pv=function(){la.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ul(n(e))+")"}},set:function(n){e=n}})};Hi(Pv,la);var Ys=function e(){la.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');t=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ar(t,3)},set:function(S){S?this.F=Cr(t,3):this.F=Er(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');n=S}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(S){r=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(S){r[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(S){r[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(S){r[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(S){r[3]=S}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Vh)return;a="FieldObject"+e.FieldNum++}var S=function(I){return I};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Ul(S(a))+")"},set:function(S){a=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(S){a=S}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var p=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return p},set:function(S){p=S}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/qg:m},set:function(S){m=S}});var w="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return w},set:function(S){w=S}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof Vh||this instanceof Il))return P0(v,this.objId,this.scope)},set:function(S){S=S.toString(),v=S}});var E=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof Xr?E:P0(E,this.objId,this.scope)},set:function(S){S=S.toString(),E=this instanceof Xr?S:S.substr(0,1)==="("?eu(S.substr(1,S.length-2)):eu(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xr?eu(E.substr(1,E.length-1)):E},set:function(S){S=S.toString(),E=this instanceof Xr?"/"+S:S}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Xr?A:P0(A,this.objId,this.scope)},set:function(S){S=S.toString(),A=this instanceof Xr?S:S.substr(0,1)==="("?eu(S.substr(1,S.length-2)):eu(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xr?eu(A.substr(1,A.length-1)):A},set:function(S){S=S.toString(),A=this instanceof Xr?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var R,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(S){S=!!S,k=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(R)return R},set:function(S){R=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,1)},set:function(S){S?this.Ff=Cr(this.Ff,1):this.Ff=Er(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,2)},set:function(S){S?this.Ff=Cr(this.Ff,2):this.Ff=Er(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,3)},set:function(S){S?this.Ff=Cr(this.Ff,3):this.Ff=Er(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');M=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(M){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:M=2;break;case"center":case 1:M=1;break;case"left":case 0:default:M=0}}})};Hi(Ys,la);var ku=function(){Ys.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return kv(t,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(a,u,h){h||(h=1);for(var p,m=[];p=u.exec(a);)m.push(p[h]);return m}(r,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,18)},set:function(n){n?this.Ff=Cr(this.Ff,18):this.Ff=Er(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Cr(this.Ff,19):this.Ff=Er(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,20)},set:function(n){n?(this.Ff=Cr(this.Ff,20),t.sort()):this.Ff=Er(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,22)},set:function(n){n?this.Ff=Cr(this.Ff,22):this.Ff=Er(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,23)},set:function(n){n?this.Ff=Cr(this.Ff,23):this.Ff=Er(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,27)},set:function(n){n?this.Ff=Cr(this.Ff,27):this.Ff=Er(this.Ff,27)}}),this.hasAppearanceStream=!1};Hi(ku,Ys);var Lu=function(){ku.call(this),this.fontName="helvetica",this.combo=!1};Hi(Lu,ku);var Pu=function(){Lu.call(this),this.combo=!0};Hi(Pu,Lu);var th=function(){Pu.call(this),this.edit=!0};Hi(th,Pu);var Xr=function(){Ys.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,15)},set:function(n){n?this.Ff=Cr(this.Ff,15):this.Ff=Er(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,16)},set:function(n){n?this.Ff=Cr(this.Ff,16):this.Ff=Er(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,17)},set:function(n){n?this.Ff=Cr(this.Ff,17):this.Ff=Er(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,26)},set:function(n){n?this.Ff=Cr(this.Ff,26):this.Ff=Er(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,s=[];for(r in s.push("<<"),t)s.push("/"+r+" ("+Ul(n(t[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){yn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Hi(Xr,Ys);var nh=function(){Xr.call(this),this.pushButton=!0};Hi(nh,Xr);var Ou=function(){Xr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Hi(Ou,Xr);var Vh=function(){var e,t;Ys.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(h){return h};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,u=[];for(a in u.push("<<"),r)u.push("/"+a+" ("+Ul(s(r[a]))+")");return u.push(">>"),u.join(`
`)},set:function(s){yn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Hi(Vh,Ys),Ou.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Ou.prototype.createOption=function(e){var t=new Vh;return t.Parent=this,t.optionName=e,this.Kids.push(t),JN.call(this.scope,t),t};var rh=function(){Xr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};Hi(rh,Xr);var Il=function(){Ys.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,13)},set:function(t){t?this.Ff=Cr(this.Ff,13):this.Ff=Er(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,21)},set:function(t){t?this.Ff=Cr(this.Ff,21):this.Ff=Er(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,23)},set:function(t){t?this.Ff=Cr(this.Ff,23):this.Ff=Er(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,24)},set:function(t){t?this.Ff=Cr(this.Ff,24):this.Ff=Er(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,25)},set:function(t){t?this.Ff=Cr(this.Ff,25):this.Ff=Er(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,26)},set:function(t){t?this.Ff=Cr(this.Ff,26):this.Ff=Er(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Hi(Il,Ys);var ih=function(){Il.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,14)},set:function(e){e?this.Ff=Cr(this.Ff,14):this.Ff=Er(this.Ff,14)}}),this.password=!0};Hi(ih,Il);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ia(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=vp(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+qt(mt.internal.getWidth(e))+" "+qt(mt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+qt(a.fontSize)+" Tf "+s),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=ia(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],a=mt.internal.getHeight(e),u=mt.internal.getWidth(e),h=vp(e,e.caption);return s.push("1 g"),s.push("0 0 "+qt(u)+" "+qt(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+qt(u-1)+" "+qt(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+qt(h.fontSize)+" Tf "+r),s.push(h.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=ia(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+qt(mt.internal.getWidth(e))+" "+qt(mt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=mt.RadioButton.Circle.YesNormal,t.D[e]=mt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ia(e);t.scope=e.scope;var n=[],r=mt.internal.getWidth(e)<=mt.internal.getHeight(e)?mt.internal.getWidth(e)/4:mt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=mt.internal.Bezier_C,a=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+fo(mt.internal.getWidth(e)/2)+" "+fo(mt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ia(e);t.scope=e.scope;var n=[],r=mt.internal.getWidth(e)<=mt.internal.getHeight(e)?mt.internal.getWidth(e)/4:mt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*mt.internal.Bezier_C).toFixed(5)),u=Number((r*mt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+fo(mt.internal.getWidth(e)/2)+" "+fo(mt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+fo(mt.internal.getWidth(e)/2)+" "+fo(mt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),n.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),n.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),n.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ia(e);t.scope=e.scope;var n=[],r=mt.internal.getWidth(e)<=mt.internal.getHeight(e)?mt.internal.getWidth(e)/4:mt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*mt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+fo(mt.internal.getWidth(e)/2)+" "+fo(mt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=mt.RadioButton.Cross.YesNormal,t.D[e]=mt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ia(e);t.scope=e.scope;var n=[],r=mt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+qt(mt.internal.getWidth(e)-2)+" "+qt(mt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(qt(r.x1.x)+" "+qt(r.x1.y)+" m"),n.push(qt(r.x2.x)+" "+qt(r.x2.y)+" l"),n.push(qt(r.x4.x)+" "+qt(r.x4.y)+" m"),n.push(qt(r.x3.x)+" "+qt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ia(e);t.scope=e.scope;var n=mt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+qt(mt.internal.getWidth(e))+" "+qt(mt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+qt(mt.internal.getWidth(e)-2)+" "+qt(mt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(qt(n.x1.x)+" "+qt(n.x1.y)+" m"),r.push(qt(n.x2.x)+" "+qt(n.x2.y)+" l"),r.push(qt(n.x4.x)+" "+qt(n.x4.y)+" m"),r.push(qt(n.x3.x)+" "+qt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ia(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+qt(mt.internal.getWidth(e))+" "+qt(mt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};mt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=mt.internal.getWidth(e),n=mt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},mt.internal.getWidth=function(e){var t=0;return yn(e)==="object"&&(t=mx(e.Rect[2])),t},mt.internal.getHeight=function(e){var t=0;return yn(e)==="object"&&(t=mx(e.Rect[3])),t};var JN=fr.addField=function(e){if(QN(this,e),!(e instanceof Ys))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};fr.AcroFormChoiceField=ku,fr.AcroFormListBox=Lu,fr.AcroFormComboBox=Pu,fr.AcroFormEditBox=th,fr.AcroFormButton=Xr,fr.AcroFormPushButton=nh,fr.AcroFormRadioButton=Ou,fr.AcroFormCheckBox=rh,fr.AcroFormTextField=Il,fr.AcroFormPasswordField=ih,fr.AcroFormAppearance=mt,fr.AcroForm={ChoiceField:ku,ListBox:Lu,ComboBox:Pu,EditBox:th,Button:Xr,PushButton:nh,RadioButton:Ou,CheckBox:rh,TextField:Il,PasswordField:ih,Appearance:mt},Pt.AcroForm={ChoiceField:ku,ListBox:Lu,ComboBox:Pu,EditBox:th,Button:Xr,PushButton:nh,RadioButton:Ou,CheckBox:rh,TextField:Il,PasswordField:ih,Appearance:mt};Pt.AcroForm;function Ov(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(W,X){var ae,oe,se,Ne,ve,fe=t;if((X=X||t)==="RGBA"||W.data!==void 0&&W.data instanceof Uint8ClampedArray&&"height"in W&&"width"in W)return"RGBA";if(Q(W))for(ve in n)for(se=n[ve],ae=0;ae<se.length;ae+=1){for(Ne=!0,oe=0;oe<se[ae].length;oe+=1)if(se[ae][oe]!==void 0&&se[ae][oe]!==W[oe]){Ne=!1;break}if(Ne===!0){fe=ve;break}}else for(ve in n)for(se=n[ve],ae=0;ae<se.length;ae+=1){for(Ne=!0,oe=0;oe<se[ae].length;oe+=1)if(se[ae][oe]!==void 0&&se[ae][oe]!==W.charCodeAt(oe)){Ne=!1;break}if(Ne===!0){fe=ve;break}}return fe===t&&X!==t&&(fe=X),fe},s=function W(X){for(var ae=this.internal.write,oe=this.internal.putStream,se=(0,this.internal.getFilters)();se.indexOf("FlateEncode")!==-1;)se.splice(se.indexOf("FlateEncode"),1);X.objectId=this.internal.newObject();var Ne=[];if(Ne.push({key:"Type",value:"/XObject"}),Ne.push({key:"Subtype",value:"/Image"}),Ne.push({key:"Width",value:X.width}),Ne.push({key:"Height",value:X.height}),X.colorSpace===M.INDEXED?Ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(X.palette.length/3-1)+" "+("sMask"in X&&X.sMask!==void 0?X.objectId+2:X.objectId+1)+" 0 R]"}):(Ne.push({key:"ColorSpace",value:"/"+X.colorSpace}),X.colorSpace===M.DEVICE_CMYK&&Ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ne.push({key:"BitsPerComponent",value:X.bitsPerComponent}),"decodeParameters"in X&&X.decodeParameters!==void 0&&Ne.push({key:"DecodeParms",value:"<<"+X.decodeParameters+">>"}),"transparency"in X&&Array.isArray(X.transparency)){for(var ve="",fe=0,Ae=X.transparency.length;fe<Ae;fe++)ve+=X.transparency[fe]+" "+X.transparency[fe]+" ";Ne.push({key:"Mask",value:"["+ve+"]"})}X.sMask!==void 0&&Ne.push({key:"SMask",value:X.objectId+1+" 0 R"});var Se=X.filter!==void 0?["/"+X.filter]:void 0;if(oe({data:X.data,additionalKeyValues:Ne,alreadyAppliedFilters:Se,objectId:X.objectId}),ae("endobj"),"sMask"in X&&X.sMask!==void 0){var Je="/Predictor "+X.predictor+" /Colors 1 /BitsPerComponent "+X.bitsPerComponent+" /Columns "+X.width,z={width:X.width,height:X.height,colorSpace:"DeviceGray",bitsPerComponent:X.bitsPerComponent,decodeParameters:Je,data:X.sMask};"filter"in X&&(z.filter=X.filter),W.call(this,z)}if(X.colorSpace===M.INDEXED){var ie=this.internal.newObject();oe({data:Y(new Uint8Array(X.palette)),objectId:ie}),ae("endobj")}},a=function(){var W=this.internal.collections.addImage_images;for(var X in W)s.call(this,W[X])},u=function(){var W,X=this.internal.collections.addImage_images,ae=this.internal.write;for(var oe in X)ae("/I"+(W=X[oe]).index,W.objectId,"0","R")},h=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",u))},p=function(){var W=this.internal.collections.addImage_images;return h.call(this),W},m=function(){return Object.keys(this.internal.collections.addImage_images).length},w=function(W){return typeof e["process"+W.toUpperCase()]=="function"},v=function(W){return yn(W)==="object"&&W.nodeType===1},E=function(W,X){if(W.nodeName==="IMG"&&W.hasAttribute("src")){var ae=""+W.getAttribute("src");if(ae.indexOf("data:image/")===0)return Zc(unescape(ae).split("base64,").pop());var oe=e.loadFile(ae,!0);if(oe!==void 0)return oe}if(W.nodeName==="CANVAS"){if(W.width===0||W.height===0)throw new Error("Given canvas must have data. Canvas width: "+W.width+", height: "+W.height);var se;switch(X){case"PNG":se="image/png";break;case"WEBP":se="image/webp";break;case"JPEG":case"JPG":default:se="image/jpeg"}return Zc(W.toDataURL(se,1).split("base64,").pop())}},A=function(W){var X=this.internal.collections.addImage_images;if(X){for(var ae in X)if(W===X[ae].alias)return X[ae]}},R=function(W,X,ae){return W||X||(W=-96,X=-96),W<0&&(W=-1*ae.width*72/W/this.internal.scaleFactor),X<0&&(X=-1*ae.height*72/X/this.internal.scaleFactor),W===0&&(W=X*ae.width/ae.height),X===0&&(X=W*ae.height/ae.width),[W,X]},k=function(W,X,ae,oe,se,Ne){var ve=R.call(this,ae,oe,se),fe=this.internal.getCoordinateString,Ae=this.internal.getVerticalCoordinateString,Se=p.call(this);if(ae=ve[0],oe=ve[1],Se[se.index]=se,Ne){Ne*=Math.PI/180;var Je=Math.cos(Ne),z=Math.sin(Ne),ie=function(ge){return ge.toFixed(4)},le=[ie(Je),ie(z),ie(-1*z),ie(Je),0,0,"cm"]}this.internal.write("q"),Ne?(this.internal.write([1,"0","0",1,fe(W),Ae(X+oe),"cm"].join(" ")),this.internal.write(le.join(" ")),this.internal.write([fe(ae),"0","0",fe(oe),"0","0","cm"].join(" "))):this.internal.write([fe(ae),"0","0",fe(oe),fe(W),Ae(X+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+se.index+" Do"),this.internal.write("Q")},M=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=e.__addimage__.sHashCode=function(W){var X,ae,oe=0;if(typeof W=="string")for(ae=W.length,X=0;X<ae;X++)oe=(oe<<5)-oe+W.charCodeAt(X),oe|=0;else if(Q(W))for(ae=W.byteLength/2,X=0;X<ae;X++)oe=(oe<<5)-oe+W[X],oe|=0;return oe},L=e.__addimage__.validateStringAsBase64=function(W){(W=W||"").toString().trim();var X=!0;return W.length===0&&(X=!1),W.length%4!=0&&(X=!1),/^[A-Za-z0-9+/]+$/.test(W.substr(0,W.length-2))===!1&&(X=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(W.substr(-2))===!1&&(X=!1),X},q=e.__addimage__.extractImageFromDataUrl=function(W){var X=(W=W||"").split("base64,"),ae=null;if(X.length===2){var oe=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(X[0]);Array.isArray(oe)&&(ae={mimeType:oe[1],charset:oe[2],data:X[1]})}return ae},$=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(W){return $()&&W instanceof ArrayBuffer};var Q=e.__addimage__.isArrayBufferView=function(W){return $()&&typeof Uint32Array<"u"&&(W instanceof Int8Array||W instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array)},D=e.__addimage__.binaryStringToUint8Array=function(W){for(var X=W.length,ae=new Uint8Array(X),oe=0;oe<X;oe++)ae[oe]=W.charCodeAt(oe);return ae},Y=e.__addimage__.arrayBufferToBinaryString=function(W){for(var X="",ae=Q(W)?W:new Uint8Array(W),oe=0;oe<ae.length;oe+=8192)X+=String.fromCharCode.apply(null,ae.subarray(oe,oe+8192));return X};e.addImage=function(){var W,X,ae,oe,se,Ne,ve,fe,Ae;if(typeof arguments[1]=="number"?(X=t,ae=arguments[1],oe=arguments[2],se=arguments[3],Ne=arguments[4],ve=arguments[5],fe=arguments[6],Ae=arguments[7]):(X=arguments[1],ae=arguments[2],oe=arguments[3],se=arguments[4],Ne=arguments[5],ve=arguments[6],fe=arguments[7],Ae=arguments[8]),yn(W=arguments[0])==="object"&&!v(W)&&"imageData"in W){var Se=W;W=Se.imageData,X=Se.format||X||t,ae=Se.x||ae||0,oe=Se.y||oe||0,se=Se.w||Se.width||se,Ne=Se.h||Se.height||Ne,ve=Se.alias||ve,fe=Se.compression||fe,Ae=Se.rotation||Se.angle||Ae}var Je=this.internal.getFilters();if(fe===void 0&&Je.indexOf("FlateEncode")!==-1&&(fe="SLOW"),isNaN(ae)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var z=Z.call(this,W,X,ve,fe);return k.call(this,ae,oe,se,Ne,z,Ae),this};var Z=function(W,X,ae,oe){var se,Ne,ve;if(typeof W=="string"&&r(W)===t){W=unescape(W);var fe=ye(W,!1);(fe!==""||(fe=e.loadFile(W,!0))!==void 0)&&(W=fe)}if(v(W)&&(W=E(W,X)),X=r(W,X),!w(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(((ve=ae)==null||ve.length===0)&&(ae=function(Ae){return typeof Ae=="string"||Q(Ae)?I(Ae):Q(Ae.data)?I(Ae.data):null}(W)),(se=A.call(this,ae))||($()&&(W instanceof Uint8Array||X==="RGBA"||(Ne=W,W=D(W))),se=this["process"+X.toUpperCase()](W,m.call(this),ae,function(Ae){return Ae&&typeof Ae=="string"&&(Ae=Ae.toUpperCase()),Ae in e.image_compression?Ae:S.NONE}(oe),Ne)),!se)throw new Error("An unknown error occurred whilst processing the image.");return se},ye=e.__addimage__.convertBase64ToBinaryString=function(W,X){var ae;X=typeof X!="boolean"||X;var oe,se="";if(typeof W=="string"){oe=(ae=q(W))!==null?ae.data:W;try{se=Zc(oe)}catch(Ne){if(X)throw L(oe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return se};e.getImageProperties=function(W){var X,ae,oe="";if(v(W)&&(W=E(W)),typeof W=="string"&&r(W)===t&&((oe=ye(W,!1))===""&&(oe=e.loadFile(W)||""),W=oe),ae=r(W),!w(ae))throw new Error("addImage does not support files of type '"+ae+"', please ensure that a plugin for '"+ae+"' support is added.");if(!$()||W instanceof Uint8Array||(W=D(W)),!(X=this["process"+ae.toUpperCase()](W)))throw new Error("An unknown error occurred whilst processing the image");return X.fileType=ae,X}})(Pt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Pt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,s,a,u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,p=this.internal.getPageInfoByObjId(n.objId),m=n.pageContext.annotations,w=!1,v=0;v<m.length&&!w;v++)switch((r=m[v]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(w=!0);break;case"reference":case"text":case"freetext":w=!0}if(w!=0){this.internal.write("/Annots [");for(var E=0;E<m.length;E++){r=m[E];var A=this.internal.pdfEscape,R=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(k.objId),I=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(r.bounds.x)+" "+h(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y)+"] ")+"/Contents ("+A(S(r.contents))+")",a+=" /Popup "+M.objId+" 0 R",a+=" /P "+p.objId+" 0 R",a+=" /T ("+A(S(I))+") >>",k.content=a;var L=k.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(r.bounds.x+30)+" "+h(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+h(r.bounds.y)+"] ")+" /Parent "+L,r.open&&(a+=" /Open true"),a+=" >>",M.content=a,this.internal.write(k.objId,"0 R",M.objId,"0 R");break;case"freetext":s="/Rect ["+u(r.bounds.x)+" "+h(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y+r.bounds.h)+"] ";var q=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+A(R(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+q+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var $=this.annotations._nameMap[r.options.name];r.options.pageNumber=$.page,r.options.top=$.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+A(R(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Q=h(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+Q+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,s,a,u){var h=this.internal.getCurrentPageInfo(),p=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:p(n),y:m(r),w:p(n+s),h:m(r+a)},options:u,type:"link"})},e.textWithLink=function(n,r,s,a){var u,h,p=this.getTextWidth(n),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){h=a.maxWidth;var w=this.splitTextToSize(n,h).length;u=Math.ceil(m*w)}else h=p,u=m;return this.text(n,r,s,a),s+=.2*m,a.align==="center"&&(r-=p/2),a.align==="right"&&(r-=p),this.link(r,s-m,h,u,a),p},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Pt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(k){return t[k.charCodeAt(0)]!==void 0},u=e.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},h=e.__arabicParser__.isArabicEndLetter=function(k){return u(k)&&a(k)&&t[k.charCodeAt(0)].length<=2},p=e.__arabicParser__.isArabicAlfLetter=function(k){return u(k)&&s.indexOf(k.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return u(k)&&a(k)&&t[k.charCodeAt(0)].length>=1};var m=e.__arabicParser__.arabicLetterHasFinalForm=function(k){return u(k)&&a(k)&&t[k.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(k){return u(k)&&a(k)&&t[k.charCodeAt(0)].length>=3};var w=e.__arabicParser__.arabicLetterHasMedialForm=function(k){return u(k)&&a(k)&&t[k.charCodeAt(0)].length==4},v=e.__arabicParser__.resolveLigatures=function(k){var M=0,S=n,I="",L=0;for(M=0;M<k.length;M+=1)S[k.charCodeAt(M)]!==void 0?(L++,typeof(S=S[k.charCodeAt(M)])=="number"&&(I+=String.fromCharCode(S),S=n,L=0),M===k.length-1&&(S=n,I+=k.charAt(M-(L-1)),M-=L-1,L=0)):(S=n,I+=k.charAt(M-L),M-=L,L=0);return I};e.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&r[k.charCodeAt(0)]!==void 0};var E=e.__arabicParser__.getCorrectForm=function(k,M,S){return u(k)?a(k)===!1?-1:!m(k)||!u(M)&&!u(S)||!u(S)&&h(M)||h(k)&&!u(M)||h(k)&&p(M)||h(k)&&h(M)?0:w(k)&&u(M)&&!h(M)&&u(S)&&m(S)?3:h(k)||!u(S)?1:2:-1},A=function(k){var M=0,S=0,I=0,L="",q="",$="",Q=(k=k||"").split("\\s+"),D=[];for(M=0;M<Q.length;M+=1){for(D.push(""),S=0;S<Q[M].length;S+=1)L=Q[M][S],q=Q[M][S-1],$=Q[M][S+1],u(L)?(I=E(L,q,$),D[M]+=I!==-1?String.fromCharCode(t[L.charCodeAt(0)][I]):L):D[M]+=L;D[M]=v(D[M])}return D.join(" ")},R=e.__arabicParser__.processArabic=e.processArabic=function(){var k,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(M)){var I=0;for(S=[],I=0;I<M.length;I+=1)Array.isArray(M[I])?S.push([A(M[I][0]),M[I][1],M[I][2]]):S.push([A(M[I])]);k=S}else k=A(M);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};e.events.push(["preProcessText",R])}(Pt.API),Pt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(h){n=h}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(h){s=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(h){a=h}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(h){u=h}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Pt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var p=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return p},set:function(k){p=k}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(k){m=k}});var w=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return w},set:function(k){w=k}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(k){v=k}});var E=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return E},set:function(k){E=k}});var A=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return A},set:function(k){A=k}});var R=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return R},set:function(k){R=k}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(p){return r.call(this),this.internal.__cell__.headerFunction=typeof p=="function"?p:void 0,this},e.getTextDimensions=function(p,m){r.call(this);var w=(m=m||{}).fontSize||this.getFontSize(),v=m.font||this.getFont(),E=m.scaleFactor||this.internal.scaleFactor,A=0,R=0,k=0,M=this;if(!Array.isArray(p)&&typeof p!="string"){if(typeof p!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");p=String(p)}var S=m.maxWidth;S>0?typeof p=="string"?p=this.splitTextToSize(p,S):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce(function(L,q){return L.concat(M.splitTextToSize(q,S))},[])):p=Array.isArray(p)?p:[p];for(var I=0;I<p.length;I++)A<(k=this.getStringUnitWidth(p[I],{font:v})*w)&&(A=k);return A!==0&&(R=p.length),{w:A/=E,h:Math.max((R*w*this.getLineHeightFactor()-w*(this.getLineHeightFactor()-1))/E,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var p=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(p.left,p.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=e.cell=function(){var p;p=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var m=this.internal.__cell__.lastCell,w=this.internal.__cell__.padding,v=this.internal.__cell__.margins||t,E=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===p.lineNumber?(p.x=(m.x||0)+(m.width||0),p.y=m.y||0):m.y+m.height+p.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),p.y=v.top,A&&E&&(this.printHeaderRow(p.lineNumber,!0),p.y+=E[0].height)):p.y=m.y+m.height||p.y),p.text[0]!==void 0&&(this.rect(p.x,p.y,p.width,p.height,n===!0?"FD":void 0),p.align==="right"?this.text(p.text,p.x+p.width-w,p.y+w,{align:"right",baseline:"top"}):p.align==="center"?this.text(p.text,p.x+p.width/2,p.y+w,{align:"center",baseline:"top",maxWidth:p.width-w-w}):this.text(p.text,p.x+w,p.y+w,{align:"left",baseline:"top",maxWidth:p.width-w-w})),this.internal.__cell__.lastCell=p,this};e.table=function(p,m,w,v,E){if(r.call(this),!w)throw new Error("No data for PDF table.");var A,R,k,M,S=[],I=[],L=[],q={},$={},Q=[],D=[],Y=(E=E||{}).autoSize||!1,Z=E.printHeaders!==!1,ye=E.css&&E.css["font-size"]!==void 0?16*E.css["font-size"]:E.fontSize||12,W=E.margins||Object.assign({width:this.getPageWidth()},t),X=typeof E.padding=="number"?E.padding:3,ae=E.headerBackgroundColor||"#c8c8c8",oe=E.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=Z,this.internal.__cell__.margins=W,this.internal.__cell__.table_font_size=ye,this.internal.__cell__.padding=X,this.internal.__cell__.headerBackgroundColor=ae,this.internal.__cell__.headerTextColor=oe,this.setFontSize(ye),v==null)I=S=Object.keys(w[0]),L=S.map(function(){return"left"});else if(Array.isArray(v)&&yn(v[0])==="object")for(S=v.map(function(Se){return Se.name}),I=v.map(function(Se){return Se.prompt||Se.name||""}),L=v.map(function(Se){return Se.align||"left"}),A=0;A<v.length;A+=1)$[v[A].name]=v[A].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(I=S=v,L=S.map(function(){return"left"}));if(Y||Array.isArray(v)&&typeof v[0]=="string")for(A=0;A<S.length;A+=1){for(q[M=S[A]]=w.map(function(Se){return Se[M]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(I[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),R=q[M],this.setFont(void 0,"normal"),k=0;k<R.length;k+=1)Q.push(this.getTextDimensions(R[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$[M]=Math.max.apply(null,Q)+X+X,Q=[]}if(Z){var se={};for(A=0;A<S.length;A+=1)se[S[A]]={},se[S[A]].text=I[A],se[S[A]].align=L[A];var Ne=h.call(this,se,$);D=S.map(function(Se){return new a(p,m,$[Se],Ne,se[Se].text,void 0,se[Se].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var ve=v.reduce(function(Se,Je){return Se[Je.name]=Je.align,Se},{});for(A=0;A<w.length;A+=1){"rowStart"in E&&E.rowStart instanceof Function&&E.rowStart({row:A,data:w[A]},this);var fe=h.call(this,w[A],$);for(k=0;k<S.length;k+=1){var Ae=w[A][S[k]];"cellStart"in E&&E.cellStart instanceof Function&&E.cellStart({row:A,col:k,data:Ae},this),u.call(this,new a(p,m,$[S[k]],fe,Ae,A+2,ve[S[k]]))}}return this.internal.__cell__.table_x=p,this.internal.__cell__.table_y=m,this};var h=function(p,m){var w=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,E=this.internal.scaleFactor;return Object.keys(p).map(function(A){var R=p[A];return this.splitTextToSize(R.hasOwnProperty("text")?R.text:R,m[A]-w-w)},this).map(function(A){return this.getLineHeightFactor()*A.length*v/E+w+w},this).reduce(function(A,R){return Math.max(A,R)},0)};e.setTableHeaderRow=function(p){r.call(this),this.internal.__cell__.tableHeaderRow=p},e.printHeaderRow=function(p,m){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var w;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var E=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){w=this.internal.__cell__.tableHeaderRow[A].clone(),m&&(w.y=this.internal.__cell__.margins.top||0,E.push(w)),w.lineNumber=p;var R=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,w),this.setTextColor(R)}E.length>0&&this.setTableHeaderRow(E),this.setFont(void 0,"normal"),n=!1}}(Pt.API);var Rv={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Dv=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],bp=Ov(Dv),Mv=[100,200,300,400,500,600,700,800,900],$N=Ov(Mv);function Ap(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return Rv[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(a){return typeof bp[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,r].join(" ")}}}function xx(e,t,n,r){var s;for(s=n;s>=0&&s<t.length;s+=r)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=r)if(e[t[s]])return e[t[s]]}var eS={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},yx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function wx(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function tS(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},eS,n.genericFontFamilies||{}),a=null,u=null,h=0;h<t.length;++h)if(s[(a=Ap(t[h])).family]&&(a.family=s[a.family]),e.hasOwnProperty(a.family)){u=e[a.family];break}if(!(u=u||e[r]))throw new Error("Could not find a font-family for the rule '"+wx(a)+"' and default family '"+r+"'.");if(u=function(p,m){if(m[p])return m[p];var w=bp[p],v=w<=bp.normal?-1:1,E=xx(m,Dv,w,v);if(!E)throw new Error("Could not find a matching font-stretch value for "+p);return E}(a.stretch,u),u=function(p,m){if(m[p])return m[p];for(var w=Rv[p],v=0;v<w.length;++v)if(m[w[v]])return m[w[v]];throw new Error("Could not find a matching font-style for "+p)}(a.style,u),!(u=function(p,m){if(m[p])return m[p];if(p===400&&m[500])return m[500];if(p===500&&m[400])return m[400];var w=$N[p],v=xx(m,Mv,w,p<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+p);return v}(a.weight,u)))throw new Error("Failed to resolve a font for the rule '"+wx(a)+"'.");return u}function vx(e){return e.trimLeft()}function nS(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function rS(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var O1,bx,Ax,O0=["times"];(function(e){var t,n,r,s,a,u,h,p,m,w=function(z){return z=z||{},this.isStrokeTransparent=z.isStrokeTransparent||!1,this.strokeOpacity=z.strokeOpacity||1,this.strokeStyle=z.strokeStyle||"#000000",this.fillStyle=z.fillStyle||"#000000",this.isFillTransparent=z.isFillTransparent||!1,this.fillOpacity=z.fillOpacity||1,this.font=z.font||"10px sans-serif",this.textBaseline=z.textBaseline||"alphabetic",this.textAlign=z.textAlign||"left",this.lineWidth=z.lineWidth||1,this.lineJoin=z.lineJoin||"miter",this.lineCap=z.lineCap||"butt",this.path=z.path||[],this.transform=z.transform!==void 0?z.transform.clone():new p,this.globalCompositeOperation=z.globalCompositeOperation||"normal",this.globalAlpha=z.globalAlpha||1,this.clip_path=z.clip_path||[],this.currentPoint=z.currentPoint||new u,this.miterLimit=z.miterLimit||10,this.lastPoint=z.lastPoint||new u,this.lineDashOffset=z.lineDashOffset||0,this.lineDash=z.lineDash||[],this.margin=z.margin||[0,0,0,0],this.prevPageLastElemOffset=z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof z.ignoreClearRect!="boolean"||z.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new v(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,u=this.internal.Point,h=this.internal.Rectangle,p=this.internal.Matrix,m=new w}]);var v=function(z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ie=z;Object.defineProperty(this,"pdf",{get:function(){return ie}});var le=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return le},set:function(De){le=!!De}});var ge=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ge},set:function(De){ge=!!De}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(De){isNaN(De)||(ce=De)}});var Te=0;Object.defineProperty(this,"posY",{get:function(){return Te},set:function(De){isNaN(De)||(Te=De)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(De){var ue;typeof De=="number"?ue=[De,De,De,De]:((ue=new Array(4))[0]=De[0],ue[1]=De.length>=2?De[1]:ue[0],ue[2]=De.length>=3?De[2]:ue[0],ue[3]=De.length>=4?De[3]:ue[1]),m.margin=ue}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(De){_e=De}});var Pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Pe},set:function(De){Pe=De}});var $e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return $e},set:function(De){$e=De}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(De){De instanceof w&&(m=De)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(De){m.path=De}});var Ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ye},set:function(De){Ye=De}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(De){var ue;ue=E(De),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(De){var ue=E(De);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(De){["butt","round","square"].indexOf(De)!==-1&&(this.ctx.lineCap=De,this.pdf.setLineCap(De))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(De){isNaN(De)||(this.ctx.lineWidth=De,this.pdf.setLineWidth(De))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(De){["bevel","round","miter"].indexOf(De)!==-1&&(this.ctx.lineJoin=De,this.pdf.setLineJoin(De))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(De){isNaN(De)||(this.ctx.miterLimit=De,this.pdf.setMiterLimit(De))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(De){this.ctx.textBaseline=De}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(De){["right","end","center","left","start"].indexOf(De)!==-1&&(this.ctx.textAlign=De)}});var st=null;function Ge(De,ue){if(st===null){var yt=function(nt){var je=[];return Object.keys(nt).forEach(function(rt){nt[rt].forEach(function(Be){var it=null;switch(Be){case"bold":it={family:rt,weight:"bold"};break;case"italic":it={family:rt,style:"italic"};break;case"bolditalic":it={family:rt,weight:"bold",style:"italic"};break;case"":case"normal":it={family:rt}}it!==null&&(it.ref={name:rt,style:Be},je.push(it))})}),je}(De.getFontList());st=function(nt){for(var je={},rt=0;rt<nt.length;++rt){var Be=Ap(nt[rt]),it=Be.family,At=Be.stretch,St=Be.style,Ut=Be.weight;je[it]=je[it]||{},je[it][At]=je[it][At]||{},je[it][At][St]=je[it][At][St]||{},je[it][At][St][Ut]=Be}return je}(yt.concat(ue))}return st}var Nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Nt},set:function(De){st=null,Nt=De}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(De){var ue;if(this.ctx.font=De,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(De))!==null){var yt=ue[1],nt=(ue[2],ue[3]),je=ue[4],rt=(ue[5],ue[6]),Be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(Be==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:Be==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var it=function(xt){var Kt,ot,jr=[],_t=xt.trim();if(_t==="")return O0;if(_t in yx)return[yx[_t]];for(;_t!=="";){switch(ot=null,Kt=(_t=vx(_t)).charAt(0)){case'"':case"'":ot=nS(_t.substring(1),Kt);break;default:ot=rS(_t)}if(ot===null||(jr.push(ot[0]),(_t=vx(ot[1]))!==""&&_t.charAt(0)!==","))return O0;_t=_t.replace(/^,/,"")}return jr}(rt);if(this.fontFaces){var At=tS(Ge(this.pdf,this.fontFaces),it.map(function(xt){return{family:xt,stretch:"normal",weight:nt,style:yt}}));this.pdf.setFont(At.ref.name,At.ref.style)}else{var St="";(nt==="bold"||parseInt(nt,10)>=700||yt==="bold")&&(St="bold"),yt==="italic"&&(St+="italic"),St.length===0&&(St="normal");for(var Ut="",Lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},tn=0;tn<it.length;tn++){if(this.pdf.internal.getFont(it[tn],St,{noFallback:!0,disableWarning:!0})!==void 0){Ut=it[tn];break}if(St==="bolditalic"&&this.pdf.internal.getFont(it[tn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ut=it[tn],St="bold";else if(this.pdf.internal.getFont(it[tn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ut=it[tn],St="normal";break}}if(Ut===""){for(var Qt=0;Qt<it.length;Qt++)if(Lt[it[Qt]]){Ut=Lt[it[Qt]];break}}Ut=Ut===""?"Times":Ut,this.pdf.setFont(Ut,St)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(De){this.ctx.globalCompositeOperation=De}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(De){this.ctx.globalAlpha=De}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(De){this.ctx.lineDashOffset=De,Je.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(De){this.ctx.lineDash=De,Je.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(De){this.ctx.ignoreClearRect=!!De}})};v.prototype.setLineDash=function(z){this.lineDash=z},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){q.call(this,"fill",!1)},v.prototype.stroke=function(){q.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(z,ie){if(isNaN(z)||isNaN(ie))throw Tn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var le=this.ctx.transform.applyToPoint(new u(z,ie));this.path.push({type:"mt",x:le.x,y:le.y}),this.ctx.lastPoint=new u(z,ie)},v.prototype.closePath=function(){var z=new u(0,0),ie=0;for(ie=this.path.length-1;ie!==-1;ie--)if(this.path[ie].type==="begin"&&yn(this.path[ie+1])==="object"&&typeof this.path[ie+1].x=="number"){z=new u(this.path[ie+1].x,this.path[ie+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(z.x,z.y)},v.prototype.lineTo=function(z,ie){if(isNaN(z)||isNaN(ie))throw Tn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var le=this.ctx.transform.applyToPoint(new u(z,ie));this.path.push({type:"lt",x:le.x,y:le.y}),this.ctx.lastPoint=new u(le.x,le.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),q.call(this,null,!0)},v.prototype.quadraticCurveTo=function(z,ie,le,ge){if(isNaN(le)||isNaN(ge)||isNaN(z)||isNaN(ie))throw Tn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new u(le,ge)),Te=this.ctx.transform.applyToPoint(new u(z,ie));this.path.push({type:"qct",x1:Te.x,y1:Te.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new u(ce.x,ce.y)},v.prototype.bezierCurveTo=function(z,ie,le,ge,ce,Te){if(isNaN(ce)||isNaN(Te)||isNaN(z)||isNaN(ie)||isNaN(le)||isNaN(ge))throw Tn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new u(ce,Te)),Pe=this.ctx.transform.applyToPoint(new u(z,ie)),$e=this.ctx.transform.applyToPoint(new u(le,ge));this.path.push({type:"bct",x1:Pe.x,y1:Pe.y,x2:$e.x,y2:$e.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new u(_e.x,_e.y)},v.prototype.arc=function(z,ie,le,ge,ce,Te){if(isNaN(z)||isNaN(ie)||isNaN(le)||isNaN(ge)||isNaN(ce))throw Tn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Te=!!Te,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new u(z,ie));z=_e.x,ie=_e.y;var Pe=this.ctx.transform.applyToPoint(new u(0,le)),$e=this.ctx.transform.applyToPoint(new u(0,0));le=Math.sqrt(Math.pow(Pe.x-$e.x,2)+Math.pow(Pe.y-$e.y,2))}Math.abs(ce-ge)>=2*Math.PI&&(ge=0,ce=2*Math.PI),this.path.push({type:"arc",x:z,y:ie,radius:le,startAngle:ge,endAngle:ce,counterclockwise:Te})},v.prototype.arcTo=function(z,ie,le,ge,ce){throw new Error("arcTo not implemented.")},v.prototype.rect=function(z,ie,le,ge){if(isNaN(z)||isNaN(ie)||isNaN(le)||isNaN(ge))throw Tn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(z,ie),this.lineTo(z+le,ie),this.lineTo(z+le,ie+ge),this.lineTo(z,ie+ge),this.lineTo(z,ie),this.lineTo(z+le,ie),this.lineTo(z,ie)},v.prototype.fillRect=function(z,ie,le,ge){if(isNaN(z)||isNaN(ie)||isNaN(le)||isNaN(ge))throw Tn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!A.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(z,ie,le,ge),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},v.prototype.strokeRect=function(z,ie,le,ge){if(isNaN(z)||isNaN(ie)||isNaN(le)||isNaN(ge))throw Tn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");R.call(this)||(this.beginPath(),this.rect(z,ie,le,ge),this.stroke())},v.prototype.clearRect=function(z,ie,le,ge){if(isNaN(z)||isNaN(ie)||isNaN(le)||isNaN(ge))throw Tn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(z,ie,le,ge))},v.prototype.save=function(z){z=typeof z!="boolean"||z;for(var ie=this.pdf.internal.getCurrentPageInfo().pageNumber,le=0;le<this.pdf.internal.getNumberOfPages();le++)this.pdf.setPage(le+1),this.pdf.internal.out("q");if(this.pdf.setPage(ie),z){this.ctx.fontSize=this.pdf.internal.getFontSize();var ge=new w(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ge}},v.prototype.restore=function(z){z=typeof z!="boolean"||z;for(var ie=this.pdf.internal.getCurrentPageInfo().pageNumber,le=0;le<this.pdf.internal.getNumberOfPages();le++)this.pdf.setPage(le+1),this.pdf.internal.out("Q");this.pdf.setPage(ie),z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var E=function(z){var ie,le,ge,ce;if(z.isCanvasGradient===!0&&(z=z.getColor()),!z)return{r:0,g:0,b:0,a:0,style:z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(z))ie=0,le=0,ge=0,ce=0;else{var Te=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(z);if(Te!==null)ie=parseInt(Te[1]),le=parseInt(Te[2]),ge=parseInt(Te[3]),ce=1;else if((Te=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(z))!==null)ie=parseInt(Te[1]),le=parseInt(Te[2]),ge=parseInt(Te[3]),ce=parseFloat(Te[4]);else{if(ce=1,typeof z=="string"&&z.charAt(0)!=="#"){var _e=new _v(z);z=_e.ok?_e.toHex():"#000000"}z.length===4?(ie=z.substring(1,2),ie+=ie,le=z.substring(2,3),le+=le,ge=z.substring(3,4),ge+=ge):(ie=z.substring(1,3),le=z.substring(3,5),ge=z.substring(5,7)),ie=parseInt(ie,16),le=parseInt(le,16),ge=parseInt(ge,16)}}return{r:ie,g:le,b:ge,a:ce,style:z}},A=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},R=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(z,ie,le,ge){if(isNaN(ie)||isNaN(le)||typeof z!="string")throw Tn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ge=isNaN(ge)?void 0:ge,!A.call(this)){var ce=fe(this.ctx.transform.rotation),Te=this.ctx.transform.scaleX;X.call(this,{text:z,x:ie,y:le,scale:Te,angle:ce,align:this.textAlign,maxWidth:ge})}},v.prototype.strokeText=function(z,ie,le,ge){if(isNaN(ie)||isNaN(le)||typeof z!="string")throw Tn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!R.call(this)){ge=isNaN(ge)?void 0:ge;var ce=fe(this.ctx.transform.rotation),Te=this.ctx.transform.scaleX;X.call(this,{text:z,x:ie,y:le,scale:Te,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:ge})}},v.prototype.measureText=function(z){if(typeof z!="string")throw Tn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ie=this.pdf,le=this.pdf.internal.scaleFactor,ge=ie.internal.getFontSize(),ce=ie.getStringUnitWidth(z)*ge/ie.internal.scaleFactor,Te=function(_e){var Pe=(_e=_e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Pe}}),this};return new Te({width:ce*=Math.round(96*le/72*1e4)/1e4})},v.prototype.scale=function(z,ie){if(isNaN(z)||isNaN(ie))throw Tn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var le=new p(z,0,0,ie,0,0);this.ctx.transform=this.ctx.transform.multiply(le)},v.prototype.rotate=function(z){if(isNaN(z))throw Tn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ie=new p(Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},v.prototype.translate=function(z,ie){if(isNaN(z)||isNaN(ie))throw Tn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var le=new p(1,0,0,1,z,ie);this.ctx.transform=this.ctx.transform.multiply(le)},v.prototype.transform=function(z,ie,le,ge,ce,Te){if(isNaN(z)||isNaN(ie)||isNaN(le)||isNaN(ge)||isNaN(ce)||isNaN(Te))throw Tn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new p(z,ie,le,ge,ce,Te);this.ctx.transform=this.ctx.transform.multiply(_e)},v.prototype.setTransform=function(z,ie,le,ge,ce,Te){z=isNaN(z)?1:z,ie=isNaN(ie)?0:ie,le=isNaN(le)?0:le,ge=isNaN(ge)?1:ge,ce=isNaN(ce)?0:ce,Te=isNaN(Te)?0:Te,this.ctx.transform=new p(z,ie,le,ge,ce,Te)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(z,ie,le,ge,ce,Te,_e,Pe,$e){var Ye=this.pdf.getImageProperties(z),st=1,Ge=1,Nt=1,De=1;ge!==void 0&&Pe!==void 0&&(Nt=Pe/ge,De=$e/ce,st=Ye.width/ge*Pe/ge,Ge=Ye.height/ce*$e/ce),Te===void 0&&(Te=ie,_e=le,ie=0,le=0),ge!==void 0&&Pe===void 0&&(Pe=ge,$e=ce),ge===void 0&&Pe===void 0&&(Pe=Ye.width,$e=Ye.height);for(var ue,yt=this.ctx.transform.decompose(),nt=fe(yt.rotate.shx),je=new p,rt=(je=(je=(je=je.multiply(yt.translate)).multiply(yt.skew)).multiply(yt.scale)).applyToRectangle(new h(Te-ie*Nt,_e-le*De,ge*st,ce*Ge)),Be=M.call(this,rt),it=[],At=0;At<Be.length;At+=1)it.indexOf(Be[At])===-1&&it.push(Be[At]);if(L(it),this.autoPaging)for(var St=it[0],Ut=it[it.length-1],Lt=St;Lt<Ut+1;Lt++){this.pdf.setPage(Lt);var tn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qt=Lt===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Lt===1?0:xt+(Lt-2)*Kt;if(this.ctx.clip_path.length!==0){var jr=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(ue,this.posX+this.margin[3],-ot+Qt+this.ctx.prevPageLastElemOffset),$.call(this,"fill",!0),this.path=jr}var _t=JSON.parse(JSON.stringify(rt));_t=I([_t],this.posX+this.margin[3],-ot+Qt+this.ctx.prevPageLastElemOffset)[0];var tt=(Lt>St||Lt<Ut)&&k.call(this);tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tn,Kt,null).clip().discardPath()),this.pdf.addImage(z,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,nt),tt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(z,"JPEG",rt.x,rt.y,rt.w,rt.h,null,null,nt)};var M=function(z,ie,le){var ge=[];ie=ie||this.pdf.internal.pageSize.width,le=le||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(z.type){default:case"mt":case"lt":ge.push(Math.floor((z.y+ce)/le)+1);break;case"arc":ge.push(Math.floor((z.y+ce-z.radius)/le)+1),ge.push(Math.floor((z.y+ce+z.radius)/le)+1);break;case"qct":var Te=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x,z.y);ge.push(Math.floor((Te.y+ce)/le)+1),ge.push(Math.floor((Te.y+Te.h+ce)/le)+1);break;case"bct":var _e=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x2,z.y2,z.x,z.y);ge.push(Math.floor((_e.y+ce)/le)+1),ge.push(Math.floor((_e.y+_e.h+ce)/le)+1);break;case"rect":ge.push(Math.floor((z.y+ce)/le)+1),ge.push(Math.floor((z.y+z.h+ce)/le)+1)}for(var Pe=0;Pe<ge.length;Pe+=1)for(;this.pdf.internal.getNumberOfPages()<ge[Pe];)S.call(this);return ge},S=function(){var z=this.fillStyle,ie=this.strokeStyle,le=this.font,ge=this.lineCap,ce=this.lineWidth,Te=this.lineJoin;this.pdf.addPage(),this.fillStyle=z,this.strokeStyle=ie,this.font=le,this.lineCap=ge,this.lineWidth=ce,this.lineJoin=Te},I=function(z,ie,le){for(var ge=0;ge<z.length;ge++)switch(z[ge].type){case"bct":z[ge].x2+=ie,z[ge].y2+=le;case"qct":z[ge].x1+=ie,z[ge].y1+=le;case"mt":case"lt":case"arc":default:z[ge].x+=ie,z[ge].y+=le}return z},L=function(z){return z.sort(function(ie,le){return ie-le})},q=function(z,ie){for(var le,ge,ce=this.fillStyle,Te=this.strokeStyle,_e=this.lineCap,Pe=this.lineWidth,$e=Math.abs(Pe*this.ctx.transform.scaleX),Ye=this.lineJoin,st=JSON.parse(JSON.stringify(this.path)),Ge=JSON.parse(JSON.stringify(this.path)),Nt=[],De=0;De<Ge.length;De++)if(Ge[De].x!==void 0)for(var ue=M.call(this,Ge[De]),yt=0;yt<ue.length;yt+=1)Nt.indexOf(ue[yt])===-1&&Nt.push(ue[yt]);for(var nt=0;nt<Nt.length;nt++)for(;this.pdf.internal.getNumberOfPages()<Nt[nt];)S.call(this);if(L(Nt),this.autoPaging)for(var je=Nt[0],rt=Nt[Nt.length-1],Be=je;Be<rt+1;Be++){this.pdf.setPage(Be),this.fillStyle=ce,this.strokeStyle=Te,this.lineCap=_e,this.lineWidth=$e,this.lineJoin=Ye;var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=Be===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Lt=Be===1?0:St+(Be-2)*Ut;if(this.ctx.clip_path.length!==0){var tn=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(le,this.posX+this.margin[3],-Lt+At+this.ctx.prevPageLastElemOffset),$.call(this,z,!0),this.path=tn}if(ge=JSON.parse(JSON.stringify(st)),this.path=I(ge,this.posX+this.margin[3],-Lt+At+this.ctx.prevPageLastElemOffset),ie===!1||Be===0){var Qt=(Be>je||Be<rt)&&k.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Ut,null).clip().discardPath()),$.call(this,z,ie),Qt&&this.pdf.restoreGraphicsState()}this.lineWidth=Pe}else this.lineWidth=$e,$.call(this,z,ie),this.lineWidth=Pe;this.path=st},$=function(z,ie){if((z!=="stroke"||ie||!R.call(this))&&(z==="stroke"||ie||!A.call(this))){for(var le,ge,ce=[],Te=this.path,_e=0;_e<Te.length;_e++){var Pe=Te[_e];switch(Pe.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Pe,deltas:[],abs:[]});break;case"lt":var $e=ce.length;if(Te[_e-1]&&!isNaN(Te[_e-1].x)&&(le=[Pe.x-Te[_e-1].x,Pe.y-Te[_e-1].y],$e>0)){for(;$e>=0;$e--)if(ce[$e-1].close!==!0&&ce[$e-1].begin!==!0){ce[$e-1].deltas.push(le),ce[$e-1].abs.push(Pe);break}}break;case"bct":le=[Pe.x1-Te[_e-1].x,Pe.y1-Te[_e-1].y,Pe.x2-Te[_e-1].x,Pe.y2-Te[_e-1].y,Pe.x-Te[_e-1].x,Pe.y-Te[_e-1].y],ce[ce.length-1].deltas.push(le);break;case"qct":var Ye=Te[_e-1].x+2/3*(Pe.x1-Te[_e-1].x),st=Te[_e-1].y+2/3*(Pe.y1-Te[_e-1].y),Ge=Pe.x+2/3*(Pe.x1-Pe.x),Nt=Pe.y+2/3*(Pe.y1-Pe.y),De=Pe.x,ue=Pe.y;le=[Ye-Te[_e-1].x,st-Te[_e-1].y,Ge-Te[_e-1].x,Nt-Te[_e-1].y,De-Te[_e-1].x,ue-Te[_e-1].y],ce[ce.length-1].deltas.push(le);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Pe)}}ge=ie?null:z==="stroke"?"stroke":"fill";for(var yt=!1,nt=0;nt<ce.length;nt++)if(ce[nt].arc)for(var je=ce[nt].abs,rt=0;rt<je.length;rt++){var Be=je[rt];Be.type==="arc"?Y.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,ie,!yt):ae.call(this,Be.x,Be.y),yt=!0}else if(ce[nt].close===!0)this.pdf.internal.out("h"),yt=!1;else if(ce[nt].begin!==!0){var it=ce[nt].start.x,At=ce[nt].start.y;oe.call(this,ce[nt].deltas,it,At),yt=!0}ge&&Z.call(this,ge),ie&&ye.call(this)}},Q=function(z){var ie=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,le=ie*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return z-le;case"top":return z+ie-le;case"hanging":return z+ie-2*le;case"middle":return z+ie/2-le;case"ideographic":return z;case"alphabetic":default:return z}},D=function(z){return z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var z=function(){};return z.colorStops=[],z.addColorStop=function(ie,le){this.colorStops.push([ie,le])},z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},z.isCanvasGradient=!0,z},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Y=function(z,ie,le,ge,ce,Te,_e,Pe,$e){for(var Ye=Ne.call(this,le,ge,ce,Te),st=0;st<Ye.length;st++){var Ge=Ye[st];st===0&&($e?W.call(this,Ge.x1+z,Ge.y1+ie):ae.call(this,Ge.x1+z,Ge.y1+ie)),se.call(this,z,ie,Ge.x2,Ge.y2,Ge.x3,Ge.y3,Ge.x4,Ge.y4)}Pe?ye.call(this):Z.call(this,_e)},Z=function(z){switch(z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ye=function(){this.pdf.clip(),this.pdf.discardPath()},W=function(z,ie){this.pdf.internal.out(n(z)+" "+r(ie)+" m")},X=function(z){var ie;switch(z.align){case"right":case"end":ie="right";break;case"center":ie="center";break;case"left":case"start":default:ie="left"}var le=this.pdf.getTextDimensions(z.text),ge=Q.call(this,z.y),ce=D.call(this,ge)-le.h,Te=this.ctx.transform.applyToPoint(new u(z.x,ge)),_e=this.ctx.transform.decompose(),Pe=new p;Pe=(Pe=(Pe=Pe.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var $e,Ye,st,Ge=this.ctx.transform.applyToRectangle(new h(z.x,ge,le.w,le.h)),Nt=Pe.applyToRectangle(new h(z.x,ce,le.w,le.h)),De=M.call(this,Nt),ue=[],yt=0;yt<De.length;yt+=1)ue.indexOf(De[yt])===-1&&ue.push(De[yt]);if(L(ue),this.autoPaging)for(var nt=ue[0],je=ue[ue.length-1],rt=nt;rt<je+1;rt++){this.pdf.setPage(rt);var Be=rt===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[2],St=At-this.margin[0],Ut=this.pdf.internal.pageSize.width-this.margin[1],Lt=Ut-this.margin[3],tn=rt===1?0:it+(rt-2)*St;if(this.ctx.clip_path.length!==0){var Qt=this.path;$e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I($e,this.posX+this.margin[3],-1*tn+Be),$.call(this,"fill",!0),this.path=Qt}var xt=I([JSON.parse(JSON.stringify(Nt))],this.posX+this.margin[3],-tn+Be+this.ctx.prevPageLastElemOffset)[0];z.scale>=.01&&(Ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ye*z.scale),st=this.lineWidth,this.lineWidth=st*z.scale);var Kt=this.autoPaging!=="text";if(Kt||xt.y+xt.h<=At){if(Kt||xt.y>=Be&&xt.x<=Ut){var ot=Kt?z.text:this.pdf.splitTextToSize(z.text,z.maxWidth||Ut-xt.x)[0],jr=I([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-tn+Be+this.ctx.prevPageLastElemOffset)[0],_t=Kt&&(rt>nt||rt<je)&&k.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,St,null).clip().discardPath()),this.pdf.text(ot,jr.x,jr.y,{angle:z.angle,align:ie,renderingMode:z.renderingMode}),_t&&this.pdf.restoreGraphicsState()}}else xt.y<At&&(this.ctx.prevPageLastElemOffset+=At-xt.y);z.scale>=.01&&(this.pdf.setFontSize(Ye),this.lineWidth=st)}else z.scale>=.01&&(Ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ye*z.scale),st=this.lineWidth,this.lineWidth=st*z.scale),this.pdf.text(z.text,Te.x+this.posX,Te.y+this.posY,{angle:z.angle,align:ie,renderingMode:z.renderingMode,maxWidth:z.maxWidth}),z.scale>=.01&&(this.pdf.setFontSize(Ye),this.lineWidth=st)},ae=function(z,ie,le,ge){le=le||0,ge=ge||0,this.pdf.internal.out(n(z+le)+" "+r(ie+ge)+" l")},oe=function(z,ie,le){return this.pdf.lines(z,ie,le,null,null)},se=function(z,ie,le,ge,ce,Te,_e,Pe){this.pdf.internal.out([t(s(le+z)),t(a(ge+ie)),t(s(ce+z)),t(a(Te+ie)),t(s(_e+z)),t(a(Pe+ie)),"c"].join(" "))},Ne=function(z,ie,le,ge){for(var ce=2*Math.PI,Te=Math.PI/2;ie>le;)ie-=ce;var _e=Math.abs(le-ie);_e<ce&&ge&&(_e=ce-_e);for(var Pe=[],$e=ge?-1:1,Ye=ie;_e>1e-5;){var st=Ye+$e*Math.min(_e,Te);Pe.push(ve.call(this,z,Ye,st)),_e-=Math.abs(st-Ye),Ye=st}return Pe},ve=function(z,ie,le){var ge=(le-ie)/2,ce=z*Math.cos(ge),Te=z*Math.sin(ge),_e=ce,Pe=-Te,$e=_e*_e+Pe*Pe,Ye=$e+_e*ce+Pe*Te,st=4/3*(Math.sqrt(2*$e*Ye)-Ye)/(_e*Te-Pe*ce),Ge=_e-st*Pe,Nt=Pe+st*_e,De=Ge,ue=-Nt,yt=ge+ie,nt=Math.cos(yt),je=Math.sin(yt);return{x1:z*Math.cos(ie),y1:z*Math.sin(ie),x2:Ge*nt-Nt*je,y2:Ge*je+Nt*nt,x3:De*nt-ue*je,y3:De*je+ue*nt,x4:z*Math.cos(le),y4:z*Math.sin(le)}},fe=function(z){return 180*z/Math.PI},Ae=function(z,ie,le,ge,ce,Te){var _e=z+.5*(le-z),Pe=ie+.5*(ge-ie),$e=ce+.5*(le-ce),Ye=Te+.5*(ge-Te),st=Math.min(z,ce,_e,$e),Ge=Math.max(z,ce,_e,$e),Nt=Math.min(ie,Te,Pe,Ye),De=Math.max(ie,Te,Pe,Ye);return new h(st,Nt,Ge-st,De-Nt)},Se=function(z,ie,le,ge,ce,Te,_e,Pe){var $e,Ye,st,Ge,Nt,De,ue,yt,nt,je,rt,Be,it,At,St=le-z,Ut=ge-ie,Lt=ce-le,tn=Te-ge,Qt=_e-ce,xt=Pe-Te;for(Ye=0;Ye<41;Ye++)nt=(ue=(st=z+($e=Ye/40)*St)+$e*((Nt=le+$e*Lt)-st))+$e*(Nt+$e*(ce+$e*Qt-Nt)-ue),je=(yt=(Ge=ie+$e*Ut)+$e*((De=ge+$e*tn)-Ge))+$e*(De+$e*(Te+$e*xt-De)-yt),Ye==0?(rt=nt,Be=je,it=nt,At=je):(rt=Math.min(rt,nt),Be=Math.min(Be,je),it=Math.max(it,nt),At=Math.max(At,je));return new h(Math.round(rt),Math.round(Be),Math.round(it-rt),Math.round(At-Be))},Je=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z,ie,le=(z=this.ctx.lineDash,ie=this.ctx.lineDashOffset,JSON.stringify({lineDash:z,lineDashOffset:ie}));this.prevLineDash!==le&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=le)}}})(Pt.API),function(e){var t=function(a){var u,h,p,m,w,v,E,A,R,k;for(h=[],p=0,m=(a+=u="\0\0\0\0".slice(a.length%4||4)).length;m>p;p+=4)(w=(a.charCodeAt(p)<<24)+(a.charCodeAt(p+1)<<16)+(a.charCodeAt(p+2)<<8)+a.charCodeAt(p+3))!==0?(v=(w=((w=((w=((w=(w-(k=w%85))/85)-(R=w%85))/85)-(A=w%85))/85)-(E=w%85))/85)%85,h.push(v+33,E+33,A+33,R+33,k+33)):h.push(122);return function(M,S){for(var I=S;I>0;I--)M.pop()}(h,u.length),String.fromCharCode.apply(String,h)+"~>"},n=function(a){var u,h,p,m,w,v=String,E="length",A=255,R="charCodeAt",k="slice",M="replace";for(a[k](-2),a=a[k](0,-2)[M](/\s/g,"")[M]("z","!!!!!"),p=[],m=0,w=(a+=u="uuuuu"[k](a[E]%5||5))[E];w>m;m+=5)h=52200625*(a[R](m)-33)+614125*(a[R](m+1)-33)+7225*(a[R](m+2)-33)+85*(a[R](m+3)-33)+(a[R](m+4)-33),p.push(A&h>>24,A&h>>16,A&h>>8,A&h);return function(S,I){for(var L=I;L>0;L--)S.pop()}(p,u[E]),v.fromCharCode.apply(v,p)},r=function(a){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),u.test(a)===!1)return"";for(var h="",p=0;p<a.length;p+=2)h+=String.fromCharCode("0x"+(a[p]+a[p+1]));return h},s=function(a){for(var u=new Uint8Array(a.length),h=a.length;h--;)u[h]=a.charCodeAt(h);return a=(u=mp(u)).reduce(function(p,m){return p+String.fromCharCode(m)},"")};e.processDataByFilters=function(a,u){var h=0,p=a||"",m=[];for(typeof(u=u||[])=="string"&&(u=[u]),h=0;h<u.length;h+=1)switch(u[h]){case"ASCII85Decode":case"/ASCII85Decode":p=n(p),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=t(p),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=r(p),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=p.split("").map(function(w){return("0"+w.charCodeAt().toString(16)).slice(-2)}).join("")+">",m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=s(p),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[h]+'" is not implemented')}return{data:p,reverseChain:m.reverse().join(" ")}}}(Pt.API),function(e){e.loadFile=function(t,n,r){return function(s,a,u){a=a!==!1,u=typeof u=="function"?u:function(){};var h=void 0;try{h=function(p,m,w){var v=new XMLHttpRequest,E=0,A=function(R){var k=R.length,M=[],S=String.fromCharCode;for(E=0;E<k;E+=1)M.push(S(255&R.charCodeAt(E)));return M.join("")};if(v.open("GET",p,!m),v.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(v.onload=function(){v.status===200?w(A(this.responseText)):w(void 0)}),v.send(null),m&&v.status===200)return A(v.responseText)}(s,a,u)}catch{}return h}(t,n,r)},e.loadImageFile=e.loadFile}(Pt.API),function(e){function t(){return(Ot.html2canvas?Promise.resolve(Ot.html2canvas):fp(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function n(){return(Ot.DOMPurify?Promise.resolve(Ot.DOMPurify):fp(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var r=function(u){var h=yn(u);return h==="undefined"?"undefined":h==="string"||u instanceof String?"string":h==="number"||u instanceof Number?"number":h==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":h==="object"?"object":"unknown"},s=function(u,h){var p=document.createElement(u);for(var m in h.className&&(p.className=h.className),h.innerHTML&&h.dompurify&&(p.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)p.style[m]=h.style[m];return p},a=function u(h){var p=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),m=u.convert(Promise.resolve(),p);return m=(m=m.setProgress(1,u,1,[u])).set(h)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(u,h){return u.__proto__=h||a.prototype,u},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(u,h){return this.then(function(){switch(h=h||function(p){switch(r(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(u)){case"string":return this.then(n).then(function(p){return this.set({src:s("div",{innerHTML:u,dompurify:p})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},a.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=function p(m,w){for(var v=m.nodeType===3?document.createTextNode(m.nodeValue):m.cloneNode(!1),E=m.firstChild;E;E=E.nextSibling)w!==!0&&E.nodeType===1&&E.nodeName==="SCRIPT"||v.appendChild(p(E,w));return m.nodeType===1&&(m.nodeName==="CANVAS"?(v.width=m.width,v.height=m.height,v.getContext("2d").drawImage(m,0,0)):m.nodeName!=="TEXTAREA"&&m.nodeName!=="SELECT"||(v.value=m.value),v.addEventListener("load",function(){v.scrollTop=m.scrollTop,v.scrollLeft=m.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(h){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,h(this.prop.container,p)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(h){var p=this.opt.jsPDF,m=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=m,m)for(var E=0;E<m.length;++E){var A=m[E],R=A.src.find(function(k){return k.format==="truetype"});R&&p.addFont(R.url,A.ref.name,A.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,p.context2d.save(!0),h(this.prop.container,v)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(u,h,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(u,h):this.outputPdf(u,h)},a.prototype.outputPdf=function(u,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,h)})},a.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},a.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(u){if(r(u)!=="object")return this;var h=Object.keys(u||{}).map(function(p){if(p in a.template.prop)return function(){this.prop[p]=u[p]};switch(p){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[p]=u[p]}}},this);return this.then(function(){return this.thenList(h)})},a.prototype.get=function(u,h){return this.then(function(){var p=u in a.template.prop?this.prop[u]:this.opt[u];return h?h(p):p})},a.prototype.setMargin=function(u){return this.then(function(){switch(r(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},a.prototype.setPageSize=function(u){function h(p,m){return Math.floor(p*m/72*96)}return this.then(function(){(u=u||Pt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:h(u.inner.width,u.k),height:h(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},a.prototype.setProgress=function(u,h,p,m){return u!=null&&(this.progress.val=u),h!=null&&(this.progress.state=h),p!=null&&(this.progress.n=p),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(u,h,p,m){return this.setProgress(u?this.progress.val+u:null,h||null,p?this.progress.n+p:null,m?this.progress.stack.concat(m):null)},a.prototype.then=function(u,h){var p=this;return this.thenCore(u,h,function(m,w){return p.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(v){return p.updateProgress(null,m),v}).then(m,w).then(function(v){return p.updateProgress(1),v})})},a.prototype.thenCore=function(u,h,p){p=p||Promise.prototype.then,u&&(u=u.bind(this)),h&&(h=h.bind(this));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),w=p.call(m,u,h);return a.convert(w,this.__proto__)},a.prototype.thenExternal=function(u,h){return Promise.prototype.then.call(this,u,h)},a.prototype.thenList=function(u){var h=this;return u.forEach(function(p){h=h.thenCore(p)}),h},a.prototype.catch=function(u){u&&(u=u.bind(this));var h=Promise.prototype.catch.call(this,u);return a.convert(h,this)},a.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},a.prototype.error=function(u){return this.then(function(){throw new Error(u)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Pt.getPageSize=function(u,h,p){if(yn(u)==="object"){var m=u;u=m.orientation,h=m.unit||h,p=m.format||p}h=h||"mm",p=p||"a4",u=(""+(u||"P")).toLowerCase();var w,v=(""+p).toLowerCase(),E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+h}var A,R=0,k=0;if(E.hasOwnProperty(v))R=E[v][1]/w,k=E[v][0]/w;else try{R=p[1],k=p[0]}catch{throw new Error("Invalid format: "+p)}if(u==="p"||u==="portrait")u="p",k>R&&(A=k,k=R,R=A);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",R>k&&(A=k,k=R,R=A)}return{width:k,height:R,unit:h,k:w,orientation:u}},e.html=function(u,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(Ap):null;var p=new a(h);return h.worker?p:p.from(u).doCallback()}}(Pt.API),Pt.API.addJS=function(e){return Ax=e,this.internal.events.subscribe("postPutResources",function(){O1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(O1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),bx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ax+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){O1!==void 0&&bx!==void 0&&this.internal.out("/Names <</JavaScript "+O1+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),a=0;a<s.length;a++){var u=s[a],h=r.exec(u);if(h!=null){var p=h[1];n.internal.newObjectDeferredBegin(p,!1)}n.internal.write(u)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,w=[];for(a=0;a<m;a++){var v=n.internal.newObject();w.push(v);var E=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+E.objId+" 0 R /XYZ null null null]>> endobj")}var A=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<w.length;a++)n.internal.write("(page_"+(a+1)+")"+w[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+A+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,a){var u={title:s,options:a,children:[]};return r==null&&(r=this.root),r.children.push(u),u},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var u=r.children[a];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var h=this.count=this.count_r({count:0},u);if(h>0&&this.line("/Count "+h),u.options&&u.options.pageNumber){var p=n.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+p.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var m=0;m<r.children.length;m++)this.renderItems(r.children[m])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var a=0;a<s.children.length;a++)r.count++,this.count_r(r,s.children[a]);return r.count}}])}(Pt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,s,a,u,h){var p,m=this.decode.DCT_DECODE,w=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=u||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(p=function(v){for(var E,A=256*v.charCodeAt(4)+v.charCodeAt(5),R=v.length,k={width:0,height:0,numcomponents:1},M=4;M<R;M+=2){if(M+=A,t.indexOf(v.charCodeAt(M+1))!==-1){E=256*v.charCodeAt(M+5)+v.charCodeAt(M+6),k={width:256*v.charCodeAt(M+7)+v.charCodeAt(M+8),height:E,numcomponents:v.charCodeAt(M+9)};break}A=256*v.charCodeAt(M+2)+v.charCodeAt(M+3)}return k}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}w={data:n,width:p.width,height:p.height,colorSpace:h,bitsPerComponent:8,filter:m,index:r,alias:s}}return w}}(Pt.API);var tu,R1,Cx,Ex,Nx,iS=function(){var e,t,n;function r(a){var u,h,p,m,w,v,E,A,R,k,M,S,I,L;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(u=this.readUInt32(),R=(function(){var q,$;for($=[],q=0;q<4;++q)$.push(String.fromCharCode(this.data[this.pos++]));return $}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(u);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},w=this.readUInt16(),m=this.readUInt16()||100,v.delay=1e3*w/m,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(R==="fdAT"&&(this.pos+=4,u-=4),a=(v!=null?v.data:void 0)||this.imgData,S=0;0<=u?S<u:S>u;0<=u?++S:--S)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(p=this.palette.length/3,this.transparency.indexed=this.read(u),this.transparency.indexed.length>p)throw new Error("More transparent colors than palette size");if((k=p-this.transparency.indexed.length)>0)for(I=0;0<=k?I<k:I>k;0<=k?++I:--I)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(u)[0];break;case 2:this.transparency.rgb=this.read(u)}break;case"tEXt":E=(M=this.read(u)).indexOf(0),A=String.fromCharCode.apply(String,M.slice(0,E)),this.text[A]=String.fromCharCode.apply(String,M.slice(E+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(L=this.colorType)===4||L===6,h=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*h,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=u}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var u,h;for(h=[],u=0;0<=a?u<a:u>a;0<=a?++u:--u)h.push(this.data[this.pos++]);return h},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var u=this.pixelBitlength/8,h=new Uint8Array(this.width*this.height*u),p=0,m=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function w(v,E,A,R){var k,M,S,I,L,q,$,Q,D,Y,Z,ye,W,X,ae,oe,se,Ne,ve,fe,Ae,Se=Math.ceil((m.width-v)/A),Je=Math.ceil((m.height-E)/R),z=m.width==Se&&m.height==Je;for(X=u*Se,ye=z?h:new Uint8Array(X*Je),q=a.length,W=0,M=0;W<Je&&p<q;){switch(a[p++]){case 0:for(I=se=0;se<X;I=se+=1)ye[M++]=a[p++];break;case 1:for(I=Ne=0;Ne<X;I=Ne+=1)k=a[p++],L=I<u?0:ye[M-u],ye[M++]=(k+L)%256;break;case 2:for(I=ve=0;ve<X;I=ve+=1)k=a[p++],S=(I-I%u)/u,ae=W&&ye[(W-1)*X+S*u+I%u],ye[M++]=(ae+k)%256;break;case 3:for(I=fe=0;fe<X;I=fe+=1)k=a[p++],S=(I-I%u)/u,L=I<u?0:ye[M-u],ae=W&&ye[(W-1)*X+S*u+I%u],ye[M++]=(k+Math.floor((L+ae)/2))%256;break;case 4:for(I=Ae=0;Ae<X;I=Ae+=1)k=a[p++],S=(I-I%u)/u,L=I<u?0:ye[M-u],W===0?ae=oe=0:(ae=ye[(W-1)*X+S*u+I%u],oe=S&&ye[(W-1)*X+(S-1)*u+I%u]),$=L+ae-oe,Q=Math.abs($-L),Y=Math.abs($-ae),Z=Math.abs($-oe),D=Q<=Y&&Q<=Z?L:Y<=Z?ae:oe,ye[M++]=(k+D)%256;break;default:throw new Error("Invalid filter algorithm: "+a[p-1])}if(!z){var ie=((E+W*R)*m.width+v)*u,le=W*X;for(I=0;I<Se;I+=1){for(var ge=0;ge<u;ge+=1)h[ie++]=ye[le++];ie+=(A-1)*u}}W++}}return a=MN(a),m.interlaceMethod==1?(w(0,0,8,8),w(4,0,8,8),w(0,4,4,8),w(2,0,4,4),w(0,2,2,4),w(1,0,2,2),w(0,1,1,2)):w(0,0,1,1),h},r.prototype.decodePalette=function(){var a,u,h,p,m,w,v,E,A;for(h=this.palette,w=this.transparency.indexed||[],m=new Uint8Array((w.length||0)+h.length),p=0,a=0,u=v=0,E=h.length;v<E;u=v+=3)m[p++]=h[u],m[p++]=h[u+1],m[p++]=h[u+2],m[p++]=(A=w[a++])!=null?A:255;return m},r.prototype.copyToImageData=function(a,u){var h,p,m,w,v,E,A,R,k,M,S;if(p=this.colors,k=null,h=this.hasAlphaChannel,this.palette.length&&(k=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),p=4,h=!0),R=(m=a.data||a).length,v=k||u,w=E=0,p===1)for(;w<R;)A=k?4*u[w/4]:E,M=v[A++],m[w++]=M,m[w++]=M,m[w++]=M,m[w++]=h?v[A++]:255,E=A;else for(;w<R;)A=k?4*u[w/4]:E,m[w++]=v[A++],m[w++]=v[A++],m[w++]=v[A++],m[w++]=h?v[A++]:255,E=A},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var s=function(){if(Object.prototype.toString.call(Ot)==="[object Window]"){try{t=Ot.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(a){var u;if(s()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(u=new Image).src=t.toDataURL(),u;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var u,h,p,m,w,v,E,A;if(this.animation){for(A=[],h=w=0,v=(E=this.animation.frames).length;w<v;h=++w)u=E[h],p=a.createImageData(u.width,u.height),m=this.decodePixels(new Uint8Array(u.data)),this.copyToImageData(p,m),u.imageData=p,A.push(u.image=e(p));return A}},r.prototype.renderFrame=function(a,u){var h,p,m;return h=(p=this.animation.frames)[u],m=p[u-1],u===0&&a.clearRect(0,0,this.width,this.height),(m!=null?m.disposeOp:void 0)===1?a.clearRect(m.xOffset,m.yOffset,m.width,m.height):(m!=null?m.disposeOp:void 0)===2&&a.putImageData(m.imageData,m.xOffset,m.yOffset),h.blendOp===0&&a.clearRect(h.xOffset,h.yOffset,h.width,h.height),a.drawImage(h.image,h.xOffset,h.yOffset)},r.prototype.animate=function(a){var u,h,p,m,w,v,E=this;return h=0,v=this.animation,m=v.numFrames,p=v.frames,w=v.numPlays,(u=function(){var A,R;if(A=h++%m,R=p[A],E.renderFrame(a,A),m>1&&h/m<w)return E.animation._timeout=setTimeout(u,R.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var u,h;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,u=a.getContext("2d"),this.animation?(this.decodeFrames(u),this.animate(u)):(h=u.createImageData(this.width,this.height),this.copyToImageData(h,this.decodePixels()),u.putImageData(h,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function sS(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,s=e[t++],a=s>>7,u=1<<(7&s)+1;e[t++],e[t++];var h=null,p=null;a&&(h=t,p=u,t+=3*u);var m=!0,w=[],v=0,E=null,A=0,R=null;for(this.width=n,this.height=r;m&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,R=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var k=e[t++];v=e[t++]|e[t++]<<8,E=e[t++],!(1&k)&&(E=null),A=k>>2&7,t++;break;case 254:for(;;){if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var M=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,L=e[t++]|e[t++]<<8,q=e[t++],$=q>>6&1,Q=1<<(7&q)+1,D=h,Y=p,Z=!1;q>>7&&(Z=!0,D=t,Y=Q,t+=3*Q);var ye=t;for(t++;;){var W;if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}w.push({x:M,y:S,width:I,height:L,has_local_palette:Z,palette_offset:D,palette_size:Y,data_offset:ye,data_length:t-ye,transparent_index:E,interlaced:!!$,delay:v,disposal:A});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return w.length},this.loopCount=function(){return R},this.frameInfo=function(X){if(X<0||X>=w.length)throw new Error("Frame index out of range.");return w[X]},this.decodeAndBlitFrameBGRA=function(X,ae){var oe=this.frameInfo(X),se=oe.width*oe.height,Ne=new Uint8Array(se);Sx(e,oe.data_offset,Ne,se);var ve=oe.palette_offset,fe=oe.transparent_index;fe===null&&(fe=256);var Ae=oe.width,Se=n-Ae,Je=Ae,z=4*(oe.y*n+oe.x),ie=4*((oe.y+oe.height)*n+oe.x),le=z,ge=4*Se;oe.interlaced===!0&&(ge+=4*n*7);for(var ce=8,Te=0,_e=Ne.length;Te<_e;++Te){var Pe=Ne[Te];if(Je===0&&(Je=Ae,(le+=ge)>=ie&&(ge=4*Se+4*n*(ce-1),le=z+(Ae+Se)*(ce<<1),ce>>=1)),Pe===fe)le+=4;else{var $e=e[ve+3*Pe],Ye=e[ve+3*Pe+1],st=e[ve+3*Pe+2];ae[le++]=st,ae[le++]=Ye,ae[le++]=$e,ae[le++]=255}--Je}},this.decodeAndBlitFrameRGBA=function(X,ae){var oe=this.frameInfo(X),se=oe.width*oe.height,Ne=new Uint8Array(se);Sx(e,oe.data_offset,Ne,se);var ve=oe.palette_offset,fe=oe.transparent_index;fe===null&&(fe=256);var Ae=oe.width,Se=n-Ae,Je=Ae,z=4*(oe.y*n+oe.x),ie=4*((oe.y+oe.height)*n+oe.x),le=z,ge=4*Se;oe.interlaced===!0&&(ge+=4*n*7);for(var ce=8,Te=0,_e=Ne.length;Te<_e;++Te){var Pe=Ne[Te];if(Je===0&&(Je=Ae,(le+=ge)>=ie&&(ge=4*Se+4*n*(ce-1),le=z+(Ae+Se)*(ce<<1),ce>>=1)),Pe===fe)le+=4;else{var $e=e[ve+3*Pe],Ye=e[ve+3*Pe+1],st=e[ve+3*Pe+2];ae[le++]=$e,ae[le++]=Ye,ae[le++]=st,ae[le++]=255}--Je}}}function Sx(e,t,n,r){for(var s=e[t++],a=1<<s,u=a+1,h=u+1,p=s+1,m=(1<<p)-1,w=0,v=0,E=0,A=e[t++],R=new Int32Array(4096),k=null;;){for(;w<16&&A!==0;)v|=e[t++]<<w,w+=8,A===1?A=e[t++]:--A;if(w<p)break;var M=v&m;if(v>>=p,w-=p,M!==a){if(M===u)break;for(var S=M<h?M:k,I=0,L=S;L>a;)L=R[L]>>8,++I;var q=L;if(E+I+(S!==M?1:0)>r)return void Tn.log("Warning, gif stream longer than expected.");n[E++]=q;var $=E+=I;for(S!==M&&(n[E++]=q),L=S;I--;)L=R[L],n[--$]=255&L,L>>=8;k!==null&&h<4096&&(R[h++]=k<<8|q,h>=m+1&&p<12&&(++p,m=m<<1|1)),k=M}else h=u+1,m=(1<<(p=s+1))-1,k=null}return E!==r&&Tn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function R0(e){var t,n,r,s,a,u=Math.floor,h=new Array(64),p=new Array(64),m=new Array(64),w=new Array(64),v=new Array(65535),E=new Array(65535),A=new Array(64),R=new Array(64),k=[],M=0,S=7,I=new Array(64),L=new Array(64),q=new Array(64),$=new Array(256),Q=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Y=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Z=[0,1,2,3,4,5,6,7,8,9,10,11],ye=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],W=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],X=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ae=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ne(z,ie){for(var le=0,ge=0,ce=new Array,Te=1;Te<=16;Te++){for(var _e=1;_e<=z[Te];_e++)ce[ie[ge]]=[],ce[ie[ge]][0]=le,ce[ie[ge]][1]=Te,ge++,le++;le*=2}return ce}function ve(z){for(var ie=z[0],le=z[1]-1;le>=0;)ie&1<<le&&(M|=1<<S),le--,--S<0&&(M==255?(fe(255),fe(0)):fe(M),S=7,M=0)}function fe(z){k.push(z)}function Ae(z){fe(z>>8&255),fe(255&z)}function Se(z,ie,le,ge,ce){for(var Te,_e=ce[0],Pe=ce[240],$e=function(je,rt){var Be,it,At,St,Ut,Lt,tn,Qt,xt,Kt,ot=0;for(xt=0;xt<8;++xt){Be=je[ot],it=je[ot+1],At=je[ot+2],St=je[ot+3],Ut=je[ot+4],Lt=je[ot+5],tn=je[ot+6];var jr=Be+(Qt=je[ot+7]),_t=Be-Qt,tt=it+tn,Mt=it-tn,Tt=At+Lt,cn=At-Lt,nn=St+Ut,Ts=St-Ut,Bn=jr+nn,Vt=jr-nn,Zr=tt+Tt,Fn=tt-Tt;je[ot]=Bn+Zr,je[ot+4]=Bn-Zr;var Bt=.707106781*(Fn+Vt);je[ot+2]=Vt+Bt,je[ot+6]=Vt-Bt;var Ht=.382683433*((Bn=Ts+cn)-(Fn=Mt+_t)),ks=.5411961*Bn+Ht,ln=1.306562965*Fn+Ht,Qr=.707106781*(Zr=cn+Mt),Ai=_t+Qr,wt=_t-Qr;je[ot+5]=wt+ks,je[ot+3]=wt-ks,je[ot+1]=Ai+ln,je[ot+7]=Ai-ln,ot+=8}for(ot=0,xt=0;xt<8;++xt){Be=je[ot],it=je[ot+8],At=je[ot+16],St=je[ot+24],Ut=je[ot+32],Lt=je[ot+40],tn=je[ot+48];var Gi=Be+(Qt=je[ot+56]),Ur=Be-Qt,zr=it+tn,un=it-tn,Nn=At+Lt,Ln=At-Lt,ct=St+Ut,si=St-Ut,Ci=Gi+ct,Pn=Gi-ct,qr=zr+Nn,Ei=zr-Nn;je[ot]=Ci+qr,je[ot+32]=Ci-qr;var Jr=.707106781*(Ei+Pn);je[ot+16]=Pn+Jr,je[ot+48]=Pn-Jr;var gr=.382683433*((Ci=si+Ln)-(Ei=un+Ur)),ga=.5411961*Ci+gr,Ha=1.306562965*Ei+gr,$r=.707106781*(qr=Ln+un),or=Ur+$r,mn=Ur-$r;je[ot+40]=mn+ga,je[ot+24]=mn-ga,je[ot+8]=or+Ha,je[ot+56]=or-Ha,ot++}for(xt=0;xt<64;++xt)Kt=je[xt]*rt[xt],A[xt]=Kt>0?Kt+.5|0:Kt-.5|0;return A}(z,ie),Ye=0;Ye<64;++Ye)R[D[Ye]]=$e[Ye];var st=R[0]-le;le=R[0],st==0?ve(ge[0]):(ve(ge[E[Te=32767+st]]),ve(v[Te]));for(var Ge=63;Ge>0&&R[Ge]==0;)Ge--;if(Ge==0)return ve(_e),le;for(var Nt,De=1;De<=Ge;){for(var ue=De;R[De]==0&&De<=Ge;)++De;var yt=De-ue;if(yt>=16){Nt=yt>>4;for(var nt=1;nt<=Nt;++nt)ve(Pe);yt&=15}Te=32767+R[De],ve(ce[(yt<<4)+E[Te]]),ve(v[Te]),De++}return Ge!=63&&ve(_e),le}function Je(z){z=Math.min(Math.max(z,1),100),a!=z&&(function(ie){for(var le=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ge=0;ge<64;ge++){var ce=u((le[ge]*ie+50)/100);ce=Math.min(Math.max(ce,1),255),h[D[ge]]=ce}for(var Te=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var Pe=u((Te[_e]*ie+50)/100);Pe=Math.min(Math.max(Pe,1),255),p[D[_e]]=Pe}for(var $e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ye=0,st=0;st<8;st++)for(var Ge=0;Ge<8;Ge++)m[Ye]=1/(h[D[Ye]]*$e[st]*$e[Ge]*8),w[Ye]=1/(p[D[Ye]]*$e[st]*$e[Ge]*8),Ye++}(z<50?Math.floor(5e3/z):Math.floor(200-2*z)),a=z)}this.encode=function(z,ie){ie&&Je(ie),k=new Array,M=0,S=7,Ae(65496),Ae(65504),Ae(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),Ae(1),Ae(1),fe(0),fe(0),function(){Ae(65499),Ae(132),fe(0);for(var it=0;it<64;it++)fe(h[it]);fe(1);for(var At=0;At<64;At++)fe(p[At])}(),function(it,At){Ae(65472),Ae(17),fe(8),Ae(At),Ae(it),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1)}(z.width,z.height),function(){Ae(65476),Ae(418),fe(0);for(var it=0;it<16;it++)fe(Y[it+1]);for(var At=0;At<=11;At++)fe(Z[At]);fe(16);for(var St=0;St<16;St++)fe(ye[St+1]);for(var Ut=0;Ut<=161;Ut++)fe(W[Ut]);fe(1);for(var Lt=0;Lt<16;Lt++)fe(X[Lt+1]);for(var tn=0;tn<=11;tn++)fe(ae[tn]);fe(17);for(var Qt=0;Qt<16;Qt++)fe(oe[Qt+1]);for(var xt=0;xt<=161;xt++)fe(se[xt])}(),Ae(65498),Ae(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0);var le=0,ge=0,ce=0;M=0,S=7,this.encode.displayName="_encode_";for(var Te,_e,Pe,$e,Ye,st,Ge,Nt,De,ue=z.data,yt=z.width,nt=z.height,je=4*yt,rt=0;rt<nt;){for(Te=0;Te<je;){for(Ye=je*rt+Te,Ge=-1,Nt=0,De=0;De<64;De++)st=Ye+(Nt=De>>3)*je+(Ge=4*(7&De)),rt+Nt>=nt&&(st-=je*(rt+1+Nt-nt)),Te+Ge>=je&&(st-=Te+Ge-je+4),_e=ue[st++],Pe=ue[st++],$e=ue[st++],I[De]=(Q[_e]+Q[Pe+256>>0]+Q[$e+512>>0]>>16)-128,L[De]=(Q[_e+768>>0]+Q[Pe+1024>>0]+Q[$e+1280>>0]>>16)-128,q[De]=(Q[_e+1280>>0]+Q[Pe+1536>>0]+Q[$e+1792>>0]>>16)-128;le=Se(I,m,le,t,r),ge=Se(L,w,ge,n,s),ce=Se(q,w,ce,n,s),Te+=32}rt+=8}if(S>=0){var Be=[];Be[1]=S+1,Be[0]=(1<<S+1)-1,ve(Be)}return Ae(65497),new Uint8Array(k)},e=e||50,function(){for(var z=String.fromCharCode,ie=0;ie<256;ie++)$[ie]=z(ie)}(),t=Ne(Y,Z),n=Ne(X,ae),r=Ne(ye,W),s=Ne(oe,se),function(){for(var z=1,ie=2,le=1;le<=15;le++){for(var ge=z;ge<ie;ge++)E[32767+ge]=le,v[32767+ge]=[],v[32767+ge][1]=le,v[32767+ge][0]=ge;for(var ce=-(ie-1);ce<=-z;ce++)E[32767+ce]=le,v[32767+ce]=[],v[32767+ce][1]=le,v[32767+ce][0]=ie-1+ce;z<<=1,ie<<=1}}(),function(){for(var z=0;z<256;z++)Q[z]=19595*z,Q[z+256>>0]=38470*z,Q[z+512>>0]=7471*z+32768,Q[z+768>>0]=-11059*z,Q[z+1024>>0]=-21709*z,Q[z+1280>>0]=32768*z+8421375,Q[z+1536>>0]=-27439*z,Q[z+1792>>0]=-5329*z}(),Je(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fs(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function _x(e){function t(Y){if(!Y)throw Error("assert :P")}function n(Y,Z,ye){for(var W=0;4>W;W++)if(Y[Z+W]!=ye.charCodeAt(W))return!0;return!1}function r(Y,Z,ye,W,X){for(var ae=0;ae<X;ae++)Y[Z+ae]=ye[W+ae]}function s(Y,Z,ye,W){for(var X=0;X<W;X++)Y[Z+X]=ye}function a(Y){return new Int32Array(Y)}function u(Y,Z){for(var ye=[],W=0;W<Y;W++)ye.push(new Z);return ye}function h(Y,Z){var ye=[];return function W(X,ae,oe){for(var se=oe[ae],Ne=0;Ne<se&&(X.push(oe.length>ae+1?[]:new Z),!(oe.length<ae+1));Ne++)W(X[Ne],ae+1,oe)}(ye,0,Y),ye}var p=function(){var Y=this;function Z(g,y){for(var _=1<<y-1>>>0;g&_;)_>>>=1;return _?(g&_-1)+_:g}function ye(g,y,_,P,j){t(!(P%_));do g[y+(P-=_)]=j;while(0<P)}function W(g,y,_,P,j){if(t(2328>=j),512>=j)var V=a(512);else if((V=a(j))==null)return 0;return function(G,K,J,re,me,ke){var Le,Ce,We=K,Me=1<<J,xe=a(16),we=a(16);for(t(me!=0),t(re!=null),t(G!=null),t(0<J),Ce=0;Ce<me;++Ce){if(15<re[Ce])return 0;++xe[re[Ce]]}if(xe[0]==me)return 0;for(we[1]=0,Le=1;15>Le;++Le){if(xe[Le]>1<<Le)return 0;we[Le+1]=we[Le]+xe[Le]}for(Ce=0;Ce<me;++Ce)Le=re[Ce],0<re[Ce]&&(ke[we[Le]++]=Ce);if(we[15]==1)return(re=new X).g=0,re.value=ke[0],ye(G,We,1,Me,re),Me;var Ue,Ze=-1,qe=Me-1,ft=0,at=1,kt=1,lt=1<<J;for(Ce=0,Le=1,me=2;Le<=J;++Le,me<<=1){if(at+=kt<<=1,0>(kt-=xe[Le]))return 0;for(;0<xe[Le];--xe[Le])(re=new X).g=Le,re.value=ke[Ce++],ye(G,We+ft,me,lt,re),ft=Z(ft,Le)}for(Le=J+1,me=2;15>=Le;++Le,me<<=1){if(at+=kt<<=1,0>(kt-=xe[Le]))return 0;for(;0<xe[Le];--xe[Le]){if(re=new X,(ft&qe)!=Ze){for(We+=lt,Ue=1<<(Ze=Le)-J;15>Ze&&!(0>=(Ue-=xe[Ze]));)++Ze,Ue<<=1;Me+=lt=1<<(Ue=Ze-J),G[K+(Ze=ft&qe)].g=Ue+J,G[K+Ze].value=We-K-Ze}re.g=Le-J,re.value=ke[Ce++],ye(G,We+(ft>>J),me,lt,re),ft=Z(ft,Le)}}return at!=2*we[15]-1?0:Me}(g,y,_,P,j,V)}function X(){this.value=this.g=0}function ae(){this.value=this.g=0}function oe(){this.G=u(5,X),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Sn,ae)}function se(g,y,_,P){t(g!=null),t(y!=null),t(2147483648>P),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=y,g.pa=_,g.Jd=y,g.Yc=_+P,g.Zc=4<=P?_+P-4+1:_,Te(g)}function Ne(g,y){for(var _=0;0<y--;)_|=Pe(g,128)<<y;return _}function ve(g,y){var _=Ne(g,y);return _e(g)?-_:_}function fe(g,y,_,P){var j,V=0;for(t(g!=null),t(y!=null),t(4294967288>P),g.Sb=P,g.Ra=0,g.u=0,g.h=0,4<P&&(P=4),j=0;j<P;++j)V+=y[_+j]<<8*j;g.Ra=V,g.bb=P,g.oa=y,g.pa=_}function Ae(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<xs-8>>>0,++g.bb,g.u-=8;le(g)&&(g.h=1,g.u=0)}function Se(g,y){if(t(0<=y),!g.h&&y<=ta){var _=ie(g)&eo[y];return g.u+=y,Ae(g),_}return g.h=1,g.u=0}function Je(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ie(g){return g.Ra>>>(g.u&xs-1)>>>0}function le(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>xs}function ge(g,y){g.u=y,g.h=le(g)}function ce(g){g.u>=Zt&&(t(g.u>=Zt),Ae(g))}function Te(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function _e(g){return Ne(g,1)}function Pe(g,y){var _=g.Ca;0>g.b&&Te(g);var P=g.b,j=_*y>>>8,V=(g.I>>>P>j)+0;for(V?(_-=j,g.I-=j+1<<P>>>0):_=j+1,P=_,j=0;256<=P;)j+=8,P>>=8;return P=7^j+Or[P],g.b-=P,g.Ca=(_<<P)-1,V}function $e(g,y,_){g[y+0]=_>>24&255,g[y+1]=_>>16&255,g[y+2]=_>>8&255,g[y+3]=_>>0&255}function Ye(g,y){return g[y+0]<<0|g[y+1]<<8}function st(g,y){return Ye(g,y)|g[y+2]<<16}function Ge(g,y){return Ye(g,y)|Ye(g,y+2)<<16}function Nt(g,y){var _=1<<y;return t(g!=null),t(0<y),g.X=a(_),g.X==null?0:(g.Mb=32-y,g.Xa=y,1)}function De(g,y){t(g!=null),t(y!=null),t(g.Xa==y.Xa),r(y.X,0,g.X,0,1<<y.Xa)}function ue(){this.X=[],this.Xa=this.Mb=0}function yt(g,y,_,P){t(_!=null),t(P!=null);var j=_[0],V=P[0];return j==0&&(j=(g*V+y/2)/y),V==0&&(V=(y*j+g/2)/g),0>=j||0>=V?0:(_[0]=j,P[0]=V,1)}function nt(g,y){return g+(1<<y)-1>>>y}function je(g,y){return((4278255360&g)+(4278255360&y)>>>0&4278255360)+((16711935&g)+(16711935&y)>>>0&16711935)>>>0}function rt(g,y){Y[y]=function(_,P,j,V,G,K,J){var re;for(re=0;re<G;++re){var me=Y[g](K[J+re-1],j,V+re);K[J+re]=je(_[P+re],me)}}}function Be(){this.ud=this.hd=this.jd=0}function it(g,y){return((4278124286&(g^y))>>>1)+(g&y)>>>0}function At(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function St(g,y){return At(g+(g-y+.5>>1))}function Ut(g,y,_){return Math.abs(y-_)-Math.abs(g-_)}function Lt(g,y,_,P,j,V,G){for(P=V[G-1],_=0;_<j;++_)V[G+_]=P=je(g[y+_],P)}function tn(g,y,_,P,j){var V;for(V=0;V<_;++V){var G=g[y+V],K=G>>8&255,J=16711935&(J=(J=16711935&G)+((K<<16)+K));P[j+V]=(4278255360&G)+J>>>0}}function Qt(g,y){y.jd=g>>0&255,y.hd=g>>8&255,y.ud=g>>16&255}function xt(g,y,_,P,j,V){var G;for(G=0;G<P;++G){var K=y[_+G],J=K>>>8,re=K,me=255&(me=(me=K>>>16)+((g.jd<<24>>24)*(J<<24>>24)>>>5));re=255&(re=(re=re+((g.hd<<24>>24)*(J<<24>>24)>>>5))+((g.ud<<24>>24)*(me<<24>>24)>>>5)),j[V+G]=(4278255360&K)+(me<<16)+re}}function Kt(g,y,_,P,j){Y[y]=function(V,G,K,J,re,me,ke,Le,Ce){for(J=ke;J<Le;++J)for(ke=0;ke<Ce;++ke)re[me++]=j(K[P(V[G++])])},Y[g]=function(V,G,K,J,re,me,ke){var Le=8>>V.b,Ce=V.Ea,We=V.K[0],Me=V.w;if(8>Le)for(V=(1<<V.b)-1,Me=(1<<Le)-1;G<K;++G){var xe,we=0;for(xe=0;xe<Ce;++xe)xe&V||(we=P(J[re++])),me[ke++]=j(We[we&Me]),we>>=Le}else Y["VP8LMapColor"+_](J,re,We,Me,me,ke,G,K,Ce)}}function ot(g,y,_,P,j){for(_=y+_;y<_;){var V=g[y++];P[j++]=V>>16&255,P[j++]=V>>8&255,P[j++]=V>>0&255}}function jr(g,y,_,P,j){for(_=y+_;y<_;){var V=g[y++];P[j++]=V>>16&255,P[j++]=V>>8&255,P[j++]=V>>0&255,P[j++]=V>>24&255}}function _t(g,y,_,P,j){for(_=y+_;y<_;){var V=(G=g[y++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;P[j++]=V,P[j++]=G}}function tt(g,y,_,P,j){for(_=y+_;y<_;){var V=(G=g[y++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;P[j++]=V,P[j++]=G}}function Mt(g,y,_,P,j){for(_=y+_;y<_;){var V=g[y++];P[j++]=V>>0&255,P[j++]=V>>8&255,P[j++]=V>>16&255}}function Tt(g,y,_,P,j,V){if(V==0)for(_=y+_;y<_;)$e(P,((V=g[y++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),j+=32;else r(P,j,g,y,_)}function cn(g,y){Y[y][0]=Y[g+"0"],Y[y][1]=Y[g+"1"],Y[y][2]=Y[g+"2"],Y[y][3]=Y[g+"3"],Y[y][4]=Y[g+"4"],Y[y][5]=Y[g+"5"],Y[y][6]=Y[g+"6"],Y[y][7]=Y[g+"7"],Y[y][8]=Y[g+"8"],Y[y][9]=Y[g+"9"],Y[y][10]=Y[g+"10"],Y[y][11]=Y[g+"11"],Y[y][12]=Y[g+"12"],Y[y][13]=Y[g+"13"],Y[y][14]=Y[g+"0"],Y[y][15]=Y[g+"0"]}function nn(g){return g==Ad||g==Cd||g==Wf||g==Ed}function Ts(){this.eb=[],this.size=this.A=this.fb=0}function Bn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Vt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ts,this.f.kb=new Bn,this.sd=null}function Zr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Bt(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Ht(g,y){var _=g.T,P=y.ba.f.RGBA,j=P.eb,V=P.fb+g.ka*P.A,G=vs[y.ba.S],K=g.y,J=g.O,re=g.f,me=g.N,ke=g.ea,Le=g.W,Ce=y.cc,We=y.dc,Me=y.Mc,xe=y.Nc,we=g.ka,Ue=g.ka+g.T,Ze=g.U,qe=Ze+1>>1;for(we==0?G(K,J,null,null,re,me,ke,Le,re,me,ke,Le,j,V,null,null,Ze):(G(y.ec,y.fc,K,J,Ce,We,Me,xe,re,me,ke,Le,j,V-P.A,j,V,Ze),++_);we+2<Ue;we+=2)Ce=re,We=me,Me=ke,xe=Le,me+=g.Rc,Le+=g.Rc,V+=2*P.A,G(K,(J+=2*g.fa)-g.fa,K,J,Ce,We,Me,xe,re,me,ke,Le,j,V-P.A,j,V,Ze);return J+=g.fa,g.j+Ue<g.o?(r(y.ec,y.fc,K,J,Ze),r(y.cc,y.dc,re,me,qe),r(y.Mc,y.Nc,ke,Le,qe),_--):1&Ue||G(K,J,null,null,re,me,ke,Le,re,me,ke,Le,j,V+P.A,null,null,Ze),_}function ks(g,y,_){var P=g.F,j=[g.J];if(P!=null){var V=g.U,G=y.ba.S,K=G==Vf||G==Wf;y=y.ba.f.RGBA;var J=[0],re=g.ka;J[0]=g.T,g.Kb&&(re==0?--J[0]:(--re,j[0]-=g.width),g.j+g.ka+g.T==g.o&&(J[0]=g.o-g.j-re));var me=y.eb;re=y.fb+re*y.A,g=Dn(P,j[0],g.width,V,J,me,re+(K?0:3),y.A),t(_==J),g&&nn(G)&&Bi(me,re,K,V,J,y.A)}return 0}function ln(g){var y=g.ma,_=y.ba.S,P=11>_,j=_==zf||_==qf||_==Vf||_==bd||_==12||nn(_);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!wa(y.Oa,g,j?11:12))return 0;if(j&&nn(_)&&He(),g.da)alert("todo:use_scaling");else{if(P){if(y.Ib=Bt,g.Kb){if(_=g.U+1>>1,y.memory=a(g.U+2*_),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+g.U,y.Mc=y.cc,y.Nc=y.dc+_,y.Ib=Ht,He()}}else alert("todo:EmitYUV");j&&(y.Jb=ks,P&&Ee())}if(P&&!$g){for(g=0;256>g;++g)a4[g]=89858*(g-128)+Gf>>Hf,u4[g]=-22014*(g-128)+Gf,l4[g]=-45773*(g-128),o4[g]=113618*(g-128)+Gf>>Hf;for(g=sc;g<_d;++g)y=76283*(g-16)+Gf>>Hf,c4[g-sc]=lr(y,255),f4[g-sc]=lr(y+8>>4,15);$g=1}return 1}function Qr(g){var y=g.ma,_=g.U,P=g.T;return t(!(1&g.ka)),0>=_||0>=P?0:(_=y.Ib(g,y),y.Jb!=null&&y.Jb(g,y,_),y.Dc+=_,1)}function Ai(g){g.ma.memory=null}function wt(g,y,_,P){return Se(g,8)!=47?0:(y[0]=Se(g,14)+1,_[0]=Se(g,14)+1,P[0]=Se(g,1),Se(g,3)!=0?0:!g.h)}function Gi(g,y){if(4>g)return g+1;var _=g-2>>1;return(2+(1&g)<<_)+Se(y,_)+1}function Ur(g,y){return 120<y?y-120:1<=(_=((_=Gv[y-1])>>4)*g+(8-(15&_)))?_:1;var _}function zr(g,y,_){var P=ie(_),j=g[y+=255&P].g-8;return 0<j&&(ge(_,_.u+8),P=ie(_),y+=g[y].value,y+=P&(1<<j)-1),ge(_,_.u+g[y].g),g[y].value}function un(g,y,_){return _.g+=g.g,_.value+=g.value<<y>>>0,t(8>=_.g),g.g}function Nn(g,y,_){var P=g.xc;return t((y=P==0?0:g.vc[g.md*(_>>P)+(y>>P)])<g.Wb),g.Ya[y]}function Ln(g,y,_,P){var j=g.ab,V=g.c*y,G=g.C;y=G+y;var K=_,J=P;for(P=g.Ta,_=g.Ua;0<j--;){var re=g.gc[j],me=G,ke=y,Le=K,Ce=J,We=(J=P,K=_,re.Ea);switch(t(me<ke),t(ke<=re.nc),re.hc){case 2:o(Le,Ce,(ke-me)*We,J,K);break;case 0:var Me=me,xe=ke,we=J,Ue=K,Ze=(lt=re).Ea;Me==0&&(F(Le,Ce,null,null,1,we,Ue),Lt(Le,Ce+1,0,0,Ze-1,we,Ue+1),Ce+=Ze,Ue+=Ze,++Me);for(var qe=1<<lt.b,ft=qe-1,at=nt(Ze,lt.b),kt=lt.K,lt=lt.w+(Me>>lt.b)*at;Me<xe;){var xn=kt,bn=lt,dn=1;for(i(Le,Ce,we,Ue-Ze,1,we,Ue);dn<Ze;){var rn=(dn&~ft)+qe;rn>Ze&&(rn=Ze),(0,x[xn[bn++]>>8&15])(Le,Ce+ +dn,we,Ue+dn-Ze,rn-dn,we,Ue+dn),dn=rn}Ce+=Ze,Ue+=Ze,++Me&ft||(lt+=at)}ke!=re.nc&&r(J,K-We,J,K+(ke-me-1)*We,We);break;case 1:for(We=Le,xe=Ce,Ze=(Le=re.Ea)-(Ue=Le&~(we=(Ce=1<<re.b)-1)),Me=nt(Le,re.b),qe=re.K,re=re.w+(me>>re.b)*Me;me<ke;){for(ft=qe,at=re,kt=new Be,lt=xe+Ue,xn=xe+Le;xe<lt;)Qt(ft[at++],kt),b(kt,We,xe,Ce,J,K),xe+=Ce,K+=Ce;xe<xn&&(Qt(ft[at++],kt),b(kt,We,xe,Ze,J,K),xe+=Ze,K+=Ze),++me&we||(re+=Me)}break;case 3:if(Le==J&&Ce==K&&0<re.b){for(xe=J,Le=We=K+(ke-me)*We-(Ue=(ke-me)*nt(re.Ea,re.b)),Ce=J,we=K,Me=[],Ue=(Ze=Ue)-1;0<=Ue;--Ue)Me[Ue]=Ce[we+Ue];for(Ue=Ze-1;0<=Ue;--Ue)xe[Le+Ue]=Me[Ue];l(re,me,ke,J,We,J,K)}else l(re,me,ke,Le,Ce,J,K)}K=P,J=_}J!=_&&r(P,_,K,J,V)}function ct(g,y){var _=g.V,P=g.Ba+g.c*g.C,j=y-g.C;if(t(y<=g.l.o),t(16>=j),0<j){var V=g.l,G=g.Ta,K=g.Ua,J=V.width;if(Ln(g,j,_,P),j=K=[K],t((_=g.C)<(P=y)),t(V.v<V.va),P>V.o&&(P=V.o),_<V.j){var re=V.j-_;_=V.j,j[0]+=re*J}if(_>=P?_=0:(j[0]+=4*V.v,V.ka=_-V.j,V.U=V.va-V.v,V.T=P-_,_=1),_){if(K=K[0],11>(_=g.ca).S){var me=_.f.RGBA,ke=(P=_.S,j=V.U,V=V.T,re=me.eb,me.A),Le=V;for(me=me.fb+g.Ma*me.A;0<Le--;){var Ce=G,We=K,Me=j,xe=re,we=me;switch(P){case Uf:N(Ce,We,Me,xe,we);break;case zf:O(Ce,We,Me,xe,we);break;case Ad:O(Ce,We,Me,xe,we),Bi(xe,we,0,Me,1,0);break;case Wg:ne(Ce,We,Me,xe,we);break;case qf:Tt(Ce,We,Me,xe,we,1);break;case Cd:Tt(Ce,We,Me,xe,we,1),Bi(xe,we,0,Me,1,0);break;case Vf:Tt(Ce,We,Me,xe,we,0);break;case Wf:Tt(Ce,We,Me,xe,we,0),Bi(xe,we,1,Me,1,0);break;case bd:B(Ce,We,Me,xe,we);break;case Ed:B(Ce,We,Me,xe,we),Rn(xe,we,Me,1,0);break;case Hg:H(Ce,We,Me,xe,we);break;default:t(0)}K+=J,me+=ke}g.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=_.height)}}g.C=y,t(g.C<=g.i)}function si(g){var y;if(0<g.ua)return 0;for(y=0;y<g.Wb;++y){var _=g.Ya[y].G,P=g.Ya[y].H;if(0<_[1][P[1]+0].g||0<_[2][P[2]+0].g||0<_[3][P[3]+0].g)return 0}return 1}function Ci(g,y,_,P,j,V){if(g.Z!=0){var G=g.qd,K=g.rd;for(t(no[g.Z]!=null);y<_;++y)no[g.Z](G,K,P,j,P,j,V),G=P,K=j,j+=V;g.qd=G,g.rd=K}}function Pn(g,y){var _=g.l.ma,P=_.Z==0||_.Z==1?g.l.j:g.C;if(P=g.C<P?P:g.C,t(y<=g.l.o),y>P){var j=g.l.width,V=_.ca,G=_.tb+j*P,K=g.V,J=g.Ba+g.c*P,re=g.gc;t(g.ab==1),t(re[0].hc==3),f(re[0],P,y,K,J,V,G),Ci(_,P,y,V,G,j)}g.C=g.Ma=y}function qr(g,y,_,P,j,V,G){var K=g.$/P,J=g.$%P,re=g.m,me=g.s,ke=_+g.$,Le=ke;j=_+P*j;var Ce=_+P*V,We=280+me.ua,Me=g.Pb?K:16777216,xe=0<me.ua?me.Wa:null,we=me.wc,Ue=ke<Ce?Nn(me,J,K):null;t(g.C<V),t(Ce<=j);var Ze=!1;e:for(;;){for(;Ze||ke<Ce;){var qe=0;if(K>=Me){var ft=ke-_;t((Me=g).Pb),Me.wd=Me.m,Me.xd=ft,0<Me.s.ua&&De(Me.s.Wa,Me.s.vb),Me=K+Yv}if(J&we||(Ue=Nn(me,J,K)),t(Ue!=null),Ue.Qb&&(y[ke]=Ue.qb,Ze=!0),!Ze)if(ce(re),Ue.jc){qe=re,ft=y;var at=ke,kt=Ue.pd[ie(qe)&Sn-1];t(Ue.jc),256>kt.g?(ge(qe,qe.u+kt.g),ft[at]=kt.value,qe=0):(ge(qe,qe.u+kt.g-256),t(256<=kt.value),qe=kt.value),qe==0&&(Ze=!0)}else qe=zr(Ue.G[0],Ue.H[0],re);if(re.h)break;if(Ze||256>qe){if(!Ze)if(Ue.nd)y[ke]=(Ue.qb|qe<<8)>>>0;else{if(ce(re),Ze=zr(Ue.G[1],Ue.H[1],re),ce(re),ft=zr(Ue.G[2],Ue.H[2],re),at=zr(Ue.G[3],Ue.H[3],re),re.h)break;y[ke]=(at<<24|Ze<<16|qe<<8|ft)>>>0}if(Ze=!1,++ke,++J>=P&&(J=0,++K,G!=null&&K<=V&&!(K%16)&&G(g,K),xe!=null))for(;Le<ke;)qe=y[Le++],xe.X[(506832829*qe&4294967295)>>>xe.Mb]=qe}else if(280>qe){if(qe=Gi(qe-256,re),ft=zr(Ue.G[4],Ue.H[4],re),ce(re),ft=Ur(P,ft=Gi(ft,re)),re.h)break;if(ke-_<ft||j-ke<qe)break e;for(at=0;at<qe;++at)y[ke+at]=y[ke+at-ft];for(ke+=qe,J+=qe;J>=P;)J-=P,++K,G!=null&&K<=V&&!(K%16)&&G(g,K);if(t(ke<=j),J&we&&(Ue=Nn(me,J,K)),xe!=null)for(;Le<ke;)qe=y[Le++],xe.X[(506832829*qe&4294967295)>>>xe.Mb]=qe}else{if(!(qe<We))break e;for(Ze=qe-280,t(xe!=null);Le<ke;)qe=y[Le++],xe.X[(506832829*qe&4294967295)>>>xe.Mb]=qe;qe=ke,t(!(Ze>>>(ft=xe).Xa)),y[qe]=ft.X[Ze],Ze=!0}Ze||t(re.h==le(re))}if(g.Pb&&re.h&&ke<j)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&De(g.s.vb,g.s.Wa);else{if(re.h)break e;G!=null&&G(g,K>V?V:K),g.a=0,g.$=ke-_}return 1}return g.a=3,0}function Ei(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var y=g.Wa;y!=null&&(y.X=null),g.vb=null,t(g!=null)}function Jr(){var g=new nr;return g==null?null:(g.a=0,g.xb=Yg,cn("Predictor","VP8LPredictors"),cn("Predictor","VP8LPredictors_C"),cn("PredictorAdd","VP8LPredictorsAdd"),cn("PredictorAdd","VP8LPredictorsAdd_C"),o=tn,b=xt,N=ot,O=jr,B=_t,H=tt,ne=Mt,Y.VP8LMapColor32b=c,Y.VP8LMapColor8b=d,g)}function gr(g,y,_,P,j){var V=1,G=[g],K=[y],J=P.m,re=P.s,me=null,ke=0;e:for(;;){if(_)for(;V&&Se(J,1);){var Le=G,Ce=K,We=P,Me=1,xe=We.m,we=We.gc[We.ab],Ue=Se(xe,2);if(We.Oc&1<<Ue)V=0;else{switch(We.Oc|=1<<Ue,we.hc=Ue,we.Ea=Le[0],we.nc=Ce[0],we.K=[null],++We.ab,t(4>=We.ab),Ue){case 0:case 1:we.b=Se(xe,3)+2,Me=gr(nt(we.Ea,we.b),nt(we.nc,we.b),0,We,we.K),we.K=we.K[0];break;case 3:var Ze,qe=Se(xe,8)+1,ft=16<qe?0:4<qe?1:2<qe?2:3;if(Le[0]=nt(we.Ea,ft),we.b=ft,Ze=Me=gr(qe,1,0,We,we.K)){var at,kt=qe,lt=we,xn=1<<(8>>lt.b),bn=a(xn);if(bn==null)Ze=0;else{var dn=lt.K[0],rn=lt.w;for(bn[0]=lt.K[0][0],at=1;at<1*kt;++at)bn[at]=je(dn[rn+at],bn[at-1]);for(;at<4*xn;++at)bn[at]=0;lt.K[0]=null,lt.K[0]=bn,Ze=1}}Me=Ze;break;case 2:break;default:t(0)}V=Me}}if(G=G[0],K=K[0],V&&Se(J,1)&&!(V=1<=(ke=Se(J,4))&&11>=ke)){P.a=3;break e}var In;if(In=V)t:{var _n,Xt,_r,Fi=P,Ir=G,ji=K,An=ke,Qi=_,Ji=Fi.m,Wr=Fi.s,ti=[null],_i=1,bs=0,na=Xv[An];n:for(;;){if(Qi&&Se(Ji,1)){var Hr=Se(Ji,3)+2,Ca=nt(Ir,Hr),fl=nt(ji,Hr),Gl=Ca*fl;if(!gr(Ca,fl,0,Fi,ti))break n;for(ti=ti[0],Wr.xc=Hr,_n=0;_n<Gl;++_n){var ro=ti[_n]>>8&65535;ti[_n]=ro,ro>=_i&&(_i=ro+1)}}if(Ji.h)break n;for(Xt=0;5>Xt;++Xt){var cr=Gg[Xt];!Xt&&0<An&&(cr+=1<<An),bs<cr&&(bs=cr)}var Id=u(_i*na,X),nm=_i,rm=u(nm,oe);if(rm==null)var Yf=null;else t(65536>=nm),Yf=rm;var ac=a(bs);if(Yf==null||ac==null||Id==null){Fi.a=1;break n}var Kf=Id;for(_n=_r=0;_n<_i;++_n){var Ds=Yf[_n],Xl=Ds.G,Yl=Ds.H,im=0,Zf=1,sm=0;for(Xt=0;5>Xt;++Xt){cr=Gg[Xt],Xl[Xt]=Kf,Yl[Xt]=_r,!Xt&&0<An&&(cr+=1<<An);i:{var Qf,Td=cr,Jf=Fi,oc=ac,p4=Kf,g4=_r,kd=0,io=Jf.m,m4=Se(io,1);if(s(oc,0,0,Td),m4){var x4=Se(io,1)+1,y4=Se(io,1),am=Se(io,y4==0?1:8);oc[am]=1,x4==2&&(oc[am=Se(io,8)]=1);var $f=1}else{var om=a(19),lm=Se(io,4)+4;if(19<lm){Jf.a=3;var e1=0;break i}for(Qf=0;Qf<lm;++Qf)om[Hv[Qf]]=Se(io,3);var Ld=void 0,lc=void 0,um=Jf,w4=om,t1=Td,cm=oc,Pd=0,so=um.m,fm=8,hm=u(128,X);r:for(;W(hm,0,7,w4,19);){if(Se(so,1)){var v4=2+2*Se(so,3);if((Ld=2+Se(so,v4))>t1)break r}else Ld=t1;for(lc=0;lc<t1&&Ld--;){ce(so);var dm=hm[0+(127&ie(so))];ge(so,so.u+dm.g);var Kl=dm.value;if(16>Kl)cm[lc++]=Kl,Kl!=0&&(fm=Kl);else{var b4=Kl==16,pm=Kl-16,A4=Vv[pm],gm=Se(so,qv[pm])+A4;if(lc+gm>t1)break r;for(var C4=b4?fm:0;0<gm--;)cm[lc++]=C4}}Pd=1;break r}Pd||(um.a=3),$f=Pd}($f=$f&&!io.h)&&(kd=W(p4,g4,8,oc,Td)),$f&&kd!=0?e1=kd:(Jf.a=3,e1=0)}if(e1==0)break n;if(Zf&&Wv[Xt]==1&&(Zf=Kf[_r].g==0),im+=Kf[_r].g,_r+=e1,3>=Xt){var uc,Od=ac[0];for(uc=1;uc<cr;++uc)ac[uc]>Od&&(Od=ac[uc]);sm+=Od}}if(Ds.nd=Zf,Ds.Qb=0,Zf&&(Ds.qb=(Xl[3][Yl[3]+0].value<<24|Xl[1][Yl[1]+0].value<<16|Xl[2][Yl[2]+0].value)>>>0,im==0&&256>Xl[0][Yl[0]+0].value&&(Ds.Qb=1,Ds.qb+=Xl[0][Yl[0]+0].value<<8)),Ds.jc=!Ds.Qb&&6>sm,Ds.jc){var n1,Ea=Ds;for(n1=0;n1<Sn;++n1){var ao=n1,oo=Ea.pd[ao],r1=Ea.G[0][Ea.H[0]+ao];256<=r1.value?(oo.g=r1.g+256,oo.value=r1.value):(oo.g=0,oo.value=0,ao>>=un(r1,8,oo),ao>>=un(Ea.G[1][Ea.H[1]+ao],16,oo),ao>>=un(Ea.G[2][Ea.H[2]+ao],0,oo),un(Ea.G[3][Ea.H[3]+ao],24,oo))}}}Wr.vc=ti,Wr.Wb=_i,Wr.Ya=Yf,Wr.yc=Id,In=1;break t}In=0}if(!(V=In)){P.a=3;break e}if(0<ke){if(re.ua=1<<ke,!Nt(re.Wa,ke)){P.a=1,V=0;break e}}else re.ua=0;var Rd=P,mm=G,E4=K,Dd=Rd.s,Md=Dd.xc;if(Rd.c=mm,Rd.i=E4,Dd.md=nt(mm,Md),Dd.wc=Md==0?-1:(1<<Md)-1,_){P.xb=t4;break e}if((me=a(G*K))==null){P.a=1,V=0;break e}V=(V=qr(P,me,0,G,K,K,null))&&!J.h;break e}return V?(j!=null?j[0]=me:(t(me==null),t(_)),P.$=0,_||Ei(re)):Ei(re),V}function ga(g,y){var _=g.c*g.i,P=_+y+16*y;return t(g.c<=y),g.V=a(P),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+_+y,1)}function Ha(g,y){var _=g.C,P=y-_,j=g.V,V=g.Ba+g.c*_;for(t(y<=g.l.o);0<P;){var G=16<P?16:P,K=g.l.ma,J=g.l.width,re=J*G,me=K.ca,ke=K.tb+J*_,Le=g.Ta,Ce=g.Ua;Ln(g,G,j,V),vr(Le,Ce,me,ke,re),Ci(K,_,_+G,me,ke,J),P-=G,j+=G*g.c,_+=G}t(_==y),g.C=g.Ma=y}function $r(){this.ub=this.yd=this.td=this.Rb=0}function or(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function mn(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Yo(){this.Yb=function(){var g=[];return function y(_,P,j){for(var V=j[P],G=0;G<V&&(_.push(j.length>P+1?[]:0),!(j.length<P+1));G++)y(_[G],P+1,j)}(g,0,[3,11]),g}()}function hs(){this.jb=a(3),this.Wc=h([4,8],Yo),this.Xc=h([4,17],Yo)}function Ko(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ve(){this.ld=this.La=this.dd=this.tc=0}function zl(){this.Na=this.la=0}function On(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ds(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ec(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ve),this.Y=0,this.ya=Array(new ds),this.aa=0,this.l=new Gt}function sn(){this.y=a(16),this.f=a(8),this.ea=a(8)}function an(){this.cb=this.a=0,this.sc="",this.m=new Je,this.Od=new $r,this.Kc=new or,this.ed=new Ko,this.Qa=new mn,this.Ic=this.$c=this.Aa=0,this.D=new ec,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,Je),this.ia=0,this.pb=u(4,On),this.Pa=new hs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new sn),this.Hd=0,this.rb=Array(new zl),this.sb=0,this.wa=Array(new Ve),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ds),this.L=this.aa=0,this.gd=h([4,2],Ve),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Gt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Zo(){var g=new an;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,ic||(ic=Xi)),g}function jn(g,y,_){return g.a==0&&(g.a=y,g.sc=_,g.cb=0),0}function Ga(g,y,_){return 3<=_&&g[y+0]==157&&g[y+1]==1&&g[y+2]==42}function Xn(g,y){if(g==null)return 0;if(g.a=0,g.sc="OK",y==null)return jn(g,2,"null VP8Io passed to VP8GetHeaders()");var _=y.data,P=y.w,j=y.ha;if(4>j)return jn(g,7,"Truncated header.");var V=_[P+0]|_[P+1]<<8|_[P+2]<<16,G=g.Od;if(G.Rb=!(1&V),G.td=V>>1&7,G.yd=V>>4&1,G.ub=V>>5,3<G.td)return jn(g,3,"Incorrect keyframe parameters.");if(!G.yd)return jn(g,4,"Frame not displayable.");P+=3,j-=3;var K=g.Kc;if(G.Rb){if(7>j)return jn(g,7,"cannot parse picture header");if(!Ga(_,P,j))return jn(g,3,"Bad code word");K.c=16383&(_[P+4]<<8|_[P+3]),K.Td=_[P+4]>>6,K.i=16383&(_[P+6]<<8|_[P+5]),K.Ud=_[P+6]>>6,P+=7,j-=7,g.za=K.c+15>>4,g.Ub=K.i+15>>4,y.width=K.c,y.height=K.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,s((V=g.Pa).jb,0,255,V.jb.length),t((V=g.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,s(V.Zb,0,0,V.Zb.length),s(V.Lb,0,0,V.Lb)}if(G.ub>j)return jn(g,7,"bad partition length");se(V=g.m,_,P,G.ub),P+=G.ub,j-=G.ub,G.Rb&&(K.Ld=_e(V),K.Kd=_e(V)),K=g.Qa;var J,re=g.Pa;if(t(V!=null),t(K!=null),K.Cb=_e(V),K.Cb){if(K.Bb=_e(V),_e(V)){for(K.Fb=_e(V),J=0;4>J;++J)K.Zb[J]=_e(V)?ve(V,7):0;for(J=0;4>J;++J)K.Lb[J]=_e(V)?ve(V,6):0}if(K.Bb)for(J=0;3>J;++J)re.jb[J]=_e(V)?Ne(V,8):255}else K.Bb=0;if(V.Ka)return jn(g,3,"cannot parse segment header");if((K=g.ed).zd=_e(V),K.Tb=Ne(V,6),K.wb=Ne(V,3),K.Pc=_e(V),K.Pc&&_e(V)){for(re=0;4>re;++re)_e(V)&&(K.vd[re]=ve(V,6));for(re=0;4>re;++re)_e(V)&&(K.od[re]=ve(V,6))}if(g.L=K.Tb==0?0:K.zd?1:2,V.Ka)return jn(g,3,"cannot parse filter header");var me=j;if(j=J=P,P=J+me,K=me,g.Xb=(1<<Ne(g.m,2))-1,me<3*(re=g.Xb))_=7;else{for(J+=3*re,K-=3*re,me=0;me<re;++me){var ke=_[j+0]|_[j+1]<<8|_[j+2]<<16;ke>K&&(ke=K),se(g.Jc[+me],_,J,ke),J+=ke,K-=ke,j+=3}se(g.Jc[+re],_,J,K),_=J<P?0:5}if(_!=0)return jn(g,_,"cannot parse partitions");for(_=Ne(J=g.m,7),j=_e(J)?ve(J,4):0,P=_e(J)?ve(J,4):0,K=_e(J)?ve(J,4):0,re=_e(J)?ve(J,4):0,J=_e(J)?ve(J,4):0,me=g.Qa,ke=0;4>ke;++ke){if(me.Cb){var Le=me.Zb[ke];me.Fb||(Le+=_)}else{if(0<ke){g.pb[ke]=g.pb[0];continue}Le=_}var Ce=g.pb[ke];Ce.Sc[0]=Nd[lr(Le+j,127)],Ce.Sc[1]=Sd[lr(Le+0,127)],Ce.Eb[0]=2*Nd[lr(Le+P,127)],Ce.Eb[1]=101581*Sd[lr(Le+K,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=Nd[lr(Le+re,117)],Ce.Qc[1]=Sd[lr(Le+J,127)],Ce.lc=Le+J}if(!G.Rb)return jn(g,4,"Not a key frame.");for(_e(V),G=g.Pa,_=0;4>_;++_){for(j=0;8>j;++j)for(P=0;3>P;++P)for(K=0;11>K;++K)re=Pe(V,$v[_][j][P][K])?Ne(V,8):Qv[_][j][P][K],G.Wc[_][j].Yb[P][K]=re;for(j=0;17>j;++j)G.Xc[_][j]=G.Wc[_][e4[j]]}return g.kc=_e(V),g.kc&&(g.Bd=Ne(V,8)),g.cb=1}function Xi(g,y,_,P,j,V,G){var K=y[j].Yb[_];for(_=0;16>j;++j){if(!Pe(g,K[_+0]))return j;for(;!Pe(g,K[_+1]);)if(K=y[++j].Yb[0],_=0,j==16)return 16;var J=y[j+1].Yb;if(Pe(g,K[_+2])){var re=g,me=0;if(Pe(re,(Le=K)[(ke=_)+3]))if(Pe(re,Le[ke+6])){for(K=0,ke=2*(me=Pe(re,Le[ke+8]))+(Le=Pe(re,Le[ke+9+me])),me=0,Le=Kv[ke];Le[K];++K)me+=me+Pe(re,Le[K]);me+=3+(8<<ke)}else Pe(re,Le[ke+7])?(me=7+2*Pe(re,165),me+=Pe(re,145)):me=5+Pe(re,159);else me=Pe(re,Le[ke+4])?3+Pe(re,Le[ke+5]):2;K=J[2]}else me=1,K=J[1];J=G+Zv[j],0>(re=g).b&&Te(re);var ke,Le=re.b,Ce=(ke=re.Ca>>1)-(re.I>>Le)>>31;--re.b,re.Ca+=Ce,re.Ca|=1,re.I-=(ke+1&Ce)<<Le,V[J]=((me^Ce)-Ce)*P[(0<j)+0]}return 16}function Qo(g){var y=g.rb[g.sb-1];y.la=0,y.Na=0,s(g.zc,0,0,g.zc.length),g.ja=0}function Un(g,y){if(g==null)return 0;if(y==null)return jn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!Xn(g,y))return 0;if(t(g.cb),y.ac==null||y.ac(y)){y.ob&&(g.L=0);var _=Xf[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=y.v-_>>4,g.zb=y.j-_>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=y.o+15+_>>4,g.Hb=y.va+15+_>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var P=g.ed;for(_=0;4>_;++_){var j;if(g.Qa.Cb){var V=g.Qa.Lb[_];g.Qa.Fb||(V+=P.Tb)}else V=P.Tb;for(j=0;1>=j;++j){var G=g.gd[_][j],K=V;if(P.Pc&&(K+=P.vd[0],j&&(K+=P.od[0])),0<(K=0>K?0:63<K?63:K)){var J=K;0<P.wb&&(J=4<P.wb?J>>2:J>>1)>9-P.wb&&(J=9-P.wb),1>J&&(J=1),G.dd=J,G.tc=2*K+J,G.ld=40<=K?2:15<=K?1:0}else G.tc=0;G.La=j}}}_=0}else jn(g,6,"Frame setup failed"),_=g.a;if(_=_==0){if(_){g.$c=0,0<g.Aa||(g.Ic=d4);e:{_=g.Ic,P=4*(J=g.za);var re=32*J,me=J+1,ke=0<g.L?J*(0<g.Aa?2:1):0,Le=(g.Aa==2?2:1)*J;if((G=P+832+(j=3*(16*_+Xf[g.L])/2*re)+(V=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=G)_=0;else{if(G>g.Vb){if(g.Vb=0,g.Ec=a(G),g.Fc=0,g.Ec==null){_=jn(g,1,"no memory during frame initialization.");break e}g.Vb=G}G=g.Ec,K=g.Fc,g.Ac=G,g.Bc=K,K+=P,g.Gd=u(re,sn),g.Hd=0,g.rb=u(me+1,zl),g.sb=1,g.wa=ke?u(ke,Ve):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=J),t(!0),g.oc=G,g.pc=K,K+=832,g.ya=u(Le,ds),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=J),g.R=16*J,g.B=8*J,J=(re=Xf[g.L])*g.R,re=re/2*g.B,g.sa=G,g.ta=K+J,g.qa=g.sa,g.ra=g.ta+16*_*g.R+re,g.Ha=g.qa,g.Ia=g.ra+8*_*g.B+re,g.$c=0,K+=j,g.mb=V?G:null,g.nb=V?K:null,t(K+V<=g.Fc+g.Vb),Qo(g),s(g.Ac,g.Bc,0,P),_=1}}if(_){if(y.ka=0,y.y=g.sa,y.O=g.ta,y.f=g.qa,y.N=g.ra,y.ea=g.Ha,y.Vd=g.Ia,y.fa=g.R,y.Rc=g.B,y.F=null,y.J=0,!Ff){for(_=-255;255>=_;++_)Dr[255+_]=0>_?-_:_;for(_=-1020;1020>=_;++_)ba[1020+_]=-128>_?-128:127<_?127:_;for(_=-112;112>=_;++_)rc[112+_]=-16>_?-16:15<_?15:_;for(_=-255;510>=_;++_)Hl[255+_]=0>_?0:255<_?255:_;Ff=1}he=ai,pe=Ie,Re=ee,Xe=vt,Qe=er,be=xr,Ke=Qs,Yt=li,Rt=Wt,ur=tr,Rr=nc,rr=Oe,on=Js,Qn=ol,wr=al,Si=ms,ys=Os,Mi=tc,Rs[0]=bt,Rs[1]=$o,Rs[2]=xa,Rs[3]=ps,Rs[4]=Vl,Rs[5]=Yn,Rs[6]=zt,Rs[7]=tl,Rs[8]=Wl,Rs[9]=nl,to[0]=Ka,to[1]=Et,to[2]=fn,to[3]=ma,to[4]=yr,to[5]=el,to[6]=ql,Aa[0]=Ri,Aa[1]=oi,Aa[2]=Ls,Aa[3]=rl,Aa[4]=Zs,Aa[5]=ya,Aa[6]=Ps,_=1}else _=0}_&&(_=function(Ce,We){for(Ce.M=0;Ce.M<Ce.Va;++Ce.M){var Me,xe=Ce.Jc[Ce.M&Ce.Xb],we=Ce.m,Ue=Ce;for(Me=0;Me<Ue.za;++Me){var Ze=we,qe=Ue,ft=qe.Ac,at=qe.Bc+4*Me,kt=qe.zc,lt=qe.ya[qe.aa+Me];if(qe.Qa.Bb?lt.$b=Pe(Ze,qe.Pa.jb[0])?2+Pe(Ze,qe.Pa.jb[2]):Pe(Ze,qe.Pa.jb[1]):lt.$b=0,qe.kc&&(lt.Ad=Pe(Ze,qe.Bd)),lt.Za=!Pe(Ze,145)+0,lt.Za){var xn=lt.Ob,bn=0;for(qe=0;4>qe;++qe){var dn,rn=kt[0+qe];for(dn=0;4>dn;++dn){rn=Jv[ft[at+dn]][rn];for(var In=Xg[Pe(Ze,rn[0])];0<In;)In=Xg[2*In+Pe(Ze,rn[In])];rn=-In,ft[at+dn]=rn}r(xn,bn,ft,at,4),bn+=4,kt[0+qe]=rn}}else rn=Pe(Ze,156)?Pe(Ze,128)?1:3:Pe(Ze,163)?2:0,lt.Ob[0]=rn,s(ft,at,rn,4),s(kt,0,rn,4);lt.Dd=Pe(Ze,142)?Pe(Ze,114)?Pe(Ze,183)?1:3:2:0}if(Ue.m.Ka)return jn(Ce,7,"Premature end-of-partition0 encountered.");for(;Ce.ja<Ce.za;++Ce.ja){if(Ue=xe,Ze=(we=Ce).rb[we.sb-1],ft=we.rb[we.sb+we.ja],Me=we.ya[we.aa+we.ja],at=we.kc?Me.Ad:0)Ze.la=ft.la=0,Me.Za||(Ze.Na=ft.Na=0),Me.Hc=0,Me.Gc=0,Me.ia=0;else{var _n,Xt;if(Ze=ft,ft=Ue,at=we.Pa.Xc,kt=we.ya[we.aa+we.ja],lt=we.pb[kt.$b],qe=kt.ad,xn=0,bn=we.rb[we.sb-1],rn=dn=0,s(qe,xn,0,384),kt.Za)var _r=0,Fi=at[3];else{In=a(16);var Ir=Ze.Na+bn.Na;if(Ir=ic(ft,at[1],Ir,lt.Eb,0,In,0),Ze.Na=bn.Na=(0<Ir)+0,1<Ir)he(In,0,qe,xn);else{var ji=In[0]+3>>3;for(In=0;256>In;In+=16)qe[xn+In]=ji}_r=1,Fi=at[0]}var An=15&Ze.la,Qi=15&bn.la;for(In=0;4>In;++In){var Ji=1&Qi;for(ji=Xt=0;4>ji;++ji)An=An>>1|(Ji=(Ir=ic(ft,Fi,Ir=Ji+(1&An),lt.Sc,_r,qe,xn))>_r)<<7,Xt=Xt<<2|(3<Ir?3:1<Ir?2:qe[xn+0]!=0),xn+=16;An>>=4,Qi=Qi>>1|Ji<<7,dn=(dn<<8|Xt)>>>0}for(Fi=An,_r=Qi>>4,_n=0;4>_n;_n+=2){for(Xt=0,An=Ze.la>>4+_n,Qi=bn.la>>4+_n,In=0;2>In;++In){for(Ji=1&Qi,ji=0;2>ji;++ji)Ir=Ji+(1&An),An=An>>1|(Ji=0<(Ir=ic(ft,at[2],Ir,lt.Qc,0,qe,xn)))<<3,Xt=Xt<<2|(3<Ir?3:1<Ir?2:qe[xn+0]!=0),xn+=16;An>>=2,Qi=Qi>>1|Ji<<5}rn|=Xt<<4*_n,Fi|=An<<4<<_n,_r|=(240&Qi)<<_n}Ze.la=Fi,bn.la=_r,kt.Hc=dn,kt.Gc=rn,kt.ia=43690&rn?0:lt.ia,at=!(dn|rn)}if(0<we.L&&(we.wa[we.Y+we.ja]=we.gd[Me.$b][Me.Za],we.wa[we.Y+we.ja].La|=!at),Ue.Ka)return jn(Ce,7,"Premature end-of-file encountered.")}if(Qo(Ce),we=We,Ue=1,Me=(xe=Ce).D,Ze=0<xe.L&&xe.M>=xe.zb&&xe.M<=xe.Va,xe.Aa==0)e:{if(Me.M=xe.M,Me.uc=Ze,ci(xe,Me),Ue=1,Me=(Xt=xe.D).Nb,Ze=(rn=Xf[xe.L])*xe.R,ft=rn/2*xe.B,In=16*Me*xe.R,ji=8*Me*xe.B,at=xe.sa,kt=xe.ta-Ze+In,lt=xe.qa,qe=xe.ra-ft+ji,xn=xe.Ha,bn=xe.Ia-ft+ji,Qi=(An=Xt.M)==0,dn=An>=xe.Va-1,xe.Aa==2&&ci(xe,Xt),Xt.uc)for(Ji=(Ir=xe).D.M,t(Ir.D.uc),Xt=Ir.yb;Xt<Ir.Hb;++Xt){_r=Xt,Fi=Ji;var Wr=(ti=(cr=Ir).D).Nb;_n=cr.R;var ti=ti.wa[ti.Y+_r],_i=cr.sa,bs=cr.ta+16*Wr*_n+16*_r,na=ti.dd,Hr=ti.tc;if(Hr!=0)if(t(3<=Hr),cr.L==1)0<_r&&Si(_i,bs,_n,Hr+4),ti.La&&Mi(_i,bs,_n,Hr),0<Fi&&wr(_i,bs,_n,Hr+4),ti.La&&ys(_i,bs,_n,Hr);else{var Ca=cr.B,fl=cr.qa,Gl=cr.ra+8*Wr*Ca+8*_r,ro=cr.Ha,cr=cr.Ia+8*Wr*Ca+8*_r;Wr=ti.ld,0<_r&&(Yt(_i,bs,_n,Hr+4,na,Wr),ur(fl,Gl,ro,cr,Ca,Hr+4,na,Wr)),ti.La&&(rr(_i,bs,_n,Hr,na,Wr),Qn(fl,Gl,ro,cr,Ca,Hr,na,Wr)),0<Fi&&(Ke(_i,bs,_n,Hr+4,na,Wr),Rt(fl,Gl,ro,cr,Ca,Hr+4,na,Wr)),ti.La&&(Rr(_i,bs,_n,Hr,na,Wr),on(fl,Gl,ro,cr,Ca,Hr,na,Wr))}}if(xe.ia&&alert("todo:DitherRow"),we.put!=null){if(Xt=16*An,An=16*(An+1),Qi?(we.y=xe.sa,we.O=xe.ta+In,we.f=xe.qa,we.N=xe.ra+ji,we.ea=xe.Ha,we.W=xe.Ia+ji):(Xt-=rn,we.y=at,we.O=kt,we.f=lt,we.N=qe,we.ea=xn,we.W=bn),dn||(An-=rn),An>we.o&&(An=we.o),we.F=null,we.J=null,xe.Fa!=null&&0<xe.Fa.length&&Xt<An&&(we.J=hn(xe,we,Xt,An-Xt),we.F=xe.mb,we.F==null&&we.F.length==0)){Ue=jn(xe,3,"Could not decode alpha data.");break e}Xt<we.j&&(rn=we.j-Xt,Xt=we.j,t(!(1&rn)),we.O+=xe.R*rn,we.N+=xe.B*(rn>>1),we.W+=xe.B*(rn>>1),we.F!=null&&(we.J+=we.width*rn)),Xt<An&&(we.O+=we.v,we.N+=we.v>>1,we.W+=we.v>>1,we.F!=null&&(we.J+=we.v),we.ka=Xt-we.j,we.U=we.va-we.v,we.T=An-Xt,Ue=we.put(we))}Me+1!=xe.Ic||dn||(r(xe.sa,xe.ta-Ze,at,kt+16*xe.R,Ze),r(xe.qa,xe.ra-ft,lt,qe+8*xe.B,ft),r(xe.Ha,xe.Ia-ft,xn,bn+8*xe.B,ft))}if(!Ue)return jn(Ce,6,"Output aborted.")}return 1}(g,y)),y.bc!=null&&y.bc(y),_&=1}return _?(g.cb=0,_):0}function Sr(g,y,_,P,j){j=g[y+_+32*P]+(j>>3),g[y+_+32*P]=-256&j?0>j?0:255:j}function Xa(g,y,_,P,j,V){Sr(g,y,0,_,P+j),Sr(g,y,1,_,P+V),Sr(g,y,2,_,P-V),Sr(g,y,3,_,P-j)}function mr(g){return(20091*g>>16)+g}function gn(g,y,_,P){var j,V=0,G=a(16);for(j=0;4>j;++j){var K=g[y+0]+g[y+8],J=g[y+0]-g[y+8],re=(35468*g[y+4]>>16)-mr(g[y+12]),me=mr(g[y+4])+(35468*g[y+12]>>16);G[V+0]=K+me,G[V+1]=J+re,G[V+2]=J-re,G[V+3]=K-me,V+=4,y++}for(j=V=0;4>j;++j)K=(g=G[V+0]+4)+G[V+8],J=g-G[V+8],re=(35468*G[V+4]>>16)-mr(G[V+12]),Sr(_,P,0,0,K+(me=mr(G[V+4])+(35468*G[V+12]>>16))),Sr(_,P,1,0,J+re),Sr(_,P,2,0,J-re),Sr(_,P,3,0,K-me),V++,P+=32}function xr(g,y,_,P){var j=g[y+0]+4,V=35468*g[y+4]>>16,G=mr(g[y+4]),K=35468*g[y+1]>>16;Xa(_,P,0,j+G,g=mr(g[y+1]),K),Xa(_,P,1,j+V,g,K),Xa(_,P,2,j-V,g,K),Xa(_,P,3,j-G,g,K)}function Ie(g,y,_,P,j){gn(g,y,_,P),j&&gn(g,y+16,_,P+4)}function ee(g,y,_,P){pe(g,y+0,_,P,1),pe(g,y+32,_,P+128,1)}function vt(g,y,_,P){var j;for(g=g[y+0]+4,j=0;4>j;++j)for(y=0;4>y;++y)Sr(_,P,y,j,g)}function er(g,y,_,P){g[y+0]&&Xe(g,y+0,_,P),g[y+16]&&Xe(g,y+16,_,P+4),g[y+32]&&Xe(g,y+32,_,P+128),g[y+48]&&Xe(g,y+48,_,P+128+4)}function ai(g,y,_,P){var j,V=a(16);for(j=0;4>j;++j){var G=g[y+0+j]+g[y+12+j],K=g[y+4+j]+g[y+8+j],J=g[y+4+j]-g[y+8+j],re=g[y+0+j]-g[y+12+j];V[0+j]=G+K,V[8+j]=G-K,V[4+j]=re+J,V[12+j]=re-J}for(j=0;4>j;++j)G=(g=V[0+4*j]+3)+V[3+4*j],K=V[1+4*j]+V[2+4*j],J=V[1+4*j]-V[2+4*j],re=g-V[3+4*j],_[P+0]=G+K>>3,_[P+16]=re+J>>3,_[P+32]=G-K>>3,_[P+48]=re-J>>3,P+=64}function Jo(g,y,_){var P,j=y-32,V=Zi,G=255-g[j-1];for(P=0;P<_;++P){var K,J=V,re=G+g[y-1];for(K=0;K<_;++K)g[y+K]=J[re+g[j+K]];y+=32}}function $o(g,y){Jo(g,y,4)}function oi(g,y){Jo(g,y,8)}function Et(g,y){Jo(g,y,16)}function fn(g,y){var _;for(_=0;16>_;++_)r(g,y+32*_,g,y-32,16)}function ma(g,y){var _;for(_=16;0<_;--_)s(g,y,g[y-1],16),y+=32}function Ya(g,y,_){var P;for(P=0;16>P;++P)s(y,_+32*P,g,16)}function Ka(g,y){var _,P=16;for(_=0;16>_;++_)P+=g[y-1+32*_]+g[y+_-32];Ya(P>>5,g,y)}function yr(g,y){var _,P=8;for(_=0;16>_;++_)P+=g[y-1+32*_];Ya(P>>4,g,y)}function el(g,y){var _,P=8;for(_=0;16>_;++_)P+=g[y+_-32];Ya(P>>4,g,y)}function ql(g,y){Ya(128,g,y)}function gt(g,y,_){return g+2*y+_+2>>2}function xa(g,y){var _,P=y-32;for(P=new Uint8Array([gt(g[P-1],g[P+0],g[P+1]),gt(g[P+0],g[P+1],g[P+2]),gt(g[P+1],g[P+2],g[P+3]),gt(g[P+2],g[P+3],g[P+4])]),_=0;4>_;++_)r(g,y+32*_,P,0,P.length)}function ps(g,y){var _=g[y-1],P=g[y-1+32],j=g[y-1+64],V=g[y-1+96];$e(g,y+0,16843009*gt(g[y-1-32],_,P)),$e(g,y+32,16843009*gt(_,P,j)),$e(g,y+64,16843009*gt(P,j,V)),$e(g,y+96,16843009*gt(j,V,V))}function bt(g,y){var _,P=4;for(_=0;4>_;++_)P+=g[y+_-32]+g[y-1+32*_];for(P>>=3,_=0;4>_;++_)s(g,y+32*_,P,4)}function Vl(g,y){var _=g[y-1+0],P=g[y-1+32],j=g[y-1+64],V=g[y-1-32],G=g[y+0-32],K=g[y+1-32],J=g[y+2-32],re=g[y+3-32];g[y+0+96]=gt(P,j,g[y-1+96]),g[y+1+96]=g[y+0+64]=gt(_,P,j),g[y+2+96]=g[y+1+64]=g[y+0+32]=gt(V,_,P),g[y+3+96]=g[y+2+64]=g[y+1+32]=g[y+0+0]=gt(G,V,_),g[y+3+64]=g[y+2+32]=g[y+1+0]=gt(K,G,V),g[y+3+32]=g[y+2+0]=gt(J,K,G),g[y+3+0]=gt(re,J,K)}function zt(g,y){var _=g[y+1-32],P=g[y+2-32],j=g[y+3-32],V=g[y+4-32],G=g[y+5-32],K=g[y+6-32],J=g[y+7-32];g[y+0+0]=gt(g[y+0-32],_,P),g[y+1+0]=g[y+0+32]=gt(_,P,j),g[y+2+0]=g[y+1+32]=g[y+0+64]=gt(P,j,V),g[y+3+0]=g[y+2+32]=g[y+1+64]=g[y+0+96]=gt(j,V,G),g[y+3+32]=g[y+2+64]=g[y+1+96]=gt(V,G,K),g[y+3+64]=g[y+2+96]=gt(G,K,J),g[y+3+96]=gt(K,J,J)}function Yn(g,y){var _=g[y-1+0],P=g[y-1+32],j=g[y-1+64],V=g[y-1-32],G=g[y+0-32],K=g[y+1-32],J=g[y+2-32],re=g[y+3-32];g[y+0+0]=g[y+1+64]=V+G+1>>1,g[y+1+0]=g[y+2+64]=G+K+1>>1,g[y+2+0]=g[y+3+64]=K+J+1>>1,g[y+3+0]=J+re+1>>1,g[y+0+96]=gt(j,P,_),g[y+0+64]=gt(P,_,V),g[y+0+32]=g[y+1+96]=gt(_,V,G),g[y+1+32]=g[y+2+96]=gt(V,G,K),g[y+2+32]=g[y+3+96]=gt(G,K,J),g[y+3+32]=gt(K,J,re)}function tl(g,y){var _=g[y+0-32],P=g[y+1-32],j=g[y+2-32],V=g[y+3-32],G=g[y+4-32],K=g[y+5-32],J=g[y+6-32],re=g[y+7-32];g[y+0+0]=_+P+1>>1,g[y+1+0]=g[y+0+64]=P+j+1>>1,g[y+2+0]=g[y+1+64]=j+V+1>>1,g[y+3+0]=g[y+2+64]=V+G+1>>1,g[y+0+32]=gt(_,P,j),g[y+1+32]=g[y+0+96]=gt(P,j,V),g[y+2+32]=g[y+1+96]=gt(j,V,G),g[y+3+32]=g[y+2+96]=gt(V,G,K),g[y+3+64]=gt(G,K,J),g[y+3+96]=gt(K,J,re)}function nl(g,y){var _=g[y-1+0],P=g[y-1+32],j=g[y-1+64],V=g[y-1+96];g[y+0+0]=_+P+1>>1,g[y+2+0]=g[y+0+32]=P+j+1>>1,g[y+2+32]=g[y+0+64]=j+V+1>>1,g[y+1+0]=gt(_,P,j),g[y+3+0]=g[y+1+32]=gt(P,j,V),g[y+3+32]=g[y+1+64]=gt(j,V,V),g[y+3+64]=g[y+2+64]=g[y+0+96]=g[y+1+96]=g[y+2+96]=g[y+3+96]=V}function Wl(g,y){var _=g[y-1+0],P=g[y-1+32],j=g[y-1+64],V=g[y-1+96],G=g[y-1-32],K=g[y+0-32],J=g[y+1-32],re=g[y+2-32];g[y+0+0]=g[y+2+32]=_+G+1>>1,g[y+0+32]=g[y+2+64]=P+_+1>>1,g[y+0+64]=g[y+2+96]=j+P+1>>1,g[y+0+96]=V+j+1>>1,g[y+3+0]=gt(K,J,re),g[y+2+0]=gt(G,K,J),g[y+1+0]=g[y+3+32]=gt(_,G,K),g[y+1+32]=g[y+3+64]=gt(P,_,G),g[y+1+64]=g[y+3+96]=gt(j,P,_),g[y+1+96]=gt(V,j,P)}function Ls(g,y){var _;for(_=0;8>_;++_)r(g,y+32*_,g,y-32,8)}function rl(g,y){var _;for(_=0;8>_;++_)s(g,y,g[y-1],8),y+=32}function Yi(g,y,_){var P;for(P=0;8>P;++P)s(y,_+32*P,g,8)}function Ri(g,y){var _,P=8;for(_=0;8>_;++_)P+=g[y+_-32]+g[y-1+32*_];Yi(P>>4,g,y)}function ya(g,y){var _,P=4;for(_=0;8>_;++_)P+=g[y+_-32];Yi(P>>3,g,y)}function Zs(g,y){var _,P=4;for(_=0;8>_;++_)P+=g[y-1+32*_];Yi(P>>3,g,y)}function Ps(g,y){Yi(128,g,y)}function gs(g,y,_){var P=g[y-_],j=g[y+0],V=3*(j-P)+vd[1020+g[y-2*_]-g[y+_]],G=jf[112+(V+4>>3)];g[y-_]=Zi[255+P+jf[112+(V+3>>3)]],g[y+0]=Zi[255+j-G]}function Pr(g,y,_,P){var j=g[y+0],V=g[y+_];return ws[255+g[y-2*_]-g[y-_]]>P||ws[255+V-j]>P}function il(g,y,_,P){return 4*ws[255+g[y-_]-g[y+0]]+ws[255+g[y-2*_]-g[y+_]]<=P}function sl(g,y,_,P,j){var V=g[y-3*_],G=g[y-2*_],K=g[y-_],J=g[y+0],re=g[y+_],me=g[y+2*_],ke=g[y+3*_];return 4*ws[255+K-J]+ws[255+G-re]>P?0:ws[255+g[y-4*_]-V]<=j&&ws[255+V-G]<=j&&ws[255+G-K]<=j&&ws[255+ke-me]<=j&&ws[255+me-re]<=j&&ws[255+re-J]<=j}function al(g,y,_,P){var j=2*P+1;for(P=0;16>P;++P)il(g,y+P,_,j)&&gs(g,y+P,_)}function ms(g,y,_,P){var j=2*P+1;for(P=0;16>P;++P)il(g,y+P*_,1,j)&&gs(g,y+P*_,1)}function Os(g,y,_,P){var j;for(j=3;0<j;--j)al(g,y+=4*_,_,P)}function tc(g,y,_,P){var j;for(j=3;0<j;--j)ms(g,y+=4,_,P)}function Jt(g,y,_,P,j,V,G,K){for(V=2*V+1;0<j--;){if(sl(g,y,_,V,G))if(Pr(g,y,_,K))gs(g,y,_);else{var J=g,re=y,me=_,ke=J[re-2*me],Le=J[re-me],Ce=J[re+0],We=J[re+me],Me=J[re+2*me],xe=27*(Ue=vd[1020+3*(Ce-Le)+vd[1020+ke-We]])+63>>7,we=18*Ue+63>>7,Ue=9*Ue+63>>7;J[re-3*me]=Zi[255+J[re-3*me]+Ue],J[re-2*me]=Zi[255+ke+we],J[re-me]=Zi[255+Le+xe],J[re+0]=Zi[255+Ce-xe],J[re+me]=Zi[255+We-we],J[re+2*me]=Zi[255+Me-Ue]}y+=P}}function Di(g,y,_,P,j,V,G,K){for(V=2*V+1;0<j--;){if(sl(g,y,_,V,G))if(Pr(g,y,_,K))gs(g,y,_);else{var J=g,re=y,me=_,ke=J[re-me],Le=J[re+0],Ce=J[re+me],We=jf[112+((Me=3*(Le-ke))+4>>3)],Me=jf[112+(Me+3>>3)],xe=We+1>>1;J[re-2*me]=Zi[255+J[re-2*me]+xe],J[re-me]=Zi[255+ke+Me],J[re+0]=Zi[255+Le-We],J[re+me]=Zi[255+Ce-xe]}y+=P}}function Qs(g,y,_,P,j,V){Jt(g,y,_,1,16,P,j,V)}function li(g,y,_,P,j,V){Jt(g,y,1,_,16,P,j,V)}function nc(g,y,_,P,j,V){var G;for(G=3;0<G;--G)Di(g,y+=4*_,_,1,16,P,j,V)}function Oe(g,y,_,P,j,V){var G;for(G=3;0<G;--G)Di(g,y+=4,1,_,16,P,j,V)}function Wt(g,y,_,P,j,V,G,K){Jt(g,y,j,1,8,V,G,K),Jt(_,P,j,1,8,V,G,K)}function tr(g,y,_,P,j,V,G,K){Jt(g,y,1,j,8,V,G,K),Jt(_,P,1,j,8,V,G,K)}function Js(g,y,_,P,j,V,G,K){Di(g,y+4*j,j,1,8,V,G,K),Di(_,P+4*j,j,1,8,V,G,K)}function ol(g,y,_,P,j,V,G,K){Di(g,y+4,1,j,8,V,G,K),Di(_,P+4,1,j,8,V,G,K)}function Za(){this.ba=new Vt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Fn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ll(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ul(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Qa(){this.ua=0,this.Wa=new ue,this.vb=new ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new X}function nr(){this.xb=this.a=0,this.l=new Gt,this.ca=new Vt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Qa,this.ab=0,this.gc=u(4,ul),this.Oc=0}function $s(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Gt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function wn(g,y,_,P,j,V,G){for(g=g==null?0:g[y+0],y=0;y<G;++y)j[V+y]=g+_[P+y]&255,g=j[V+y]}function ea(g,y,_,P,j,V,G){var K;if(g==null)wn(null,null,_,P,j,V,G);else for(K=0;K<G;++K)j[V+K]=g[y+K]+_[P+K]&255}function ui(g,y,_,P,j,V,G){if(g==null)wn(null,null,_,P,j,V,G);else{var K,J=g[y+0],re=J,me=J;for(K=0;K<G;++K)re=me+(J=g[y+K])-re,me=_[P+K]+(-256&re?0>re?0:255:re)&255,re=J,j[V+K]=me}}function hn(g,y,_,P){var j=y.width,V=y.o;if(t(g!=null&&y!=null),0>_||0>=P||_+P>V)return null;if(!g.Cc){if(g.ga==null){var G;if(g.ga=new $s,(G=g.ga==null)||(G=y.width*y.o,t(g.Gb.length==0),g.Gb=a(G),g.Uc=0,g.Gb==null?G=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,G=1),G=!G),!G){G=g.ga;var K=g.Fa,J=g.P,re=g.qc,me=g.mb,ke=g.nb,Le=J+1,Ce=re-1,We=G.l;if(t(K!=null&&me!=null&&y!=null),no[0]=null,no[1]=wn,no[2]=ea,no[3]=ui,G.ca=me,G.tb=ke,G.c=y.width,G.i=y.height,t(0<G.c&&0<G.i),1>=re)y=0;else if(G.$a=K[J+0]>>0&3,G.Z=K[J+0]>>2&3,G.Lc=K[J+0]>>4&3,J=K[J+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||J)y=0;else if(We.put=Qr,We.ac=ln,We.bc=Ai,We.ma=G,We.width=y.width,We.height=y.height,We.Da=y.Da,We.v=y.v,We.va=y.va,We.j=y.j,We.o=y.o,G.$a)e:{t(G.$a==1),y=Jr();t:for(;;){if(y==null){y=0;break e}if(t(G!=null),G.mc=y,y.c=G.c,y.i=G.i,y.l=G.l,y.l.ma=G,y.l.width=G.c,y.l.height=G.i,y.a=0,fe(y.m,K,Le,Ce),!gr(G.c,G.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&si(y.s)?(G.ic=1,K=y.c*y.i,y.Ta=null,y.Ua=0,y.V=a(K),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(G.ic=0,y=ga(y,G.c)),!y))break t;y=1;break e}G.mc=null,y=0}else y=Ce>=G.c*G.i;G=!y}if(G)return null;g.ga.Lc!=1?g.Ga=0:P=V-_}t(g.ga!=null),t(_+P<=V);e:{if(y=(K=g.ga).c,V=K.l.o,K.$a==0){if(Le=g.rc,Ce=g.Vc,We=g.Fa,J=g.P+1+_*y,re=g.mb,me=g.nb+_*y,t(J<=g.P+g.qc),K.Z!=0)for(t(no[K.Z]!=null),G=0;G<P;++G)no[K.Z](Le,Ce,We,J,re,me,y),Le=re,Ce=me,me+=y,J+=y;else for(G=0;G<P;++G)r(re,me,We,J,y),Le=re,Ce=me,me+=y,J+=y;g.rc=Le,g.Vc=Ce}else{if(t(K.mc!=null),y=_+P,t((G=K.mc)!=null),t(y<=G.i),G.C>=y)y=1;else if(K.ic||Ee(),K.ic){K=G.V,Le=G.Ba,Ce=G.c;var Me=G.i,xe=(We=1,J=G.$/Ce,re=G.$%Ce,me=G.m,ke=G.s,G.$),we=Ce*Me,Ue=Ce*y,Ze=ke.wc,qe=xe<Ue?Nn(ke,re,J):null;t(xe<=we),t(y<=Me),t(si(ke));t:for(;;){for(;!me.h&&xe<Ue;){if(re&Ze||(qe=Nn(ke,re,J)),t(qe!=null),ce(me),256>(Me=zr(qe.G[0],qe.H[0],me)))K[Le+xe]=Me,++xe,++re>=Ce&&(re=0,++J<=y&&!(J%16)&&Pn(G,J));else{if(!(280>Me)){We=0;break t}Me=Gi(Me-256,me);var ft,at=zr(qe.G[4],qe.H[4],me);if(ce(me),!(xe>=(at=Ur(Ce,at=Gi(at,me)))&&we-xe>=Me)){We=0;break t}for(ft=0;ft<Me;++ft)K[Le+xe+ft]=K[Le+xe+ft-at];for(xe+=Me,re+=Me;re>=Ce;)re-=Ce,++J<=y&&!(J%16)&&Pn(G,J);xe<Ue&&re&Ze&&(qe=Nn(ke,re,J))}t(me.h==le(me))}Pn(G,J>y?y:J);break t}!We||me.h&&xe<we?(We=0,G.a=me.h?5:3):G.$=xe,y=We}else y=qr(G,G.V,G.Ba,G.c,G.i,y,Ha);if(!y){P=0;break e}}_+P>=V&&(g.Cc=1),P=1}if(!P)return null;if(g.Cc&&((P=g.ga)!=null&&(P.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+_*j}function C(g,y,_,P,j,V){for(;0<j--;){var G,K=g,J=y+(_?1:0),re=g,me=y+(_?0:3);for(G=0;G<P;++G){var ke=re[me+4*G];ke!=255&&(ke*=32897,K[J+4*G+0]=K[J+4*G+0]*ke>>23,K[J+4*G+1]=K[J+4*G+1]*ke>>23,K[J+4*G+2]=K[J+4*G+2]*ke>>23)}y+=V}}function U(g,y,_,P,j){for(;0<P--;){var V;for(V=0;V<_;++V){var G=g[y+2*V+0],K=15&(re=g[y+2*V+1]),J=4369*K,re=(240&re|re>>4)*J>>16;g[y+2*V+0]=(240&G|G>>4)*J>>16&240|(15&G|G<<4)*J>>16>>4&15,g[y+2*V+1]=240&re|K}y+=j}}function te(g,y,_,P,j,V,G,K){var J,re,me=255;for(re=0;re<j;++re){for(J=0;J<P;++J){var ke=g[y+J];V[G+4*J]=ke,me&=ke}y+=_,G+=K}return me!=255}function de(g,y,_,P,j){var V;for(V=0;V<j;++V)_[P+V]=g[y+V]>>8}function Ee(){Bi=C,Rn=U,Dn=te,vr=de}function Fe(g,y,_){Y[g]=function(P,j,V,G,K,J,re,me,ke,Le,Ce,We,Me,xe,we,Ue,Ze){var qe,ft=Ze-1>>1,at=K[J+0]|re[me+0]<<16,kt=ke[Le+0]|Ce[We+0]<<16;t(P!=null);var lt=3*at+kt+131074>>2;for(y(P[j+0],255&lt,lt>>16,Me,xe),V!=null&&(lt=3*kt+at+131074>>2,y(V[G+0],255&lt,lt>>16,we,Ue)),qe=1;qe<=ft;++qe){var xn=K[J+qe]|re[me+qe]<<16,bn=ke[Le+qe]|Ce[We+qe]<<16,dn=at+xn+kt+bn+524296,rn=dn+2*(xn+kt)>>3;lt=rn+at>>1,at=(dn=dn+2*(at+bn)>>3)+xn>>1,y(P[j+2*qe-1],255&lt,lt>>16,Me,xe+(2*qe-1)*_),y(P[j+2*qe-0],255&at,at>>16,Me,xe+(2*qe-0)*_),V!=null&&(lt=dn+kt>>1,at=rn+bn>>1,y(V[G+2*qe-1],255&lt,lt>>16,we,Ue+(2*qe-1)*_),y(V[G+2*qe+0],255&at,at>>16,we,Ue+(2*qe+0)*_)),at=xn,kt=bn}1&Ze||(lt=3*at+kt+131074>>2,y(P[j+Ze-1],255&lt,lt>>16,Me,xe+(Ze-1)*_),V!=null&&(lt=3*kt+at+131074>>2,y(V[G+Ze-1],255&lt,lt>>16,we,Ue+(Ze-1)*_)))}}function He(){vs[Uf]=n4,vs[zf]=Kg,vs[Wg]=r4,vs[qf]=Zg,vs[Vf]=Qg,vs[bd]=Jg,vs[Hg]=i4,vs[Ad]=Kg,vs[Cd]=Zg,vs[Wf]=Qg,vs[Ed]=Jg}function ut(g){return g&-16384?0>g?0:255:g>>s4}function Ct(g,y){return ut((19077*g>>8)+(26149*y>>8)-14234)}function Ft(g,y,_){return ut((19077*g>>8)-(6419*y>>8)-(13320*_>>8)+8708)}function jt(g,y){return ut((19077*g>>8)+(33050*y>>8)-17685)}function $t(g,y,_,P,j){P[j+0]=Ct(g,_),P[j+1]=Ft(g,y,_),P[j+2]=jt(g,y)}function zn(g,y,_,P,j){P[j+0]=jt(g,y),P[j+1]=Ft(g,y,_),P[j+2]=Ct(g,_)}function vn(g,y,_,P,j){var V=Ft(g,y,_);y=V<<3&224|jt(g,y)>>3,P[j+0]=248&Ct(g,_)|V>>5,P[j+1]=y}function Kn(g,y,_,P,j){var V=240&jt(g,y)|15;P[j+0]=240&Ct(g,_)|Ft(g,y,_)>>4,P[j+1]=V}function Vr(g,y,_,P,j){P[j+0]=255,$t(g,y,_,P,j+1)}function Zn(g,y,_,P,j){zn(g,y,_,P,j),P[j+3]=255}function Ki(g,y,_,P,j){$t(g,y,_,P,j),P[j+3]=255}function lr(g,y){return 0>g?0:g>y?y:g}function Ni(g,y,_){Y[g]=function(P,j,V,G,K,J,re,me,ke){for(var Le=me+(-2&ke)*_;me!=Le;)y(P[j+0],V[G+0],K[J+0],re,me),y(P[j+1],V[G+0],K[J+0],re,me+_),j+=2,++G,++J,me+=2*_;1&ke&&y(P[j+0],V[G+0],K[J+0],re,me)}}function ei(g,y,_){return _==0?g==0?y==0?6:5:y==0?4:0:_}function Ja(g,y,_,P,j){switch(g>>>30){case 3:pe(y,_,P,j,0);break;case 2:be(y,_,P,j);break;case 1:Xe(y,_,P,j)}}function ci(g,y){var _,P,j=y.M,V=y.Nb,G=g.oc,K=g.pc+40,J=g.oc,re=g.pc+584,me=g.oc,ke=g.pc+600;for(_=0;16>_;++_)G[K+32*_-1]=129;for(_=0;8>_;++_)J[re+32*_-1]=129,me[ke+32*_-1]=129;for(0<j?G[K-1-32]=J[re-1-32]=me[ke-1-32]=129:(s(G,K-32-1,127,21),s(J,re-32-1,127,9),s(me,ke-32-1,127,9)),P=0;P<g.za;++P){var Le=y.ya[y.aa+P];if(0<P){for(_=-1;16>_;++_)r(G,K+32*_-4,G,K+32*_+12,4);for(_=-1;8>_;++_)r(J,re+32*_-4,J,re+32*_+4,4),r(me,ke+32*_-4,me,ke+32*_+4,4)}var Ce=g.Gd,We=g.Hd+P,Me=Le.ad,xe=Le.Hc;if(0<j&&(r(G,K-32,Ce[We].y,0,16),r(J,re-32,Ce[We].f,0,8),r(me,ke-32,Ce[We].ea,0,8)),Le.Za){var we=G,Ue=K-32+16;for(0<j&&(P>=g.za-1?s(we,Ue,Ce[We].y[15],4):r(we,Ue,Ce[We+1].y,0,4)),_=0;4>_;_++)we[Ue+128+_]=we[Ue+256+_]=we[Ue+384+_]=we[Ue+0+_];for(_=0;16>_;++_,xe<<=2)we=G,Ue=K+em[_],Rs[Le.Ob[_]](we,Ue),Ja(xe,Me,16*+_,we,Ue)}else if(we=ei(P,j,Le.Ob[0]),to[we](G,K),xe!=0)for(_=0;16>_;++_,xe<<=2)Ja(xe,Me,16*+_,G,K+em[_]);for(_=Le.Gc,we=ei(P,j,Le.Dd),Aa[we](J,re),Aa[we](me,ke),xe=Me,we=J,Ue=re,255&(Le=_>>0)&&(170&Le?Re(xe,256,we,Ue):Qe(xe,256,we,Ue)),Le=me,xe=ke,255&(_>>=8)&&(170&_?Re(Me,320,Le,xe):Qe(Me,320,Le,xe)),j<g.Ub-1&&(r(Ce[We].y,0,G,K+480,16),r(Ce[We].f,0,J,re+224,8),r(Ce[We].ea,0,me,ke+224,8)),_=8*V*g.B,Ce=g.sa,We=g.ta+16*P+16*V*g.R,Me=g.qa,Le=g.ra+8*P+_,xe=g.Ha,we=g.Ia+8*P+_,_=0;16>_;++_)r(Ce,We+_*g.R,G,K+32*_,16);for(_=0;8>_;++_)r(Me,Le+_*g.B,J,re+32*_,8),r(xe,we+_*g.B,me,ke+32*_,8)}}function $a(g,y,_,P,j,V,G,K,J){var re=[0],me=[0],ke=0,Le=J!=null?J.kd:0,Ce=J??new ll;if(g==null||12>_)return 7;Ce.data=g,Ce.w=y,Ce.ha=_,y=[y],_=[_],Ce.gb=[Ce.gb];e:{var We=y,Me=_,xe=Ce.gb;if(t(g!=null),t(Me!=null),t(xe!=null),xe[0]=0,12<=Me[0]&&!n(g,We[0],"RIFF")){if(n(g,We[0]+8,"WEBP")){xe=3;break e}var we=Ge(g,We[0]+4);if(12>we||4294967286<we){xe=3;break e}if(Le&&we>Me[0]-8){xe=7;break e}xe[0]=we,We[0]+=12,Me[0]-=12}xe=0}if(xe!=0)return xe;for(we=0<Ce.gb[0],_=_[0];;){e:{var Ue=g;Me=y,xe=_;var Ze=re,qe=me,ft=We=[0];if((lt=ke=[ke])[0]=0,8>xe[0])xe=7;else{if(!n(Ue,Me[0],"VP8X")){if(Ge(Ue,Me[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var at=Ge(Ue,Me[0]+8),kt=1+st(Ue,Me[0]+12);if(2147483648<=kt*(Ue=1+st(Ue,Me[0]+15))){xe=3;break e}ft!=null&&(ft[0]=at),Ze!=null&&(Ze[0]=kt),qe!=null&&(qe[0]=Ue),Me[0]+=18,xe[0]-=18,lt[0]=1}xe=0}}if(ke=ke[0],We=We[0],xe!=0)return xe;if(Me=!!(2&We),!we&&ke)return 3;if(V!=null&&(V[0]=!!(16&We)),G!=null&&(G[0]=Me),K!=null&&(K[0]=0),G=re[0],We=me[0],ke&&Me&&J==null){xe=0;break}if(4>_){xe=7;break}if(we&&ke||!we&&!ke&&!n(g,y[0],"ALPH")){_=[_],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{at=g,xe=y,we=_;var lt=Ce.gb;Ze=Ce.na,qe=Ce.P,ft=Ce.Sa,kt=22,t(at!=null),t(we!=null),Ue=xe[0];var xn=we[0];for(t(Ze!=null),t(ft!=null),Ze[0]=null,qe[0]=null,ft[0]=0;;){if(xe[0]=Ue,we[0]=xn,8>xn){xe=7;break e}var bn=Ge(at,Ue+4);if(4294967286<bn){xe=3;break e}var dn=8+bn+1&-2;if(kt+=dn,0<lt&&kt>lt){xe=3;break e}if(!n(at,Ue,"VP8 ")||!n(at,Ue,"VP8L")){xe=0;break e}if(xn[0]<dn){xe=7;break e}n(at,Ue,"ALPH")||(Ze[0]=at,qe[0]=Ue+8,ft[0]=bn),Ue+=dn,xn-=dn}}if(_=_[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],xe!=0)break}_=[_],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(lt=g,xe=y,we=_,Ze=Ce.gb[0],qe=Ce.Ja,ft=Ce.xa,at=xe[0],Ue=!n(lt,at,"VP8 "),kt=!n(lt,at,"VP8L"),t(lt!=null),t(we!=null),t(qe!=null),t(ft!=null),8>we[0])xe=7;else{if(Ue||kt){if(lt=Ge(lt,at+4),12<=Ze&&lt>Ze-12){xe=3;break e}if(Le&&lt>we[0]-8){xe=7;break e}qe[0]=lt,xe[0]+=8,we[0]-=8,ft[0]=kt}else ft[0]=5<=we[0]&&lt[at+0]==47&&!(lt[at+4]>>5),qe[0]=we[0];xe=0}if(_=_[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],y=y[0],xe!=0)break;if(4294967286<Ce.Ja)return 3;if(K==null||Me||(K[0]=Ce.xa?2:1),G=[G],We=[We],Ce.xa){if(5>_){xe=7;break}K=G,Le=We,Me=V,g==null||5>_?g=0:5<=_&&g[y+0]==47&&!(g[y+4]>>5)?(we=[0],lt=[0],Ze=[0],fe(qe=new z,g,y,_),wt(qe,we,lt,Ze)?(K!=null&&(K[0]=we[0]),Le!=null&&(Le[0]=lt[0]),Me!=null&&(Me[0]=Ze[0]),g=1):g=0):g=0}else{if(10>_){xe=7;break}K=We,g==null||10>_||!Ga(g,y+3,_-3)?g=0:(Le=g[y+0]|g[y+1]<<8|g[y+2]<<16,Me=16383&(g[y+7]<<8|g[y+6]),g=16383&(g[y+9]<<8|g[y+8]),1&Le||3<(Le>>1&7)||!(Le>>4&1)||Le>>5>=Ce.Ja||!Me||!g?g=0:(G&&(G[0]=Me),K&&(K[0]=g),g=1))}if(!g||(G=G[0],We=We[0],ke&&(re[0]!=G||me[0]!=We)))return 3;J!=null&&(J[0]=Ce,J.offset=y-J.w,t(4294967286>y-J.w),t(J.offset==J.ha-_));break}return xe==0||xe==7&&ke&&J==null?(V!=null&&(V[0]|=Ce.na!=null&&0<Ce.na.length),P!=null&&(P[0]=G),j!=null&&(j[0]=We),0):xe}function wa(g,y,_){var P=y.width,j=y.height,V=0,G=0,K=P,J=j;if(y.Da=g!=null&&0<g.Da,y.Da&&(K=g.cd,J=g.bd,V=g.v,G=g.j,11>_||(V&=-2,G&=-2),0>V||0>G||0>=K||0>=J||V+K>P||G+J>j))return 0;if(y.v=V,y.j=G,y.va=V+K,y.o=G+J,y.U=K,y.T=J,y.da=g!=null&&0<g.da,y.da){if(!yt(K,J,_=[g.ib],V=[g.hb]))return 0;y.ib=_[0],y.hb=V[0]}return y.ob=g!=null&&g.ob,y.Kb=g==null||!g.Sd,y.da&&(y.ob=y.ib<3*P/4&&y.hb<3*j/4,y.Kb=0),1}function cl(g){if(g==null)return 2;if(11>g.S){var y=g.f.RGBA;y.fb+=(g.height-1)*y.A,y.A=-y.A}else y=g.f.kb,g=g.height,y.O+=(g-1)*y.fa,y.fa=-y.fa,y.N+=(g-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(g-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(g-1)*y.lb,y.lb=-y.lb);return 0}function va(g,y,_,P){if(P==null||0>=g||0>=y)return 2;if(_!=null){if(_.Da){var j=_.cd,V=_.bd,G=-2&_.v,K=-2&_.j;if(0>G||0>K||0>=j||0>=V||G+j>g||K+V>y)return 2;g=j,y=V}if(_.da){if(!yt(g,y,j=[_.ib],V=[_.hb]))return 2;g=j[0],y=V[0]}}P.width=g,P.height=y;e:{var J=P.width,re=P.height;if(g=P.S,0>=J||0>=re||!(g>=Uf&&13>g))g=2;else{if(0>=P.Rd&&P.sd==null){G=V=j=y=0;var me=(K=J*tm[g])*re;if(11>g||(V=(re+1)/2*(y=(J+1)/2),g==12&&(G=(j=J)*re)),(re=a(me+2*V+G))==null){g=1;break e}P.sd=re,11>g?((J=P.f.RGBA).eb=re,J.fb=0,J.A=K,J.size=me):((J=P.f.kb).y=re,J.O=0,J.fa=K,J.Fd=me,J.f=re,J.N=0+me,J.Ab=y,J.Cd=V,J.ea=re,J.W=0+me+V,J.Db=y,J.Ed=V,g==12&&(J.F=re,J.J=0+me+2*V),J.Tc=G,J.lb=j)}if(y=1,j=P.S,V=P.width,G=P.height,j>=Uf&&13>j)if(11>j)g=P.f.RGBA,y&=(K=Math.abs(g.A))*(G-1)+V<=g.size,y&=K>=V*tm[j],y&=g.eb!=null;else{g=P.f.kb,K=(V+1)/2,me=(G+1)/2,J=Math.abs(g.fa),re=Math.abs(g.Ab);var ke=Math.abs(g.Db),Le=Math.abs(g.lb),Ce=Le*(G-1)+V;y&=J*(G-1)+V<=g.Fd,y&=re*(me-1)+K<=g.Cd,y=(y&=ke*(me-1)+K<=g.Ed)&J>=V&re>=K&ke>=K,y&=g.y!=null,y&=g.f!=null,y&=g.ea!=null,j==12&&(y&=Le>=V,y&=Ce<=g.Tc,y&=g.F!=null)}else y=0;g=y?0:2}}return g!=0||_!=null&&_.fd&&(g=cl(P)),g}var Sn=64,eo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ta=24,xs=32,Zt=8,Or=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];rt("Predictor0","PredictorAdd0"),Y.Predictor0=function(){return 4278190080},Y.Predictor1=function(g){return g},Y.Predictor2=function(g,y,_){return y[_+0]},Y.Predictor3=function(g,y,_){return y[_+1]},Y.Predictor4=function(g,y,_){return y[_-1]},Y.Predictor5=function(g,y,_){return it(it(g,y[_+1]),y[_+0])},Y.Predictor6=function(g,y,_){return it(g,y[_-1])},Y.Predictor7=function(g,y,_){return it(g,y[_+0])},Y.Predictor8=function(g,y,_){return it(y[_-1],y[_+0])},Y.Predictor9=function(g,y,_){return it(y[_+0],y[_+1])},Y.Predictor10=function(g,y,_){return it(it(g,y[_-1]),it(y[_+0],y[_+1]))},Y.Predictor11=function(g,y,_){var P=y[_+0];return 0>=Ut(P>>24&255,g>>24&255,(y=y[_-1])>>24&255)+Ut(P>>16&255,g>>16&255,y>>16&255)+Ut(P>>8&255,g>>8&255,y>>8&255)+Ut(255&P,255&g,255&y)?P:g},Y.Predictor12=function(g,y,_){var P=y[_+0];return(At((g>>24&255)+(P>>24&255)-((y=y[_-1])>>24&255))<<24|At((g>>16&255)+(P>>16&255)-(y>>16&255))<<16|At((g>>8&255)+(P>>8&255)-(y>>8&255))<<8|At((255&g)+(255&P)-(255&y)))>>>0},Y.Predictor13=function(g,y,_){var P=y[_-1];return(St((g=it(g,y[_+0]))>>24&255,P>>24&255)<<24|St(g>>16&255,P>>16&255)<<16|St(g>>8&255,P>>8&255)<<8|St(g>>0&255,P>>0&255))>>>0};var F=Y.PredictorAdd0;Y.PredictorAdd1=Lt,rt("Predictor2","PredictorAdd2"),rt("Predictor3","PredictorAdd3"),rt("Predictor4","PredictorAdd4"),rt("Predictor5","PredictorAdd5"),rt("Predictor6","PredictorAdd6"),rt("Predictor7","PredictorAdd7"),rt("Predictor8","PredictorAdd8"),rt("Predictor9","PredictorAdd9"),rt("Predictor10","PredictorAdd10"),rt("Predictor11","PredictorAdd11"),rt("Predictor12","PredictorAdd12"),rt("Predictor13","PredictorAdd13");var i=Y.PredictorAdd2;Kt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var o,l=Y.ColorIndexInverseTransform,c=Y.MapARGB,f=Y.VP8LColorIndexInverseTransformAlpha,d=Y.MapAlpha,x=Y.VP8LPredictorsAdd=[];x.length=16,(Y.VP8LPredictors=[]).length=16,(Y.VP8LPredictorsAdd_C=[]).length=16,(Y.VP8LPredictors_C=[]).length=16;var b,N,O,B,H,ne,he,pe,be,Re,Xe,Qe,Ke,Yt,Rt,ur,Rr,rr,on,Qn,wr,Si,ys,Mi,Bi,Rn,Dn,vr,Dr=a(511),ba=a(2041),rc=a(225),Hl=a(767),Ff=0,vd=ba,jf=rc,Zi=Hl,ws=Dr,Uf=0,zf=1,Wg=2,qf=3,Vf=4,bd=5,Hg=6,Ad=7,Cd=8,Wf=9,Ed=10,qv=[2,3,7],Vv=[3,3,11],Gg=[280,256,256,256,40],Wv=[0,1,1,1,0],Hv=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Gv=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Xv=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Yv=8,Nd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Sd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ic=null,Kv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Zv=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Xg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Qv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Jv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],$v=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],e4=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],to=[],Rs=[],Aa=[],t4=1,Yg=2,no=[],vs=[];Fe("UpsampleRgbLinePair",$t,3),Fe("UpsampleBgrLinePair",zn,3),Fe("UpsampleRgbaLinePair",Ki,4),Fe("UpsampleBgraLinePair",Zn,4),Fe("UpsampleArgbLinePair",Vr,4),Fe("UpsampleRgba4444LinePair",Kn,2),Fe("UpsampleRgb565LinePair",vn,2);var n4=Y.UpsampleRgbLinePair,r4=Y.UpsampleBgrLinePair,Kg=Y.UpsampleRgbaLinePair,Zg=Y.UpsampleBgraLinePair,Qg=Y.UpsampleArgbLinePair,Jg=Y.UpsampleRgba4444LinePair,i4=Y.UpsampleRgb565LinePair,Hf=16,Gf=1<<Hf-1,sc=-227,_d=482,s4=6,$g=0,a4=a(256),o4=a(256),l4=a(256),u4=a(256),c4=a(_d-sc),f4=a(_d-sc);Ni("YuvToRgbRow",$t,3),Ni("YuvToBgrRow",zn,3),Ni("YuvToRgbaRow",Ki,4),Ni("YuvToBgraRow",Zn,4),Ni("YuvToArgbRow",Vr,4),Ni("YuvToRgba4444Row",Kn,2),Ni("YuvToRgb565Row",vn,2);var em=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xf=[0,2,8],h4=[8,7,6,4,4,2,2,2,1,1,1,1],d4=1;this.WebPDecodeRGBA=function(g,y,_,P,j){var V=zf,G=new Za,K=new Vt;G.ba=K,K.S=V,K.width=[K.width],K.height=[K.height];var J=K.width,re=K.height,me=new Zr;if(me==null||g==null)var ke=2;else t(me!=null),ke=$a(g,y,_,me.width,me.height,me.Pd,me.Qd,me.format,null);if(ke!=0?J=0:(J!=null&&(J[0]=me.width[0]),re!=null&&(re[0]=me.height[0]),J=1),J){K.width=K.width[0],K.height=K.height[0],P!=null&&(P[0]=K.width),j!=null&&(j[0]=K.height);e:{if(P=new Gt,(j=new ll).data=g,j.w=y,j.ha=_,j.kd=1,y=[0],t(j!=null),((g=$a(j.data,j.w,j.ha,null,null,null,y,null,j))==0||g==7)&&y[0]&&(g=4),(y=g)==0){if(t(G!=null),P.data=j.data,P.w=j.w+j.offset,P.ha=j.ha-j.offset,P.put=Qr,P.ac=ln,P.bc=Ai,P.ma=G,j.xa){if((g=Jr())==null){G=1;break e}if(function(Le,Ce){var We=[0],Me=[0],xe=[0];t:for(;;){if(Le==null)return 0;if(Ce==null)return Le.a=2,0;if(Le.l=Ce,Le.a=0,fe(Le.m,Ce.data,Ce.w,Ce.ha),!wt(Le.m,We,Me,xe)){Le.a=3;break t}if(Le.xb=Yg,Ce.width=We[0],Ce.height=Me[0],!gr(We[0],Me[0],1,Le,null))break t;return 1}return t(Le.a!=0),0}(g,P)){if(P=(y=va(P.width,P.height,G.Oa,G.ba))==0){t:{P=g;n:for(;;){if(P==null){P=0;break t}if(t(P.s.yc!=null),t(P.s.Ya!=null),t(0<P.s.Wb),t((_=P.l)!=null),t((j=_.ma)!=null),P.xb!=0){if(P.ca=j.ba,P.tb=j.tb,t(P.ca!=null),!wa(j.Oa,_,qf)){P.a=2;break n}if(!ga(P,_.width)||_.da)break n;if((_.da||nn(P.ca.S))&&Ee(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&Ee()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!Nt(P.s.vb,P.s.Wa.Xa)){P.a=1;break n}P.xb=0}if(!qr(P,P.V,P.Ba,P.c,P.i,_.o,ct))break n;j.Dc=P.Ma,P=1;break t}t(P.a!=0),P=0}P=!P}P&&(y=g.a)}else y=g.a}else{if((g=new Zo)==null){G=1;break e}if(g.Fa=j.na,g.P=j.P,g.qc=j.Sa,Xn(g,P)){if((y=va(P.width,P.height,G.Oa,G.ba))==0){if(g.Aa=0,_=G.Oa,t((j=g)!=null),_!=null){if(0<(J=0>(J=_.Md)?0:100<J?255:255*J/100)){for(re=me=0;4>re;++re)12>(ke=j.pb[re]).lc&&(ke.ia=J*h4[0>ke.lc?0:ke.lc]>>3),me|=ke.ia;me&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=_.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}Un(g,P)||(y=g.a)}}else y=g.a}y==0&&G.Oa!=null&&G.Oa.fd&&(y=cl(G.ba))}G=y}V=G!=0?null:11>V?K.f.RGBA.eb:K.f.kb.y}else V=null;return V};var tm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(Y,Z){for(var ye="",W=0;W<4;W++)ye+=String.fromCharCode(Y[Z++]);return ye}function w(Y,Z){return(Y[Z+0]<<0|Y[Z+1]<<8|Y[Z+2]<<16)>>>0}function v(Y,Z){return(Y[Z+0]<<0|Y[Z+1]<<8|Y[Z+2]<<16|Y[Z+3]<<24)>>>0}new p;var E=[0],A=[0],R=[],k=new p,M=e,S=function(Y,Z){var ye={},W=0,X=!1,ae=0,oe=0;if(ye.frames=[],!function(ie,le,ge,ce){for(var Te=0;Te<ce;Te++)if(ie[le+Te]!=ge.charCodeAt(Te))return!0;return!1}(Y,Z,"RIFF",4)){var se,Ne;for(v(Y,Z+=4),Z+=8;Z<Y.length;){var ve=m(Y,Z),fe=v(Y,Z+=4);Z+=4;var Ae=fe+(1&fe);switch(ve){case"VP8 ":case"VP8L":ye.frames[W]===void 0&&(ye.frames[W]={}),(z=ye.frames[W]).src_off=X?oe:Z-8,z.src_size=ae+fe+8,W++,X&&(X=!1,ae=0,oe=0);break;case"VP8X":(z=ye.header={}).feature_flags=Y[Z];var Se=Z+4;z.canvas_width=1+w(Y,Se),Se+=3,z.canvas_height=1+w(Y,Se),Se+=3;break;case"ALPH":X=!0,ae=Ae+8,oe=Z-8;break;case"ANIM":(z=ye.header).bgcolor=v(Y,Z),Se=Z+4,z.loop_count=(se=Y)[(Ne=Se)+0]<<0|se[Ne+1]<<8,Se+=2;break;case"ANMF":var Je,z;(z=ye.frames[W]={}).offset_x=2*w(Y,Z),Z+=3,z.offset_y=2*w(Y,Z),Z+=3,z.width=1+w(Y,Z),Z+=3,z.height=1+w(Y,Z),Z+=3,z.duration=w(Y,Z),Z+=3,Je=Y[Z++],z.dispose=1&Je,z.blend=Je>>1&1}ve!="ANMF"&&(Z+=Ae)}return ye}}(M,0);S.response=M,S.rgbaoutput=!0,S.dataurl=!1;var I=S.header?S.header:null,L=S.frames?S.frames:null;if(I){I.loop_counter=I.loop_count,E=[I.canvas_height],A=[I.canvas_width];for(var q=0;q<L.length&&L[q].blend!=0;q++);}var $=L[0],Q=k.WebPDecodeRGBA(M,$.src_off,$.src_size,A,E);$.rgba=Q,$.imgwidth=A[0],$.imgheight=E[0];for(var D=0;D<A[0]*E[0]*4;D++)R[D]=Q[D];return this.width=A,this.height=E,this.data=R,this}(function(e){var t=function(){return typeof mp=="function"},n=function(E,A,R,k){var M=4,S=u;switch(k){case e.image_compression.FAST:M=1,S=a;break;case e.image_compression.MEDIUM:M=6,S=h;break;case e.image_compression.SLOW:M=9,S=p}E=r(E,A,R,S);var I=mp(E,{level:M});return e.__addimage__.arrayBufferToBinaryString(I)},r=function(E,A,R,k){for(var M,S,I,L=E.length/A,q=new Uint8Array(E.length+L),$=w(),Q=0;Q<L;Q+=1){if(I=Q*A,M=E.subarray(I,I+A),k)q.set(k(M,R,S),I+Q);else{for(var D,Y=$.length,Z=[];D<Y;D+=1)Z[D]=$[D](M,R,S);var ye=v(Z.concat());q.set(Z[ye],I+Q)}S=M}return q},s=function(E){var A=Array.apply([],E);return A.unshift(0),A},a=function(E,A){var R,k=[],M=E.length;k[0]=1;for(var S=0;S<M;S+=1)R=E[S-A]||0,k[S+1]=E[S]-R+256&255;return k},u=function(E,A,R){var k,M=[],S=E.length;M[0]=2;for(var I=0;I<S;I+=1)k=R&&R[I]||0,M[I+1]=E[I]-k+256&255;return M},h=function(E,A,R){var k,M,S=[],I=E.length;S[0]=3;for(var L=0;L<I;L+=1)k=E[L-A]||0,M=R&&R[L]||0,S[L+1]=E[L]+256-(k+M>>>1)&255;return S},p=function(E,A,R){var k,M,S,I,L=[],q=E.length;L[0]=4;for(var $=0;$<q;$+=1)k=E[$-A]||0,M=R&&R[$]||0,S=R&&R[$-A]||0,I=m(k,M,S),L[$+1]=E[$]-I+256&255;return L},m=function(E,A,R){if(E===A&&A===R)return E;var k=Math.abs(A-R),M=Math.abs(E-R),S=Math.abs(E+A-R-R);return k<=M&&k<=S?E:M<=S?A:R},w=function(){return[s,a,u,h,p]},v=function(E){var A=E.map(function(R){return R.reduce(function(k,M){return k+Math.abs(M)},0)});return A.indexOf(Math.min.apply(null,A))};e.processPNG=function(E,A,R,k){var M,S,I,L,q,$,Q,D,Y,Z,ye,W,X,ae,oe,se=this.decode.FLATE_DECODE,Ne="";if(this.__addimage__.isArrayBuffer(E)&&(E=new Uint8Array(E)),this.__addimage__.isArrayBufferView(E)){if(E=(I=new iS(E)).imgData,S=I.bits,M=I.colorSpace,q=I.colors,[4,6].indexOf(I.colorType)!==-1){if(I.bits===8){Y=(D=I.pixelBitlength==32?new Uint32Array(I.decodePixels().buffer):I.pixelBitlength==16?new Uint16Array(I.decodePixels().buffer):new Uint8Array(I.decodePixels().buffer)).length,ye=new Uint8Array(Y*I.colors),Z=new Uint8Array(Y);var ve,fe=I.pixelBitlength-I.bits;for(ae=0,oe=0;ae<Y;ae++){for(X=D[ae],ve=0;ve<fe;)ye[oe++]=X>>>ve&255,ve+=I.bits;Z[ae]=X>>>ve&255}}if(I.bits===16){Y=(D=new Uint32Array(I.decodePixels().buffer)).length,ye=new Uint8Array(Y*(32/I.pixelBitlength)*I.colors),Z=new Uint8Array(Y*(32/I.pixelBitlength)),W=I.colors>1,ae=0,oe=0;for(var Ae=0;ae<Y;)X=D[ae++],ye[oe++]=X>>>0&255,W&&(ye[oe++]=X>>>16&255,X=D[ae++],ye[oe++]=X>>>0&255),Z[Ae++]=X>>>16&255;S=8}k!==e.image_compression.NONE&&t()?(E=n(ye,I.width*I.colors,I.colors,k),Q=n(Z,I.width,1,k)):(E=ye,Q=Z,se=void 0)}if(I.colorType===3&&(M=this.color_spaces.INDEXED,$=I.palette,I.transparency.indexed)){var Se=I.transparency.indexed,Je=0;for(ae=0,Y=Se.length;ae<Y;++ae)Je+=Se[ae];if((Je/=255)===Y-1&&Se.indexOf(0)!==-1)L=[Se.indexOf(0)];else if(Je!==Y){for(D=I.decodePixels(),Z=new Uint8Array(D.length),ae=0,Y=D.length;ae<Y;ae++)Z[ae]=Se[D[ae]];Q=n(Z,I.width,1)}}var z=function(ie){var le;switch(ie){case e.image_compression.FAST:le=11;break;case e.image_compression.MEDIUM:le=13;break;case e.image_compression.SLOW:le=14;break;default:le=12}return le}(k);return se===this.decode.FLATE_DECODE&&(Ne="/Predictor "+z+" "),Ne+="/Colors "+q+" /BitsPerComponent "+S+" /Columns "+I.width,(this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E))&&(E=this.__addimage__.arrayBufferToBinaryString(E)),(Q&&this.__addimage__.isArrayBuffer(Q)||this.__addimage__.isArrayBufferView(Q))&&(Q=this.__addimage__.arrayBufferToBinaryString(Q)),{alias:R,data:E,index:A,filter:se,decodeParameters:Ne,transparency:L,palette:$,sMask:Q,predictor:z,width:I.width,height:I.height,bitsPerComponent:S,colorSpace:M}}}})(Pt.API),function(e){e.processGIF89A=function(t,n,r,s){var a=new sS(t),u=a.width,h=a.height,p=[];a.decodeAndBlitFrameRGBA(0,p);var m={data:p,width:u,height:h},w=new R0(100).encode(m,100);return e.processJPEG.call(this,w,n,r,s)},e.processGIF87A=e.processGIF89A}(Pt.API),Fs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fs.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Tn.log("bit decode error:"+n)}},Fs.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var a=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*s*4,h=0;h<8&&8*s+h<this.width;h++){var p=this.palette[a>>7-h&1];this.data[u+4*h]=p.blue,this.data[u+4*h+1]=p.green,this.data[u+4*h+2]=p.red,this.data[u+4*h+3]=255}n!==0&&(this.pos+=4-n)}},Fs.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var a=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*s*4,h=a>>4,p=15&a,m=this.palette[h];if(this.data[u]=m.blue,this.data[u+1]=m.green,this.data[u+2]=m.red,this.data[u+3]=255,2*s+1>=this.width)break;m=this.palette[p],this.data[u+4]=m.blue,this.data[u+4+1]=m.green,this.data[u+4+2]=m.red,this.data[u+4+3]=255}t!==0&&(this.pos+=4-t)}},Fs.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(s<this.palette.length){var u=this.palette[s];this.data[a]=u.red,this.data[a+1]=u.green,this.data[a+2]=u.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Fs.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(a&t)/t*255|0,h=(a>>5&t)/t*255|0,p=(a>>10&t)/t*255|0,m=a>>15?255:0,w=r*this.width*4+4*s;this.data[w]=p,this.data[w+1]=h,this.data[w+2]=u,this.data[w+3]=m}this.pos+=e}},Fs.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(u&t)/t*255|0,p=(u>>5&n)/n*255|0,m=(u>>11)/t*255|0,w=s*this.width*4+4*a;this.data[w]=m,this.data[w+1]=p,this.data[w+2]=h,this.data[w+3]=255}this.pos+=e}},Fs.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*n;this.data[u]=a,this.data[u+1]=s,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},Fs.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),h=t*this.width*4+4*n;this.data[h]=a,this.data[h+1]=s,this.data[h+2]=r,this.data[h+3]=u}},Fs.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,s){var a=new Fs(t,!1),u=a.width,h=a.height,p={data:a.getData(),width:u,height:h},m=new R0(100).encode(p,100);return e.processJPEG.call(this,m,n,r,s)}}(Pt.API),_x.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,s){var a=new _x(t),u=a.width,h=a.height,p={data:a.getData(),width:u,height:h},m=new R0(100).encode(p,100);return e.processJPEG.call(this,m,n,r,s)}}(Pt.API),Pt.API.processRGBA=function(e,t,n){for(var r=e.data,s=r.length,a=new Uint8Array(s/4*3),u=new Uint8Array(s/4),h=0,p=0,m=0;m<s;m+=4){var w=r[m],v=r[m+1],E=r[m+2],A=r[m+3];a[h++]=w,a[h++]=v,a[h++]=E,u[p++]=A}var R=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:R,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Pt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},tu=Pt.API,R1=tu.getCharWidthsArray=function(e,t){var n,r,s=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),u=t.charSpace||this.internal.getCharSpace(),h=t.widths?t.widths:s.metadata.Unicode.widths,p=h.fof?h.fof:1,m=t.kerning?t.kerning:s.metadata.Unicode.kerning,w=m.fof?m.fof:1,v=t.doKerning!==!1,E=0,A=e.length,R=0,k=h[0]||p,M=[];for(n=0;n<A;n++)r=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?M.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+u*(1e3/a)||0)/1e3):(E=v&&yn(m[r])==="object"&&!isNaN(parseInt(m[r][R],10))?m[r][R]/w:0,M.push((h[r]||k)/p+E)),R=r;return M},Cx=tu.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return tu.processArabic&&(e=tu.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,s)/n:R1.apply(this,arguments).reduce(function(a,u){return a+u},0)},Ex=function(e,t,n,r){for(var s=[],a=0,u=e.length,h=0;a!==u&&h+t[a]<n;)h+=t[a],a++;s.push(e.slice(0,a));var p=a;for(h=0;a!==u;)h+t[a]>r&&(s.push(e.slice(p,a)),h=0,p=a),h+=t[a],a++;return p!==a&&s.push(e.slice(p,a)),s},Nx=function(e,t,n){n||(n={});var r,s,a,u,h,p,m,w=[],v=[w],E=n.textIndent||0,A=0,R=0,k=e.split(" "),M=R1.apply(this,[" ",n])[0];if(p=n.lineIndent===-1?k[0].length+2:n.lineIndent||0){var S=Array(p).join(" "),I=[];k.map(function(q){(q=q.split(/\s*\n/)).length>1?I=I.concat(q.map(function($,Q){return(Q&&$.length?`
`:"")+$})):I.push(q[0])}),k=I,p=Cx.apply(this,[S,n])}for(a=0,u=k.length;a<u;a++){var L=0;if(r=k[a],p&&r[0]==`
`&&(r=r.substr(1),L=1),E+A+(R=(s=R1.apply(this,[r,n])).reduce(function(q,$){return q+$},0))>t||L){if(R>t){for(h=Ex.apply(this,[r,s,t-(E+A),t]),w.push(h.shift()),w=[h.pop()];h.length;)v.push([h.shift()]);R=s.slice(r.length-(w[0]?w[0].length:0)).reduce(function(q,$){return q+$},0)}else w=[r];v.push(w),E=R+p,A=M}else w.push(r),E+=A+R,A=M}return m=p?function(q,$){return($?S:"")+q.join(" ")}:function(q){return q.join(" ")},v.map(m)},tu.splitTextToSize=function(e,t,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(w){if(w.widths&&w.kerning)return{widths:w.widths,kerning:w.kerning};var v=this.internal.getFont(w.fontName,w.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var u=1*this.internal.scaleFactor*t/s;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=n.lineIndent;var h,p,m=[];for(h=0,p=r.length;h<p;h++)m=m.concat(Nx.apply(this,[r[h],u,a]));return m},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},s=0;s<t.length;s++)n[t[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=t[s];var a=function(v){return"0x"+parseInt(v,10).toString(16)},u=e.__fontmetrics__.compress=function(v){var E,A,R,k,M=["{"];for(var S in v){if(E=v[S],isNaN(parseInt(S,10))?A="'"+S+"'":(S=parseInt(S,10),A=(A=a(S).slice(2)).slice(0,-1)+r[A.slice(-1)]),typeof E=="number")E<0?(R=a(E).slice(3),k="-"):(R=a(E).slice(2),k=""),R=k+R.slice(0,-1)+r[R.slice(-1)];else{if(yn(E)!=="object")throw new Error("Don't know what to do with value type "+yn(E)+".");R=u(E)}M.push(A+R)}return M.push("}"),M.join("")},h=e.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var E,A,R,k,M={},S=1,I=M,L=[],q="",$="",Q=v.length-1,D=1;D<Q;D+=1)(k=v[D])=="'"?E?(R=E.join(""),E=void 0):E=[]:E?E.push(k):k=="{"?(L.push([I,R]),I={},R=void 0):k=="}"?((A=L.pop())[0][A[1]]=I,R=void 0,I=A[0]):k=="-"?S=-1:R===void 0?n.hasOwnProperty(k)?(q+=n[k],R=parseInt(q,16)*S,S=1,q=""):q+=k:n.hasOwnProperty(k)?($+=n[k],I[R]=parseInt($,16)*S,S=1,R=void 0,$=""):$+=k;return M},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},w={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(v){var E=v.font,A=w.Unicode[E.postScriptName];A&&(E.metadata.Unicode={},E.metadata.Unicode.widths=A.widths,E.metadata.Unicode.kerning=A.kerning);var R=m.Unicode[E.postScriptName];R&&(E.metadata.Unicode.encoding=R,E.encoding=R.codePages[0])}])}(Pt.API),function(e){var t=function(n){for(var r=n.length,s=new Uint8Array(r),a=0;a<r;a++)s[a]=n.charCodeAt(a);return s};e.API.events.push(["addFont",function(n){var r=void 0,s=n.font,a=n.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,h){h=/^\x00\x01\x00\x00/.test(h)?t(h):t(Zc(h)),u.metadata=e.API.TTFFont.open(h),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,r)}}])}(Pt),function(e){function t(){return(Ot.canvg?Promise.resolve(Ot.canvg):fp(()=>import("./index.es-ClvecPvI.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Pt.API.addSvgAsImage=function(n,r,s,a,u,h,p,m){if(isNaN(r)||isNaN(s))throw Tn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(u))throw Tn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var w=document.createElement("canvas");w.width=a,w.height=u;var v=w.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,w.width,w.height);var E={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return t().then(function(R){return R.fromString(v,n,E)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(R){return R.render(E)}).then(function(){A.addImage(w.toDataURL("image/jpeg",1),r,s,a,u,p,m)})}}(),Pt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,n);return this},Pt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,s,a,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(u),p=[],m=0,w=0,v=0;function E(R,k){var M,S=!1;for(M=0;M<R.length;M+=1)R[M]===k&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var A=h.length;for(v=0;v<A;v+=1)n[h[v]].value=n[h[v]].defaultValue,n[h[v]].explicitSet=!1}if(yn(e)==="object"){for(s in e)if(a=e[s],E(h,s)&&a!==void 0){if(n[s].type==="boolean"&&typeof a=="boolean")n[s].value=a;else if(n[s].type==="name"&&E(n[s].valueSet,a))n[s].value=a;else if(n[s].type==="integer"&&Number.isInteger(a))n[s].value=a;else if(n[s].type==="array"){for(m=0;m<a.length;m+=1)if(r=!0,a[m].length===1&&typeof a[m][0]=="number")p.push(String(a[m]-1));else if(a[m].length>1){for(w=0;w<a[m].length;w+=1)typeof a[m][w]!="number"&&(r=!1);r===!0&&p.push([a[m][0]-1,a[m][1]-1].join(" "))}n[s].value="["+p.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var R,k=[];for(R in n)n[R].explicitSet===!0&&(n[R].type==="name"?k.push("/"+R+" /"+n[R].value):k.push("/"+R+" "+n[R].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),p=unescape(encodeURIComponent("</x:xmpmeta>")),m=a.length+u.length+h.length+s.length+p.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(s+a+u+h+p),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Pt.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,u){for(var h,p=u.metadata.Unicode.widths,m=["","0","00","000","0000"],w=[""],v=0,E=a.length;v<E;++v){if(h=u.metadata.characterToGlyph(a.charCodeAt(v)),u.metadata.glyIdsUsed.push(h),u.metadata.toUnicode[h]=a.charCodeAt(v),p.indexOf(h)==-1&&(p.push(h),p.push([parseInt(u.metadata.widthOfGlyph(h),10)])),h=="0")return w.join("");h=h.toString(16),w.push(m[4-h.length],h)}return w.join("")},r=function(a){var u,h,p,m,w,v,E;for(w=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,p=[],v=0,E=(h=Object.keys(a).sort(function(A,R){return A-R})).length;v<E;v++)u=h[v],p.length>=100&&(w+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar`,p=[]),a[u]!==void 0&&a[u]!==null&&typeof a[u].toString=="function"&&(m=("0000"+a[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),p.push("<"+u+"><"+m+">"));return p.length&&(w+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar
`),w+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(u){var h=u.font,p=u.out,m=u.newObject,w=u.putStream;if(h.metadata instanceof e.API.TTFFont&&h.encoding==="Identity-H"){for(var v=h.metadata.Unicode.widths,E=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),A="",R=0;R<E.length;R++)A+=String.fromCharCode(E[R]);var k=m();w({data:A,addLength1:!0,objectId:k}),p("endobj");var M=m();w({data:r(h.metadata.toUnicode),addLength1:!0,objectId:M}),p("endobj");var S=m();p("<<"),p("/Type /FontDescriptor"),p("/FontName /"+iu(h.fontName)),p("/FontFile2 "+k+" 0 R"),p("/FontBBox "+e.API.PDFObject.convert(h.metadata.bbox)),p("/Flags "+h.metadata.flags),p("/StemV "+h.metadata.stemV),p("/ItalicAngle "+h.metadata.italicAngle),p("/Ascent "+h.metadata.ascender),p("/Descent "+h.metadata.decender),p("/CapHeight "+h.metadata.capHeight),p(">>"),p("endobj");var I=m();p("<<"),p("/Type /Font"),p("/BaseFont /"+iu(h.fontName)),p("/FontDescriptor "+S+" 0 R"),p("/W "+e.API.PDFObject.convert(v)),p("/CIDToGIDMap /Identity"),p("/DW 1000"),p("/Subtype /CIDFontType2"),p("/CIDSystemInfo"),p("<<"),p("/Supplement 0"),p("/Registry (Adobe)"),p("/Ordering ("+h.encoding+")"),p(">>"),p(">>"),p("endobj"),h.objectNumber=m(),p("<<"),p("/Type /Font"),p("/Subtype /Type0"),p("/ToUnicode "+M+" 0 R"),p("/BaseFont /"+iu(h.fontName)),p("/Encoding /"+h.encoding),p("/DescendantFonts ["+I+" 0 R]"),p(">>"),p("endobj"),h.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(u){var h=u.font,p=u.out,m=u.newObject,w=u.putStream;if(h.metadata instanceof e.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var v=h.metadata.rawData,E="",A=0;A<v.length;A++)E+=String.fromCharCode(v[A]);var R=m();w({data:E,addLength1:!0,objectId:R}),p("endobj");var k=m();w({data:r(h.metadata.toUnicode),addLength1:!0,objectId:k}),p("endobj");var M=m();p("<<"),p("/Descent "+h.metadata.decender),p("/CapHeight "+h.metadata.capHeight),p("/StemV "+h.metadata.stemV),p("/Type /FontDescriptor"),p("/FontFile2 "+R+" 0 R"),p("/Flags 96"),p("/FontBBox "+e.API.PDFObject.convert(h.metadata.bbox)),p("/FontName /"+iu(h.fontName)),p("/ItalicAngle "+h.metadata.italicAngle),p("/Ascent "+h.metadata.ascender),p(">>"),p("endobj"),h.objectNumber=m();for(var S=0;S<h.metadata.hmtx.widths.length;S++)h.metadata.hmtx.widths[S]=parseInt(h.metadata.hmtx.widths[S]*(1e3/h.metadata.head.unitsPerEm));p("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+iu(h.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),p("endobj"),h.isAlreadyPutted=!0}})(a)}]);var s=function(a){var u,h=a.text||"",p=a.x,m=a.y,w=a.options||{},v=a.mutex||{},E=v.pdfEscape,A=v.activeFontKey,R=v.fonts,k=A,M="",S=0,I="",L=R[k].encoding;if(R[k].encoding!=="Identity-H")return{text:h,x:p,y:m,options:w,mutex:v};for(I=h,k=A,Array.isArray(h)&&(I=h[0]),S=0;S<I.length;S+=1)R[k].metadata.hasOwnProperty("cmap")&&(u=R[k].metadata.cmap.unicode.codeMap[I[S].charCodeAt(0)]),u||I[S].charCodeAt(0)<256&&R[k].metadata.hasOwnProperty("Unicode")?M+=I[S]:M+="";var q="";return parseInt(k.slice(1))<14||L==="WinAnsiEncoding"?q=E(M,k).split("").map(function($){return $.charCodeAt(0).toString(16)}).join(""):L==="Identity-H"&&(q=n(M,R[k])),v.isHex=!0,{text:q,x:p,y:m,options:w,mutex:v}};t.events.push(["postProcessText",function(a){var u=a.text||"",h=[],p={text:u,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(u)){var m=0;for(m=0;m<u.length;m+=1)Array.isArray(u[m])&&u[m].length===3?h.push([s(Object.assign({},p,{text:u[m][0]})).text,u[m][1],u[m][2]]):h.push(s(Object.assign({},p,{text:u[m]})).text);a.text=h}else a.text=s(Object.assign({},p,{text:u})).text}])}(Pt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Pt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var s,a,u,h,p,m,w,v=t,E=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],R={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,L=0;this.__bidiEngine__={};var q=function(W){var X=W.charCodeAt(),ae=X>>8,oe=k[ae];return oe!==void 0?v[256*oe+(255&X)]:ae===252||ae===253?"AL":S.test(ae)?"L":ae===8?"R":"N"},$=function(W){for(var X,ae=0;ae<W.length;ae++){if((X=q(W.charAt(ae)))==="L")return!1;if(X==="R")return!0}return!1},Q=function(W,X,ae,oe){var se,Ne,ve,fe,Ae=X[oe];switch(Ae){case"L":case"R":I=!1;break;case"N":case"AN":break;case"EN":I&&(Ae="AN");break;case"AL":I=!0,Ae="R";break;case"WS":Ae="N";break;case"CS":oe<1||oe+1>=X.length||(se=ae[oe-1])!=="EN"&&se!=="AN"||(Ne=X[oe+1])!=="EN"&&Ne!=="AN"?Ae="N":I&&(Ne="AN"),Ae=Ne===se?Ne:"N";break;case"ES":Ae=(se=oe>0?ae[oe-1]:"B")==="EN"&&oe+1<X.length&&X[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&ae[oe-1]==="EN"){Ae="EN";break}if(I){Ae="N";break}for(ve=oe+1,fe=X.length;ve<fe&&X[ve]==="ET";)ve++;Ae=ve<fe&&X[ve]==="EN"?"EN":"N";break;case"NSM":if(u&&!h){for(fe=X.length,ve=oe+1;ve<fe&&X[ve]==="NSM";)ve++;if(ve<fe){var Se=W[oe],Je=Se>=1425&&Se<=2303||Se===64286;if(se=X[ve],Je&&(se==="R"||se==="AL")){Ae="R";break}}}Ae=oe<1||(se=X[oe-1])==="B"?"N":ae[oe-1];break;case"B":I=!1,s=!0,Ae=L;break;case"S":a=!0,Ae="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"BN":Ae="N"}return Ae},D=function(W,X,ae){var oe=W.split("");return ae&&Y(oe,ae,{hiLevel:L}),oe.reverse(),X&&X.reverse(),oe.join("")},Y=function(W,X,ae){var oe,se,Ne,ve,fe,Ae=-1,Se=W.length,Je=0,z=[],ie=L?A:E,le=[];for(I=!1,s=!1,a=!1,se=0;se<Se;se++)le[se]=q(W[se]);for(Ne=0;Ne<Se;Ne++){if(fe=Je,z[Ne]=Q(W,le,z,Ne),oe=240&(Je=ie[fe][R[z[Ne]]]),Je&=15,X[Ne]=ve=ie[Je][5],oe>0)if(oe===16){for(se=Ae;se<Ne;se++)X[se]=1;Ae=-1}else Ae=-1;if(ie[Je][6])Ae===-1&&(Ae=Ne);else if(Ae>-1){for(se=Ae;se<Ne;se++)X[se]=ve;Ae=-1}le[Ne]==="B"&&(X[Ne]=0),ae.hiLevel|=ve}a&&function(ge,ce,Te){for(var _e=0;_e<Te;_e++)if(ge[_e]==="S"){ce[_e]=L;for(var Pe=_e-1;Pe>=0&&ge[Pe]==="WS";Pe--)ce[Pe]=L}}(le,X,Se)},Z=function(W,X,ae,oe,se){if(!(se.hiLevel<W)){if(W===1&&L===1&&!s)return X.reverse(),void(ae&&ae.reverse());for(var Ne,ve,fe,Ae,Se=X.length,Je=0;Je<Se;){if(oe[Je]>=W){for(fe=Je+1;fe<Se&&oe[fe]>=W;)fe++;for(Ae=Je,ve=fe-1;Ae<ve;Ae++,ve--)Ne=X[Ae],X[Ae]=X[ve],X[ve]=Ne,ae&&(Ne=ae[Ae],ae[Ae]=ae[ve],ae[ve]=Ne);Je=fe}Je++}}},ye=function(W,X,ae){var oe=W.split(""),se={hiLevel:L};return ae||(ae=[]),Y(oe,ae,se),function(Ne,ve,fe){if(fe.hiLevel!==0&&w)for(var Ae,Se=0;Se<Ne.length;Se++)ve[Se]===1&&(Ae=M.indexOf(Ne[Se]))>=0&&(Ne[Se]=M[Ae+1])}(oe,ae,se),Z(2,oe,X,ae,se),Z(1,oe,X,ae,se),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(W,X,ae){if(function(se,Ne){if(Ne)for(var ve=0;ve<se.length;ve++)Ne[ve]=ve;h===void 0&&(h=$(se)),m===void 0&&(m=$(se))}(W,X),u||!p||m)if(u&&p&&h^m)L=h?1:0,W=D(W,X,ae);else if(!u&&p&&m)L=h?1:0,W=ye(W,X,ae),W=D(W,X);else if(!u||h||p||m){if(u&&!p&&h^m)W=D(W,X),h?(L=0,W=ye(W,X,ae)):(L=1,W=ye(W,X,ae),W=D(W,X));else if(u&&h&&!p&&m)L=1,W=ye(W,X,ae),W=D(W,X);else if(!u&&!p&&h^m){var oe=w;h?(L=1,W=ye(W,X,ae),L=0,w=!1,W=ye(W,X,ae),w=oe):(L=0,W=ye(W,X,ae),W=D(W,X),L=1,w=!1,W=ye(W,X,ae),w=oe,W=D(W,X))}}else L=0,W=ye(W,X,ae);else L=h?1:0,W=ye(W,X,ae);return W},this.__bidiEngine__.setOptions=function(W){W&&(u=W.isInputVisual,p=W.isOutputVisual,h=W.isInputRtl,m=W.isOutputRtl,w=W.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var s=r.text,a=(r.x,r.y,r.options||{}),u=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var h=0;for(u=[],h=0;h<s.length;h+=1)Object.prototype.toString.call(s[h])==="[object Array]"?u.push([n.doBidiReorder(s[h][0]),s[h][1],s[h][2]]):u.push([n.doBidiReorder(s[h])]);r.text=u}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(Pt),Pt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new qo(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new vS(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new aS(this.contents),this.head=new lS(this),this.name=new dS(this),this.cmap=new Bv(this),this.toUnicode={},this.hhea=new uS(this),this.maxp=new pS(this),this.hmtx=new gS(this),this.post=new fS(this),this.os2=new cS(this),this.loca=new wS(this),this.glyf=new mS(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,h,p,m;for(m=[],u=0,h=(p=this.bbox).length;u<h;u++)t=p[u],m.push(Math.round(t*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var s,a,u,h;for(u=0,a=0,h=(t=""+t).length;0<=h?a<h:a>h;a=0<=h?++a:--a)s=t.charCodeAt(a),u+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return u*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Ks,qo=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,s;for(s=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(t.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,s,a,u,h,p;return t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),u=this.readByte(),h=this.readByte(),p=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^a)+65536*(255^u)+256*(255^h)+(255^p)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*s+16777216*a+65536*u+256*h+p},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,s,a;for(a=[],r=0,s=t.length;r<s;r++)n=t[r],a.push(this.writeByte(n));return a},e}(),aS=function(){var e;function t(n){var r,s,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,s,a,u,h,p,m,w,v,E,A,R,k;for(k in A=Object.keys(n).length,p=Math.log(2),v=16*Math.floor(Math.log(A)/p),u=Math.floor(v/p),w=16*A-v,(s=new qo).writeInt(this.scalarType),s.writeShort(A),s.writeShort(v),s.writeShort(u),s.writeShort(w),a=16*A,m=s.pos+a,h=null,R=[],n)for(E=n[k],s.writeString(k),s.writeInt(e(E)),s.writeInt(m),s.writeInt(E.length),R=R.concat(E),k==="head"&&(h=m),m+=E.length;m%4;)R.push(0),m++;return s.write(R),r=2981146554-e(s.data),s.pos=h+8,s.writeUInt32(r),s.data},e=function(n){var r,s,a,u;for(n=Fv.call(n);n.length%4;)n.push(0);for(a=new qo(n),s=0,r=0,u=n.length;r<u;r=r+=4)s+=a.readUInt32();return 4294967295&s},t}(),oS={}.hasOwnProperty,pa=function(e,t){for(var n in t)oS.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Ks=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var lS=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Ks),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new qo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),Ix=function(){function e(t,n){var r,s,a,u,h,p,m,w,v,E,A,R,k,M,S,I,L;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),v=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(p=0;p<256;++p)this.codeMap[p]=t.readByte();break;case 4:for(A=t.readUInt16(),E=A/2,t.pos+=6,a=function(){var q,$;for($=[],p=q=0;0<=E?q<E:q>E;p=0<=E?++q:--q)$.push(t.readUInt16());return $}(),t.pos+=2,k=function(){var q,$;for($=[],p=q=0;0<=E?q<E:q>E;p=0<=E?++q:--q)$.push(t.readUInt16());return $}(),m=function(){var q,$;for($=[],p=q=0;0<=E?q<E:q>E;p=0<=E?++q:--q)$.push(t.readUInt16());return $}(),w=function(){var q,$;for($=[],p=q=0;0<=E?q<E:q>E;p=0<=E?++q:--q)$.push(t.readUInt16());return $}(),s=(this.length-t.pos+this.offset)/2,h=function(){var q,$;for($=[],p=q=0;0<=s?q<s:q>s;p=0<=s?++q:--q)$.push(t.readUInt16());return $}(),p=S=0,L=a.length;S<L;p=++S)for(M=a[p],r=I=R=k[p];R<=M?I<=M:I>=M;r=R<=M?++I:--I)w[p]===0?u=r+m[p]:(u=h[w[p]/2+(r-R)-(E-p)]||0)!==0&&(u+=m[p]),this.codeMap[r]=65535&u}t.pos=v}return e.encode=function(t,n){var r,s,a,u,h,p,m,w,v,E,A,R,k,M,S,I,L,q,$,Q,D,Y,Z,ye,W,X,ae,oe,se,Ne,ve,fe,Ae,Se,Je,z,ie,le,ge,ce,Te,_e,Pe,$e,Ye,st;switch(oe=new qo,u=Object.keys(t).sort(function(Ge,Nt){return Ge-Nt}),n){case"macroman":for(k=0,M=function(){var Ge=[];for(R=0;R<256;++R)Ge.push(0);return Ge}(),I={0:0},a={},se=0,Ae=u.length;se<Ae;se++)I[Pe=t[s=u[se]]]==null&&(I[Pe]=++k),a[s]={old:t[s],new:I[t[s]]},M[s]=I[t[s]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(M),{charMap:a,subtable:oe.data,maxGlyphID:k+1};case"unicode":for(X=[],v=[],L=0,I={},r={},S=m=null,Ne=0,Se=u.length;Ne<Se;Ne++)I[$=t[s=u[Ne]]]==null&&(I[$]=++L),r[s]={old:$,new:I[$]},h=I[$]-s,S!=null&&h===m||(S&&v.push(S),X.push(s),m=h),S=s;for(S&&v.push(S),v.push(65535),X.push(65535),ye=2*(Z=X.length),Y=2*Math.pow(Math.log(Z)/Math.LN2,2),E=Math.log(Y/2)/Math.LN2,D=2*Z-Y,p=[],Q=[],A=[],R=ve=0,Je=X.length;ve<Je;R=++ve){if(W=X[R],w=v[R],W===65535){p.push(0),Q.push(0);break}if(W-(ae=r[W].new)>=32768)for(p.push(0),Q.push(2*(A.length+Z-R)),s=fe=W;W<=w?fe<=w:fe>=w;s=W<=w?++fe:--fe)A.push(r[s].new);else p.push(ae-W),Q.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*Z+2*A.length),oe.writeUInt16(0),oe.writeUInt16(ye),oe.writeUInt16(Y),oe.writeUInt16(E),oe.writeUInt16(D),Te=0,z=v.length;Te<z;Te++)s=v[Te],oe.writeUInt16(s);for(oe.writeUInt16(0),_e=0,ie=X.length;_e<ie;_e++)s=X[_e],oe.writeUInt16(s);for($e=0,le=p.length;$e<le;$e++)h=p[$e],oe.writeUInt16(h);for(Ye=0,ge=Q.length;Ye<ge;Ye++)q=Q[Ye],oe.writeUInt16(q);for(st=0,ce=A.length;st<ce;st++)k=A[st],oe.writeUInt16(k);return{charMap:r,subtable:oe.data,maxGlyphID:L+1}}},e}(),Bv=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Ks),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,s,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)r=new Ix(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var s,a;return r==null&&(r="macroman"),s=Ix.encode(n,r),(a=new qo).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},t}(),uS=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Ks),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),cS=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Ks),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),fS=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Ks),t.prototype.tag="post",t.prototype.parse=function(n){var r,s,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var u;for(s=n.readUInt16(),this.glyphNameIndex=[],u=0;0<=s?u<s:u>s;u=0<=s?++u:--u)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var h,p,m;for(m=[],u=h=0,p=this.file.maxp.numGlyphs;0<=p?h<p:h>p;u=0<=p?++h:--h)m.push(n.readUInt32());return m}).call(this)}},t}(),hS=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},dS=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Ks),t.prototype.tag="name",t.prototype.parse=function(n){var r,s,a,u,h,p,m,w,v,E,A;for(n.pos=this.offset,n.readShort(),r=n.readShort(),p=n.readShort(),s=[],u=0;0<=r?u<r:u>r;u=0<=r?++u:--u)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+p+n.readShort()});for(m={},u=v=0,E=s.length;v<E;u=++v)a=s[u],n.pos=a.offset,w=n.readString(a.length),h=new hS(w,a),m[A=a.nameID]==null&&(m[A]=[]),m[a.nameID].push(h);this.strings=m,this.copyright=m[0],this.fontFamily=m[1],this.fontSubfamily=m[2],this.uniqueSubfamily=m[3],this.fontName=m[4],this.version=m[5];try{this.postscriptName=m[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=m[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=m[7],this.manufacturer=m[8],this.designer=m[9],this.description=m[10],this.vendorUrl=m[11],this.designerUrl=m[12],this.license=m[13],this.licenseUrl=m[14],this.preferredFamily=m[15],this.preferredSubfamily=m[17],this.compatibleFull=m[18],this.sampleText=m[19]},t}(),pS=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Ks),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),gS=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Ks),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,s,a,u,h,p,m;for(n.pos=this.offset,this.metrics=[],r=0,p=this.file.hhea.numberOfMetrics;0<=p?r<p:r>p;r=0<=p?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var w,v;for(v=[],r=w=0;0<=a?w<a:w>a;r=0<=a?++w:--w)v.push(n.readInt16());return v}(),this.widths=(function(){var w,v,E,A;for(A=[],w=0,v=(E=this.metrics).length;w<v;w++)u=E[w],A.push(u.advance);return A}).call(this),s=this.widths[this.widths.length-1],m=[],r=h=0;0<=a?h<a:h>a;r=0<=a?++h:--h)m.push(this.widths.push(s));return m},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),Fv=[].slice,mS=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Ks),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,s,a,u,h,p,m,w,v,E;return n in this.cache?this.cache[n]:(u=this.file.loca,r=this.file.contents,s=u.indexOf(n),(a=u.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,h=(p=new qo(r.read(a))).readShort(),w=p.readShort(),E=p.readShort(),m=p.readShort(),v=p.readShort(),this.cache[n]=h===-1?new yS(p,w,E,m,v):new xS(p,h,w,E,m,v),this.cache[n]))},t.prototype.encode=function(n,r,s){var a,u,h,p,m;for(h=[],u=[],p=0,m=r.length;p<m;p++)a=n[r[p]],u.push(h.length),a&&(h=h.concat(a.encode(s)));return u.push(h.length),{table:h,offsets:u}},t}(),xS=function(){function e(t,n,r,s,a,u){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=a,this.yMax=u,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),yS=function(){function e(t,n,r,s,a){var u,h;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;h=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&h;)u.pos+=1&h?4:2,128&h?u.pos+=8:64&h?u.pos+=4:8&h&&(u.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new qo(Fv.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),wS=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pa(t,Ks),t.prototype.tag="loca",t.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,u;for(u=[],s=0,a=this.length;s<a;s+=2)u.push(2*n.readUInt16());return u}).call(this):(function(){var a,u;for(u=[],s=0,a=this.length;s<a;s+=4)u.push(n.readUInt32());return u}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),a=0,u=0,h=0;h<s.length;++h)if(s[h]=a,u<r.length&&r[u]==h){++u,s[h]=a;var p=this.offsets[h],m=this.offsets[h+1]-p;m>0&&(a+=m)}for(var w=new Array(4*s.length),v=0;v<s.length;++v)w[4*v+3]=255&s[v],w[4*v+2]=(65280&s[v])>>8,w[4*v+1]=(16711680&s[v])>>16,w[4*v]=(4278190080&s[v])>>24;return w},t}(),vS=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,s,a;for(n in s=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=s[r];return t},e.prototype.glyphsFor=function(t){var n,r,s,a,u,h,p;for(s={},u=0,h=t.length;u<h;u++)s[a=t[u]]=this.font.glyf.glyphFor(a);for(a in n=[],s)(r=s[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in p=this.glyphsFor(n))r=p[a],s[a]=r;return s},e.prototype.encode=function(t,n){var r,s,a,u,h,p,m,w,v,E,A,R,k,M,S;for(s in r=Bv.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(t),A={0:0},S=r.charMap)A[(p=S[s]).old]=p.new;for(R in E=r.maxGlyphID,u)R in A||(A[R]=E++);return w=function(I){var L,q;for(L in q={},I)q[I[L]]=L;return q}(A),v=Object.keys(w).sort(function(I,L){return I-L}),k=function(){var I,L,q;for(q=[],I=0,L=v.length;I<L;I++)h=v[I],q.push(w[h]);return q}(),a=this.font.glyf.encode(u,k,A),m=this.font.loca.encode(a.offsets,k),M={cmap:this.font.cmap.raw(),glyf:a.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},e}();Pt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,s,a,u;if(Array.isArray(n))return"["+function(){var h,p,m;for(m=[],h=0,p=n.length;h<p;h++)r=n[h],m.push(t.convert(r));return m}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in a=["<<"],n)u=n[s],a.push("/"+s+" "+t.convert(u));return a.push(">>"),a.join(`
`)}return""+n},t}();const bS=async(e,t)=>{const n=new Pt({orientation:"portrait",unit:"mm",format:"a5"}),r=148,s=210,a=10;n.setFillColor(0,0,0),n.rect(0,0,r,s,"F"),n.setTextColor(255,255,255),n.setFontSize(24),n.setFont(void 0,"bold"),n.text("EX",a,20),n.setFontSize(10),n.setFont(void 0,"normal"),n.text("EventsX",a,26),n.setFontSize(7),n.setTextColor(150,150,150),n.text("Powered by Robocorp",a,31),n.setFontSize(20),n.setFont(void 0,"bold");const u=n.splitTextToSize(e.title||"EVENT TITLE",r-2*a);n.text(u,a,40),n.setFontSize(10),n.setFont(void 0,"normal");const h=n.splitTextToSize(e.description||"Event description here.",r-2*a);n.text(h,a,55),n.setTextColor(220,38,38),n.setFontSize(9),n.text(" Venue",a,75),n.setTextColor(255,255,255),n.text(e.venue||"Venue",a+20,75),n.setTextColor(220,38,38),n.text(" Date & Time",a,82),n.setTextColor(255,255,255);const p=e.date?is(new Date(e.date),"PPP"):"Date";if(n.text(p,a+20,82),t){const w=(r-50)/2,v=95;n.setFillColor(255,255,255),n.rect(w-2,v-2,54,54,"F"),n.addImage(t,"PNG",w,v,50,50),n.setTextColor(255,255,255),n.setFontSize(8),n.setFont(void 0,"bold"),n.text("SCAN TO REGISTER",r/2,v+50+8,{align:"center"})}if(e.organisers&&e.organisers.length>0){n.setFontSize(9),n.setFont(void 0,"normal"),n.text("Organiser:",a,165);const m=e.organisers.map(v=>v.name||v.detail).join(", "),w=n.splitTextToSize(m,r-2*a);n.text(w,a,172)}return n.setFontSize(7),n.setTextColor(150,150,150),n.text("Powered by Robocorp",r/2,s-5,{align:"center"}),n},AS=(e,t)=>{e.save(t)},CS=()=>{const{id:e}=Pf(),[t,n]=ze.useState(null),[r,s]=ze.useState(null),[a,u]=ze.useState(!1);ze.useEffect(()=>{h()},[e]);const h=async()=>{try{const m=await qu(parseInt(e));n(m);const w=Kc(e),v=await xv(w);s(v)}catch(m){console.error("Error loading event:",m)}},p=async()=>{if(!(!t||!r)){u(!0);try{const m=await bS(t,r);AS(m,`${t.title}-flyer.pdf`)}catch(m){console.error("Error generating PDF:",m),alert("Failed to generate PDF")}finally{u(!1)}}};return!t||!r?T.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:T.jsx("p",{className:"text-gray-400",children:"Loading..."})}):T.jsxs("div",{className:"min-h-screen bg-black",children:[T.jsx(Uo,{title:"Event Flyer",showBack:!0}),T.jsxs("div",{className:"max-w-md mx-auto px-4 py-6",children:[T.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 mb-6",children:[T.jsxs("div",{className:"mb-6",children:[T.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:T.jsx("span",{className:"text-3xl font-bold",children:"EX"})}),T.jsx("p",{className:"text-sm text-gray-400 text-center",children:"EventsX"})]}),T.jsx("h1",{className:"text-2xl font-bold mb-4 uppercase",children:t.title}),T.jsx("p",{className:"text-gray-300 mb-6 text-sm",children:t.description||"Event description here."}),T.jsxs("div",{className:"mb-3",children:[T.jsx("span",{className:"text-primary",children:" Venue"}),T.jsx("p",{className:"text-white ml-6",children:t.venue||"Venue"})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("span",{className:"text-primary",children:" Date & Time"}),T.jsx("p",{className:"text-white ml-6",children:t.date?is(new Date(t.date),"PPP"):"Date"})]}),T.jsxs("div",{className:"flex flex-col items-center mb-6",children:[T.jsx("div",{className:"bg-white p-3 rounded",children:T.jsx("img",{src:r,alt:"Registration QR",className:"w-48 h-48"})}),T.jsx("p",{className:"text-sm font-bold mt-3",children:"SCAN TO REGISTER"})]}),t.organisers&&t.organisers.length>0&&T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"text-sm text-gray-400",children:"Organiser:"}),T.jsx("p",{className:"text-white",children:t.organisers.map(m=>m.name||m.detail).join(", ")})]}),T.jsx("div",{className:"text-center text-xs text-gray-500 mt-6",children:"Powered by Robocorp"})]}),T.jsxs("button",{onClick:p,disabled:a,className:"btn-primary w-full flex items-center justify-center gap-2",children:[T.jsx(X1,{size:20}),a?"Generating PDF...":"Download A5 Flyer (PDF)"]}),T.jsxs("div",{className:"mt-6 p-4 bg-dark-lighter rounded",children:[T.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Registration URL:"}),T.jsx("p",{className:"text-xs text-primary break-all",children:Kc(e)})]})]})]})},ES=()=>{const{id:e}=Pf();Xs();const[t,n]=ze.useState(null),[r,s]=ze.useState({name:"",contact:"",email:"",notes:""}),[a,u]=ze.useState(!1),[h,p]=ze.useState(!1);ze.useEffect(()=>{m()},[e]);const m=async()=>{try{const E=await qu(parseInt(e));n(E)}catch(E){console.error("Error loading event:",E)}},w=(E,A)=>{s(R=>({...R,[E]:A}))},v=async E=>{if(E.preventDefault(),!r.name||!r.email){alert("Please fill in name and email");return}u(!0);try{await iC({eventId:parseInt(e),...r,attended:!1,registeredAt:new Date().toISOString()}),p(!0),setTimeout(()=>{s({name:"",contact:"",email:"",notes:""}),p(!1)},3e3)}catch(A){console.error("Error saving registration:",A),alert("Failed to register. Please try again.")}finally{u(!1)}};return t?h?T.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx(rA,{size:64,className:"mx-auto text-green-500 mb-4"}),T.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Registration Successful!"}),T.jsx("p",{className:"text-gray-400",children:"Thank you for registering."})]})}):T.jsxs("div",{className:"min-h-screen bg-black",children:[T.jsx(Uo,{title:"Registration",showBack:!0}),T.jsxs("div",{className:"max-w-md mx-auto px-4 py-6",children:[T.jsxs("div",{className:"bg-dark-lighter rounded-lg p-6 mb-6 text-center",children:[T.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:T.jsx("span",{className:"text-3xl font-bold",children:"EX"})}),T.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"EventsX"}),T.jsx("h1",{className:"text-2xl font-bold mb-3 uppercase",children:t.title}),T.jsx("p",{className:"text-gray-300 mb-4 text-sm",children:t.description||"Event description here."}),T.jsxs("div",{className:"space-y-2 text-sm",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-primary",children:" Venue"}),T.jsx("p",{className:"text-white",children:t.venue||"Venue"})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-primary",children:" Date & Time"}),T.jsx("p",{className:"text-white",children:t.date?is(new Date(t.date),"PPP"):"Date"})]})]}),t.organisers&&t.organisers.length>0&&T.jsxs("div",{className:"mt-4 text-sm",children:[T.jsx("p",{className:"text-gray-400",children:"Organiser:"}),T.jsx("p",{className:"text-white",children:t.organisers.map(E=>E.name||E.detail).join(" - ")})]}),T.jsx("div",{className:"text-xs text-gray-500 mt-4",children:"Powered by Robocorp"})]}),T.jsxs("form",{onSubmit:v,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name"}),T.jsx("input",{type:"text",value:r.name,onChange:E=>w("name",E.target.value),placeholder:"Contact or Phone",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),T.jsx("input",{type:"email",value:r.email,onChange:E=>w("email",E.target.value),placeholder:"Email",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Contact"}),T.jsx("input",{type:"text",value:r.contact,onChange:E=>w("contact",E.target.value),placeholder:"Phone number"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-2",children:"Notes"}),T.jsx("textarea",{value:r.notes,onChange:E=>w("notes",E.target.value),placeholder:"Notes or Company",rows:3})]}),T.jsx("button",{type:"submit",disabled:a,className:"btn-primary w-full",children:a?"Registering...":"Register"})]})]})]}):T.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:T.jsx("p",{className:"text-gray-400",children:"Loading..."})})};var dt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(dt||(dt={}));var Tx=new Map([[dt.QR_CODE,"QR_CODE"],[dt.AZTEC,"AZTEC"],[dt.CODABAR,"CODABAR"],[dt.CODE_39,"CODE_39"],[dt.CODE_93,"CODE_93"],[dt.CODE_128,"CODE_128"],[dt.DATA_MATRIX,"DATA_MATRIX"],[dt.MAXICODE,"MAXICODE"],[dt.ITF,"ITF"],[dt.EAN_13,"EAN_13"],[dt.EAN_8,"EAN_8"],[dt.PDF_417,"PDF_417"],[dt.RSS_14,"RSS_14"],[dt.RSS_EXPANDED,"RSS_EXPANDED"],[dt.UPC_A,"UPC_A"],[dt.UPC_E,"UPC_E"],[dt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),kx;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(kx||(kx={}));function NS(e){return Object.values(dt).includes(e)}var Wh;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Wh||(Wh={}));var SS=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Wh.SCAN_TYPE_CAMERA,Wh.SCAN_TYPE_FILE],e}(),jv=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Tx.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Tx.get(t))},e}(),Lx=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Cp;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Cp||(Cp={}));var _S=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Cp.UNKWOWN_ERROR}},e}(),IS=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function _a(e){return typeof e>"u"||e===null}var yu=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Uv=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(s),u=Object.keys(t),h=0,p=u;h<p.length;h++){var m=p[h];if(a.has(m))return n.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),Ep={exports:{}};(function(e,t){(function(n,r){r(t)})(cc,function(n){function r(F){return F==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,i){F.__proto__=i}||function(F,i){for(var o in i)i.hasOwnProperty(o)&&(F[o]=i[o])};function a(F,i){s(F,i);function o(){this.constructor=F}F.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}function u(F,i){var o=Object.setPrototypeOf;o?o(F,i):F.__proto__=i}function h(F,i){i===void 0&&(i=F.constructor);var o=Error.captureStackTrace;o&&o(F,i)}var p=function(F){a(i,F);function i(o){var l=this.constructor,c=F.call(this,o)||this;return Object.defineProperty(c,"name",{value:l.name,enumerable:!1}),u(c,l.prototype),h(c),c}return i}(Error);class m extends p{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}m.kind="Exception";class w extends m{}w.kind="ArgumentException";class v extends m{}v.kind="IllegalArgumentException";class E{constructor(i){if(this.binarizer=i,i===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,o){return this.binarizer.getBlackRow(i,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,o,l,c){const f=this.binarizer.getLuminanceSource().crop(i,o,l,c);return new E(this.binarizer.createBinarizer(f))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class A extends m{static getChecksumInstance(){return new A}}A.kind="ChecksumException";class R{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(i,o,l,c,f){for(;f--;)l[c++]=i[o++]}static currentTimeMillis(){return Date.now()}}class M extends m{}M.kind="IndexOutOfBoundsException";class S extends M{constructor(i=void 0,o=void 0){super(o),this.index=i,this.message=o}}S.kind="ArrayIndexOutOfBoundsException";class I{static fill(i,o){for(let l=0,c=i.length;l<c;l++)i[l]=o}static fillWithin(i,o,l,c){I.rangeCheck(i.length,o,l);for(let f=o;f<l;f++)i[f]=c}static rangeCheck(i,o,l){if(o>l)throw new v("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new S(o);if(l>i)throw new S(l)}static asList(...i){return i}static create(i,o,l){return Array.from({length:i}).map(f=>Array.from({length:o}).fill(l))}static createInt32Array(i,o,l){return Array.from({length:i}).map(f=>Int32Array.from({length:o}).fill(l))}static equals(i,o){if(!i||!o||!i.length||!o.length||i.length!==o.length)return!1;for(let l=0,c=i.length;l<c;l++)if(i[l]!==o[l])return!1;return!0}static hashCode(i){if(i===null)return 0;let o=1;for(const l of i)o=31*o+l;return o}static fillUint8Array(i,o){for(let l=0;l!==i.length;l++)i[l]=o}static copyOf(i,o){return i.slice(0,o)}static copyOfUint8Array(i,o){if(i.length<=o){const l=new Uint8Array(o);return l.set(i),l}return i.slice(0,o)}static copyOfRange(i,o,l){const c=l-o,f=new Int32Array(c);return k.arraycopy(i,o,f,0,c),f}static binarySearch(i,o,l){l===void 0&&(l=I.numberComparator);let c=0,f=i.length-1;for(;c<=f;){const d=f+c>>1,x=l(o,i[d]);if(x>0)c=d+1;else if(x<0)f=d-1;else return d}return-c-1}static numberComparator(i,o){return i-o}}class L{static numberOfTrailingZeros(i){let o;if(i===0)return 32;let l=31;return o=i<<16,o!==0&&(l-=16,i=o),o=i<<8,o!==0&&(l-=8,i=o),o=i<<4,o!==0&&(l-=4,i=o),o=i<<2,o!==0&&(l-=2,i=o),l-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let o=1;return i>>>16||(o+=16,i<<=16),i>>>24||(o+=8,i<<=8),i>>>28||(o+=4,i<<=4),i>>>30||(o+=2,i<<=2),o-=i>>>31,o}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,o){return Math.trunc(i/o)}static parseInt(i,o=void 0){return parseInt(i,o)}}L.MIN_VALUE_32_BITS=-2147483648,L.MAX_VALUE=Number.MAX_SAFE_INTEGER;class q{constructor(i,o){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,o==null?this.bits=q.makeArray(i):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const o=q.makeArray(i);k.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const o=this.size;if(i>=o)return o;const l=this.bits;let c=Math.floor(i/32),f=l[c];f&=~((1<<(i&31))-1);const d=l.length;for(;f===0;){if(++c===d)return o;f=l[c]}const x=c*32+L.numberOfTrailingZeros(f);return x>o?o:x}getNextUnset(i){const o=this.size;if(i>=o)return o;const l=this.bits;let c=Math.floor(i/32),f=~l[c];f&=~((1<<(i&31))-1);const d=l.length;for(;f===0;){if(++c===d)return o;f=~l[c]}const x=c*32+L.numberOfTrailingZeros(f);return x>o?o:x}setBulk(i,o){this.bits[Math.floor(i/32)]=o}setRange(i,o){if(o<i||i<0||o>this.size)throw new v;if(o===i)return;o--;const l=Math.floor(i/32),c=Math.floor(o/32),f=this.bits;for(let d=l;d<=c;d++){const x=d>l?0:i&31,N=(2<<(d<c?31:o&31))-(1<<x);f[d]|=N}}clear(){const i=this.bits.length,o=this.bits;for(let l=0;l<i;l++)o[l]=0}isRange(i,o,l){if(o<i||i<0||o>this.size)throw new v;if(o===i)return!0;o--;const c=Math.floor(i/32),f=Math.floor(o/32),d=this.bits;for(let x=c;x<=f;x++){const b=x>c?0:i&31,O=(2<<(x<f?31:o&31))-(1<<b)&4294967295;if((d[x]&O)!==(l?O:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,o){if(o<0||o>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((i>>l-1&1)===1)}appendBitArray(i){const o=i.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(i.get(l))}xor(i){if(this.size!==i.size)throw new v("Sizes don't match");const o=this.bits;for(let l=0,c=o.length;l<c;l++)o[l]^=i.bits[l]}toBytes(i,o,l,c){for(let f=0;f<c;f++){let d=0;for(let x=0;x<8;x++)this.get(i)&&(d|=1<<7-x),i++;o[l+f]=d}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,c=this.bits;for(let f=0;f<l;f++){let d=c[f];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,i[o-f]=d}if(this.size!==l*32){const f=l*32-this.size;let d=i[0]>>>f;for(let x=1;x<l;x++){const b=i[x];d|=b<<32-f,i[x-1]=d,d=b>>>f}i[l-1]=d}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof q))return!1;const o=i;return this.size===o.size&&I.equals(this.bits,o.bits)}hashCode(){return 31*this.size+I.hashCode(this.bits)}toString(){let i="";for(let o=0,l=this.size;o<l;o++)o&7||(i+=" "),i+=this.get(o)?"X":".";return i}clone(){return new q(this.size,this.bits.slice())}}var $;(function(F){F[F.OTHER=0]="OTHER",F[F.PURE_BARCODE=1]="PURE_BARCODE",F[F.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",F[F.TRY_HARDER=3]="TRY_HARDER",F[F.CHARACTER_SET=4]="CHARACTER_SET",F[F.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",F[F.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",F[F.ASSUME_GS1=7]="ASSUME_GS1",F[F.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",F[F.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",F[F.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})($||($={}));var Q=$;class D extends m{static getFormatInstance(){return new D}}D.kind="FormatException";var Y;(function(F){F[F.Cp437=0]="Cp437",F[F.ISO8859_1=1]="ISO8859_1",F[F.ISO8859_2=2]="ISO8859_2",F[F.ISO8859_3=3]="ISO8859_3",F[F.ISO8859_4=4]="ISO8859_4",F[F.ISO8859_5=5]="ISO8859_5",F[F.ISO8859_6=6]="ISO8859_6",F[F.ISO8859_7=7]="ISO8859_7",F[F.ISO8859_8=8]="ISO8859_8",F[F.ISO8859_9=9]="ISO8859_9",F[F.ISO8859_10=10]="ISO8859_10",F[F.ISO8859_11=11]="ISO8859_11",F[F.ISO8859_13=12]="ISO8859_13",F[F.ISO8859_14=13]="ISO8859_14",F[F.ISO8859_15=14]="ISO8859_15",F[F.ISO8859_16=15]="ISO8859_16",F[F.SJIS=16]="SJIS",F[F.Cp1250=17]="Cp1250",F[F.Cp1251=18]="Cp1251",F[F.Cp1252=19]="Cp1252",F[F.Cp1256=20]="Cp1256",F[F.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",F[F.UTF8=22]="UTF8",F[F.ASCII=23]="ASCII",F[F.Big5=24]="Big5",F[F.GB18030=25]="GB18030",F[F.EUC_KR=26]="EUC_KR"})(Y||(Y={}));class Z{constructor(i,o,l,...c){this.valueIdentifier=i,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=c,Z.VALUE_IDENTIFIER_TO_ECI.set(i,this),Z.NAME_TO_ECI.set(l,this);const f=this.values;for(let d=0,x=f.length;d!==x;d++){const b=f[d];Z.VALUES_TO_ECI.set(b,this)}for(const d of c)Z.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new D("incorect value");const o=Z.VALUES_TO_ECI.get(i);if(o===void 0)throw new D("incorect value");return o}static getCharacterSetECIByName(i){const o=Z.NAME_TO_ECI.get(i);if(o===void 0)throw new D("incorect value");return o}equals(i){if(!(i instanceof Z))return!1;const o=i;return this.getName()===o.getName()}}Z.VALUE_IDENTIFIER_TO_ECI=new Map,Z.VALUES_TO_ECI=new Map,Z.NAME_TO_ECI=new Map,Z.Cp437=new Z(Y.Cp437,Int32Array.from([0,2]),"Cp437"),Z.ISO8859_1=new Z(Y.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Z.ISO8859_2=new Z(Y.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Z.ISO8859_3=new Z(Y.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Z.ISO8859_4=new Z(Y.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Z.ISO8859_5=new Z(Y.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Z.ISO8859_6=new Z(Y.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Z.ISO8859_7=new Z(Y.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Z.ISO8859_8=new Z(Y.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Z.ISO8859_9=new Z(Y.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Z.ISO8859_10=new Z(Y.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Z.ISO8859_11=new Z(Y.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Z.ISO8859_13=new Z(Y.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Z.ISO8859_14=new Z(Y.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Z.ISO8859_15=new Z(Y.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Z.ISO8859_16=new Z(Y.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Z.SJIS=new Z(Y.SJIS,20,"SJIS","Shift_JIS"),Z.Cp1250=new Z(Y.Cp1250,21,"Cp1250","windows-1250"),Z.Cp1251=new Z(Y.Cp1251,22,"Cp1251","windows-1251"),Z.Cp1252=new Z(Y.Cp1252,23,"Cp1252","windows-1252"),Z.Cp1256=new Z(Y.Cp1256,24,"Cp1256","windows-1256"),Z.UnicodeBigUnmarked=new Z(Y.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Z.UTF8=new Z(Y.UTF8,26,"UTF8","UTF-8"),Z.ASCII=new Z(Y.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Z.Big5=new Z(Y.Big5,28,"Big5"),Z.GB18030=new Z(Y.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Z.EUC_KR=new Z(Y.EUC_KR,30,"EUC_KR","EUC-KR");class ye extends m{}ye.kind="UnsupportedOperationException";class W{static decode(i,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(i,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(i,l):new TextDecoder(l).decode(i)}static shouldDecodeOnFallback(i){return!W.isBrowser()&&i==="ISO-8859-1"}static encode(i,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(i,l):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof Z?i:Z.getCharacterSetECIByName(i)}static decodeFallback(i,o){const l=this.encodingCharacterSet(o);if(W.isDecodeFallbackSupported(l)){let c="";for(let f=0,d=i.length;f<d;f++){let x=i[f].toString(16);x.length<2&&(x="0"+x),c+="%"+x}return decodeURIComponent(c)}if(l.equals(Z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new ye(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(Z.UTF8)||i.equals(Z.ISO8859_1)||i.equals(Z.ASCII)}static encodeFallback(i){const l=btoa(unescape(encodeURIComponent(i))).split(""),c=[];for(let f=0;f<l.length;f++)c.push(l[f].charCodeAt(0));return new Uint8Array(c)}}class X{static castAsNonUtf8Char(i,o=null){const l=o?o.getName():this.ISO88591;return W.decode(new Uint8Array([i]),l)}static guessEncoding(i,o){if(o!=null&&o.get(Q.CHARACTER_SET)!==void 0)return o.get(Q.CHARACTER_SET).toString();const l=i.length;let c=!0,f=!0,d=!0,x=0,b=0,N=0,O=0,B=0,H=0,ne=0,he=0,pe=0,be=0,Re=0;const Xe=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let Qe=0;Qe<l&&(c||f||d);Qe++){const Ke=i[Qe]&255;d&&(x>0?Ke&128?x--:d=!1:Ke&128&&(Ke&64?(x++,Ke&32?(x++,Ke&16?(x++,Ke&8?d=!1:O++):N++):b++):d=!1)),c&&(Ke>127&&Ke<160?c=!1:Ke>159&&(Ke<192||Ke===215||Ke===247)&&Re++),f&&(B>0?Ke<64||Ke===127||Ke>252?f=!1:B--:Ke===128||Ke===160||Ke>239?f=!1:Ke>160&&Ke<224?(H++,he=0,ne++,ne>pe&&(pe=ne)):Ke>127?(B++,ne=0,he++,he>be&&(be=he)):(ne=0,he=0))}return d&&x>0&&(d=!1),f&&B>0&&(f=!1),d&&(Xe||b+N+O>0)?X.UTF8:f&&(X.ASSUME_SHIFT_JIS||pe>=3||be>=3)?X.SHIFT_JIS:c&&f?pe===2&&H===2||Re*10>=l?X.SHIFT_JIS:X.ISO88591:c?X.ISO88591:f?X.SHIFT_JIS:d?X.UTF8:X.PLATFORM_DEFAULT_ENCODING}static format(i,...o){let l=-1;function c(d,x,b,N,O,B){if(d==="%%")return"%";if(o[++l]===void 0)return;d=N?parseInt(N.substr(1)):void 0;let H=O?parseInt(O.substr(1)):void 0,ne;switch(B){case"s":ne=o[l];break;case"c":ne=o[l][0];break;case"f":ne=parseFloat(o[l]).toFixed(d);break;case"p":ne=parseFloat(o[l]).toPrecision(d);break;case"e":ne=parseFloat(o[l]).toExponential(d);break;case"x":ne=parseInt(o[l]).toString(H||16);break;case"d":ne=parseFloat(parseInt(o[l],H||10).toPrecision(d)).toFixed(0);break}ne=typeof ne=="object"?JSON.stringify(ne):(+ne).toString(H);let he=parseInt(b),pe=b&&b[0]+""=="0"?"0":" ";for(;ne.length<he;)ne=x!==void 0?ne+pe:pe+ne;return ne}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(f,c)}static getBytes(i,o){return W.encode(i,o)}static getCharCode(i,o=0){return i.charCodeAt(o)}static getCharAt(i){return String.fromCharCode(i)}}X.SHIFT_JIS=Z.SJIS.getName(),X.GB2312="GB2312",X.ISO88591=Z.ISO8859_1.getName(),X.EUC_JP="EUC_JP",X.UTF8=Z.UTF8.getName(),X.PLATFORM_DEFAULT_ENCODING=X.UTF8,X.ASSUME_SHIFT_JIS=!1;class ae{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=X.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,o,l){for(let c=o;o<o+l;c++)this.append(i[c]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+1)}substring(i,o){return this.value.substring(i,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+o.length)}}class oe{constructor(i,o,l,c){if(this.width=i,this.height=o,this.rowSize=l,this.bits=c,o==null&&(o=i),this.height=o,i<1||o<1)throw new v("Both dimensions must be greater than 0");l==null&&(l=Math.floor((i+31)/32)),this.rowSize=l,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const o=i.length,l=i[0].length,c=new oe(l,o);for(let f=0;f<o;f++){const d=i[f];for(let x=0;x<l;x++)d[x]&&c.set(x,f)}return c}static parseFromString(i,o,l){if(i===null)throw new v("stringRepresentation cannot be null");const c=new Array(i.length);let f=0,d=0,x=-1,b=0,N=0;for(;N<i.length;)if(i.charAt(N)===`
`||i.charAt(N)==="\r"){if(f>d){if(x===-1)x=f-d;else if(f-d!==x)throw new v("row lengths do not match");d=f,b++}N++}else if(i.substring(N,N+o.length)===o)N+=o.length,c[f]=!0,f++;else if(i.substring(N,N+l.length)===l)N+=l.length,c[f]=!1,f++;else throw new v("illegal character encountered: "+i.substring(N));if(f>d){if(x===-1)x=f-d;else if(f-d!==x)throw new v("row lengths do not match");b++}const O=new oe(x,b);for(let B=0;B<f;B++)c[B]&&O.set(Math.floor(B%x),Math.floor(B/x));return O}get(i,o){const l=o*this.rowSize+Math.floor(i/32);return(this.bits[l]>>>(i&31)&1)!==0}set(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]|=1<<(i&31)&4294967295}unset(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]&=~(1<<(i&31)&4294967295)}flip(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new v("input matrix dimensions do not match");const o=new q(Math.floor(this.width/32)+1),l=this.rowSize,c=this.bits;for(let f=0,d=this.height;f<d;f++){const x=f*l,b=i.getRow(f,o).getBitArray();for(let N=0;N<l;N++)c[x+N]^=b[N]}}clear(){const i=this.bits,o=i.length;for(let l=0;l<o;l++)i[l]=0}setRegion(i,o,l,c){if(o<0||i<0)throw new v("Left and top must be nonnegative");if(c<1||l<1)throw new v("Height and width must be at least 1");const f=i+l,d=o+c;if(d>this.height||f>this.width)throw new v("The region must fit inside the matrix");const x=this.rowSize,b=this.bits;for(let N=o;N<d;N++){const O=N*x;for(let B=i;B<f;B++)b[O+Math.floor(B/32)]|=1<<(B&31)&4294967295}}getRow(i,o){o==null||o.getSize()<this.width?o=new q(this.width):o.clear();const l=this.rowSize,c=this.bits,f=i*l;for(let d=0;d<l;d++)o.setBulk(d*32,c[f+d]);return o}setRow(i,o){k.arraycopy(o.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),o=this.getHeight();let l=new q(i),c=new q(i);for(let f=0,d=Math.floor((o+1)/2);f<d;f++)l=this.getRow(f,l),c=this.getRow(o-1-f,c),l.reverse(),c.reverse(),this.setRow(f,c),this.setRow(o-1-f,l)}getEnclosingRectangle(){const i=this.width,o=this.height,l=this.rowSize,c=this.bits;let f=i,d=o,x=-1,b=-1;for(let N=0;N<o;N++)for(let O=0;O<l;O++){const B=c[N*l+O];if(B!==0){if(N<d&&(d=N),N>b&&(b=N),O*32<f){let H=0;for(;!(B<<31-H&4294967295);)H++;O*32+H<f&&(f=O*32+H)}if(O*32+31>x){let H=31;for(;!(B>>>H);)H--;O*32+H>x&&(x=O*32+H)}}}return x<f||b<d?null:Int32Array.from([f,d,x-f+1,b-d+1])}getTopLeftOnBit(){const i=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const c=l/i;let f=l%i*32;const d=o[l];let x=0;for(;!(d<<31-x&4294967295);)x++;return f+=x,Int32Array.from([f,c])}getBottomRightOnBit(){const i=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const c=Math.floor(l/i);let f=Math.floor(l%i)*32;const d=o[l];let x=31;for(;!(d>>>x);)x--;return f+=x,Int32Array.from([f,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof oe))return!1;const o=i;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&I.equals(this.bits,o.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+I.hashCode(this.bits),i}toString(i="X ",o="  ",l=`
`){return this.buildToString(i,o,l)}buildToString(i,o,l){let c=new ae;for(let f=0,d=this.height;f<d;f++){for(let x=0,b=this.width;x<b;x++)c.append(this.get(x,f)?i:o);c.append(l)}return c.toString()}clone(){return new oe(this.width,this.height,this.rowSize,this.bits.slice())}}class se extends m{static getNotFoundInstance(){return new se}}se.kind="NotFoundException";class Ne extends R{constructor(i){super(i),this.luminances=Ne.EMPTY,this.buckets=new Int32Array(Ne.LUMINANCE_BUCKETS)}getBlackRow(i,o){const l=this.getLuminanceSource(),c=l.getWidth();o==null||o.getSize()<c?o=new q(c):o.clear(),this.initArrays(c);const f=l.getRow(i,this.luminances),d=this.buckets;for(let b=0;b<c;b++)d[(f[b]&255)>>Ne.LUMINANCE_SHIFT]++;const x=Ne.estimateBlackPoint(d);if(c<3)for(let b=0;b<c;b++)(f[b]&255)<x&&o.set(b);else{let b=f[0]&255,N=f[1]&255;for(let O=1;O<c-1;O++){const B=f[O+1]&255;(N*4-b-B)/2<x&&o.set(O),b=N,N=B}}return o}getBlackMatrix(){const i=this.getLuminanceSource(),o=i.getWidth(),l=i.getHeight(),c=new oe(o,l);this.initArrays(o);const f=this.buckets;for(let b=1;b<5;b++){const N=Math.floor(l*b/5),O=i.getRow(N,this.luminances),B=Math.floor(o*4/5);for(let H=Math.floor(o/5);H<B;H++){const ne=O[H]&255;f[ne>>Ne.LUMINANCE_SHIFT]++}}const d=Ne.estimateBlackPoint(f),x=i.getMatrix();for(let b=0;b<l;b++){const N=b*o;for(let O=0;O<o;O++)(x[N+O]&255)<d&&c.set(O,b)}return c}createBinarizer(i){return new Ne(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const o=this.buckets;for(let l=0;l<Ne.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(i){const o=i.length;let l=0,c=0,f=0;for(let O=0;O<o;O++)i[O]>f&&(c=O,f=i[O]),i[O]>l&&(l=i[O]);let d=0,x=0;for(let O=0;O<o;O++){const B=O-c,H=i[O]*B*B;H>x&&(d=O,x=H)}if(c>d){const O=c;c=d,d=O}if(d-c<=o/16)throw new se;let b=d-1,N=-1;for(let O=d-1;O>c;O--){const B=O-c,H=B*B*(d-O)*(l-i[O]);H>N&&(b=O,N=H)}return b<<Ne.LUMINANCE_SHIFT}}Ne.LUMINANCE_BITS=5,Ne.LUMINANCE_SHIFT=8-Ne.LUMINANCE_BITS,Ne.LUMINANCE_BUCKETS=1<<Ne.LUMINANCE_BITS,Ne.EMPTY=Uint8ClampedArray.from([0]);class ve extends Ne{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),o=i.getWidth(),l=i.getHeight();if(o>=ve.MINIMUM_DIMENSION&&l>=ve.MINIMUM_DIMENSION){const c=i.getMatrix();let f=o>>ve.BLOCK_SIZE_POWER;o&ve.BLOCK_SIZE_MASK&&f++;let d=l>>ve.BLOCK_SIZE_POWER;l&ve.BLOCK_SIZE_MASK&&d++;const x=ve.calculateBlackPoints(c,f,d,o,l),b=new oe(o,l);ve.calculateThresholdForBlock(c,f,d,o,l,x,b),this.matrix=b}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new ve(i)}static calculateThresholdForBlock(i,o,l,c,f,d,x){const b=f-ve.BLOCK_SIZE,N=c-ve.BLOCK_SIZE;for(let O=0;O<l;O++){let B=O<<ve.BLOCK_SIZE_POWER;B>b&&(B=b);const H=ve.cap(O,2,l-3);for(let ne=0;ne<o;ne++){let he=ne<<ve.BLOCK_SIZE_POWER;he>N&&(he=N);const pe=ve.cap(ne,2,o-3);let be=0;for(let Xe=-2;Xe<=2;Xe++){const Qe=d[H+Xe];be+=Qe[pe-2]+Qe[pe-1]+Qe[pe]+Qe[pe+1]+Qe[pe+2]}const Re=be/25;ve.thresholdBlock(i,he,B,Re,c,x)}}}static cap(i,o,l){return i<o?o:i>l?l:i}static thresholdBlock(i,o,l,c,f,d){for(let x=0,b=l*f+o;x<ve.BLOCK_SIZE;x++,b+=f)for(let N=0;N<ve.BLOCK_SIZE;N++)(i[b+N]&255)<=c&&d.set(o+N,l+x)}static calculateBlackPoints(i,o,l,c,f){const d=f-ve.BLOCK_SIZE,x=c-ve.BLOCK_SIZE,b=new Array(l);for(let N=0;N<l;N++){b[N]=new Int32Array(o);let O=N<<ve.BLOCK_SIZE_POWER;O>d&&(O=d);for(let B=0;B<o;B++){let H=B<<ve.BLOCK_SIZE_POWER;H>x&&(H=x);let ne=0,he=255,pe=0;for(let Re=0,Xe=O*c+H;Re<ve.BLOCK_SIZE;Re++,Xe+=c){for(let Qe=0;Qe<ve.BLOCK_SIZE;Qe++){const Ke=i[Xe+Qe]&255;ne+=Ke,Ke<he&&(he=Ke),Ke>pe&&(pe=Ke)}if(pe-he>ve.MIN_DYNAMIC_RANGE)for(Re++,Xe+=c;Re<ve.BLOCK_SIZE;Re++,Xe+=c)for(let Qe=0;Qe<ve.BLOCK_SIZE;Qe++)ne+=i[Xe+Qe]&255}let be=ne>>ve.BLOCK_SIZE_POWER*2;if(pe-he<=ve.MIN_DYNAMIC_RANGE&&(be=he/2,N>0&&B>0)){const Re=(b[N-1][B]+2*b[N][B-1]+b[N-1][B-1])/4;he<Re&&(be=Re)}b[N][B]=be}}return b}}ve.BLOCK_SIZE_POWER=3,ve.BLOCK_SIZE=1<<ve.BLOCK_SIZE_POWER,ve.BLOCK_SIZE_MASK=ve.BLOCK_SIZE-1,ve.MINIMUM_DIMENSION=ve.BLOCK_SIZE*5,ve.MIN_DYNAMIC_RANGE=24;class fe{constructor(i,o){this.width=i,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,o,l,c){throw new ye("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ye("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ye("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let o=new ae;for(let l=0;l<this.height;l++){const c=this.getRow(l,i);for(let f=0;f<this.width;f++){const d=c[f]&255;let x;d<64?x="#":d<128?x="+":d<192?x=".":x=" ",o.append(x)}o.append(`
`)}return o.toString()}}class Ae extends fe{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,o){const l=this.delegate.getRow(i,o),c=this.getWidth();for(let f=0;f<c;f++)l[f]=255-(l[f]&255);return l}getMatrix(){const i=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let c=0;c<o;c++)l[c]=255-(i[c]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(i,o,l,c){return new Ae(this.delegate.crop(i,o,l,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ae(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ae(this.delegate.rotateCounterClockwise45())}}class Se extends fe{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=Se.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const o=i.getContext("2d").getImageData(0,0,i.width,i.height);return Se.toGrayscaleBuffer(o.data,i.width,i.height)}static toGrayscaleBuffer(i,o,l){const c=new Uint8ClampedArray(o*l);for(let f=0,d=0,x=i.length;f<x;f+=4,d++){let b;if(i[f+3]===0)b=255;else{const O=i[f],B=i[f+1],H=i[f+2];b=306*O+601*B+117*H+512>>10}c[d]=b}return c}getRow(i,o){if(i<0||i>=this.getHeight())throw new v("Requested row is outside the image: "+i);const l=this.getWidth(),c=i*l;return o===null?o=this.buffer.slice(c,c+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(c,c+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,o,l,c){return super.crop(i,o,l,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const o=this.getTempCanvasElement(),l=o.getContext("2d"),c=i*Se.DEGREE_TO_RADIANS,f=this.canvas.width,d=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(c))*f+Math.abs(Math.sin(c))*d),b=Math.ceil(Math.abs(Math.sin(c))*f+Math.abs(Math.cos(c))*d);return o.width=x,o.height=b,l.translate(x/2,b/2),l.rotate(c),l.drawImage(this.canvas,f/-2,d/-2),this.buffer=Se.makeBufferFromCanvasImageData(o),this}invert(){return new Ae(this)}}Se.DEGREE_TO_RADIANS=Math.PI/180;class Je{constructor(i,o,l){this.deviceId=i,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var z=(globalThis||cc||self||window||void 0)&&(globalThis||cc||self||window||void 0).__awaiter||function(F,i,o,l){function c(f){return f instanceof o?f:new o(function(d){d(f)})}return new(o||(o=Promise))(function(f,d){function x(O){try{N(l.next(O))}catch(B){d(B)}}function b(O){try{N(l.throw(O))}catch(B){d(B)}}function N(O){O.done?f(O.value):c(O.value).then(x,b)}N((l=l.apply(F,i||[])).next())})};class ie{constructor(i,o=500,l){this.reader=i,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return z(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of i){const c=l.kind==="video"?"videoinput":l.kind;if(c!=="videoinput")continue;const f=l.deviceId||l.id,d=l.label||`Video device ${o.length+1}`,x=l.groupId,b={deviceId:f,label:d,kind:c,groupId:x};o.push(b)}return o})}getVideoInputDevices(){return z(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Je(o.deviceId,o.label))})}findDeviceById(i){return z(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===i):null})}decodeFromInputVideoDevice(i,o){return z(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,o)})}decodeOnceFromVideoDevice(i,o){return z(this,void 0,void 0,function*(){this.reset();let l;i?l={deviceId:{exact:i}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeOnceFromConstraints(c,o)})}decodeOnceFromConstraints(i,o){return z(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(i,o){return z(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(i,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(i,o,l){return z(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,o,l)})}decodeFromVideoDevice(i,o,l){return z(this,void 0,void 0,function*(){let c;i?c={deviceId:{exact:i}}:c={facingMode:"environment"};const f={video:c};return yield this.decodeFromConstraints(f,o,l)})}decodeFromConstraints(i,o,l){return z(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(c,o,l)})}decodeFromStream(i,o,l){return z(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(i,o);return yield this.decodeContinuously(c,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,o){return z(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,i),this.videoElement=l,this.stream=i,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(i){return new Promise((o,l)=>this.playVideoOnLoad(i,()=>o()))}playVideoOnLoad(i,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",o),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return z(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,o){const l=document.getElementById(i);if(!l)throw new w(`element with id '${i}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new w(`element with id '${i}' must be an ${o} element`);return l}decodeFromImage(i,o){if(!i&&!o)throw new w("either imageElement with a src set or an url must be provided");return o&&!i?this.decodeFromImageUrl(o):this.decodeFromImageElement(i)}decodeFromVideo(i,o){if(!i&&!o)throw new w("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,o,l){if(i===void 0&&o===void 0)throw new w("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(i,l)}decodeFromImageElement(i){if(!i)throw new w("An image element must be provided.");this.reset();const o=this.prepareImageElement(i);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(i){const o=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(i,o){const l=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(i){if(!i)throw new w("A video element must be provided.");this.reset();const o=this.prepareVideoElement(i);return this.videoElement=o,o}decodeFromImageUrl(i){if(!i)throw new w("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=i,l}decodeFromVideoUrl(i){if(!i)throw new w("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=i,l}decodeFromVideoUrlContinuously(i,o){if(!i)throw new w("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(l,o);return l.src=i,c}_decodeOnLoadImage(i){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(o,l),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return z(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,o){return z(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,o)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let o;return typeof i>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(o=i),o}prepareVideoElement(i){let o;return!i&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(o=i),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(i,o=!0,l=!0){this._stopAsyncDecode=!1;const c=(f,d)=>{if(this._stopAsyncDecode){d(new se("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(i);f(x)}catch(x){const b=o&&x instanceof se,O=(x instanceof A||x instanceof D)&&l;if(b||O)return setTimeout(c,this._timeBetweenDecodingAttempts,f,d);d(x)}};return new Promise((f,d)=>c(f,d))}decodeContinuously(i,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(i);o(c,null),setTimeout(l,this.timeBetweenScansMillis)}catch(c){o(null,c);const f=c instanceof A||c instanceof D,d=c instanceof se;(f||d)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(i){const o=this.createBinaryBitmap(i);return this.decodeBitmap(o)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,o,l){o||(o={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(i,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const o=this.getCaptureCanvas(i),l=new Se(o),c=new ve(l);return new E(c)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const o=this.createCaptureCanvas(i);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,c;return typeof i<"u"&&(i instanceof HTMLVideoElement?(l=i.videoWidth,c=i.videoHeight):i instanceof HTMLImageElement&&(l=i.naturalWidth||i.width,c=i.naturalHeight||i.height)),o.style.width=l+"px",o.style.height=c+"px",o.width=l,o.height=c,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,o){try{i.srcObject=o}catch{i.src=URL.createObjectURL(o)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class le{constructor(i,o,l=o==null?0:8*o.length,c,f,d=k.currentTimeMillis()){this.text=i,this.rawBytes=o,this.numBits=l,this.resultPoints=c,this.format=f,this.timestamp=d,this.text=i,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=c,this.format=f,this.resultMetadata=null,d==null?this.timestamp=k.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,o)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const o=this.resultPoints;if(o===null)this.resultPoints=i;else if(i!==null&&i.length>0){const l=new Array(o.length+i.length);k.arraycopy(o,0,l,0,o.length),k.arraycopy(i,0,l,o.length,i.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ge;(function(F){F[F.AZTEC=0]="AZTEC",F[F.CODABAR=1]="CODABAR",F[F.CODE_39=2]="CODE_39",F[F.CODE_93=3]="CODE_93",F[F.CODE_128=4]="CODE_128",F[F.DATA_MATRIX=5]="DATA_MATRIX",F[F.EAN_8=6]="EAN_8",F[F.EAN_13=7]="EAN_13",F[F.ITF=8]="ITF",F[F.MAXICODE=9]="MAXICODE",F[F.PDF_417=10]="PDF_417",F[F.QR_CODE=11]="QR_CODE",F[F.RSS_14=12]="RSS_14",F[F.RSS_EXPANDED=13]="RSS_EXPANDED",F[F.UPC_A=14]="UPC_A",F[F.UPC_E=15]="UPC_E",F[F.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ge||(ge={}));var ce=ge,Te;(function(F){F[F.OTHER=0]="OTHER",F[F.ORIENTATION=1]="ORIENTATION",F[F.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",F[F.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",F[F.ISSUE_NUMBER=4]="ISSUE_NUMBER",F[F.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",F[F.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",F[F.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",F[F.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",F[F.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",F[F.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Te||(Te={}));var _e=Te;class Pe{constructor(i,o,l,c,f=-1,d=-1){this.rawBytes=i,this.text=o,this.byteSegments=l,this.ecLevel=c,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=d,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class $e{exp(i){return this.expTable[i]}log(i){if(i===0)throw new v;return this.logTable[i]}static addOrSubtract(i,o){return i^o}}class Ye{constructor(i,o){if(o.length===0)throw new v;this.field=i;const l=o.length;if(l>1&&o[0]===0){let c=1;for(;c<l&&o[c]===0;)c++;c===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-c),k.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(i===1){l=0;for(let d=0,x=o.length;d!==x;d++){const b=o[d];l=$e.addOrSubtract(l,b)}return l}l=o[0];const c=o.length,f=this.field;for(let d=1;d<c;d++)l=$e.addOrSubtract(f.multiply(i,l),o[d]);return l}addOrSubtract(i){if(!this.field.equals(i.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,l=i.coefficients;if(o.length>l.length){const d=o;o=l,l=d}let c=new Int32Array(l.length);const f=l.length-o.length;k.arraycopy(l,0,c,0,f);for(let d=f;d<l.length;d++)c[d]=$e.addOrSubtract(o[d-f],l[d]);return new Ye(this.field,c)}multiply(i){if(!this.field.equals(i.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,c=i.coefficients,f=c.length,d=new Int32Array(l+f-1),x=this.field;for(let b=0;b<l;b++){const N=o[b];for(let O=0;O<f;O++)d[b+O]=$e.addOrSubtract(d[b+O],x.multiply(N,c[O]))}return new Ye(x,d)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const o=this.coefficients.length,l=this.field,c=new Int32Array(o),f=this.coefficients;for(let d=0;d<o;d++)c[d]=l.multiply(f[d],i);return new Ye(l,c)}multiplyByMonomial(i,o){if(i<0)throw new v;if(o===0)return this.field.getZero();const l=this.coefficients,c=l.length,f=new Int32Array(c+i),d=this.field;for(let x=0;x<c;x++)f[x]=d.multiply(l[x],o);return new Ye(d,f)}divide(i){if(!this.field.equals(i.field))throw new v("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new v("Divide by 0");const o=this.field;let l=o.getZero(),c=this;const f=i.getCoefficient(i.getDegree()),d=o.inverse(f);for(;c.getDegree()>=i.getDegree()&&!c.isZero();){const x=c.getDegree()-i.getDegree(),b=o.multiply(c.getCoefficient(c.getDegree()),d),N=i.multiplyByMonomial(x,b),O=o.buildMonomial(x,b);l=l.addOrSubtract(O),c=c.addOrSubtract(N)}return[l,c]}toString(){let i="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(i+=" - ",l=-l):i.length>0&&(i+=" + "),o===0||l!==1){const c=this.field.log(l);c===0?i+="1":c===1?i+="a":(i+="a^",i+=c)}o!==0&&(o===1?i+="x":(i+="x^",i+=o))}}return i}}class st extends m{}st.kind="ArithmeticException";class Ge extends $e{constructor(i,o,l){super(),this.primitive=i,this.size=o,this.generatorBase=l;const c=new Int32Array(o);let f=1;for(let x=0;x<o;x++)c[x]=f,f*=2,f>=o&&(f^=i,f&=o-1);this.expTable=c;const d=new Int32Array(o);for(let x=0;x<o-1;x++)d[c[x]]=x;this.logTable=d,this.zero=new Ye(this,Int32Array.from([0])),this.one=new Ye(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new v;if(o===0)return this.zero;const l=new Int32Array(i+1);return l[0]=o,new Ye(this,l)}inverse(i){if(i===0)throw new st;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+L.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Ge.AZTEC_DATA_12=new Ge(4201,4096,1),Ge.AZTEC_DATA_10=new Ge(1033,1024,1),Ge.AZTEC_DATA_6=new Ge(67,64,1),Ge.AZTEC_PARAM=new Ge(19,16,1),Ge.QR_CODE_FIELD_256=new Ge(285,256,0),Ge.DATA_MATRIX_FIELD_256=new Ge(301,256,1),Ge.AZTEC_DATA_8=Ge.DATA_MATRIX_FIELD_256,Ge.MAXICODE_FIELD_64=Ge.AZTEC_DATA_6;class Nt extends m{}Nt.kind="ReedSolomonException";class De extends m{}De.kind="IllegalStateException";class ue{constructor(i){this.field=i}decode(i,o){const l=this.field,c=new Ye(l,i),f=new Int32Array(o);let d=!0;for(let ne=0;ne<o;ne++){const he=c.evaluateAt(l.exp(ne+l.getGeneratorBase()));f[f.length-1-ne]=he,he!==0&&(d=!1)}if(d)return;const x=new Ye(l,f),b=this.runEuclideanAlgorithm(l.buildMonomial(o,1),x,o),N=b[0],O=b[1],B=this.findErrorLocations(N),H=this.findErrorMagnitudes(O,B);for(let ne=0;ne<B.length;ne++){const he=i.length-1-l.log(B[ne]);if(he<0)throw new Nt("Bad error location");i[he]=Ge.addOrSubtract(i[he],H[ne])}}runEuclideanAlgorithm(i,o,l){if(i.getDegree()<o.getDegree()){const ne=i;i=o,o=ne}const c=this.field;let f=i,d=o,x=c.getZero(),b=c.getOne();for(;d.getDegree()>=(l/2|0);){let ne=f,he=x;if(f=d,x=b,f.isZero())throw new Nt("r_{i-1} was zero");d=ne;let pe=c.getZero();const be=f.getCoefficient(f.getDegree()),Re=c.inverse(be);for(;d.getDegree()>=f.getDegree()&&!d.isZero();){const Xe=d.getDegree()-f.getDegree(),Qe=c.multiply(d.getCoefficient(d.getDegree()),Re);pe=pe.addOrSubtract(c.buildMonomial(Xe,Qe)),d=d.addOrSubtract(f.multiplyByMonomial(Xe,Qe))}if(b=pe.multiply(x).addOrSubtract(he),d.getDegree()>=f.getDegree())throw new De("Division algorithm failed to reduce polynomial?")}const N=b.getCoefficient(0);if(N===0)throw new Nt("sigmaTilde(0) was zero");const O=c.inverse(N),B=b.multiplyScalar(O),H=d.multiplyScalar(O);return[B,H]}findErrorLocations(i){const o=i.getDegree();if(o===1)return Int32Array.from([i.getCoefficient(1)]);const l=new Int32Array(o);let c=0;const f=this.field;for(let d=1;d<f.getSize()&&c<o;d++)i.evaluateAt(d)===0&&(l[c]=f.inverse(d),c++);if(c!==o)throw new Nt("Error locator degree does not match number of roots");return l}findErrorMagnitudes(i,o){const l=o.length,c=new Int32Array(l),f=this.field;for(let d=0;d<l;d++){const x=f.inverse(o[d]);let b=1;for(let N=0;N<l;N++)if(d!==N){const O=f.multiply(o[N],x),B=O&1?O&-2:O|1;b=f.multiply(b,B)}c[d]=f.multiply(i.evaluateAt(x),f.inverse(b)),f.getGeneratorBase()!==0&&(c[d]=f.multiply(c[d],x))}return c}}var yt;(function(F){F[F.UPPER=0]="UPPER",F[F.LOWER=1]="LOWER",F[F.MIXED=2]="MIXED",F[F.DIGIT=3]="DIGIT",F[F.PUNCT=4]="PUNCT",F[F.BINARY=5]="BINARY"})(yt||(yt={}));class nt{decode(i){this.ddata=i;let o=i.getBits(),l=this.extractBits(o),c=this.correctBits(l),f=nt.convertBoolArrayToByteArray(c),d=nt.getEncodedData(c),x=new Pe(f,d,null,null);return x.setNumBits(c.length),x}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let o=i.length,l=yt.UPPER,c=yt.UPPER,f="",d=0;for(;d<o;)if(c===yt.BINARY){if(o-d<5)break;let x=nt.readCode(i,d,5);if(d+=5,x===0){if(o-d<11)break;x=nt.readCode(i,d,11)+31,d+=11}for(let b=0;b<x;b++){if(o-d<8){d=o;break}const N=nt.readCode(i,d,8);f+=X.castAsNonUtf8Char(N),d+=8}c=l}else{let x=c===yt.DIGIT?4:5;if(o-d<x)break;let b=nt.readCode(i,d,x);d+=x;let N=nt.getCharacter(c,b);N.startsWith("CTRL_")?(l=c,c=nt.getTable(N.charAt(5)),N.charAt(6)==="L"&&(l=c)):(f+=N,c=l)}return f}static getTable(i){switch(i){case"L":return yt.LOWER;case"P":return yt.PUNCT;case"M":return yt.MIXED;case"D":return yt.DIGIT;case"B":return yt.BINARY;case"U":default:return yt.UPPER}}static getCharacter(i,o){switch(i){case yt.UPPER:return nt.UPPER_TABLE[o];case yt.LOWER:return nt.LOWER_TABLE[o];case yt.MIXED:return nt.MIXED_TABLE[o];case yt.PUNCT:return nt.PUNCT_TABLE[o];case yt.DIGIT:return nt.DIGIT_TABLE[o];default:throw new De("Bad table")}}correctBits(i){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=Ge.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=Ge.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=Ge.AZTEC_DATA_10):(l=12,o=Ge.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),f=i.length/l;if(f<c)throw new D;let d=i.length%l,x=new Int32Array(f);for(let H=0;H<f;H++,d+=l)x[H]=nt.readCode(i,d,l);try{new ue(o).decode(x,f-c)}catch(H){throw new D(H)}let b=(1<<l)-1,N=0;for(let H=0;H<c;H++){let ne=x[H];if(ne===0||ne===b)throw new D;(ne===1||ne===b-1)&&N++}let O=new Array(c*l-N),B=0;for(let H=0;H<c;H++){let ne=x[H];if(ne===1||ne===b-1)O.fill(ne>1,B,B+l-1),B+=l-1;else for(let he=l-1;he>=0;--he)O[B++]=(ne&1<<he)!==0}return O}extractBits(i){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),c=(o?11:14)+l*4,f=new Int32Array(c),d=new Array(this.totalBitsInLayer(l,o));if(o)for(let x=0;x<f.length;x++)f[x]=x;else{let x=c+1+2*L.truncDivision(L.truncDivision(c,2)-1,15),b=c/2,N=L.truncDivision(x,2);for(let O=0;O<b;O++){let B=O+L.truncDivision(O,15);f[b-O-1]=N-B-1,f[b+O]=N+B+1}}for(let x=0,b=0;x<l;x++){let N=(l-x)*4+(o?9:12),O=x*2,B=c-1-O;for(let H=0;H<N;H++){let ne=H*2;for(let he=0;he<2;he++)d[b+ne+he]=i.get(f[O+he],f[O+H]),d[b+2*N+ne+he]=i.get(f[O+H],f[B-he]),d[b+4*N+ne+he]=i.get(f[B-he],f[B-H]),d[b+6*N+ne+he]=i.get(f[B-H],f[O+he])}b+=N*8}return d}static readCode(i,o,l){let c=0;for(let f=o;f<o+l;f++)c<<=1,i[f]&&(c|=1);return c}static readByte(i,o){let l=i.length-o;return l>=8?nt.readCode(i,o,8):nt.readCode(i,o,l)<<8-l}static convertBoolArrayToByteArray(i){let o=new Uint8Array((i.length+7)/8);for(let l=0;l<o.length;l++)o[l]=nt.readByte(i,8*l);return o}totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}nt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],nt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],nt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],nt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],nt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class je{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,o,l,c){const f=i-l,d=o-c;return Math.sqrt(f*f+d*d)}static sum(i){let o=0;for(let l=0,c=i.length;l!==c;l++){const f=i[l];o+=f}return o}}class rt{static floatToIntBits(i){return i}}rt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Be{constructor(i,o){this.x=i,this.y=o}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof Be){const o=i;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*rt.floatToIntBits(this.x)+rt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const o=this.distance(i[0],i[1]),l=this.distance(i[1],i[2]),c=this.distance(i[0],i[2]);let f,d,x;if(l>=o&&l>=c?(d=i[0],f=i[1],x=i[2]):c>=l&&c>=o?(d=i[1],f=i[0],x=i[2]):(d=i[2],f=i[0],x=i[1]),this.crossProductZ(f,d,x)<0){const b=f;f=x,x=b}i[0]=f,i[1]=d,i[2]=x}static distance(i,o){return je.distance(i.x,i.y,o.x,o.y)}static crossProductZ(i,o,l){const c=o.x,f=o.y;return(l.x-c)*(i.y-f)-(l.y-f)*(i.x-c)}}class it{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class At extends it{constructor(i,o,l,c,f){super(i,o),this.compact=l,this.nbDatablocks=c,this.nbLayers=f}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class St{constructor(i,o,l,c){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),o==null&&(o=St.INIT_SIZE),l==null&&(l=i.getWidth()/2|0),c==null&&(c=i.getHeight()/2|0);const f=o/2|0;if(this.leftInit=l-f,this.rightInit=l+f,this.upInit=c-f,this.downInit=c+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new se}detect(){let i=this.leftInit,o=this.rightInit,l=this.upInit,c=this.downInit,f=!1,d=!0,x=!1,b=!1,N=!1,O=!1,B=!1;const H=this.width,ne=this.height;for(;d;){d=!1;let he=!0;for(;(he||!b)&&o<H;)he=this.containsBlackPoint(l,c,o,!1),he?(o++,d=!0,b=!0):b||o++;if(o>=H){f=!0;break}let pe=!0;for(;(pe||!N)&&c<ne;)pe=this.containsBlackPoint(i,o,c,!0),pe?(c++,d=!0,N=!0):N||c++;if(c>=ne){f=!0;break}let be=!0;for(;(be||!O)&&i>=0;)be=this.containsBlackPoint(l,c,i,!1),be?(i--,d=!0,O=!0):O||i--;if(i<0){f=!0;break}let Re=!0;for(;(Re||!B)&&l>=0;)Re=this.containsBlackPoint(i,o,l,!0),Re?(l--,d=!0,B=!0):B||l--;if(l<0){f=!0;break}d&&(x=!0)}if(!f&&x){const he=o-i;let pe=null;for(let Qe=1;pe===null&&Qe<he;Qe++)pe=this.getBlackPointOnSegment(i,c-Qe,i+Qe,c);if(pe==null)throw new se;let be=null;for(let Qe=1;be===null&&Qe<he;Qe++)be=this.getBlackPointOnSegment(i,l+Qe,i+Qe,l);if(be==null)throw new se;let Re=null;for(let Qe=1;Re===null&&Qe<he;Qe++)Re=this.getBlackPointOnSegment(o,l+Qe,o-Qe,l);if(Re==null)throw new se;let Xe=null;for(let Qe=1;Xe===null&&Qe<he;Qe++)Xe=this.getBlackPointOnSegment(o,c-Qe,o-Qe,c);if(Xe==null)throw new se;return this.centerEdges(Xe,pe,Re,be)}else throw new se}getBlackPointOnSegment(i,o,l,c){const f=je.round(je.distance(i,o,l,c)),d=(l-i)/f,x=(c-o)/f,b=this.image;for(let N=0;N<f;N++){const O=je.round(i+N*d),B=je.round(o+N*x);if(b.get(O,B))return new Be(O,B)}return null}centerEdges(i,o,l,c){const f=i.getX(),d=i.getY(),x=o.getX(),b=o.getY(),N=l.getX(),O=l.getY(),B=c.getX(),H=c.getY(),ne=St.CORR;return f<this.width/2?[new Be(B-ne,H+ne),new Be(x+ne,b+ne),new Be(N-ne,O-ne),new Be(f+ne,d-ne)]:[new Be(B+ne,H+ne),new Be(x+ne,b-ne),new Be(N-ne,O+ne),new Be(f-ne,d-ne)]}containsBlackPoint(i,o,l,c){const f=this.image;if(c){for(let d=i;d<=o;d++)if(f.get(d,l))return!0}else for(let d=i;d<=o;d++)if(f.get(l,d))return!0;return!1}}St.INIT_SIZE=10,St.CORR=1;class Ut{static checkAndNudgePoints(i,o){const l=i.getWidth(),c=i.getHeight();let f=!0;for(let d=0;d<o.length&&f;d+=2){const x=Math.floor(o[d]),b=Math.floor(o[d+1]);if(x<-1||x>l||b<-1||b>c)throw new se;f=!1,x===-1?(o[d]=0,f=!0):x===l&&(o[d]=l-1,f=!0),b===-1?(o[d+1]=0,f=!0):b===c&&(o[d+1]=c-1,f=!0)}f=!0;for(let d=o.length-2;d>=0&&f;d-=2){const x=Math.floor(o[d]),b=Math.floor(o[d+1]);if(x<-1||x>l||b<-1||b>c)throw new se;f=!1,x===-1?(o[d]=0,f=!0):x===l&&(o[d]=l-1,f=!0),b===-1?(o[d+1]=0,f=!0):b===c&&(o[d+1]=c-1,f=!0)}}}class Lt{constructor(i,o,l,c,f,d,x,b,N){this.a11=i,this.a21=o,this.a31=l,this.a12=c,this.a22=f,this.a32=d,this.a13=x,this.a23=b,this.a33=N}static quadrilateralToQuadrilateral(i,o,l,c,f,d,x,b,N,O,B,H,ne,he,pe,be){const Re=Lt.quadrilateralToSquare(i,o,l,c,f,d,x,b);return Lt.squareToQuadrilateral(N,O,B,H,ne,he,pe,be).times(Re)}transformPoints(i){const o=i.length,l=this.a11,c=this.a12,f=this.a13,d=this.a21,x=this.a22,b=this.a23,N=this.a31,O=this.a32,B=this.a33;for(let H=0;H<o;H+=2){const ne=i[H],he=i[H+1],pe=f*ne+b*he+B;i[H]=(l*ne+d*he+N)/pe,i[H+1]=(c*ne+x*he+O)/pe}}transformPointsWithValues(i,o){const l=this.a11,c=this.a12,f=this.a13,d=this.a21,x=this.a22,b=this.a23,N=this.a31,O=this.a32,B=this.a33,H=i.length;for(let ne=0;ne<H;ne++){const he=i[ne],pe=o[ne],be=f*he+b*pe+B;i[ne]=(l*he+d*pe+N)/be,o[ne]=(c*he+x*pe+O)/be}}static squareToQuadrilateral(i,o,l,c,f,d,x,b){const N=i-l+f-x,O=o-c+d-b;if(N===0&&O===0)return new Lt(l-i,f-l,i,c-o,d-c,o,0,0,1);{const B=l-f,H=x-f,ne=c-d,he=b-d,pe=B*he-H*ne,be=(N*he-H*O)/pe,Re=(B*O-N*ne)/pe;return new Lt(l-i+be*l,x-i+Re*x,i,c-o+be*c,b-o+Re*b,o,be,Re,1)}}static quadrilateralToSquare(i,o,l,c,f,d,x,b){return Lt.squareToQuadrilateral(i,o,l,c,f,d,x,b).buildAdjoint()}buildAdjoint(){return new Lt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new Lt(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class tn extends Ut{sampleGrid(i,o,l,c,f,d,x,b,N,O,B,H,ne,he,pe,be,Re,Xe,Qe){const Ke=Lt.quadrilateralToQuadrilateral(c,f,d,x,b,N,O,B,H,ne,he,pe,be,Re,Xe,Qe);return this.sampleGridWithTransform(i,o,l,Ke)}sampleGridWithTransform(i,o,l,c){if(o<=0||l<=0)throw new se;const f=new oe(o,l),d=new Float32Array(2*o);for(let x=0;x<l;x++){const b=d.length,N=x+.5;for(let O=0;O<b;O+=2)d[O]=O/2+.5,d[O+1]=N;c.transformPoints(d),Ut.checkAndNudgePoints(i,d);try{for(let O=0;O<b;O+=2)i.get(Math.floor(d[O]),Math.floor(d[O+1]))&&f.set(O/2,x)}catch{throw new se}}return f}}class Qt{static setGridSampler(i){Qt.gridSampler=i}static getInstance(){return Qt.gridSampler}}Qt.gridSampler=new tn;class xt{constructor(i,o){this.x=i,this.y=o}toResultPoint(){return new Be(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Kt{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(i){let d=l[0];l[0]=l[2],l[2]=d}this.extractParameters(l);let c=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),f=this.getMatrixCornerPoints(l);return new At(c,f,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new se;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(i[0],i[1],o),this.sampleLine(i[1],i[2],o),this.sampleLine(i[2],i[3],o),this.sampleLine(i[3],i[0],o)]);this.shift=this.getRotation(l,o);let c=0;for(let d=0;d<4;d++){let x=l[(this.shift+d)%4];this.compact?(c<<=7,c+=x>>1&127):(c<<=10,c+=(x>>2&992)+(x>>1&31))}let f=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(f>>6)+1,this.nbDataBlocks=(f&63)+1):(this.nbLayers=(f>>11)+1,this.nbDataBlocks=(f&2047)+1)}getRotation(i,o){let l=0;i.forEach((c,f,d)=>{let x=(c>>o-2<<1)+(c&1);l=(l<<3)+x}),l=((l&1)<<11)+(l>>1);for(let c=0;c<4;c++)if(L.bitCount(l^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new se}getCorrectedParameterData(i,o){let l,c;o?(l=7,c=2):(l=10,c=4);let f=l-c,d=new Int32Array(l);for(let b=l-1;b>=0;--b)d[b]=i&15,i>>=4;try{new ue(Ge.AZTEC_PARAM).decode(d,f)}catch{throw new se}let x=0;for(let b=0;b<c;b++)x=(x<<4)+d[b];return x}getBullsEyeCorners(i){let o=i,l=i,c=i,f=i,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let B=this.getFirstDifferent(o,d,1,-1),H=this.getFirstDifferent(l,d,1,1),ne=this.getFirstDifferent(c,d,-1,1),he=this.getFirstDifferent(f,d,-1,-1);if(this.nbCenterLayers>2){let pe=this.distancePoint(he,B)*this.nbCenterLayers/(this.distancePoint(f,o)*(this.nbCenterLayers+2));if(pe<.75||pe>1.25||!this.isWhiteOrBlackRectangle(B,H,ne,he))break}o=B,l=H,c=ne,f=he,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new se;this.compact=this.nbCenterLayers===5;let x=new Be(o.getX()+.5,o.getY()-.5),b=new Be(l.getX()+.5,l.getY()+.5),N=new Be(c.getX()-.5,c.getY()+.5),O=new Be(f.getX()-.5,f.getY()-.5);return this.expandSquare([x,b,N,O],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,o,l,c;try{let x=new St(this.image).detect();i=x[0],o=x[1],l=x[2],c=x[3]}catch{let b=this.image.getWidth()/2,N=this.image.getHeight()/2;i=this.getFirstDifferent(new xt(b+7,N-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new xt(b+7,N+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new xt(b-7,N+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new xt(b-7,N-7),!1,-1,-1).toResultPoint()}let f=je.round((i.getX()+c.getX()+o.getX()+l.getX())/4),d=je.round((i.getY()+c.getY()+o.getY()+l.getY())/4);try{let x=new St(this.image,15,f,d).detect();i=x[0],o=x[1],l=x[2],c=x[3]}catch{i=this.getFirstDifferent(new xt(f+7,d-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new xt(f+7,d+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new xt(f-7,d+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new xt(f-7,d-7),!1,-1,-1).toResultPoint()}return f=je.round((i.getX()+c.getX()+o.getX()+l.getX())/4),d=je.round((i.getY()+c.getY()+o.getY()+l.getY())/4),new xt(f,d)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,o,l,c,f){let d=Qt.getInstance(),x=this.getDimension(),b=x/2-this.nbCenterLayers,N=x/2+this.nbCenterLayers;return d.sampleGrid(i,x,x,b,b,N,b,N,N,b,N,o.getX(),o.getY(),l.getX(),l.getY(),c.getX(),c.getY(),f.getX(),f.getY())}sampleLine(i,o,l){let c=0,f=this.distanceResultPoint(i,o),d=f/l,x=i.getX(),b=i.getY(),N=d*(o.getX()-i.getX())/f,O=d*(o.getY()-i.getY())/f;for(let B=0;B<l;B++)this.image.get(je.round(x+B*N),je.round(b+B*O))&&(c|=1<<l-B-1);return c}isWhiteOrBlackRectangle(i,o,l,c){let f=3;i=new xt(i.getX()-f,i.getY()+f),o=new xt(o.getX()-f,o.getY()-f),l=new xt(l.getX()+f,l.getY()-f),c=new xt(c.getX()+f,c.getY()+f);let d=this.getColor(c,i);if(d===0)return!1;let x=this.getColor(i,o);return x!==d||(x=this.getColor(o,l),x!==d)?!1:(x=this.getColor(l,c),x===d)}getColor(i,o){let l=this.distancePoint(i,o),c=(o.getX()-i.getX())/l,f=(o.getY()-i.getY())/l,d=0,x=i.getX(),b=i.getY(),N=this.image.get(i.getX(),i.getY()),O=Math.ceil(l);for(let H=0;H<O;H++)x+=c,b+=f,this.image.get(je.round(x),je.round(b))!==N&&d++;let B=d/l;return B>.1&&B<.9?0:B<=.1===N?1:-1}getFirstDifferent(i,o,l,c){let f=i.getX()+l,d=i.getY()+c;for(;this.isValid(f,d)&&this.image.get(f,d)===o;)f+=l,d+=c;for(f-=l,d-=c;this.isValid(f,d)&&this.image.get(f,d)===o;)f+=l;for(f-=l;this.isValid(f,d)&&this.image.get(f,d)===o;)d+=c;return d-=c,new xt(f,d)}expandSquare(i,o,l){let c=l/(2*o),f=i[0].getX()-i[2].getX(),d=i[0].getY()-i[2].getY(),x=(i[0].getX()+i[2].getX())/2,b=(i[0].getY()+i[2].getY())/2,N=new Be(x+c*f,b+c*d),O=new Be(x-c*f,b-c*d);f=i[1].getX()-i[3].getX(),d=i[1].getY()-i[3].getY(),x=(i[1].getX()+i[3].getX())/2,b=(i[1].getY()+i[3].getY())/2;let B=new Be(x+c*f,b+c*d),H=new Be(x-c*f,b-c*d);return[N,B,O,H]}isValid(i,o){return i>=0&&i<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(i){let o=je.round(i.getX()),l=je.round(i.getY());return this.isValid(o,l)}distancePoint(i,o){return je.distance(i.getX(),i.getY(),o.getX(),o.getY())}distanceResultPoint(i,o){return je.distance(i.getX(),i.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(L.truncDivision(this.nbLayers-4,8)+1)+15}}class ot{decode(i,o=null){let l=null,c=new Kt(i.getBlackMatrix()),f=null,d=null;try{let O=c.detectMirror(!1);f=O.getPoints(),this.reportFoundResultPoints(o,f),d=new nt().decode(O)}catch(O){l=O}if(d==null)try{let O=c.detectMirror(!0);f=O.getPoints(),this.reportFoundResultPoints(o,f),d=new nt().decode(O)}catch(O){throw l??O}let x=new le(d.getText(),d.getRawBytes(),d.getNumBits(),f,ce.AZTEC,k.currentTimeMillis()),b=d.getByteSegments();b!=null&&x.putMetadata(_e.BYTE_SEGMENTS,b);let N=d.getECLevel();return N!=null&&x.putMetadata(_e.ERROR_CORRECTION_LEVEL,N),x}reportFoundResultPoints(i,o){if(i!=null){let l=i.get(Q.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((c,f,d)=>{l.foundPossibleResultPoint(c)})}}reset(){}}class jr extends ie{constructor(i=500){super(new ot,i)}}class _t{decode(i,o){try{return this.doDecode(i,o)}catch{if(o&&o.get(Q.TRY_HARDER)===!0&&i.isRotateSupported()){const f=i.rotateCounterClockwise(),d=this.doDecode(f,o),x=d.getResultMetadata();let b=270;x!==null&&x.get(_e.ORIENTATION)===!0&&(b=b+x.get(_e.ORIENTATION)%360),d.putMetadata(_e.ORIENTATION,b);const N=d.getResultPoints();if(N!==null){const O=f.getHeight();for(let B=0;B<N.length;B++)N[B]=new Be(O-N[B].getY()-1,N[B].getX())}return d}else throw new se}}reset(){}doDecode(i,o){const l=i.getWidth(),c=i.getHeight();let f=new q(l);const d=o&&o.get(Q.TRY_HARDER)===!0,x=Math.max(1,c>>(d?8:5));let b;d?b=c:b=15;const N=Math.trunc(c/2);for(let O=0;O<b;O++){const B=Math.trunc((O+1)/2),H=(O&1)===0,ne=N+x*(H?B:-B);if(ne<0||ne>=c)break;try{f=i.getBlackRow(ne,f)}catch{continue}for(let he=0;he<2;he++){if(he===1&&(f.reverse(),o&&o.get(Q.NEED_RESULT_POINT_CALLBACK)===!0)){const pe=new Map;o.forEach((be,Re)=>pe.set(Re,be)),pe.delete(Q.NEED_RESULT_POINT_CALLBACK),o=pe}try{const pe=this.decodeRow(ne,f,o);if(he===1){pe.putMetadata(_e.ORIENTATION,180);const be=pe.getResultPoints();be!==null&&(be[0]=new Be(l-be[0].getX()-1,be[0].getY()),be[1]=new Be(l-be[1].getX()-1,be[1].getY()))}return pe}catch{}}}throw new se}static recordPattern(i,o,l){const c=l.length;for(let N=0;N<c;N++)l[N]=0;const f=i.getSize();if(o>=f)throw new se;let d=!i.get(o),x=0,b=o;for(;b<f;){if(i.get(b)!==d)l[x]++;else{if(++x===c)break;l[x]=1,d=!d}b++}if(!(x===c||x===c-1&&b===f))throw new se}static recordPatternInReverse(i,o,l){let c=l.length,f=i.get(o);for(;o>0&&c>=0;)i.get(--o)!==f&&(c--,f=!f);if(c>=0)throw new se;_t.recordPattern(i,o+1,l)}static patternMatchVariance(i,o,l){const c=i.length;let f=0,d=0;for(let N=0;N<c;N++)f+=i[N],d+=o[N];if(f<d)return Number.POSITIVE_INFINITY;const x=f/d;l*=x;let b=0;for(let N=0;N<c;N++){const O=i[N],B=o[N]*x,H=O>B?O-B:B-O;if(H>l)return Number.POSITIVE_INFINITY;b+=H}return b/f}}class tt extends _t{static findStartPattern(i){const o=i.getSize(),l=i.getNextSet(0);let c=0,f=Int32Array.from([0,0,0,0,0,0]),d=l,x=!1;const b=6;for(let N=l;N<o;N++)if(i.get(N)!==x)f[c]++;else{if(c===b-1){let O=tt.MAX_AVG_VARIANCE,B=-1;for(let H=tt.CODE_START_A;H<=tt.CODE_START_C;H++){const ne=_t.patternMatchVariance(f,tt.CODE_PATTERNS[H],tt.MAX_INDIVIDUAL_VARIANCE);ne<O&&(O=ne,B=H)}if(B>=0&&i.isRange(Math.max(0,d-(N-d)/2),d,!1))return Int32Array.from([d,N,B]);d+=f[0]+f[1],f=f.slice(2,f.length-1),f[c-1]=0,f[c]=0,c--}else c++;f[c]=1,x=!x}throw new se}static decodeCode(i,o,l){_t.recordPattern(i,l,o);let c=tt.MAX_AVG_VARIANCE,f=-1;for(let d=0;d<tt.CODE_PATTERNS.length;d++){const x=tt.CODE_PATTERNS[d],b=this.patternMatchVariance(o,x,tt.MAX_INDIVIDUAL_VARIANCE);b<c&&(c=b,f=d)}if(f>=0)return f;throw new se}decodeRow(i,o,l){const c=l&&l.get(Q.ASSUME_GS1)===!0,f=tt.findStartPattern(o),d=f[2];let x=0;const b=new Uint8Array(20);b[x++]=d;let N;switch(d){case tt.CODE_START_A:N=tt.CODE_CODE_A;break;case tt.CODE_START_B:N=tt.CODE_CODE_B;break;case tt.CODE_START_C:N=tt.CODE_CODE_C;break;default:throw new D}let O=!1,B=!1,H="",ne=f[0],he=f[1];const pe=Int32Array.from([0,0,0,0,0,0]);let be=0,Re=0,Xe=d,Qe=0,Ke=!0,Yt=!1,Rt=!1;for(;!O;){const ys=B;switch(B=!1,be=Re,Re=tt.decodeCode(o,pe,he),b[x++]=Re,Re!==tt.CODE_STOP&&(Ke=!0),Re!==tt.CODE_STOP&&(Qe++,Xe+=Qe*Re),ne=he,he+=pe.reduce((Mi,Bi)=>Mi+Bi,0),Re){case tt.CODE_START_A:case tt.CODE_START_B:case tt.CODE_START_C:throw new D}switch(N){case tt.CODE_CODE_A:if(Re<64)Rt===Yt?H+=String.fromCharCode(32+Re):H+=String.fromCharCode(32+Re+128),Rt=!1;else if(Re<96)Rt===Yt?H+=String.fromCharCode(Re-64):H+=String.fromCharCode(Re+64),Rt=!1;else switch(Re!==tt.CODE_STOP&&(Ke=!1),Re){case tt.CODE_FNC_1:c&&(H.length===0?H+="]C1":H+="");break;case tt.CODE_FNC_2:case tt.CODE_FNC_3:break;case tt.CODE_FNC_4_A:!Yt&&Rt?(Yt=!0,Rt=!1):Yt&&Rt?(Yt=!1,Rt=!1):Rt=!0;break;case tt.CODE_SHIFT:B=!0,N=tt.CODE_CODE_B;break;case tt.CODE_CODE_B:N=tt.CODE_CODE_B;break;case tt.CODE_CODE_C:N=tt.CODE_CODE_C;break;case tt.CODE_STOP:O=!0;break}break;case tt.CODE_CODE_B:if(Re<96)Rt===Yt?H+=String.fromCharCode(32+Re):H+=String.fromCharCode(32+Re+128),Rt=!1;else switch(Re!==tt.CODE_STOP&&(Ke=!1),Re){case tt.CODE_FNC_1:c&&(H.length===0?H+="]C1":H+="");break;case tt.CODE_FNC_2:case tt.CODE_FNC_3:break;case tt.CODE_FNC_4_B:!Yt&&Rt?(Yt=!0,Rt=!1):Yt&&Rt?(Yt=!1,Rt=!1):Rt=!0;break;case tt.CODE_SHIFT:B=!0,N=tt.CODE_CODE_A;break;case tt.CODE_CODE_A:N=tt.CODE_CODE_A;break;case tt.CODE_CODE_C:N=tt.CODE_CODE_C;break;case tt.CODE_STOP:O=!0;break}break;case tt.CODE_CODE_C:if(Re<100)Re<10&&(H+="0"),H+=Re;else switch(Re!==tt.CODE_STOP&&(Ke=!1),Re){case tt.CODE_FNC_1:c&&(H.length===0?H+="]C1":H+="");break;case tt.CODE_CODE_A:N=tt.CODE_CODE_A;break;case tt.CODE_CODE_B:N=tt.CODE_CODE_B;break;case tt.CODE_STOP:O=!0;break}break}ys&&(N=N===tt.CODE_CODE_A?tt.CODE_CODE_B:tt.CODE_CODE_A)}const ur=he-ne;if(he=o.getNextUnset(he),!o.isRange(he,Math.min(o.getSize(),he+(he-ne)/2),!1))throw new se;if(Xe-=Qe*be,Xe%103!==be)throw new A;const Rr=H.length;if(Rr===0)throw new se;Rr>0&&Ke&&(N===tt.CODE_CODE_C?H=H.substring(0,Rr-2):H=H.substring(0,Rr-1));const rr=(f[1]+f[0])/2,on=ne+ur/2,Qn=b.length,wr=new Uint8Array(Qn);for(let ys=0;ys<Qn;ys++)wr[ys]=b[ys];const Si=[new Be(rr,i),new Be(on,i)];return new le(H,wr,0,Si,ce.CODE_128,new Date().getTime())}}tt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],tt.MAX_AVG_VARIANCE=.25,tt.MAX_INDIVIDUAL_VARIANCE=.7,tt.CODE_SHIFT=98,tt.CODE_CODE_C=99,tt.CODE_CODE_B=100,tt.CODE_CODE_A=101,tt.CODE_FNC_1=102,tt.CODE_FNC_2=97,tt.CODE_FNC_3=96,tt.CODE_FNC_4_A=101,tt.CODE_FNC_4_B=100,tt.CODE_START_A=103,tt.CODE_START_B=104,tt.CODE_START_C=105,tt.CODE_STOP=106;class Mt extends _t{constructor(i=!1,o=!1){super(),this.usingCheckDigit=i,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,o,l){let c=this.counters;c.fill(0),this.decodeRowResult="";let f=Mt.findAsteriskPattern(o,c),d=o.getNextSet(f[1]),x=o.getSize(),b,N;do{Mt.recordPattern(o,d,c);let pe=Mt.toNarrowWidePattern(c);if(pe<0)throw new se;b=Mt.patternToChar(pe),this.decodeRowResult+=b,N=d;for(let be of c)d+=be;d=o.getNextSet(d)}while(b!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let O=0;for(let pe of c)O+=pe;let B=d-N-O;if(d!==x&&B*2<O)throw new se;if(this.usingCheckDigit){let pe=this.decodeRowResult.length-1,be=0;for(let Re=0;Re<pe;Re++)be+=Mt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Re));if(this.decodeRowResult.charAt(pe)!==Mt.ALPHABET_STRING.charAt(be%43))throw new A;this.decodeRowResult=this.decodeRowResult.substring(0,pe)}if(this.decodeRowResult.length===0)throw new se;let H;this.extendedMode?H=Mt.decodeExtended(this.decodeRowResult):H=this.decodeRowResult;let ne=(f[1]+f[0])/2,he=N+O/2;return new le(H,null,0,[new Be(ne,i),new Be(he,i)],ce.CODE_39,new Date().getTime())}static findAsteriskPattern(i,o){let l=i.getSize(),c=i.getNextSet(0),f=0,d=c,x=!1,b=o.length;for(let N=c;N<l;N++)if(i.get(N)!==x)o[f]++;else{if(f===b-1){if(this.toNarrowWidePattern(o)===Mt.ASTERISK_ENCODING&&i.isRange(Math.max(0,d-Math.floor((N-d)/2)),d,!1))return[d,N];d+=o[0]+o[1],o.copyWithin(0,2,2+f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,x=!x}throw new se}static toNarrowWidePattern(i){let o=i.length,l=0,c;do{let f=2147483647;for(let b of i)b<f&&b>l&&(f=b);l=f,c=0;let d=0,x=0;for(let b=0;b<o;b++){let N=i[b];N>l&&(x|=1<<o-1-b,c++,d+=N)}if(c===3){for(let b=0;b<o&&c>0;b++){let N=i[b];if(N>l&&(c--,N*2>=d))return-1}return x}}while(c>3);return-1}static patternToChar(i){for(let o=0;o<Mt.CHARACTER_ENCODINGS.length;o++)if(Mt.CHARACTER_ENCODINGS[o]===i)return Mt.ALPHABET_STRING.charAt(o);if(i===Mt.ASTERISK_ENCODING)return"*";throw new se}static decodeExtended(i){let o=i.length,l="";for(let c=0;c<o;c++){let f=i.charAt(c);if(f==="+"||f==="$"||f==="%"||f==="/"){let d=i.charAt(c+1),x="\0";switch(f){case"+":if(d>="A"&&d<="Z")x=String.fromCharCode(d.charCodeAt(0)+32);else throw new D;break;case"$":if(d>="A"&&d<="Z")x=String.fromCharCode(d.charCodeAt(0)-64);else throw new D;break;case"%":if(d>="A"&&d<="E")x=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")x=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")x=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")x=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")x="\0";else if(d==="V")x="@";else if(d==="W")x="`";else if(d==="X"||d==="Y"||d==="Z")x="";else throw new D;break;case"/":if(d>="A"&&d<="O")x=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")x=":";else throw new D;break}l+=x,c++}else l+=f}return l}}Mt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Mt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Mt.ASTERISK_ENCODING=148;class Tt extends _t{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,o,l){let c=this.decodeStart(o),f=this.decodeEnd(o),d=new ae;Tt.decodeMiddle(o,c[1],f[0],d);let x=d.toString(),b=null;l!=null&&(b=l.get(Q.ALLOWED_LENGTHS)),b==null&&(b=Tt.DEFAULT_ALLOWED_LENGTHS);let N=x.length,O=!1,B=0;for(let he of b){if(N===he){O=!0;break}he>B&&(B=he)}if(!O&&N>B&&(O=!0),!O)throw new D;const H=[new Be(c[1],i),new Be(f[0],i)];return new le(x,null,0,H,ce.ITF,new Date().getTime())}static decodeMiddle(i,o,l,c){let f=new Int32Array(10),d=new Int32Array(5),x=new Int32Array(5);for(f.fill(0),d.fill(0),x.fill(0);o<l;){_t.recordPattern(i,o,f);for(let N=0;N<5;N++){let O=2*N;d[N]=f[O],x[N]=f[O+1]}let b=Tt.decodeDigit(d);c.append(b.toString()),b=this.decodeDigit(x),c.append(b.toString()),f.forEach(function(N){o+=N})}}decodeStart(i){let o=Tt.skipWhiteSpace(i),l=Tt.findGuardPattern(i,o,Tt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(i,l[0]),l}validateQuietZone(i,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let c=o-1;l>0&&c>=0&&!i.get(c);c--)l--;if(l!==0)throw new se}static skipWhiteSpace(i){const o=i.getSize(),l=i.getNextSet(0);if(l===o)throw new se;return l}decodeEnd(i){i.reverse();try{let o=Tt.skipWhiteSpace(i),l;try{l=Tt.findGuardPattern(i,o,Tt.END_PATTERN_REVERSED[0])}catch(f){f instanceof se&&(l=Tt.findGuardPattern(i,o,Tt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,l[0]);let c=l[0];return l[0]=i.getSize()-l[1],l[1]=i.getSize()-c,l}finally{i.reverse()}}static findGuardPattern(i,o,l){let c=l.length,f=new Int32Array(c),d=i.getSize(),x=!1,b=0,N=o;f.fill(0);for(let O=o;O<d;O++)if(i.get(O)!==x)f[b]++;else{if(b===c-1){if(_t.patternMatchVariance(f,l,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return[N,O];N+=f[0]+f[1],k.arraycopy(f,2,f,0,b-1),f[b-1]=0,f[b]=0,b--}else b++;f[b]=1,x=!x}throw new se}static decodeDigit(i){let o=Tt.MAX_AVG_VARIANCE,l=-1,c=Tt.PATTERNS.length;for(let f=0;f<c;f++){let d=Tt.PATTERNS[f],x=_t.patternMatchVariance(i,d,Tt.MAX_INDIVIDUAL_VARIANCE);x<o?(o=x,l=f):x===o&&(l=-1)}if(l>=0)return l%10;throw new se}}Tt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Tt.MAX_AVG_VARIANCE=.38,Tt.MAX_INDIVIDUAL_VARIANCE=.5,Tt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Tt.START_PATTERN=Int32Array.from([1,1,1,1]),Tt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class cn extends _t{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let o=!1,l,c=0,f=Int32Array.from([0,0,0]);for(;!o;){f=Int32Array.from([0,0,0]),l=cn.findGuardPattern(i,c,!1,this.START_END_PATTERN,f);let d=l[0];c=l[1];let x=d-(c-d);x>=0&&(o=i.isRange(x,d,!1))}return l}static checkChecksum(i){return cn.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let l=parseInt(i.charAt(o-1),10);return cn.getStandardUPCEANChecksum(i.substring(0,o-1))===l}static getStandardUPCEANChecksum(i){let o=i.length,l=0;for(let c=o-1;c>=0;c-=2){let f=i.charAt(c).charCodeAt(0)-48;if(f<0||f>9)throw new D;l+=f}l*=3;for(let c=o-2;c>=0;c-=2){let f=i.charAt(c).charCodeAt(0)-48;if(f<0||f>9)throw new D;l+=f}return(1e3-l)%10}static decodeEnd(i,o){return cn.findGuardPattern(i,o,!1,cn.START_END_PATTERN,new Int32Array(cn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,o,l,c){return this.findGuardPattern(i,o,l,c,new Int32Array(c.length))}static findGuardPattern(i,o,l,c,f){let d=i.getSize();o=l?i.getNextUnset(o):i.getNextSet(o);let x=0,b=o,N=c.length,O=l;for(let B=o;B<d;B++)if(i.get(B)!==O)f[x]++;else{if(x===N-1){if(_t.patternMatchVariance(f,c,cn.MAX_INDIVIDUAL_VARIANCE)<cn.MAX_AVG_VARIANCE)return Int32Array.from([b,B]);b+=f[0]+f[1];let H=f.slice(2,f.length-1);for(let ne=0;ne<x-1;ne++)f[ne]=H[ne];f[x-1]=0,f[x]=0,x--}else x++;f[x]=1,O=!O}throw new se}static decodeDigit(i,o,l,c){this.recordPattern(i,l,o);let f=this.MAX_AVG_VARIANCE,d=-1,x=c.length;for(let b=0;b<x;b++){let N=c[b],O=_t.patternMatchVariance(o,N,cn.MAX_INDIVIDUAL_VARIANCE);O<f&&(f=O,d=b)}if(d>=0)return d;throw new se}}cn.MAX_AVG_VARIANCE=.48,cn.MAX_INDIVIDUAL_VARIANCE=.7,cn.START_END_PATTERN=Int32Array.from([1,1,1]),cn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),cn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),cn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class nn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,l){let c=this.decodeRowStringBuffer,f=this.decodeMiddle(o,l,c),d=c.toString(),x=nn.parseExtensionString(d),b=[new Be((l[0]+l[1])/2,i),new Be(f,i)],N=new le(d,null,0,b,ce.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&N.putAllMetadata(x),N}decodeMiddle(i,o,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=i.getSize(),d=o[1],x=0;for(let N=0;N<5&&d<f;N++){let O=cn.decodeDigit(i,c,d,cn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+O%10);for(let B of c)d+=B;O>=10&&(x|=1<<4-N),N!==4&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(l.length!==5)throw new se;let b=this.determineCheckDigit(x);if(nn.extensionChecksum(l.toString())!==b)throw new se;return d}static extensionChecksum(i){let o=i.length,l=0;for(let c=o-2;c>=0;c-=2)l+=i.charAt(c).charCodeAt(0)-48;l*=3;for(let c=o-1;c>=0;c-=2)l+=i.charAt(c).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(i){for(let o=0;o<10;o++)if(i===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new se}static parseExtensionString(i){if(i.length!==5)return null;let o=nn.parseExtension5String(i);return o==null?null:new Map([[_e.SUGGESTED_PRICE,o]])}static parseExtension5String(i){let o;switch(i.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(i.substring(1)),c=(l/100).toString(),f=l%100,d=f<10?"0"+f:f.toString();return o+c+"."+d}}class Ts{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,l){let c=this.decodeRowStringBuffer,f=this.decodeMiddle(o,l,c),d=c.toString(),x=Ts.parseExtensionString(d),b=[new Be((l[0]+l[1])/2,i),new Be(f,i)],N=new le(d,null,0,b,ce.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&N.putAllMetadata(x),N}decodeMiddle(i,o,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=i.getSize(),d=o[1],x=0;for(let b=0;b<2&&d<f;b++){let N=cn.decodeDigit(i,c,d,cn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+N%10);for(let O of c)d+=O;N>=10&&(x|=1<<1-b),b!==1&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(l.length!==2)throw new se;if(parseInt(l.toString())%4!==x)throw new se;return d}static parseExtensionString(i){return i.length!==2?null:new Map([[_e.ISSUE_NUMBER,parseInt(i)]])}}class Bn{static decodeRow(i,o,l){let c=cn.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new nn().decodeRow(i,o,c)}catch{return new Ts().decodeRow(i,o,c)}}}Bn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Vt extends cn{constructor(){super(),this.decodeRowStringBuffer="",Vt.L_AND_G_PATTERNS=Vt.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let o=Vt.L_PATTERNS[i-10],l=new Int32Array(o.length);for(let c=0;c<o.length;c++)l[c]=o[o.length-c-1];Vt.L_AND_G_PATTERNS[i]=l}}decodeRow(i,o,l){let c=Vt.findStartGuardPattern(o),f=l==null?null:l.get(Q.NEED_RESULT_POINT_CALLBACK);if(f!=null){const Ke=new Be((c[0]+c[1])/2,i);f.foundPossibleResultPoint(Ke)}let d=this.decodeMiddle(o,c,this.decodeRowStringBuffer),x=d.rowOffset,b=d.resultString;if(f!=null){const Ke=new Be(x,i);f.foundPossibleResultPoint(Ke)}let N=this.decodeEnd(o,x);if(f!=null){const Ke=new Be((N[0]+N[1])/2,i);f.foundPossibleResultPoint(Ke)}let O=N[1],B=O+(O-N[0]);if(B>=o.getSize()||!o.isRange(O,B,!1))throw new se;let H=b.toString();if(H.length<8)throw new D;if(!Vt.checkChecksum(H))throw new A;let ne=(c[1]+c[0])/2,he=(N[1]+N[0])/2,pe=this.getBarcodeFormat(),be=[new Be(ne,i),new Be(he,i)],Re=new le(H,null,0,be,pe,new Date().getTime()),Xe=0;try{let Ke=Bn.decodeRow(i,o,N[1]);Re.putMetadata(_e.UPC_EAN_EXTENSION,Ke.getText()),Re.putAllMetadata(Ke.getResultMetadata()),Re.addResultPoints(Ke.getResultPoints()),Xe=Ke.getText().length}catch{}let Qe=l==null?null:l.get(Q.ALLOWED_EAN_EXTENSIONS);if(Qe!=null){let Ke=!1;for(let Yt in Qe)if(Xe.toString()===Yt){Ke=!0;break}if(!Ke)throw new se}return Re}decodeEnd(i,o){return Vt.findGuardPattern(i,o,!1,Vt.START_END_PATTERN,new Int32Array(Vt.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return Vt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let l=parseInt(i.charAt(o-1),10);return Vt.getStandardUPCEANChecksum(i.substring(0,o-1))===l}static getStandardUPCEANChecksum(i){let o=i.length,l=0;for(let c=o-1;c>=0;c-=2){let f=i.charAt(c).charCodeAt(0)-48;if(f<0||f>9)throw new D;l+=f}l*=3;for(let c=o-2;c>=0;c-=2){let f=i.charAt(c).charCodeAt(0)-48;if(f<0||f>9)throw new D;l+=f}return(1e3-l)%10}}class Zr extends Vt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=i.getSize(),d=o[1],x=0;for(let N=0;N<6&&d<f;N++){let O=Vt.decodeDigit(i,c,d,Vt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+O%10);for(let B of c)d+=B;O>=10&&(x|=1<<5-N)}l=Zr.determineFirstDigit(l,x),d=Vt.findGuardPattern(i,d,!0,Vt.MIDDLE_PATTERN,new Int32Array(Vt.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<6&&d<f;N++){let O=Vt.decodeDigit(i,c,d,Vt.L_PATTERNS);l+=String.fromCharCode(48+O);for(let B of c)d+=B}return{rowOffset:d,resultString:l}}getBarcodeFormat(){return ce.EAN_13}static determineFirstDigit(i,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return i=String.fromCharCode(48+l)+i,i;throw new se}}Zr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Fn extends Vt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,l){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=i.getSize(),d=o[1];for(let b=0;b<4&&d<f;b++){let N=Vt.decodeDigit(i,c,d,Vt.L_PATTERNS);l+=String.fromCharCode(48+N);for(let O of c)d+=O}d=Vt.findGuardPattern(i,d,!0,Vt.MIDDLE_PATTERN,new Int32Array(Vt.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<4&&d<f;b++){let N=Vt.decodeDigit(i,c,d,Vt.L_PATTERNS);l+=String.fromCharCode(48+N);for(let O of c)d+=O}return{rowOffset:d,resultString:l}}getBarcodeFormat(){return ce.EAN_8}}class Bt extends Vt{constructor(){super(...arguments),this.ean13Reader=new Zr}getBarcodeFormat(){return ce.UPC_A}decode(i,o){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,o,l))}decodeMiddle(i,o,l){return this.ean13Reader.decodeMiddle(i,o,l)}maybeReturnResult(i){let o=i.getText();if(o.charAt(0)==="0"){let l=new le(o.substring(1),null,null,i.getResultPoints(),ce.UPC_A);return i.getResultMetadata()!=null&&l.putAllMetadata(i.getResultMetadata()),l}else throw new se}reset(){this.ean13Reader.reset()}}class Ht extends Vt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,o,l){const c=this.decodeMiddleCounters.map(N=>N);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const f=i.getSize();let d=o[1],x=0;for(let N=0;N<6&&d<f;N++){const O=Ht.decodeDigit(i,c,d,Ht.L_AND_G_PATTERNS);l+=String.fromCharCode(48+O%10);for(let B of c)d+=B;O>=10&&(x|=1<<5-N)}let b=Ht.determineNumSysAndCheckDigit(l,x);return{rowOffset:d,resultString:b}}decodeEnd(i,o){return Ht.findGuardPatternWithoutCounters(i,o,!0,Ht.MIDDLE_END_PATTERN)}checkChecksum(i){return Vt.checkChecksum(Ht.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,o){for(let l=0;l<=1;l++)for(let c=0;c<10;c++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][c]){let f=String.fromCharCode(48+l),d=String.fromCharCode(48+c);return f+i+d}throw se.getNotFoundInstance()}getBarcodeFormat(){return ce.UPC_E}static convertUPCEtoUPCA(i){const o=i.slice(1,7).split("").map(f=>f.charCodeAt(0)),l=new ae;l.append(i.charAt(0));let c=o[5];switch(c){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(c),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(c);break}return i.length>=8&&l.append(i.charAt(7)),l.toString()}}Ht.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ht.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ks extends _t{constructor(i){super();let o=i==null?null:i.get(Q.POSSIBLE_FORMATS),l=[];r(o)?(l.push(new Zr),l.push(new Bt),l.push(new Fn),l.push(new Ht)):(o.indexOf(ce.EAN_13)>-1&&l.push(new Zr),o.indexOf(ce.UPC_A)>-1&&l.push(new Bt),o.indexOf(ce.EAN_8)>-1&&l.push(new Fn),o.indexOf(ce.UPC_E)>-1&&l.push(new Ht)),this.readers=l}decodeRow(i,o,l){for(let c of this.readers)try{const f=c.decodeRow(i,o,l),d=f.getBarcodeFormat()===ce.EAN_13&&f.getText().charAt(0)==="0",x=l==null?null:l.get(Q.POSSIBLE_FORMATS),b=x==null||x.includes(ce.UPC_A);if(d&&b){const N=f.getRawBytes(),O=new le(f.getText().substring(1),N,N?N.length:null,f.getResultPoints(),ce.UPC_A);return O.putAllMetadata(f.getResultMetadata()),O}return f}catch{}throw new se}reset(){for(let i of this.readers)i.reset()}}class ln extends _t{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,o){for(let l=0;l<o.length;l++)if(_t.patternMatchVariance(i,o[l],ln.MAX_INDIVIDUAL_VARIANCE)<ln.MAX_AVG_VARIANCE)return l;throw new se}static count(i){return je.sum(new Int32Array(i))}static increment(i,o){let l=0,c=o[0];for(let f=1;f<i.length;f++)o[f]>c&&(c=o[f],l=f);i[l]++}static decrement(i,o){let l=0,c=o[0];for(let f=1;f<i.length;f++)o[f]<c&&(c=o[f],l=f);i[l]--}static isFinderPattern(i){let o=i[0]+i[1],l=o+i[2]+i[3],c=o/l;if(c>=ln.MIN_FINDER_PATTERN_RATIO&&c<=ln.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let x of i)x>d&&(d=x),x<f&&(f=x);return d<10*f}return!1}}ln.MAX_AVG_VARIANCE=.2,ln.MAX_INDIVIDUAL_VARIANCE=.45,ln.MIN_FINDER_PATTERN_RATIO=9.5/12,ln.MAX_FINDER_PATTERN_RATIO=12.5/14;class Qr{constructor(i,o){this.value=i,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Qr))return!1;const o=i;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ai{constructor(i,o,l,c,f){this.value=i,this.startEnd=o,this.value=i,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Be(l,f)),this.resultPoints.push(new Be(c,f))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Ai))return!1;const o=i;return this.value===o.value}hashCode(){return this.value}}class wt{constructor(){}static getRSSvalue(i,o,l){let c=0;for(let b of i)c+=b;let f=0,d=0,x=i.length;for(let b=0;b<x-1;b++){let N;for(N=1,d|=1<<b;N<i[b];N++,d&=~(1<<b)){let O=wt.combins(c-N-1,x-b-2);if(l&&d===0&&c-N-(x-b-1)>=x-b-1&&(O-=wt.combins(c-N-(x-b),x-b-2)),x-b-1>1){let B=0;for(let H=c-N-(x-b-2);H>o;H--)B+=wt.combins(c-N-H-1,x-b-3);O-=B*(x-1-b)}else c-N>o&&O--;f+=O}c-=N}return f}static combins(i,o){let l,c;i-o>o?(c=o,l=i-o):(c=i-o,l=o);let f=1,d=1;for(let x=i;x>l;x--)f*=x,d<=c&&(f/=d,d++);for(;d<=c;)f/=d,d++;return f}}class Gi{static buildBitArray(i){let o=i.length*2-1;i[i.length-1].getRightChar()==null&&(o-=1);let l=12*o,c=new q(l),f=0,x=i[0].getRightChar().getValue();for(let b=11;b>=0;--b)x&1<<b&&c.set(f),f++;for(let b=1;b<i.length;++b){let N=i[b],O=N.getLeftChar().getValue();for(let B=11;B>=0;--B)O&1<<B&&c.set(f),f++;if(N.getRightChar()!=null){let B=N.getRightChar().getValue();for(let H=11;H>=0;--H)B&1<<H&&c.set(f),f++}}return c}}class Ur{constructor(i,o){o?this.decodedInformation=null:(this.finished=i,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class zr{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class un extends zr{constructor(i,o){super(i),this.value=o}getValue(){return this.value}isFNC1(){return this.value===un.FNC1}}un.FNC1="$";class Nn extends zr{constructor(i,o,l){super(i),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ln extends zr{constructor(i,o,l){if(super(i),o<0||o>10||l<0||l>10)throw new D;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ln.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ln.FNC1}isAnyFNC1(){return this.firstDigit===Ln.FNC1||this.secondDigit===Ln.FNC1}}Ln.FNC1=10;class ct{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new se;let o=i.substring(0,2);for(let f of ct.TWO_DIGIT_DATA_LENGTH)if(f[0]===o)return f[1]===ct.VARIABLE_LENGTH?ct.processVariableAI(2,f[2],i):ct.processFixedAI(2,f[1],i);if(i.length<3)throw new se;let l=i.substring(0,3);for(let f of ct.THREE_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===ct.VARIABLE_LENGTH?ct.processVariableAI(3,f[2],i):ct.processFixedAI(3,f[1],i);for(let f of ct.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===ct.VARIABLE_LENGTH?ct.processVariableAI(4,f[2],i):ct.processFixedAI(4,f[1],i);if(i.length<4)throw new se;let c=i.substring(0,4);for(let f of ct.FOUR_DIGIT_DATA_LENGTH)if(f[0]===c)return f[1]===ct.VARIABLE_LENGTH?ct.processVariableAI(4,f[2],i):ct.processFixedAI(4,f[1],i);throw new se}static processFixedAI(i,o,l){if(l.length<i)throw new se;let c=l.substring(0,i);if(l.length<i+o)throw new se;let f=l.substring(i,i+o),d=l.substring(i+o),x="("+c+")"+f,b=ct.parseFieldsInGeneralPurpose(d);return b==null?x:x+b}static processVariableAI(i,o,l){let c=l.substring(0,i),f;l.length<i+o?f=l.length:f=i+o;let d=l.substring(i,f),x=l.substring(f),b="("+c+")"+d,N=ct.parseFieldsInGeneralPurpose(x);return N==null?b:b+N}}ct.VARIABLE_LENGTH=[],ct.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ct.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ct.VARIABLE_LENGTH,20],["22",ct.VARIABLE_LENGTH,29],["30",ct.VARIABLE_LENGTH,8],["37",ct.VARIABLE_LENGTH,8],["90",ct.VARIABLE_LENGTH,30],["91",ct.VARIABLE_LENGTH,30],["92",ct.VARIABLE_LENGTH,30],["93",ct.VARIABLE_LENGTH,30],["94",ct.VARIABLE_LENGTH,30],["95",ct.VARIABLE_LENGTH,30],["96",ct.VARIABLE_LENGTH,30],["97",ct.VARIABLE_LENGTH,3],["98",ct.VARIABLE_LENGTH,30],["99",ct.VARIABLE_LENGTH,30]],ct.THREE_DIGIT_DATA_LENGTH=[["240",ct.VARIABLE_LENGTH,30],["241",ct.VARIABLE_LENGTH,30],["242",ct.VARIABLE_LENGTH,6],["250",ct.VARIABLE_LENGTH,30],["251",ct.VARIABLE_LENGTH,30],["253",ct.VARIABLE_LENGTH,17],["254",ct.VARIABLE_LENGTH,20],["400",ct.VARIABLE_LENGTH,30],["401",ct.VARIABLE_LENGTH,30],["402",17],["403",ct.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ct.VARIABLE_LENGTH,20],["421",ct.VARIABLE_LENGTH,15],["422",3],["423",ct.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ct.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ct.VARIABLE_LENGTH,15],["391",ct.VARIABLE_LENGTH,18],["392",ct.VARIABLE_LENGTH,15],["393",ct.VARIABLE_LENGTH,18],["703",ct.VARIABLE_LENGTH,30]],ct.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ct.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ct.VARIABLE_LENGTH,20],["8003",ct.VARIABLE_LENGTH,30],["8004",ct.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ct.VARIABLE_LENGTH,30],["8008",ct.VARIABLE_LENGTH,12],["8018",18],["8020",ct.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ct.VARIABLE_LENGTH,70],["8200",ct.VARIABLE_LENGTH,70]];class si{constructor(i){this.buffer=new ae,this.information=i}decodeAllCodes(i,o){let l=o,c=null;do{let f=this.decodeGeneralPurposeField(l,c),d=ct.parseFieldsInGeneralPurpose(f.getNewString());if(d!=null&&i.append(d),f.isRemaining()?c=""+f.getRemainingValue():c=null,l===f.getNewPosition())break;l=f.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let o=i;o<i+3;++o)if(this.information.get(o))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let f=this.extractNumericValueFromBitArray(i,4);return f===0?new Ln(this.information.getSize(),Ln.FNC1,Ln.FNC1):new Ln(this.information.getSize(),f-1,Ln.FNC1)}let o=this.extractNumericValueFromBitArray(i,7),l=(o-8)/11,c=(o-8)%11;return new Ln(i+7,l,c)}extractNumericValueFromBitArray(i,o){return si.extractNumericValueFromBitArray(this.information,i,o)}static extractNumericValueFromBitArray(i,o,l){let c=0;for(let f=0;f<l;++f)i.get(o+f)&&(c|=1<<l-f-1);return c}decodeGeneralPurposeField(i,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(i);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Nn(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Nn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),i=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),i=o.isFinished()):(o=this.parseNumericBlock(),i=o.isFinished()),!(l!==this.current.getPosition())&&!i)break}while(!i);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let o;return i.isSecondDigitFNC1()?o=new Nn(this.current.getPosition(),this.buffer.toString()):o=new Nn(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Ur(!0,o)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let o=new Nn(this.current.getPosition(),this.buffer.toString());return new Ur(!0,o)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ur(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Nn(this.current.getPosition(),this.buffer.toString());return new Ur(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ur(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Nn(this.current.getPosition(),this.buffer.toString());return new Ur(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ur(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<116)return!0;if(i+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(i,8);return c>=232&&c<253}decodeIsoIec646(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new un(i+5,un.FNC1);if(o>=5&&o<15)return new un(i+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<90)return new un(i+7,""+(l+1));if(l>=90&&l<116)return new un(i+7,""+(l+7));let c=this.extractNumericValueFromBitArray(i,8),f;switch(c){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new D}return new un(i+8,f)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,6);return l>=16&&l<63}decodeAlphanumeric(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new un(i+5,un.FNC1);if(o>=5&&o<15)return new un(i+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(i,6);if(l>=32&&l<58)return new un(i+6,""+(l+33));let c;switch(l){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new De("Decoding invalid alphanumeric value: "+l)}return new un(i+6,c)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<5&&o+i<this.information.getSize();++o)if(o===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+o))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let o=i;o<i+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<4&&o+i<this.information.getSize();++o)if(this.information.get(i+o))return!1;return!0}}class Ci{constructor(i){this.information=i,this.generalDecoder=new si(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Pn extends Ci{constructor(i){super(i)}encodeCompressedGtin(i,o){i.append("(01)");let l=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,o,l)}encodeCompressedGtinWithoutAI(i,o,l){for(let c=0;c<4;++c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*c,10);f/100===0&&i.append("0"),f/10===0&&i.append("0"),i.append(f)}Pn.appendCheckDigit(i,l)}static appendCheckDigit(i,o){let l=0;for(let c=0;c<13;c++){let f=i.charAt(c+o).charCodeAt(0)-48;l+=c&1?f:3*f}l=10-l%10,l===10&&(l=0),i.append(l)}}Pn.GTIN_SIZE=40;class qr extends Pn{constructor(i){super(i)}parseInformation(){let i=new ae;i.append("(01)");let o=i.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(qr.HEADER_SIZE,4);return i.append(l),this.encodeCompressedGtinWithoutAI(i,qr.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(i,qr.HEADER_SIZE+44)}}qr.HEADER_SIZE=4;class Ei extends Ci{constructor(i){super(i)}parseInformation(){let i=new ae;return this.getGeneralDecoder().decodeAllCodes(i,Ei.HEADER_SIZE)}}Ei.HEADER_SIZE=5;class Jr extends Pn{constructor(i){super(i)}encodeCompressedWeight(i,o,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(i,c);let f=this.checkWeight(c),d=1e5;for(let x=0;x<5;++x)f/d===0&&i.append("0"),d/=10;i.append(f)}}class gr extends Jr{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=gr.HEADER_SIZE+Jr.GTIN_SIZE+gr.WEIGHT_SIZE)throw new se;let i=new ae;return this.encodeCompressedGtin(i,gr.HEADER_SIZE),this.encodeCompressedWeight(i,gr.HEADER_SIZE+Jr.GTIN_SIZE,gr.WEIGHT_SIZE),i.toString()}}gr.HEADER_SIZE=5,gr.WEIGHT_SIZE=15;class ga extends gr{constructor(i){super(i)}addWeightCode(i,o){i.append("(3103)")}checkWeight(i){return i}}class Ha extends gr{constructor(i){super(i)}addWeightCode(i,o){o<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class $r extends Pn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<$r.HEADER_SIZE+Pn.GTIN_SIZE)throw new se;let i=new ae;this.encodeCompressedGtin(i,$r.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray($r.HEADER_SIZE+Pn.GTIN_SIZE,$r.LAST_DIGIT_SIZE);i.append("(392"),i.append(o),i.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField($r.HEADER_SIZE+Pn.GTIN_SIZE+$r.LAST_DIGIT_SIZE,null);return i.append(l.getNewString()),i.toString()}}$r.HEADER_SIZE=8,$r.LAST_DIGIT_SIZE=2;class or extends Pn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<or.HEADER_SIZE+Pn.GTIN_SIZE)throw new se;let i=new ae;this.encodeCompressedGtin(i,or.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(or.HEADER_SIZE+Pn.GTIN_SIZE,or.LAST_DIGIT_SIZE);i.append("(393"),i.append(o),i.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(or.HEADER_SIZE+Pn.GTIN_SIZE+or.LAST_DIGIT_SIZE,or.FIRST_THREE_DIGITS_SIZE);l/100==0&&i.append("0"),l/10==0&&i.append("0"),i.append(l);let c=this.getGeneralDecoder().decodeGeneralPurposeField(or.HEADER_SIZE+Pn.GTIN_SIZE+or.LAST_DIGIT_SIZE+or.FIRST_THREE_DIGITS_SIZE,null);return i.append(c.getNewString()),i.toString()}}or.HEADER_SIZE=8,or.LAST_DIGIT_SIZE=2,or.FIRST_THREE_DIGITS_SIZE=10;class mn extends Jr{constructor(i,o,l){super(i),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=mn.HEADER_SIZE+mn.GTIN_SIZE+mn.WEIGHT_SIZE+mn.DATE_SIZE)throw new se;let i=new ae;return this.encodeCompressedGtin(i,mn.HEADER_SIZE),this.encodeCompressedWeight(i,mn.HEADER_SIZE+mn.GTIN_SIZE,mn.WEIGHT_SIZE),this.encodeCompressedDate(i,mn.HEADER_SIZE+mn.GTIN_SIZE+mn.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,mn.DATE_SIZE);if(l==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let c=l%32;l/=32;let f=l%12+1;l/=12;let d=l;d/10==0&&i.append("0"),i.append(d),f/10==0&&i.append("0"),i.append(f),c/10==0&&i.append("0"),i.append(c)}addWeightCode(i,o){i.append("("),i.append(this.firstAIdigits),i.append(o/1e5),i.append(")")}checkWeight(i){return i%1e5}}mn.HEADER_SIZE=8,mn.WEIGHT_SIZE=20,mn.DATE_SIZE=16;function Yo(F){try{if(F.get(1))return new qr(F);if(!F.get(2))return new Ei(F);switch(si.extractNumericValueFromBitArray(F,1,4)){case 4:return new ga(F);case 5:return new Ha(F)}switch(si.extractNumericValueFromBitArray(F,1,5)){case 12:return new $r(F);case 13:return new or(F)}switch(si.extractNumericValueFromBitArray(F,1,7)){case 56:return new mn(F,"310","11");case 57:return new mn(F,"320","11");case 58:return new mn(F,"310","13");case 59:return new mn(F,"320","13");case 60:return new mn(F,"310","15");case 61:return new mn(F,"320","15");case 62:return new mn(F,"310","17");case 63:return new mn(F,"320","17")}}catch(i){throw console.log(i),new De("unknown decoder: "+F)}}class hs{constructor(i,o,l,c){this.leftchar=i,this.rightchar=o,this.finderpattern=l,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,o){return i instanceof hs?hs.equalsOrNull(i.leftchar,o.leftchar)&&hs.equalsOrNull(i.rightchar,o.rightchar)&&hs.equalsOrNull(i.finderpattern,o.finderpattern):!1}static equalsOrNull(i,o){return i===null?o===null:hs.equals(i,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ko{constructor(i,o,l){this.pairs=i,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,o){return i instanceof Ko?this.checkEqualitity(i,o)&&i.wasReversed===o.wasReversed:!1}checkEqualitity(i,o){if(!i||!o)return;let l;return i.forEach((c,f)=>{o.forEach(d=>{c.getLeftChar().getValue()===d.getLeftChar().getValue()&&c.getRightChar().getValue()===d.getRightChar().getValue()&&c.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(l=!0)})}),l}}class Ve extends ln{constructor(i){super(...arguments),this.pairs=new Array(Ve.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,o,l){this.pairs.length=0,this.startFromEven=!1;try{return Ve.constructResult(this.decodeRow2pairs(i,o))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,Ve.constructResult(this.decodeRow2pairs(i,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,i))}catch(f){if(f instanceof se){if(!this.pairs.length)throw new se;l=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(i,!1),c){let f=this.checkRowsBoolean(!1);if(f!=null||(f=this.checkRowsBoolean(!0),f!=null))return f}throw new se}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return i&&(this.rows=this.rows.reverse()),o}checkRows(i,o){for(let l=o;l<this.rows.length;l++){let c=this.rows[l];this.pairs.length=0;for(let d of i)this.pairs.push(d.getPairs());if(this.pairs.push(c.getPairs()),!Ve.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let f=new Array(i);f.push(c);try{return this.checkRows(f,l+1)}catch(d){this.verbose&&console.log(d)}}throw new se}static isValidSequence(i){for(let o of Ve.FINDER_PATTERN_SEQUENCES){if(i.length>o.length)continue;let l=!0;for(let c=0;c<i.length;c++)if(i[c].getFinderPattern().getValue()!=o[c]){l=!1;break}if(l)return!0}return!1}storeRow(i,o){let l=0,c=!1,f=!1;for(;l<this.rows.length;){let d=this.rows[l];if(d.getRowNumber()>i){f=d.isEquivalent(this.pairs);break}c=d.isEquivalent(this.pairs),l++}f||c||Ve.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Ko(this.pairs,i,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,o){for(let l of o)if(l.getPairs().length!==i.length){for(let c of l.getPairs())for(let f of i)if(hs.equals(c,f))break}}static isPartialRow(i,o){for(let l of o){let c=!0;for(let f of i){let d=!1;for(let x of l.getPairs())if(f.equals(x)){d=!0;break}if(!d){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(i){let o=Gi.buildBitArray(i),c=Yo(o).parseInformation(),f=i[0].getFinderPattern().getResultPoints(),d=i[i.length-1].getFinderPattern().getResultPoints(),x=[f[0],f[1],d[0],d[1]];return new le(c,null,null,x,ce.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),o=i.getLeftChar(),l=i.getRightChar();if(l==null)return!1;let c=l.getChecksumPortion(),f=2;for(let x=1;x<this.pairs.size();++x){let b=this.pairs.get(x);c+=b.getLeftChar().getChecksumPortion(),f++;let N=b.getRightChar();N!=null&&(c+=N.getChecksumPortion(),f++)}return c%=211,211*(f-4)+c==o.getValue()}static getNextSecondBar(i,o){let l;return i.get(o)?(l=i.getNextUnset(o),l=i.getNextSet(l)):(l=i.getNextSet(o),l=i.getNextUnset(l)),l}retrieveNextPair(i,o,l){let c=o.length%2==0;this.startFromEven&&(c=!c);let f,d=!0,x=-1;do this.findNextPair(i,o,x),f=this.parseFoundFinderPattern(i,l,c),f==null?x=Ve.getNextSecondBar(i,this.startEnd[0]):d=!1;while(d);let b=this.decodeDataCharacter(i,f,c,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new se;let N;try{N=this.decodeDataCharacter(i,f,c,!1)}catch(O){N=null,this.verbose&&console.log(O)}return new hs(b,N,f,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,o,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=i.getSize(),d;l>=0?d=l:this.isEmptyPair(o)?d=0:d=o[o.length-1].getFinderPattern().getStartEnd()[1];let x=o.length%2!=0;this.startFromEven&&(x=!x);let b=!1;for(;d<f&&(b=!i.get(d),!!b);)d++;let N=0,O=d;for(let B=d;B<f;B++)if(i.get(B)!=b)c[N]++;else{if(N==3){if(x&&Ve.reverseCounters(c),Ve.isFinderPattern(c)){this.startEnd[0]=O,this.startEnd[1]=B;return}x&&Ve.reverseCounters(c),O+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,N--}else N++;c[N]=1,b=!b}throw new se}static reverseCounters(i){let o=i.length;for(let l=0;l<o/2;++l){let c=i[l];i[l]=i[o-l-1],i[o-l-1]=c}}parseFoundFinderPattern(i,o,l){let c,f,d;if(l){let N=this.startEnd[0]-1;for(;N>=0&&!i.get(N);)N--;N++,c=this.startEnd[0]-N,f=N,d=this.startEnd[1]}else f=this.startEnd[0],d=i.getNextUnset(this.startEnd[1]+1),c=d-this.startEnd[1];let x=this.getDecodeFinderCounters();k.arraycopy(x,0,x,1,x.length-1),x[0]=c;let b;try{b=this.parseFinderValue(x,Ve.FINDER_PATTERNS)}catch{return null}return new Ai(b,[f,d],f,d,o)}decodeDataCharacter(i,o,l,c){let f=this.getDataCharacterCounters();for(let on=0;on<f.length;on++)f[on]=0;if(c)Ve.recordPatternInReverse(i,o.getStartEnd()[0],f);else{Ve.recordPattern(i,o.getStartEnd()[1],f);for(let on=0,Qn=f.length-1;on<Qn;on++,Qn--){let wr=f[on];f[on]=f[Qn],f[Qn]=wr}}let d=17,x=je.sum(new Int32Array(f))/d,b=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(x-b)/b>.3)throw new se;let N=this.getOddCounts(),O=this.getEvenCounts(),B=this.getOddRoundingErrors(),H=this.getEvenRoundingErrors();for(let on=0;on<f.length;on++){let Qn=1*f[on]/x,wr=Qn+.5;if(wr<1){if(Qn<.3)throw new se;wr=1}else if(wr>8){if(Qn>8.7)throw new se;wr=8}let Si=on/2;on&1?(O[Si]=wr,H[Si]=Qn-wr):(N[Si]=wr,B[Si]=Qn-wr)}this.adjustOddEvenCounts(d);let ne=4*o.getValue()+(l?0:2)+(c?0:1)-1,he=0,pe=0;for(let on=N.length-1;on>=0;on--){if(Ve.isNotA1left(o,l,c)){let Qn=Ve.WEIGHTS[ne][2*on];pe+=N[on]*Qn}he+=N[on]}let be=0;for(let on=O.length-1;on>=0;on--)if(Ve.isNotA1left(o,l,c)){let Qn=Ve.WEIGHTS[ne][2*on+1];be+=O[on]*Qn}let Re=pe+be;if(he&1||he>13||he<4)throw new se;let Xe=(13-he)/2,Qe=Ve.SYMBOL_WIDEST[Xe],Ke=9-Qe,Yt=wt.getRSSvalue(N,Qe,!0),Rt=wt.getRSSvalue(O,Ke,!1),ur=Ve.EVEN_TOTAL_SUBSET[Xe],Rr=Ve.GSUM[Xe],rr=Yt*ur+Rt+Rr;return new Qr(rr,Re)}static isNotA1left(i,o,l){return!(i.getValue()==0&&o&&l)}adjustOddEvenCounts(i){let o=je.sum(new Int32Array(this.getOddCounts())),l=je.sum(new Int32Array(this.getEvenCounts())),c=!1,f=!1;o>13?f=!0:o<4&&(c=!0);let d=!1,x=!1;l>13?x=!0:l<4&&(d=!0);let b=o+l-i,N=(o&1)==1,O=(l&1)==0;if(b==1)if(N){if(O)throw new se;f=!0}else{if(!O)throw new se;x=!0}else if(b==-1)if(N){if(O)throw new se;c=!0}else{if(!O)throw new se;d=!0}else if(b==0){if(N){if(!O)throw new se;o<l?(c=!0,x=!0):(f=!0,d=!0)}else if(O)throw new se}else throw new se;if(c){if(f)throw new se;Ve.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Ve.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(x)throw new se;Ve.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&Ve.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ve.SYMBOL_WIDEST=[7,5,4,3,1],Ve.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ve.GSUM=[0,348,1388,2948,3988],Ve.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ve.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ve.FINDER_PAT_A=0,Ve.FINDER_PAT_B=1,Ve.FINDER_PAT_C=2,Ve.FINDER_PAT_D=3,Ve.FINDER_PAT_E=4,Ve.FINDER_PAT_F=5,Ve.FINDER_PATTERN_SEQUENCES=[[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_C,Ve.FINDER_PAT_B,Ve.FINDER_PAT_D],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_E,Ve.FINDER_PAT_B,Ve.FINDER_PAT_D,Ve.FINDER_PAT_C],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_E,Ve.FINDER_PAT_B,Ve.FINDER_PAT_D,Ve.FINDER_PAT_D,Ve.FINDER_PAT_F],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_E,Ve.FINDER_PAT_B,Ve.FINDER_PAT_D,Ve.FINDER_PAT_E,Ve.FINDER_PAT_F,Ve.FINDER_PAT_F],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B,Ve.FINDER_PAT_C,Ve.FINDER_PAT_C,Ve.FINDER_PAT_D,Ve.FINDER_PAT_D],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B,Ve.FINDER_PAT_C,Ve.FINDER_PAT_C,Ve.FINDER_PAT_D,Ve.FINDER_PAT_E,Ve.FINDER_PAT_E],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B,Ve.FINDER_PAT_C,Ve.FINDER_PAT_C,Ve.FINDER_PAT_D,Ve.FINDER_PAT_E,Ve.FINDER_PAT_F,Ve.FINDER_PAT_F],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B,Ve.FINDER_PAT_C,Ve.FINDER_PAT_D,Ve.FINDER_PAT_D,Ve.FINDER_PAT_E,Ve.FINDER_PAT_E,Ve.FINDER_PAT_F,Ve.FINDER_PAT_F]],Ve.MAX_PAIRS=11;class zl extends Qr{constructor(i,o,l){super(i,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class On extends ln{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,o,l){const c=this.decodePair(o,!1,i,l);On.addOrTally(this.possibleLeftPairs,c),o.reverse();let f=this.decodePair(o,!0,i,l);On.addOrTally(this.possibleRightPairs,f),o.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&On.checkChecksum(d,x))return On.constructResult(d,x)}throw new se}static addOrTally(i,o){if(o==null)return;let l=!1;for(let c of i)if(c.getValue()===o.getValue()){c.incrementCount(),l=!0;break}l||i.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,o){let l=4537077*i.getValue()+o.getValue(),c=new String(l).toString(),f=new ae;for(let N=13-c.length;N>0;N--)f.append("0");f.append(c);let d=0;for(let N=0;N<13;N++){let O=f.charAt(N).charCodeAt(0)-48;d+=N&1?O:3*O}d=10-d%10,d===10&&(d=0),f.append(d.toString());let x=i.getFinderPattern().getResultPoints(),b=o.getFinderPattern().getResultPoints();return new le(f.toString(),null,0,[x[0],x[1],b[0],b[1]],ce.RSS_14,new Date().getTime())}static checkChecksum(i,o){let l=(i.getChecksumPortion()+16*o.getChecksumPortion())%79,c=9*i.getFinderPattern().getValue()+o.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,l===c}decodePair(i,o,l,c){try{let f=this.findFinderPattern(i,o),d=this.parseFoundFinderPattern(i,l,o,f),x=c==null?null:c.get(Q.NEED_RESULT_POINT_CALLBACK);if(x!=null){let O=(f[0]+f[1])/2;o&&(O=i.getSize()-1-O),x.foundPossibleResultPoint(new Be(O,l))}let b=this.decodeDataCharacter(i,d,!0),N=this.decodeDataCharacter(i,d,!1);return new zl(1597*b.getValue()+N.getValue(),b.getChecksumPortion()+4*N.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(i,o,l){let c=this.getDataCharacterCounters();for(let be=0;be<c.length;be++)c[be]=0;if(l)_t.recordPatternInReverse(i,o.getStartEnd()[0],c);else{_t.recordPattern(i,o.getStartEnd()[1]+1,c);for(let be=0,Re=c.length-1;be<Re;be++,Re--){let Xe=c[be];c[be]=c[Re],c[Re]=Xe}}let f=l?16:15,d=je.sum(new Int32Array(c))/f,x=this.getOddCounts(),b=this.getEvenCounts(),N=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let be=0;be<c.length;be++){let Re=c[be]/d,Xe=Math.floor(Re+.5);Xe<1?Xe=1:Xe>8&&(Xe=8);let Qe=Math.floor(be/2);be&1?(b[Qe]=Xe,O[Qe]=Re-Xe):(x[Qe]=Xe,N[Qe]=Re-Xe)}this.adjustOddEvenCounts(l,f);let B=0,H=0;for(let be=x.length-1;be>=0;be--)H*=9,H+=x[be],B+=x[be];let ne=0,he=0;for(let be=b.length-1;be>=0;be--)ne*=9,ne+=b[be],he+=b[be];let pe=H+3*ne;if(l){if(B&1||B>12||B<4)throw new se;let be=(12-B)/2,Re=On.OUTSIDE_ODD_WIDEST[be],Xe=9-Re,Qe=wt.getRSSvalue(x,Re,!1),Ke=wt.getRSSvalue(b,Xe,!0),Yt=On.OUTSIDE_EVEN_TOTAL_SUBSET[be],Rt=On.OUTSIDE_GSUM[be];return new Qr(Qe*Yt+Ke+Rt,pe)}else{if(he&1||he>10||he<4)throw new se;let be=(10-he)/2,Re=On.INSIDE_ODD_WIDEST[be],Xe=9-Re,Qe=wt.getRSSvalue(x,Re,!0),Ke=wt.getRSSvalue(b,Xe,!1),Yt=On.INSIDE_ODD_TOTAL_SUBSET[be],Rt=On.INSIDE_GSUM[be];return new Qr(Ke*Yt+Qe+Rt,pe)}}findFinderPattern(i,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=i.getSize(),f=!1,d=0;for(;d<c&&(f=!i.get(d),o!==f);)d++;let x=0,b=d;for(let N=d;N<c;N++)if(i.get(N)!==f)l[x]++;else{if(x===3){if(ln.isFinderPattern(l))return[b,N];b+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,x--}else x++;l[x]=1,f=!f}throw new se}parseFoundFinderPattern(i,o,l,c){let f=i.get(c[0]),d=c[0]-1;for(;d>=0&&f!==i.get(d);)d--;d++;const x=c[0]-d,b=this.getDecodeFinderCounters(),N=new Int32Array(b.length);k.arraycopy(b,0,N,1,b.length-1),N[0]=x;const O=this.parseFinderValue(N,On.FINDER_PATTERNS);let B=d,H=c[1];return l&&(B=i.getSize()-1-B,H=i.getSize()-1-H),new Ai(O,[d,c[1]],B,H,o)}adjustOddEvenCounts(i,o){let l=je.sum(new Int32Array(this.getOddCounts())),c=je.sum(new Int32Array(this.getEvenCounts())),f=!1,d=!1,x=!1,b=!1;i?(l>12?d=!0:l<4&&(f=!0),c>12?b=!0:c<4&&(x=!0)):(l>11?d=!0:l<5&&(f=!0),c>10?b=!0:c<4&&(x=!0));let N=l+c-o,O=(l&1)===(i?1:0),B=(c&1)===1;if(N===1)if(O){if(B)throw new se;d=!0}else{if(!B)throw new se;b=!0}else if(N===-1)if(O){if(B)throw new se;f=!0}else{if(!B)throw new se;x=!0}else if(N===0){if(O){if(!B)throw new se;l<c?(f=!0,b=!0):(d=!0,x=!0)}else if(B)throw new se}else throw new se;if(f){if(d)throw new se;ln.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&ln.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(b)throw new se;ln.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&ln.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}On.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],On.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],On.OUTSIDE_GSUM=[0,161,961,2015,2715],On.INSIDE_GSUM=[0,336,1036,1516],On.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],On.INSIDE_ODD_WIDEST=[2,4,6,8],On.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ds extends _t{constructor(i,o){super(),this.readers=[],this.verbose=o===!0;const l=i?i.get(Q.POSSIBLE_FORMATS):null,c=i&&i.get(Q.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(ce.EAN_13)||l.includes(ce.UPC_A)||l.includes(ce.EAN_8)||l.includes(ce.UPC_E))&&this.readers.push(new ks(i)),l.includes(ce.CODE_39)&&this.readers.push(new Mt(c)),l.includes(ce.CODE_128)&&this.readers.push(new tt),l.includes(ce.ITF)&&this.readers.push(new Tt),l.includes(ce.RSS_14)&&this.readers.push(new On),l.includes(ce.RSS_EXPANDED)&&this.readers.push(new Ve(this.verbose))):(this.readers.push(new ks(i)),this.readers.push(new Mt),this.readers.push(new ks(i)),this.readers.push(new tt),this.readers.push(new Tt),this.readers.push(new On),this.readers.push(new Ve(this.verbose)))}decodeRow(i,o,l){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(i,o,l)}catch{}throw new se}reset(){this.readers.forEach(i=>i.reset())}}class ec extends ie{constructor(i=500,o){super(new ds(o),i,o)}}class sn{constructor(i,o,l){this.ecCodewords=i,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class an{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Gt{constructor(i,o,l,c,f,d){this.versionNumber=i,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=f,this.ecBlocks=d;let x=0;const b=d.getECCodewords(),N=d.getECBlocks();for(let O of N)x+=O.getCount()*(O.getDataCodewords()+b);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,o){if(i&1||o&1)throw new D;for(let l of Gt.VERSIONS)if(l.symbolSizeRows===i&&l.symbolSizeColumns===o)return l;throw new D}toString(){return""+this.versionNumber}static buildVersions(){return[new Gt(1,10,10,8,8,new sn(5,new an(1,3))),new Gt(2,12,12,10,10,new sn(7,new an(1,5))),new Gt(3,14,14,12,12,new sn(10,new an(1,8))),new Gt(4,16,16,14,14,new sn(12,new an(1,12))),new Gt(5,18,18,16,16,new sn(14,new an(1,18))),new Gt(6,20,20,18,18,new sn(18,new an(1,22))),new Gt(7,22,22,20,20,new sn(20,new an(1,30))),new Gt(8,24,24,22,22,new sn(24,new an(1,36))),new Gt(9,26,26,24,24,new sn(28,new an(1,44))),new Gt(10,32,32,14,14,new sn(36,new an(1,62))),new Gt(11,36,36,16,16,new sn(42,new an(1,86))),new Gt(12,40,40,18,18,new sn(48,new an(1,114))),new Gt(13,44,44,20,20,new sn(56,new an(1,144))),new Gt(14,48,48,22,22,new sn(68,new an(1,174))),new Gt(15,52,52,24,24,new sn(42,new an(2,102))),new Gt(16,64,64,14,14,new sn(56,new an(2,140))),new Gt(17,72,72,16,16,new sn(36,new an(4,92))),new Gt(18,80,80,18,18,new sn(48,new an(4,114))),new Gt(19,88,88,20,20,new sn(56,new an(4,144))),new Gt(20,96,96,22,22,new sn(68,new an(4,174))),new Gt(21,104,104,24,24,new sn(56,new an(6,136))),new Gt(22,120,120,18,18,new sn(68,new an(6,175))),new Gt(23,132,132,20,20,new sn(62,new an(8,163))),new Gt(24,144,144,22,22,new sn(62,new an(8,156),new an(2,155))),new Gt(25,8,18,6,16,new sn(7,new an(1,5))),new Gt(26,8,32,6,14,new sn(11,new an(1,10))),new Gt(27,12,26,10,24,new sn(14,new an(1,16))),new Gt(28,12,36,10,16,new sn(18,new an(1,22))),new Gt(29,16,36,14,16,new sn(24,new an(1,32))),new Gt(30,16,48,14,22,new sn(28,new an(1,49)))]}}Gt.VERSIONS=Gt.buildVersions();class Zo{constructor(i){const o=i.getHeight();if(o<8||o>144||o&1)throw new D;this.version=Zo.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new oe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const o=i.getHeight(),l=i.getWidth();return Gt.getVersionForDimensions(o,l)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,c=0;const f=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let x=!1,b=!1,N=!1,O=!1;do if(l===f&&c===0&&!x)i[o++]=this.readCorner1(f,d)&255,l-=2,c+=2,x=!0;else if(l===f-2&&c===0&&d&3&&!b)i[o++]=this.readCorner2(f,d)&255,l-=2,c+=2,b=!0;else if(l===f+4&&c===2&&!(d&7)&&!N)i[o++]=this.readCorner3(f,d)&255,l-=2,c+=2,N=!0;else if(l===f-2&&c===0&&(d&7)===4&&!O)i[o++]=this.readCorner4(f,d)&255,l-=2,c+=2,O=!0;else{do l<f&&c>=0&&!this.readMappingMatrix.get(c,l)&&(i[o++]=this.readUtah(l,c,f,d)&255),l-=2,c+=2;while(l>=0&&c<d);l+=1,c+=3;do l>=0&&c<d&&!this.readMappingMatrix.get(c,l)&&(i[o++]=this.readUtah(l,c,f,d)&255),l+=2,c-=2;while(l<f&&c>=0);l+=3,c+=1}while(l<f||c<d);if(o!==this.version.getTotalCodewords())throw new D;return i}readModule(i,o,l,c){return i<0&&(i+=l,o+=4-(l+4&7)),o<0&&(o+=c,i+=4-(c+4&7)),this.readMappingMatrix.set(o,i),this.mappingBitMatrix.get(o,i)}readUtah(i,o,l,c){let f=0;return this.readModule(i-2,o-2,l,c)&&(f|=1),f<<=1,this.readModule(i-2,o-1,l,c)&&(f|=1),f<<=1,this.readModule(i-1,o-2,l,c)&&(f|=1),f<<=1,this.readModule(i-1,o-1,l,c)&&(f|=1),f<<=1,this.readModule(i-1,o,l,c)&&(f|=1),f<<=1,this.readModule(i,o-2,l,c)&&(f|=1),f<<=1,this.readModule(i,o-1,l,c)&&(f|=1),f<<=1,this.readModule(i,o,l,c)&&(f|=1),f}readCorner1(i,o){let l=0;return this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,1,i,o)&&(l|=1),l<<=1,this.readModule(i-1,2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(2,o-1,i,o)&&(l|=1),l<<=1,this.readModule(3,o-1,i,o)&&(l|=1),l}readCorner2(i,o){let l=0;return this.readModule(i-3,0,i,o)&&(l|=1),l<<=1,this.readModule(i-2,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(0,o-4,i,o)&&(l|=1),l<<=1,this.readModule(0,o-3,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l}readCorner3(i,o){let l=0;return this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(0,o-3,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-3,i,o)&&(l|=1),l<<=1,this.readModule(1,o-2,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l}readCorner4(i,o){let l=0;return this.readModule(i-3,0,i,o)&&(l|=1),l<<=1,this.readModule(i-2,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(2,o-1,i,o)&&(l|=1),l<<=1,this.readModule(3,o-1,i,o)&&(l|=1),l}extractDataRegion(i){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(i.getHeight()!==o)throw new v("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),d=o/c|0,x=l/f|0,b=d*c,N=x*f,O=new oe(N,b);for(let B=0;B<d;++B){const H=B*c;for(let ne=0;ne<x;++ne){const he=ne*f;for(let pe=0;pe<c;++pe){const be=B*(c+2)+1+pe,Re=H+pe;for(let Xe=0;Xe<f;++Xe){const Qe=ne*(f+2)+1+Xe;if(i.get(Qe,be)){const Ke=he+Xe;O.set(Ke,Re)}}}}}return O}}class jn{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o){const l=o.getECBlocks();let c=0;const f=l.getECBlocks();for(let pe of f)c+=pe.getCount();const d=new Array(c);let x=0;for(let pe of f)for(let be=0;be<pe.getCount();be++){const Re=pe.getDataCodewords(),Xe=l.getECCodewords()+Re;d[x++]=new jn(Re,new Uint8Array(Xe))}const N=d[0].codewords.length-l.getECCodewords(),O=N-1;let B=0;for(let pe=0;pe<O;pe++)for(let be=0;be<x;be++)d[be].codewords[pe]=i[B++];const H=o.getVersionNumber()===24,ne=H?8:x;for(let pe=0;pe<ne;pe++)d[pe].codewords[N-1]=i[B++];const he=d[0].codewords.length;for(let pe=N;pe<he;pe++)for(let be=0;be<x;be++){const Re=H?(be+8)%x:be,Xe=H&&Re>7?pe-1:pe;d[Re].codewords[Xe]=i[B++]}if(B!==i.length)throw new v;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ga{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new v(""+i);let o=0,l=this.bitOffset,c=this.byteOffset;const f=this.bytes;if(l>0){const d=8-l,x=i<d?i:d,b=d-x,N=255>>8-x<<b;o=(f[c]&N)>>b,i-=x,l+=x,l===8&&(l=0,c++)}if(i>0){for(;i>=8;)o=o<<8|f[c]&255,c++,i-=8;if(i>0){const d=8-i,x=255>>d<<d;o=o<<i|(f[c]&x)>>d,l+=i}}return this.bitOffset=l,this.byteOffset=c,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Xn;(function(F){F[F.PAD_ENCODE=0]="PAD_ENCODE",F[F.ASCII_ENCODE=1]="ASCII_ENCODE",F[F.C40_ENCODE=2]="C40_ENCODE",F[F.TEXT_ENCODE=3]="TEXT_ENCODE",F[F.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",F[F.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",F[F.BASE256_ENCODE=6]="BASE256_ENCODE"})(Xn||(Xn={}));class Xi{static decode(i){const o=new Ga(i),l=new ae,c=new ae,f=new Array;let d=Xn.ASCII_ENCODE;do if(d===Xn.ASCII_ENCODE)d=this.decodeAsciiSegment(o,l,c);else{switch(d){case Xn.C40_ENCODE:this.decodeC40Segment(o,l);break;case Xn.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case Xn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case Xn.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case Xn.BASE256_ENCODE:this.decodeBase256Segment(o,l,f);break;default:throw new D}d=Xn.ASCII_ENCODE}while(d!==Xn.PAD_ENCODE&&o.available()>0);return c.length()>0&&l.append(c.toString()),new Pe(i,l.toString(),f.length===0?null:f,null)}static decodeAsciiSegment(i,o,l){let c=!1;do{let f=i.readBits(8);if(f===0)throw new D;if(f<=128)return c&&(f+=128),o.append(String.fromCharCode(f-1)),Xn.ASCII_ENCODE;if(f===129)return Xn.PAD_ENCODE;if(f<=229){const d=f-130;d<10&&o.append("0"),o.append(""+d)}else switch(f){case 230:return Xn.C40_ENCODE;case 231:return Xn.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return Xn.ANSIX12_ENCODE;case 239:return Xn.TEXT_ENCODE;case 240:return Xn.EDIFACT_ENCODE;case 241:break;default:if(f!==254||i.available()!==0)throw new D;break}}while(i.available()>0);return Xn.ASCII_ENCODE}static decodeC40Segment(i,o){let l=!1;const c=[];let f=0;do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),c);for(let x=0;x<3;x++){const b=c[x];switch(f){case 0:if(b<3)f=b+1;else if(b<this.C40_BASIC_SET_CHARS.length){const N=this.C40_BASIC_SET_CHARS[b];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else throw new D;break;case 1:l?(o.append(String.fromCharCode(b+128)),l=!1):o.append(String.fromCharCode(b)),f=0;break;case 2:if(b<this.C40_SHIFT2_SET_CHARS.length){const N=this.C40_SHIFT2_SET_CHARS[b];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else switch(b){case 27:o.append("");break;case 30:l=!0;break;default:throw new D}f=0;break;case 3:l?(o.append(String.fromCharCode(b+224)),l=!1):o.append(String.fromCharCode(b+96)),f=0;break;default:throw new D}}}while(i.available()>0)}static decodeTextSegment(i,o){let l=!1,c=[],f=0;do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),c);for(let x=0;x<3;x++){const b=c[x];switch(f){case 0:if(b<3)f=b+1;else if(b<this.TEXT_BASIC_SET_CHARS.length){const N=this.TEXT_BASIC_SET_CHARS[b];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else throw new D;break;case 1:l?(o.append(String.fromCharCode(b+128)),l=!1):o.append(String.fromCharCode(b)),f=0;break;case 2:if(b<this.TEXT_SHIFT2_SET_CHARS.length){const N=this.TEXT_SHIFT2_SET_CHARS[b];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else switch(b){case 27:o.append("");break;case 30:l=!0;break;default:throw new D}f=0;break;case 3:if(b<this.TEXT_SHIFT3_SET_CHARS.length){const N=this.TEXT_SHIFT3_SET_CHARS[b];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N),f=0}else throw new D;break;default:throw new D}}}while(i.available()>0)}static decodeAnsiX12Segment(i,o){const l=[];do{if(i.available()===8)return;const c=i.readBits(8);if(c===254)return;this.parseTwoBytes(c,i.readBits(8),l);for(let f=0;f<3;f++){const d=l[f];switch(d){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(d<14)o.append(String.fromCharCode(d+44));else if(d<40)o.append(String.fromCharCode(d+51));else throw new D;break}}}while(i.available()>0)}static parseTwoBytes(i,o,l){let c=(i<<8)+o-1,f=Math.floor(c/1600);l[0]=f,c-=f*1600,f=Math.floor(c/40),l[1]=f,l[2]=c-f*40}static decodeEdifactSegment(i,o){do{if(i.available()<=16)return;for(let l=0;l<4;l++){let c=i.readBits(6);if(c===31){const f=8-i.getBitOffset();f!==8&&i.readBits(f);return}c&32||(c|=64),o.append(String.fromCharCode(c))}}while(i.available()>0)}static decodeBase256Segment(i,o,l){let c=1+i.getByteOffset();const f=this.unrandomize255State(i.readBits(8),c++);let d;if(f===0?d=i.available()/8|0:f<250?d=f:d=250*(f-249)+this.unrandomize255State(i.readBits(8),c++),d<0)throw new D;const x=new Uint8Array(d);for(let b=0;b<d;b++){if(i.available()<8)throw new D;x[b]=this.unrandomize255State(i.readBits(8),c++)}l.push(x);try{o.append(W.decode(x,X.ISO88591))}catch(b){throw new De("Platform does not support required encoding: "+b.message)}}static unrandomize255State(i,o){const l=149*o%255+1,c=i-l;return c>=0?c:c+256}}Xi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Xi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Xi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Xi.TEXT_SHIFT2_SET_CHARS=Xi.C40_SHIFT2_SET_CHARS,Xi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Qo{constructor(){this.rsDecoder=new ue(Ge.DATA_MATRIX_FIELD_256)}decode(i){const o=new Zo(i),l=o.getVersion(),c=o.readCodewords(),f=jn.getDataBlocks(c,l);let d=0;for(let N of f)d+=N.getNumDataCodewords();const x=new Uint8Array(d),b=f.length;for(let N=0;N<b;N++){const O=f[N],B=O.getCodewords(),H=O.getNumDataCodewords();this.correctErrors(B,H);for(let ne=0;ne<H;ne++)x[ne*b+N]=B[ne]}return Xi.decode(x)}correctErrors(i,o){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-o)}catch{throw new A}for(let c=0;c<o;c++)i[c]=l[c]}}class Un{constructor(i){this.image=i,this.rectangleDetector=new St(this.image)}detect(){const i=this.rectangleDetector.detect();let o=this.detectSolid1(i);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new se;o=this.shiftToModuleCenter(o);const l=o[0],c=o[1],f=o[2],d=o[3];let x=this.transitionsBetween(l,d)+1,b=this.transitionsBetween(f,d)+1;(x&1)===1&&(x+=1),(b&1)===1&&(b+=1),4*x<7*b&&4*b<7*x&&(x=b=Math.max(x,b));let N=Un.sampleGrid(this.image,l,c,f,d,x,b);return new it(N,[l,c,f,d])}static shiftPoint(i,o,l){let c=(o.getX()-i.getX())/(l+1),f=(o.getY()-i.getY())/(l+1);return new Be(i.getX()+c,i.getY()+f)}static moveAway(i,o,l){let c=i.getX(),f=i.getY();return c<o?c-=1:c+=1,f<l?f-=1:f+=1,new Be(c,f)}detectSolid1(i){let o=i[0],l=i[1],c=i[3],f=i[2],d=this.transitionsBetween(o,l),x=this.transitionsBetween(l,c),b=this.transitionsBetween(c,f),N=this.transitionsBetween(f,o),O=d,B=[f,o,l,c];return O>x&&(O=x,B[0]=o,B[1]=l,B[2]=c,B[3]=f),O>b&&(O=b,B[0]=l,B[1]=c,B[2]=f,B[3]=o),O>N&&(B[0]=c,B[1]=f,B[2]=o,B[3]=l),B}detectSolid2(i){let o=i[0],l=i[1],c=i[2],f=i[3],d=this.transitionsBetween(o,f),x=Un.shiftPoint(l,c,(d+1)*4),b=Un.shiftPoint(c,l,(d+1)*4),N=this.transitionsBetween(x,o),O=this.transitionsBetween(b,f);return N<O?(i[0]=o,i[1]=l,i[2]=c,i[3]=f):(i[0]=l,i[1]=c,i[2]=f,i[3]=o),i}correctTopRight(i){let o=i[0],l=i[1],c=i[2],f=i[3],d=this.transitionsBetween(o,f),x=this.transitionsBetween(l,f),b=Un.shiftPoint(o,l,(x+1)*4),N=Un.shiftPoint(c,l,(d+1)*4);d=this.transitionsBetween(b,f),x=this.transitionsBetween(N,f);let O=new Be(f.getX()+(c.getX()-l.getX())/(d+1),f.getY()+(c.getY()-l.getY())/(d+1)),B=new Be(f.getX()+(o.getX()-l.getX())/(x+1),f.getY()+(o.getY()-l.getY())/(x+1));if(!this.isValid(O))return this.isValid(B)?B:null;if(!this.isValid(B))return O;let H=this.transitionsBetween(b,O)+this.transitionsBetween(N,O),ne=this.transitionsBetween(b,B)+this.transitionsBetween(N,B);return H>ne?O:B}shiftToModuleCenter(i){let o=i[0],l=i[1],c=i[2],f=i[3],d=this.transitionsBetween(o,f)+1,x=this.transitionsBetween(c,f)+1,b=Un.shiftPoint(o,l,x*4),N=Un.shiftPoint(c,l,d*4);d=this.transitionsBetween(b,f)+1,x=this.transitionsBetween(N,f)+1,(d&1)===1&&(d+=1),(x&1)===1&&(x+=1);let O=(o.getX()+l.getX()+c.getX()+f.getX())/4,B=(o.getY()+l.getY()+c.getY()+f.getY())/4;o=Un.moveAway(o,O,B),l=Un.moveAway(l,O,B),c=Un.moveAway(c,O,B),f=Un.moveAway(f,O,B);let H,ne;return b=Un.shiftPoint(o,l,x*4),b=Un.shiftPoint(b,f,d*4),H=Un.shiftPoint(l,o,x*4),H=Un.shiftPoint(H,c,d*4),N=Un.shiftPoint(c,f,x*4),N=Un.shiftPoint(N,l,d*4),ne=Un.shiftPoint(f,c,x*4),ne=Un.shiftPoint(ne,o,d*4),[b,H,N,ne]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,o,l,c,f,d,x){return Qt.getInstance().sampleGrid(i,d,x,.5,.5,d-.5,.5,d-.5,x-.5,.5,x-.5,o.getX(),o.getY(),f.getX(),f.getY(),c.getX(),c.getY(),l.getX(),l.getY())}transitionsBetween(i,o){let l=Math.trunc(i.getX()),c=Math.trunc(i.getY()),f=Math.trunc(o.getX()),d=Math.trunc(o.getY()),x=Math.abs(d-c)>Math.abs(f-l);if(x){let pe=l;l=c,c=pe,pe=f,f=d,d=pe}let b=Math.abs(f-l),N=Math.abs(d-c),O=-b/2,B=c<d?1:-1,H=l<f?1:-1,ne=0,he=this.image.get(x?c:l,x?l:c);for(let pe=l,be=c;pe!==f;pe+=H){let Re=this.image.get(x?be:pe,x?pe:be);if(Re!==he&&(ne++,he=Re),O+=N,O>0){if(be===d)break;be+=B,O-=b}}return ne}}class Sr{constructor(){this.decoder=new Qo}decode(i,o=null){let l,c;if(o!=null&&o.has(Q.PURE_BARCODE)){const N=Sr.extractPureBits(i.getBlackMatrix());l=this.decoder.decode(N),c=Sr.NO_POINTS}else{const N=new Un(i.getBlackMatrix()).detect();l=this.decoder.decode(N.getBits()),c=N.getPoints()}const f=l.getRawBytes(),d=new le(l.getText(),f,8*f.length,c,ce.DATA_MATRIX,k.currentTimeMillis()),x=l.getByteSegments();x!=null&&d.putMetadata(_e.BYTE_SEGMENTS,x);const b=l.getECLevel();return b!=null&&d.putMetadata(_e.ERROR_CORRECTION_LEVEL,b),d}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(o==null||l==null)throw new se;const c=this.moduleSize(o,i);let f=o[1];const d=l[1];let x=o[0];const N=(l[0]-x+1)/c,O=(d-f+1)/c;if(N<=0||O<=0)throw new se;const B=c/2;f+=B,x+=B;const H=new oe(N,O);for(let ne=0;ne<O;ne++){const he=f+ne*c;for(let pe=0;pe<N;pe++)i.get(x+pe*c,he)&&H.set(pe,ne)}return H}static moduleSize(i,o){const l=o.getWidth();let c=i[0];const f=i[1];for(;c<l&&o.get(c,f);)c++;if(c===l)throw new se;const d=c-i[0];if(d===0)throw new se;return d}}Sr.NO_POINTS=[];class Xa extends ie{constructor(i=500){super(new Sr,i)}}var mr;(function(F){F[F.L=0]="L",F[F.M=1]="M",F[F.Q=2]="Q",F[F.H=3]="H"})(mr||(mr={}));class gn{constructor(i,o,l){this.value=i,this.stringValue=o,this.bits=l,gn.FOR_BITS.set(l,this),gn.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return gn.L;case"M":return gn.M;case"Q":return gn.Q;case"H":return gn.H;default:throw new w(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof gn))return!1;const o=i;return this.value===o.value}static forBits(i){if(i<0||i>=gn.FOR_BITS.size)throw new v;return gn.FOR_BITS.get(i)}}gn.FOR_BITS=new Map,gn.FOR_VALUE=new Map,gn.L=new gn(mr.L,"L",1),gn.M=new gn(mr.M,"M",0),gn.Q=new gn(mr.Q,"Q",3),gn.H=new gn(mr.H,"H",2);class xr{constructor(i){this.errorCorrectionLevel=gn.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,o){return L.bitCount(i^o)}static decodeFormatInformation(i,o){const l=xr.doDecodeFormatInformation(i,o);return l!==null?l:xr.doDecodeFormatInformation(i^xr.FORMAT_INFO_MASK_QR,o^xr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,o){let l=Number.MAX_SAFE_INTEGER,c=0;for(const f of xr.FORMAT_INFO_DECODE_LOOKUP){const d=f[0];if(d===i||d===o)return new xr(f[1]);let x=xr.numBitsDiffering(i,d);x<l&&(c=f[1],l=x),i!==o&&(x=xr.numBitsDiffering(o,d),x<l&&(c=f[1],l=x))}return l<=3?new xr(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof xr))return!1;const o=i;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}xr.FORMAT_INFO_MASK_QR=21522,xr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ie{constructor(i,...o){this.ecCodewordsPerBlock=i,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const o=this.ecBlocks;for(const l of o)i+=l.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ee{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class vt{constructor(i,o,...l){this.versionNumber=i,this.alignmentPatternCenters=o,this.ecBlocks=l;let c=0;const f=l[0].getECCodewordsPerBlock(),d=l[0].getECBlocks();for(const x of d)c+=x.getCount()*(x.getDataCodewords()+f);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new D;try{return this.getVersionForNumber((i-17)/4)}catch{throw new D}}static getVersionForNumber(i){if(i<1||i>40)throw new v;return vt.VERSIONS[i-1]}static decodeVersionInformation(i){let o=Number.MAX_SAFE_INTEGER,l=0;for(let c=0;c<vt.VERSION_DECODE_INFO.length;c++){const f=vt.VERSION_DECODE_INFO[c];if(f===i)return vt.getVersionForNumber(c+7);const d=xr.numBitsDiffering(i,f);d<o&&(l=c+7,o=d)}return o<=3?vt.getVersionForNumber(l):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),o=new oe(i);o.setRegion(0,0,9,9),o.setRegion(i-8,0,8,9),o.setRegion(0,i-8,9,8);const l=this.alignmentPatternCenters.length;for(let c=0;c<l;c++){const f=this.alignmentPatternCenters[c]-2;for(let d=0;d<l;d++)c===0&&(d===0||d===l-1)||c===l-1&&d===0||o.setRegion(this.alignmentPatternCenters[d]-2,f,5,5)}return o.setRegion(6,9,1,i-17),o.setRegion(9,6,i-17,1),this.versionNumber>6&&(o.setRegion(i-11,0,3,6),o.setRegion(0,i-11,6,3)),o}toString(){return""+this.versionNumber}}vt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),vt.VERSIONS=[new vt(1,new Int32Array(0),new Ie(7,new ee(1,19)),new Ie(10,new ee(1,16)),new Ie(13,new ee(1,13)),new Ie(17,new ee(1,9))),new vt(2,Int32Array.from([6,18]),new Ie(10,new ee(1,34)),new Ie(16,new ee(1,28)),new Ie(22,new ee(1,22)),new Ie(28,new ee(1,16))),new vt(3,Int32Array.from([6,22]),new Ie(15,new ee(1,55)),new Ie(26,new ee(1,44)),new Ie(18,new ee(2,17)),new Ie(22,new ee(2,13))),new vt(4,Int32Array.from([6,26]),new Ie(20,new ee(1,80)),new Ie(18,new ee(2,32)),new Ie(26,new ee(2,24)),new Ie(16,new ee(4,9))),new vt(5,Int32Array.from([6,30]),new Ie(26,new ee(1,108)),new Ie(24,new ee(2,43)),new Ie(18,new ee(2,15),new ee(2,16)),new Ie(22,new ee(2,11),new ee(2,12))),new vt(6,Int32Array.from([6,34]),new Ie(18,new ee(2,68)),new Ie(16,new ee(4,27)),new Ie(24,new ee(4,19)),new Ie(28,new ee(4,15))),new vt(7,Int32Array.from([6,22,38]),new Ie(20,new ee(2,78)),new Ie(18,new ee(4,31)),new Ie(18,new ee(2,14),new ee(4,15)),new Ie(26,new ee(4,13),new ee(1,14))),new vt(8,Int32Array.from([6,24,42]),new Ie(24,new ee(2,97)),new Ie(22,new ee(2,38),new ee(2,39)),new Ie(22,new ee(4,18),new ee(2,19)),new Ie(26,new ee(4,14),new ee(2,15))),new vt(9,Int32Array.from([6,26,46]),new Ie(30,new ee(2,116)),new Ie(22,new ee(3,36),new ee(2,37)),new Ie(20,new ee(4,16),new ee(4,17)),new Ie(24,new ee(4,12),new ee(4,13))),new vt(10,Int32Array.from([6,28,50]),new Ie(18,new ee(2,68),new ee(2,69)),new Ie(26,new ee(4,43),new ee(1,44)),new Ie(24,new ee(6,19),new ee(2,20)),new Ie(28,new ee(6,15),new ee(2,16))),new vt(11,Int32Array.from([6,30,54]),new Ie(20,new ee(4,81)),new Ie(30,new ee(1,50),new ee(4,51)),new Ie(28,new ee(4,22),new ee(4,23)),new Ie(24,new ee(3,12),new ee(8,13))),new vt(12,Int32Array.from([6,32,58]),new Ie(24,new ee(2,92),new ee(2,93)),new Ie(22,new ee(6,36),new ee(2,37)),new Ie(26,new ee(4,20),new ee(6,21)),new Ie(28,new ee(7,14),new ee(4,15))),new vt(13,Int32Array.from([6,34,62]),new Ie(26,new ee(4,107)),new Ie(22,new ee(8,37),new ee(1,38)),new Ie(24,new ee(8,20),new ee(4,21)),new Ie(22,new ee(12,11),new ee(4,12))),new vt(14,Int32Array.from([6,26,46,66]),new Ie(30,new ee(3,115),new ee(1,116)),new Ie(24,new ee(4,40),new ee(5,41)),new Ie(20,new ee(11,16),new ee(5,17)),new Ie(24,new ee(11,12),new ee(5,13))),new vt(15,Int32Array.from([6,26,48,70]),new Ie(22,new ee(5,87),new ee(1,88)),new Ie(24,new ee(5,41),new ee(5,42)),new Ie(30,new ee(5,24),new ee(7,25)),new Ie(24,new ee(11,12),new ee(7,13))),new vt(16,Int32Array.from([6,26,50,74]),new Ie(24,new ee(5,98),new ee(1,99)),new Ie(28,new ee(7,45),new ee(3,46)),new Ie(24,new ee(15,19),new ee(2,20)),new Ie(30,new ee(3,15),new ee(13,16))),new vt(17,Int32Array.from([6,30,54,78]),new Ie(28,new ee(1,107),new ee(5,108)),new Ie(28,new ee(10,46),new ee(1,47)),new Ie(28,new ee(1,22),new ee(15,23)),new Ie(28,new ee(2,14),new ee(17,15))),new vt(18,Int32Array.from([6,30,56,82]),new Ie(30,new ee(5,120),new ee(1,121)),new Ie(26,new ee(9,43),new ee(4,44)),new Ie(28,new ee(17,22),new ee(1,23)),new Ie(28,new ee(2,14),new ee(19,15))),new vt(19,Int32Array.from([6,30,58,86]),new Ie(28,new ee(3,113),new ee(4,114)),new Ie(26,new ee(3,44),new ee(11,45)),new Ie(26,new ee(17,21),new ee(4,22)),new Ie(26,new ee(9,13),new ee(16,14))),new vt(20,Int32Array.from([6,34,62,90]),new Ie(28,new ee(3,107),new ee(5,108)),new Ie(26,new ee(3,41),new ee(13,42)),new Ie(30,new ee(15,24),new ee(5,25)),new Ie(28,new ee(15,15),new ee(10,16))),new vt(21,Int32Array.from([6,28,50,72,94]),new Ie(28,new ee(4,116),new ee(4,117)),new Ie(26,new ee(17,42)),new Ie(28,new ee(17,22),new ee(6,23)),new Ie(30,new ee(19,16),new ee(6,17))),new vt(22,Int32Array.from([6,26,50,74,98]),new Ie(28,new ee(2,111),new ee(7,112)),new Ie(28,new ee(17,46)),new Ie(30,new ee(7,24),new ee(16,25)),new Ie(24,new ee(34,13))),new vt(23,Int32Array.from([6,30,54,78,102]),new Ie(30,new ee(4,121),new ee(5,122)),new Ie(28,new ee(4,47),new ee(14,48)),new Ie(30,new ee(11,24),new ee(14,25)),new Ie(30,new ee(16,15),new ee(14,16))),new vt(24,Int32Array.from([6,28,54,80,106]),new Ie(30,new ee(6,117),new ee(4,118)),new Ie(28,new ee(6,45),new ee(14,46)),new Ie(30,new ee(11,24),new ee(16,25)),new Ie(30,new ee(30,16),new ee(2,17))),new vt(25,Int32Array.from([6,32,58,84,110]),new Ie(26,new ee(8,106),new ee(4,107)),new Ie(28,new ee(8,47),new ee(13,48)),new Ie(30,new ee(7,24),new ee(22,25)),new Ie(30,new ee(22,15),new ee(13,16))),new vt(26,Int32Array.from([6,30,58,86,114]),new Ie(28,new ee(10,114),new ee(2,115)),new Ie(28,new ee(19,46),new ee(4,47)),new Ie(28,new ee(28,22),new ee(6,23)),new Ie(30,new ee(33,16),new ee(4,17))),new vt(27,Int32Array.from([6,34,62,90,118]),new Ie(30,new ee(8,122),new ee(4,123)),new Ie(28,new ee(22,45),new ee(3,46)),new Ie(30,new ee(8,23),new ee(26,24)),new Ie(30,new ee(12,15),new ee(28,16))),new vt(28,Int32Array.from([6,26,50,74,98,122]),new Ie(30,new ee(3,117),new ee(10,118)),new Ie(28,new ee(3,45),new ee(23,46)),new Ie(30,new ee(4,24),new ee(31,25)),new Ie(30,new ee(11,15),new ee(31,16))),new vt(29,Int32Array.from([6,30,54,78,102,126]),new Ie(30,new ee(7,116),new ee(7,117)),new Ie(28,new ee(21,45),new ee(7,46)),new Ie(30,new ee(1,23),new ee(37,24)),new Ie(30,new ee(19,15),new ee(26,16))),new vt(30,Int32Array.from([6,26,52,78,104,130]),new Ie(30,new ee(5,115),new ee(10,116)),new Ie(28,new ee(19,47),new ee(10,48)),new Ie(30,new ee(15,24),new ee(25,25)),new Ie(30,new ee(23,15),new ee(25,16))),new vt(31,Int32Array.from([6,30,56,82,108,134]),new Ie(30,new ee(13,115),new ee(3,116)),new Ie(28,new ee(2,46),new ee(29,47)),new Ie(30,new ee(42,24),new ee(1,25)),new Ie(30,new ee(23,15),new ee(28,16))),new vt(32,Int32Array.from([6,34,60,86,112,138]),new Ie(30,new ee(17,115)),new Ie(28,new ee(10,46),new ee(23,47)),new Ie(30,new ee(10,24),new ee(35,25)),new Ie(30,new ee(19,15),new ee(35,16))),new vt(33,Int32Array.from([6,30,58,86,114,142]),new Ie(30,new ee(17,115),new ee(1,116)),new Ie(28,new ee(14,46),new ee(21,47)),new Ie(30,new ee(29,24),new ee(19,25)),new Ie(30,new ee(11,15),new ee(46,16))),new vt(34,Int32Array.from([6,34,62,90,118,146]),new Ie(30,new ee(13,115),new ee(6,116)),new Ie(28,new ee(14,46),new ee(23,47)),new Ie(30,new ee(44,24),new ee(7,25)),new Ie(30,new ee(59,16),new ee(1,17))),new vt(35,Int32Array.from([6,30,54,78,102,126,150]),new Ie(30,new ee(12,121),new ee(7,122)),new Ie(28,new ee(12,47),new ee(26,48)),new Ie(30,new ee(39,24),new ee(14,25)),new Ie(30,new ee(22,15),new ee(41,16))),new vt(36,Int32Array.from([6,24,50,76,102,128,154]),new Ie(30,new ee(6,121),new ee(14,122)),new Ie(28,new ee(6,47),new ee(34,48)),new Ie(30,new ee(46,24),new ee(10,25)),new Ie(30,new ee(2,15),new ee(64,16))),new vt(37,Int32Array.from([6,28,54,80,106,132,158]),new Ie(30,new ee(17,122),new ee(4,123)),new Ie(28,new ee(29,46),new ee(14,47)),new Ie(30,new ee(49,24),new ee(10,25)),new Ie(30,new ee(24,15),new ee(46,16))),new vt(38,Int32Array.from([6,32,58,84,110,136,162]),new Ie(30,new ee(4,122),new ee(18,123)),new Ie(28,new ee(13,46),new ee(32,47)),new Ie(30,new ee(48,24),new ee(14,25)),new Ie(30,new ee(42,15),new ee(32,16))),new vt(39,Int32Array.from([6,26,54,82,110,138,166]),new Ie(30,new ee(20,117),new ee(4,118)),new Ie(28,new ee(40,47),new ee(7,48)),new Ie(30,new ee(43,24),new ee(22,25)),new Ie(30,new ee(10,15),new ee(67,16))),new vt(40,Int32Array.from([6,30,58,86,114,142,170]),new Ie(30,new ee(19,118),new ee(6,119)),new Ie(28,new ee(18,47),new ee(31,48)),new Ie(30,new ee(34,24),new ee(34,25)),new Ie(30,new ee(20,15),new ee(61,16)))];var er;(function(F){F[F.DATA_MASK_000=0]="DATA_MASK_000",F[F.DATA_MASK_001=1]="DATA_MASK_001",F[F.DATA_MASK_010=2]="DATA_MASK_010",F[F.DATA_MASK_011=3]="DATA_MASK_011",F[F.DATA_MASK_100=4]="DATA_MASK_100",F[F.DATA_MASK_101=5]="DATA_MASK_101",F[F.DATA_MASK_110=6]="DATA_MASK_110",F[F.DATA_MASK_111=7]="DATA_MASK_111"})(er||(er={}));class ai{constructor(i,o){this.value=i,this.isMasked=o}unmaskBitMatrix(i,o){for(let l=0;l<o;l++)for(let c=0;c<o;c++)this.isMasked(l,c)&&i.flip(c,l)}}ai.values=new Map([[er.DATA_MASK_000,new ai(er.DATA_MASK_000,(F,i)=>(F+i&1)===0)],[er.DATA_MASK_001,new ai(er.DATA_MASK_001,(F,i)=>(F&1)===0)],[er.DATA_MASK_010,new ai(er.DATA_MASK_010,(F,i)=>i%3===0)],[er.DATA_MASK_011,new ai(er.DATA_MASK_011,(F,i)=>(F+i)%3===0)],[er.DATA_MASK_100,new ai(er.DATA_MASK_100,(F,i)=>(Math.floor(F/2)+Math.floor(i/3)&1)===0)],[er.DATA_MASK_101,new ai(er.DATA_MASK_101,(F,i)=>F*i%6===0)],[er.DATA_MASK_110,new ai(er.DATA_MASK_110,(F,i)=>F*i%6<3)],[er.DATA_MASK_111,new ai(er.DATA_MASK_111,(F,i)=>(F+i+F*i%3&1)===0)]]);class Jo{constructor(i){const o=i.getHeight();if(o<21||(o&3)!==1)throw new D;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let f=0;f<6;f++)i=this.copyBit(f,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let f=5;f>=0;f--)i=this.copyBit(8,f,i);const o=this.bitMatrix.getHeight();let l=0;const c=o-7;for(let f=o-1;f>=c;f--)l=this.copyBit(8,f,l);for(let f=o-8;f<o;f++)l=this.copyBit(f,8,l);if(this.parsedFormatInfo=xr.decodeFormatInformation(i,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new D}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),o=Math.floor((i-17)/4);if(o<=6)return vt.getVersionForNumber(o);let l=0;const c=i-11;for(let d=5;d>=0;d--)for(let x=i-9;x>=c;x--)l=this.copyBit(x,d,l);let f=vt.decodeVersionInformation(l);if(f!==null&&f.getDimensionForVersion()===i)return this.parsedVersion=f,f;l=0;for(let d=5;d>=0;d--)for(let x=i-9;x>=c;x--)l=this.copyBit(d,x,l);if(f=vt.decodeVersionInformation(l),f!==null&&f.getDimensionForVersion()===i)return this.parsedVersion=f,f;throw new D}copyBit(i,o,l){return(this.isMirror?this.bitMatrix.get(o,i):this.bitMatrix.get(i,o))?l<<1|1:l<<1}readCodewords(){const i=this.readFormatInformation(),o=this.readVersion(),l=ai.values.get(i.getDataMask()),c=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,c);const f=o.buildFunctionPattern();let d=!0;const x=new Uint8Array(o.getTotalCodewords());let b=0,N=0,O=0;for(let B=c-1;B>0;B-=2){B===6&&B--;for(let H=0;H<c;H++){const ne=d?c-1-H:H;for(let he=0;he<2;he++)f.get(B-he,ne)||(O++,N<<=1,this.bitMatrix.get(B-he,ne)&&(N|=1),O===8&&(x[b++]=N,O=0,N=0))}d=!d}if(b!==o.getTotalCodewords())throw new D;return x}remask(){if(this.parsedFormatInfo===null)return;const i=ai.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let o=0,l=i.getWidth();o<l;o++)for(let c=o+1,f=i.getHeight();c<f;c++)i.get(o,c)!==i.get(c,o)&&(i.flip(c,o),i.flip(o,c))}}class $o{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o,l){if(i.length!==o.getTotalCodewords())throw new v;const c=o.getECBlocksForLevel(l);let f=0;const d=c.getECBlocks();for(const he of d)f+=he.getCount();const x=new Array(f);let b=0;for(const he of d)for(let pe=0;pe<he.getCount();pe++){const be=he.getDataCodewords(),Re=c.getECCodewordsPerBlock()+be;x[b++]=new $o(be,new Uint8Array(Re))}const N=x[0].codewords.length;let O=x.length-1;for(;O>=0&&x[O].codewords.length!==N;)O--;O++;const B=N-c.getECCodewordsPerBlock();let H=0;for(let he=0;he<B;he++)for(let pe=0;pe<b;pe++)x[pe].codewords[he]=i[H++];for(let he=O;he<b;he++)x[he].codewords[B]=i[H++];const ne=x[0].codewords.length;for(let he=B;he<ne;he++)for(let pe=0;pe<b;pe++){const be=pe<O?he:he+1;x[pe].codewords[be]=i[H++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var oi;(function(F){F[F.TERMINATOR=0]="TERMINATOR",F[F.NUMERIC=1]="NUMERIC",F[F.ALPHANUMERIC=2]="ALPHANUMERIC",F[F.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",F[F.BYTE=4]="BYTE",F[F.ECI=5]="ECI",F[F.KANJI=6]="KANJI",F[F.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",F[F.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",F[F.HANZI=9]="HANZI"})(oi||(oi={}));class Et{constructor(i,o,l,c){this.value=i,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=c,Et.FOR_BITS.set(c,this),Et.FOR_VALUE.set(i,this)}static forBits(i){const o=Et.FOR_BITS.get(i);if(o===void 0)throw new v;return o}getCharacterCountBits(i){const o=i.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof Et))return!1;const o=i;return this.value===o.value}toString(){return this.stringValue}}Et.FOR_BITS=new Map,Et.FOR_VALUE=new Map,Et.TERMINATOR=new Et(oi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Et.NUMERIC=new Et(oi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Et.ALPHANUMERIC=new Et(oi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Et.STRUCTURED_APPEND=new Et(oi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Et.BYTE=new Et(oi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Et.ECI=new Et(oi.ECI,"ECI",Int32Array.from([0,0,0]),7),Et.KANJI=new Et(oi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Et.FNC1_FIRST_POSITION=new Et(oi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Et.FNC1_SECOND_POSITION=new Et(oi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Et.HANZI=new Et(oi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class fn{static decode(i,o,l,c){const f=new Ga(i);let d=new ae;const x=new Array;let b=-1,N=-1;try{let O=null,B=!1,H;do{if(f.available()<4)H=Et.TERMINATOR;else{const ne=f.readBits(4);H=Et.forBits(ne)}switch(H){case Et.TERMINATOR:break;case Et.FNC1_FIRST_POSITION:case Et.FNC1_SECOND_POSITION:B=!0;break;case Et.STRUCTURED_APPEND:if(f.available()<16)throw new D;b=f.readBits(8),N=f.readBits(8);break;case Et.ECI:const ne=fn.parseECIValue(f);if(O=Z.getCharacterSetECIByValue(ne),O===null)throw new D;break;case Et.HANZI:const he=f.readBits(4),pe=f.readBits(H.getCharacterCountBits(o));he===fn.GB2312_SUBSET&&fn.decodeHanziSegment(f,d,pe);break;default:const be=f.readBits(H.getCharacterCountBits(o));switch(H){case Et.NUMERIC:fn.decodeNumericSegment(f,d,be);break;case Et.ALPHANUMERIC:fn.decodeAlphanumericSegment(f,d,be,B);break;case Et.BYTE:fn.decodeByteSegment(f,d,be,O,x,c);break;case Et.KANJI:fn.decodeKanjiSegment(f,d,be);break;default:throw new D}break}}while(H!==Et.TERMINATOR)}catch{throw new D}return new Pe(i,d.toString(),x.length===0?null:x,l===null?null:l.toString(),b,N)}static decodeHanziSegment(i,o,l){if(l*13>i.available())throw new D;const c=new Uint8Array(2*l);let f=0;for(;l>0;){const d=i.readBits(13);let x=d/96<<8&4294967295|d%96;x<959?x+=41377:x+=42657,c[f]=x>>8&255,c[f+1]=x&255,f+=2,l--}try{o.append(W.decode(c,X.GB2312))}catch(d){throw new D(d)}}static decodeKanjiSegment(i,o,l){if(l*13>i.available())throw new D;const c=new Uint8Array(2*l);let f=0;for(;l>0;){const d=i.readBits(13);let x=d/192<<8&4294967295|d%192;x<7936?x+=33088:x+=49472,c[f]=x>>8,c[f+1]=x,f+=2,l--}try{o.append(W.decode(c,X.SHIFT_JIS))}catch(d){throw new D(d)}}static decodeByteSegment(i,o,l,c,f,d){if(8*l>i.available())throw new D;const x=new Uint8Array(l);for(let N=0;N<l;N++)x[N]=i.readBits(8);let b;c===null?b=X.guessEncoding(x,d):b=c.getName();try{o.append(W.decode(x,b))}catch(N){throw new D(N)}f.push(x)}static toAlphaNumericChar(i){if(i>=fn.ALPHANUMERIC_CHARS.length)throw new D;return fn.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,o,l,c){const f=o.length();for(;l>1;){if(i.available()<11)throw new D;const d=i.readBits(11);o.append(fn.toAlphaNumericChar(Math.floor(d/45))),o.append(fn.toAlphaNumericChar(d%45)),l-=2}if(l===1){if(i.available()<6)throw new D;o.append(fn.toAlphaNumericChar(i.readBits(6)))}if(c)for(let d=f;d<o.length();d++)o.charAt(d)==="%"&&(d<o.length()-1&&o.charAt(d+1)==="%"?o.deleteCharAt(d+1):o.setCharAt(d,""))}static decodeNumericSegment(i,o,l){for(;l>=3;){if(i.available()<10)throw new D;const c=i.readBits(10);if(c>=1e3)throw new D;o.append(fn.toAlphaNumericChar(Math.floor(c/100))),o.append(fn.toAlphaNumericChar(Math.floor(c/10)%10)),o.append(fn.toAlphaNumericChar(c%10)),l-=3}if(l===2){if(i.available()<7)throw new D;const c=i.readBits(7);if(c>=100)throw new D;o.append(fn.toAlphaNumericChar(Math.floor(c/10))),o.append(fn.toAlphaNumericChar(c%10))}else if(l===1){if(i.available()<4)throw new D;const c=i.readBits(4);if(c>=10)throw new D;o.append(fn.toAlphaNumericChar(c))}}static parseECIValue(i){const o=i.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const l=i.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=i.readBits(16);return(o&31)<<16&4294967295|l}throw new D}}fn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",fn.GB2312_SUBSET=1;class ma{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const o=i[0];i[0]=i[2],i[2]=o}}class Ya{constructor(){this.rsDecoder=new ue(Ge.QR_CODE_FIELD_256)}decodeBooleanArray(i,o){return this.decodeBitMatrix(oe.parseFromBooleanArray(i),o)}decodeBitMatrix(i,o){const l=new Jo(i);let c=null;try{return this.decodeBitMatrixParser(l,o)}catch(f){c=f}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const f=this.decodeBitMatrixParser(l,o);return f.setOther(new ma(!0)),f}catch(f){throw c!==null?c:f}}decodeBitMatrixParser(i,o){const l=i.readVersion(),c=i.readFormatInformation().getErrorCorrectionLevel(),f=i.readCodewords(),d=$o.getDataBlocks(f,l,c);let x=0;for(const O of d)x+=O.getNumDataCodewords();const b=new Uint8Array(x);let N=0;for(const O of d){const B=O.getCodewords(),H=O.getNumDataCodewords();this.correctErrors(B,H);for(let ne=0;ne<H;ne++)b[N++]=B[ne]}return fn.decode(b,l,c,o)}correctErrors(i,o){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-o)}catch{throw new A}for(let c=0;c<o;c++)i[c]=l[c]}}class Ka extends Be{constructor(i,o,l){super(i,o),this.estimatedModuleSize=l}aboutEquals(i,o,l){if(Math.abs(o-this.getY())<=i&&Math.abs(l-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,o,l){const c=(this.getX()+o)/2,f=(this.getY()+i)/2,d=(this.estimatedModuleSize+l)/2;return new Ka(c,f,d)}}class yr{constructor(i,o,l,c,f,d,x){this.image=i,this.startX=o,this.startY=l,this.width=c,this.height=f,this.moduleSize=d,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,o=this.height,l=this.width,c=i+l,f=this.startY+o/2,d=new Int32Array(3),x=this.image;for(let b=0;b<o;b++){const N=f+(b&1?-Math.floor((b+1)/2):Math.floor((b+1)/2));d[0]=0,d[1]=0,d[2]=0;let O=i;for(;O<c&&!x.get(O,N);)O++;let B=0;for(;O<c;){if(x.get(O,N))if(B===1)d[1]++;else if(B===2){if(this.foundPatternCross(d)){const H=this.handlePossibleCenter(d,N,O);if(H!==null)return H}d[0]=d[2],d[1]=1,d[2]=0,B=1}else d[++B]++;else B===1&&B++,d[B]++;O++}if(this.foundPatternCross(d)){const H=this.handlePossibleCenter(d,N,c);if(H!==null)return H}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new se}static centerFromEnd(i,o){return o-i[2]-i[1]/2}foundPatternCross(i){const o=this.moduleSize,l=o/2;for(let c=0;c<3;c++)if(Math.abs(o-i[c])>=l)return!1;return!0}crossCheckVertical(i,o,l,c){const f=this.image,d=f.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let b=i;for(;b>=0&&f.get(o,b)&&x[1]<=l;)x[1]++,b--;if(b<0||x[1]>l)return NaN;for(;b>=0&&!f.get(o,b)&&x[0]<=l;)x[0]++,b--;if(x[0]>l)return NaN;for(b=i+1;b<d&&f.get(o,b)&&x[1]<=l;)x[1]++,b++;if(b===d||x[1]>l)return NaN;for(;b<d&&!f.get(o,b)&&x[2]<=l;)x[2]++,b++;if(x[2]>l)return NaN;const N=x[0]+x[1]+x[2];return 5*Math.abs(N-c)>=2*c?NaN:this.foundPatternCross(x)?yr.centerFromEnd(x,b):NaN}handlePossibleCenter(i,o,l){const c=i[0]+i[1]+i[2],f=yr.centerFromEnd(i,l),d=this.crossCheckVertical(o,f,2*i[1],c);if(!isNaN(d)){const x=(i[0]+i[1]+i[2])/3;for(const N of this.possibleCenters)if(N.aboutEquals(x,d,f))return N.combineEstimate(d,f,x);const b=new Ka(f,d,x);this.possibleCenters.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return null}}class el extends Be{constructor(i,o,l,c){super(i,o),this.estimatedModuleSize=l,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,o,l){if(Math.abs(o-this.getY())<=i&&Math.abs(l-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,o,l){const c=this.count+1,f=(this.count*this.getX()+o)/c,d=(this.count*this.getY()+i)/c,x=(this.count*this.estimatedModuleSize+l)/c;return new el(f,d,x,c)}}class ql{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class gt{constructor(i,o){this.image=i,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const o=i!=null&&i.get(Q.TRY_HARDER)!==void 0,l=i!=null&&i.get(Q.PURE_BARCODE)!==void 0,c=this.image,f=c.getHeight(),d=c.getWidth();let x=Math.floor(3*f/(4*gt.MAX_MODULES));(x<gt.MIN_SKIP||o)&&(x=gt.MIN_SKIP);let b=!1;const N=new Int32Array(5);for(let B=x-1;B<f&&!b;B+=x){N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0;let H=0;for(let ne=0;ne<d;ne++)if(c.get(ne,B))(H&1)===1&&H++,N[H]++;else if(H&1)N[H]++;else if(H===4)if(gt.foundPatternCross(N)){if(this.handlePossibleCenter(N,B,ne,l)===!0)if(x=2,this.hasSkipped===!0)b=this.haveMultiplyConfirmedCenters();else{const pe=this.findRowSkip();pe>N[2]&&(B+=pe-N[2]-x,ne=d-1)}else{N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,H=3;continue}H=0,N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0}else N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,H=3;else N[++H]++;gt.foundPatternCross(N)&&this.handlePossibleCenter(N,B,d,l)===!0&&(x=N[0],this.hasSkipped&&(b=this.haveMultiplyConfirmedCenters()))}const O=this.selectBestPatterns();return Be.orderBestPatterns(O),new ql(O)}static centerFromEnd(i,o){return o-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let o=0;for(let f=0;f<5;f++){const d=i[f];if(d===0)return!1;o+=d}if(o<7)return!1;const l=o/7,c=l/2;return Math.abs(l-i[0])<c&&Math.abs(l-i[1])<c&&Math.abs(3*l-i[2])<3*c&&Math.abs(l-i[3])<c&&Math.abs(l-i[4])<c}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,o,l,c){const f=this.getCrossCheckStateCount();let d=0;const x=this.image;for(;i>=d&&o>=d&&x.get(o-d,i-d);)f[2]++,d++;if(i<d||o<d)return!1;for(;i>=d&&o>=d&&!x.get(o-d,i-d)&&f[1]<=l;)f[1]++,d++;if(i<d||o<d||f[1]>l)return!1;for(;i>=d&&o>=d&&x.get(o-d,i-d)&&f[0]<=l;)f[0]++,d++;if(f[0]>l)return!1;const b=x.getHeight(),N=x.getWidth();for(d=1;i+d<b&&o+d<N&&x.get(o+d,i+d);)f[2]++,d++;if(i+d>=b||o+d>=N)return!1;for(;i+d<b&&o+d<N&&!x.get(o+d,i+d)&&f[3]<l;)f[3]++,d++;if(i+d>=b||o+d>=N||f[3]>=l)return!1;for(;i+d<b&&o+d<N&&x.get(o+d,i+d)&&f[4]<l;)f[4]++,d++;if(f[4]>=l)return!1;const O=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(O-c)<2*c&&gt.foundPatternCross(f)}crossCheckVertical(i,o,l,c){const f=this.image,d=f.getHeight(),x=this.getCrossCheckStateCount();let b=i;for(;b>=0&&f.get(o,b);)x[2]++,b--;if(b<0)return NaN;for(;b>=0&&!f.get(o,b)&&x[1]<=l;)x[1]++,b--;if(b<0||x[1]>l)return NaN;for(;b>=0&&f.get(o,b)&&x[0]<=l;)x[0]++,b--;if(x[0]>l)return NaN;for(b=i+1;b<d&&f.get(o,b);)x[2]++,b++;if(b===d)return NaN;for(;b<d&&!f.get(o,b)&&x[3]<l;)x[3]++,b++;if(b===d||x[3]>=l)return NaN;for(;b<d&&f.get(o,b)&&x[4]<l;)x[4]++,b++;if(x[4]>=l)return NaN;const N=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(N-c)>=2*c?NaN:gt.foundPatternCross(x)?gt.centerFromEnd(x,b):NaN}crossCheckHorizontal(i,o,l,c){const f=this.image,d=f.getWidth(),x=this.getCrossCheckStateCount();let b=i;for(;b>=0&&f.get(b,o);)x[2]++,b--;if(b<0)return NaN;for(;b>=0&&!f.get(b,o)&&x[1]<=l;)x[1]++,b--;if(b<0||x[1]>l)return NaN;for(;b>=0&&f.get(b,o)&&x[0]<=l;)x[0]++,b--;if(x[0]>l)return NaN;for(b=i+1;b<d&&f.get(b,o);)x[2]++,b++;if(b===d)return NaN;for(;b<d&&!f.get(b,o)&&x[3]<l;)x[3]++,b++;if(b===d||x[3]>=l)return NaN;for(;b<d&&f.get(b,o)&&x[4]<l;)x[4]++,b++;if(x[4]>=l)return NaN;const N=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(N-c)>=c?NaN:gt.foundPatternCross(x)?gt.centerFromEnd(x,b):NaN}handlePossibleCenter(i,o,l,c){const f=i[0]+i[1]+i[2]+i[3]+i[4];let d=gt.centerFromEnd(i,l),x=this.crossCheckVertical(o,Math.floor(d),i[2],f);if(!isNaN(x)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(x),i[2],f),!isNaN(d)&&(!c||this.crossCheckDiagonal(Math.floor(x),Math.floor(d),i[2],f)))){const b=f/7;let N=!1;const O=this.possibleCenters;for(let B=0,H=O.length;B<H;B++){const ne=O[B];if(ne.aboutEquals(b,x,d)){O[B]=ne.combineEstimate(x,d,b),N=!0;break}}if(!N){const B=new el(d,x,b);O.push(B),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(B)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=gt.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,o=0;const l=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=gt.CENTER_QUORUM&&(i++,o+=d.getEstimatedModuleSize());if(i<3)return!1;const c=o/l;let f=0;for(const d of this.possibleCenters)f+=Math.abs(d.getEstimatedModuleSize()-c);return f<=.05*o}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new se;const o=this.possibleCenters;let l;if(i>3){let c=0,f=0;for(const b of this.possibleCenters){const N=b.getEstimatedModuleSize();c+=N,f+=N*N}l=c/i;let d=Math.sqrt(f/i-l*l);o.sort((b,N)=>{const O=Math.abs(N.getEstimatedModuleSize()-l),B=Math.abs(b.getEstimatedModuleSize()-l);return O<B?-1:O>B?1:0});const x=Math.max(.2*l,d);for(let b=0;b<o.length&&o.length>3;b++){const N=o[b];Math.abs(N.getEstimatedModuleSize()-l)>x&&(o.splice(b,1),b--)}}if(o.length>3){let c=0;for(const f of o)c+=f.getEstimatedModuleSize();l=c/o.length,o.sort((f,d)=>{if(d.getCount()===f.getCount()){const x=Math.abs(d.getEstimatedModuleSize()-l),b=Math.abs(f.getEstimatedModuleSize()-l);return x<b?1:x>b?-1:0}else return d.getCount()-f.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}gt.CENTER_QUORUM=2,gt.MIN_SKIP=3,gt.MAX_MODULES=57;class xa{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(Q.NEED_RESULT_POINT_CALLBACK);const l=new gt(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(l)}processFinderPatternInfo(i){const o=i.getTopLeft(),l=i.getTopRight(),c=i.getBottomLeft(),f=this.calculateModuleSize(o,l,c);if(f<1)throw new se("No pattern found in proccess finder.");const d=xa.computeDimension(o,l,c,f),x=vt.getProvisionalVersionForDimension(d),b=x.getDimensionForVersion()-7;let N=null;if(x.getAlignmentPatternCenters().length>0){const ne=l.getX()-o.getX()+c.getX(),he=l.getY()-o.getY()+c.getY(),pe=1-3/b,be=Math.floor(o.getX()+pe*(ne-o.getX())),Re=Math.floor(o.getY()+pe*(he-o.getY()));for(let Xe=4;Xe<=16;Xe<<=1)try{N=this.findAlignmentInRegion(f,be,Re,Xe);break}catch(Qe){if(!(Qe instanceof se))throw Qe}}const O=xa.createTransform(o,l,c,N,d),B=xa.sampleGrid(this.image,O,d);let H;return N===null?H=[c,o,l]:H=[c,o,l,N],new it(B,H)}static createTransform(i,o,l,c,f){const d=f-3.5;let x,b,N,O;return c!==null?(x=c.getX(),b=c.getY(),N=d-3,O=N):(x=o.getX()-i.getX()+l.getX(),b=o.getY()-i.getY()+l.getY(),N=d,O=d),Lt.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,N,O,3.5,d,i.getX(),i.getY(),o.getX(),o.getY(),x,b,l.getX(),l.getY())}static sampleGrid(i,o,l){return Qt.getInstance().sampleGridWithTransform(i,l,l,o)}static computeDimension(i,o,l,c){const f=je.round(Be.distance(i,o)/c),d=je.round(Be.distance(i,l)/c);let x=Math.floor((f+d)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new se("Dimensions could be not found.")}return x}calculateModuleSize(i,o,l){return(this.calculateModuleSizeOneWay(i,o)+this.calculateModuleSizeOneWay(i,l))/2}calculateModuleSizeOneWay(i,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(o.getX()),Math.floor(o.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(l)?c/7:isNaN(c)?l/7:(l+c)/14}sizeOfBlackWhiteBlackRunBothWays(i,o,l,c){let f=this.sizeOfBlackWhiteBlackRun(i,o,l,c),d=1,x=i-(l-i);x<0?(d=i/(i-x),x=0):x>=this.image.getWidth()&&(d=(this.image.getWidth()-1-i)/(x-i),x=this.image.getWidth()-1);let b=Math.floor(o-(c-o)*d);return d=1,b<0?(d=o/(o-b),b=0):b>=this.image.getHeight()&&(d=(this.image.getHeight()-1-o)/(b-o),b=this.image.getHeight()-1),x=Math.floor(i+(x-i)*d),f+=this.sizeOfBlackWhiteBlackRun(i,o,x,b),f-1}sizeOfBlackWhiteBlackRun(i,o,l,c){const f=Math.abs(c-o)>Math.abs(l-i);if(f){let ne=i;i=o,o=ne,ne=l,l=c,c=ne}const d=Math.abs(l-i),x=Math.abs(c-o);let b=-d/2;const N=i<l?1:-1,O=o<c?1:-1;let B=0;const H=l+N;for(let ne=i,he=o;ne!==H;ne+=N){const pe=f?he:ne,be=f?ne:he;if(B===1===this.image.get(pe,be)){if(B===2)return je.distance(ne,he,i,o);B++}if(b+=x,b>0){if(he===c)break;he+=O,b-=d}}return B===2?je.distance(l+N,c,i,o):NaN}findAlignmentInRegion(i,o,l,c){const f=Math.floor(c*i),d=Math.max(0,o-f),x=Math.min(this.image.getWidth()-1,o+f);if(x-d<i*3)throw new se("Alignment top exceeds estimated module size.");const b=Math.max(0,l-f),N=Math.min(this.image.getHeight()-1,l+f);if(N-b<i*3)throw new se("Alignment bottom exceeds estimated module size.");return new yr(this.image,d,b,x-d,N-b,i,this.resultPointCallback).find()}}class ps{constructor(){this.decoder=new Ya}getDecoder(){return this.decoder}decode(i,o){let l,c;if(o!=null&&o.get(Q.PURE_BARCODE)!==void 0){const b=ps.extractPureBits(i.getBlackMatrix());l=this.decoder.decodeBitMatrix(b,o),c=ps.NO_POINTS}else{const b=new xa(i.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(b.getBits(),o),c=b.getPoints()}l.getOther()instanceof ma&&l.getOther().applyMirroredCorrection(c);const f=new le(l.getText(),l.getRawBytes(),void 0,c,ce.QR_CODE,void 0),d=l.getByteSegments();d!==null&&f.putMetadata(_e.BYTE_SEGMENTS,d);const x=l.getECLevel();return x!==null&&f.putMetadata(_e.ERROR_CORRECTION_LEVEL,x),l.hasStructuredAppend()&&(f.putMetadata(_e.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),f.putMetadata(_e.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),f}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(o===null||l===null)throw new se;const c=this.moduleSize(o,i);let f=o[1],d=l[1],x=o[0],b=l[0];if(x>=b||f>=d)throw new se;if(d-f!==b-x&&(b=x+(d-f),b>=i.getWidth()))throw new se;const N=Math.round((b-x+1)/c),O=Math.round((d-f+1)/c);if(N<=0||O<=0)throw new se;if(O!==N)throw new se;const B=Math.floor(c/2);f+=B,x+=B;const H=x+Math.floor((N-1)*c)-b;if(H>0){if(H>B)throw new se;x-=H}const ne=f+Math.floor((O-1)*c)-d;if(ne>0){if(ne>B)throw new se;f-=ne}const he=new oe(N,O);for(let pe=0;pe<O;pe++){const be=f+Math.floor(pe*c);for(let Re=0;Re<N;Re++)i.get(x+Math.floor(Re*c),be)&&he.set(Re,pe)}return he}static moduleSize(i,o){const l=o.getHeight(),c=o.getWidth();let f=i[0],d=i[1],x=!0,b=0;for(;f<c&&d<l;){if(x!==o.get(f,d)){if(++b===5)break;x=!x}f++,d++}if(f===c||d===l)throw new se;return(f-i[0])/7}}ps.NO_POINTS=new Array;class bt{PDF417Common(){}static getBitCountSum(i){return je.sum(i)}static toIntArray(i){if(i==null||!i.length)return bt.EMPTY_INT_ARRAY;const o=new Int32Array(i.length);let l=0;for(const c of i)o[l++]=c;return o}static getCodeword(i){const o=I.binarySearch(bt.SYMBOL_TABLE,i&262143);return o<0?-1:(bt.CODEWORD_TABLE[o]-1)%bt.NUMBER_OF_CODEWORDS}}bt.NUMBER_OF_CODEWORDS=929,bt.MAX_CODEWORDS_IN_BARCODE=bt.NUMBER_OF_CODEWORDS-1,bt.MIN_ROWS_IN_BARCODE=3,bt.MAX_ROWS_IN_BARCODE=90,bt.MODULES_IN_CODEWORD=17,bt.MODULES_IN_STOP_PATTERN=18,bt.BARS_IN_MODULE=8,bt.EMPTY_INT_ARRAY=new Int32Array([]),bt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),bt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Vl{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class zt{static detectMultiple(i,o,l){let c=i.getBlackMatrix(),f=zt.detect(l,c);return f.length||(c=c.clone(),c.rotate180(),f=zt.detect(l,c)),new Vl(c,f)}static detect(i,o){const l=new Array;let c=0,f=0,d=!1;for(;c<o.getHeight();){const x=zt.findVertices(o,c,f);if(x[0]==null&&x[3]==null){if(!d)break;d=!1,f=0;for(const b of l)b[1]!=null&&(c=Math.trunc(Math.max(c,b[1].getY()))),b[3]!=null&&(c=Math.max(c,Math.trunc(b[3].getY())));c+=zt.ROW_STEP;continue}if(d=!0,l.push(x),!i)break;x[2]!=null?(f=Math.trunc(x[2].getX()),c=Math.trunc(x[2].getY())):(f=Math.trunc(x[4].getX()),c=Math.trunc(x[4].getY()))}return l}static findVertices(i,o,l){const c=i.getHeight(),f=i.getWidth(),d=new Array(8);return zt.copyToResult(d,zt.findRowsWithPattern(i,c,f,o,l,zt.START_PATTERN),zt.INDEXES_START_PATTERN),d[4]!=null&&(l=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY())),zt.copyToResult(d,zt.findRowsWithPattern(i,c,f,o,l,zt.STOP_PATTERN),zt.INDEXES_STOP_PATTERN),d}static copyToResult(i,o,l){for(let c=0;c<l.length;c++)i[l[c]]=o[c]}static findRowsWithPattern(i,o,l,c,f,d){const x=new Array(4);let b=!1;const N=new Int32Array(d.length);for(;c<o;c+=zt.ROW_STEP){let B=zt.findGuardPattern(i,f,c,l,!1,d,N);if(B!=null){for(;c>0;){const H=zt.findGuardPattern(i,f,--c,l,!1,d,N);if(H!=null)B=H;else{c++;break}}x[0]=new Be(B[0],c),x[1]=new Be(B[1],c),b=!0;break}}let O=c+1;if(b){let B=0,H=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;O<o;O++){const ne=zt.findGuardPattern(i,H[0],O,l,!1,d,N);if(ne!=null&&Math.abs(H[0]-ne[0])<zt.MAX_PATTERN_DRIFT&&Math.abs(H[1]-ne[1])<zt.MAX_PATTERN_DRIFT)H=ne,B=0;else{if(B>zt.SKIPPED_ROW_COUNT_MAX)break;B++}}O-=B+1,x[2]=new Be(H[0],O),x[3]=new Be(H[1],O)}return O-c<zt.BARCODE_MIN_HEIGHT&&I.fill(x,null),x}static findGuardPattern(i,o,l,c,f,d,x){I.fillWithin(x,0,x.length,0);let b=o,N=0;for(;i.get(b,l)&&b>0&&N++<zt.MAX_PIXEL_DRIFT;)b--;let O=b,B=0,H=d.length;for(let ne=f;O<c;O++)if(i.get(O,l)!==ne)x[B]++;else{if(B===H-1){if(zt.patternMatchVariance(x,d,zt.MAX_INDIVIDUAL_VARIANCE)<zt.MAX_AVG_VARIANCE)return new Int32Array([b,O]);b+=x[0]+x[1],k.arraycopy(x,2,x,0,B-1),x[B-1]=0,x[B]=0,B--}else B++;x[B]=1,ne=!ne}return B===H-1&&zt.patternMatchVariance(x,d,zt.MAX_INDIVIDUAL_VARIANCE)<zt.MAX_AVG_VARIANCE?new Int32Array([b,O-1]):null}static patternMatchVariance(i,o,l){let c=i.length,f=0,d=0;for(let N=0;N<c;N++)f+=i[N],d+=o[N];if(f<d)return 1/0;let x=f/d;l*=x;let b=0;for(let N=0;N<c;N++){let O=i[N],B=o[N]*x,H=O>B?O-B:B-O;if(H>l)return 1/0;b+=H}return b/f}}zt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),zt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),zt.MAX_AVG_VARIANCE=.42,zt.MAX_INDIVIDUAL_VARIANCE=.8,zt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),zt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),zt.MAX_PIXEL_DRIFT=3,zt.MAX_PATTERN_DRIFT=5,zt.SKIPPED_ROW_COUNT_MAX=25,zt.ROW_STEP=5,zt.BARCODE_MIN_HEIGHT=10;class Yn{constructor(i,o){if(o.length===0)throw new v;this.field=i;let l=o.length;if(l>1&&o[0]===0){let c=1;for(;c<l&&o[c]===0;)c++;c===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-c),k.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let c=0;for(let f of this.coefficients)c=this.field.add(c,f);return c}let o=this.coefficients[0],l=this.coefficients.length;for(let c=1;c<l;c++)o=this.field.add(this.field.multiply(i,o),this.coefficients[c]);return o}add(i){if(!this.field.equals(i.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,l=i.coefficients;if(o.length>l.length){let d=o;o=l,l=d}let c=new Int32Array(l.length),f=l.length-o.length;k.arraycopy(l,0,c,0,f);for(let d=f;d<l.length;d++)c[d]=this.field.add(o[d-f],l[d]);return new Yn(this.field,c)}subtract(i){if(!this.field.equals(i.field))throw new v("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof Yn?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new Yn(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,c=i.coefficients,f=c.length,d=new Int32Array(l+f-1);for(let x=0;x<l;x++){let b=o[x];for(let N=0;N<f;N++)d[x+N]=this.field.add(d[x+N],this.field.multiply(b,c[N]))}return new Yn(this.field,d)}negative(){let i=this.coefficients.length,o=new Int32Array(i);for(let l=0;l<i;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new Yn(this.field,o)}multiplyScalar(i){if(i===0)return new Yn(this.field,new Int32Array([0]));if(i===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let c=0;c<o;c++)l[c]=this.field.multiply(this.coefficients[c],i);return new Yn(this.field,l)}multiplyByMonomial(i,o){if(i<0)throw new v;if(o===0)return new Yn(this.field,new Int32Array([0]));let l=this.coefficients.length,c=new Int32Array(l+i);for(let f=0;f<l;f++)c[f]=this.field.multiply(this.coefficients[f],o);return new Yn(this.field,c)}toString(){let i=new ae;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(i.append(" - "),l=-l):i.length()>0&&i.append(" + "),(o===0||l!==1)&&i.append(l),o!==0&&(o===1?i.append("x"):(i.append("x^"),i.append(o))))}return i.toString()}}class tl{add(i,o){return(i+o)%this.modulus}subtract(i,o){return(this.modulus+i-o)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new v;return this.logTable[i]}inverse(i){if(i===0)throw new st;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class nl extends tl{constructor(i,o){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let l=1;for(let c=0;c<i;c++)this.expTable[c]=l,l=l*o%i;for(let c=0;c<i-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new Yn(this,new Int32Array([0])),this.one=new Yn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new v;if(o===0)return this.zero;let l=new Int32Array(i+1);return l[0]=o,new Yn(this,l)}}nl.PDF417_GF=new nl(bt.NUMBER_OF_CODEWORDS,3);class Wl{constructor(){this.field=nl.PDF417_GF}decode(i,o,l){let c=new Yn(this.field,i),f=new Int32Array(o),d=!1;for(let he=o;he>0;he--){let pe=c.evaluateAt(this.field.exp(he));f[o-he]=pe,pe!==0&&(d=!0)}if(!d)return 0;let x=this.field.getOne();if(l!=null)for(const he of l){let pe=this.field.exp(i.length-1-he),be=new Yn(this.field,new Int32Array([this.field.subtract(0,pe),1]));x=x.multiply(be)}let b=new Yn(this.field,f),N=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),b,o),O=N[0],B=N[1],H=this.findErrorLocations(O),ne=this.findErrorMagnitudes(B,O,H);for(let he=0;he<H.length;he++){let pe=i.length-1-this.field.log(H[he]);if(pe<0)throw A.getChecksumInstance();i[pe]=this.field.subtract(i[pe],ne[he])}return H.length}runEuclideanAlgorithm(i,o,l){if(i.getDegree()<o.getDegree()){let H=i;i=o,o=H}let c=i,f=o,d=this.field.getZero(),x=this.field.getOne();for(;f.getDegree()>=Math.round(l/2);){let H=c,ne=d;if(c=f,d=x,c.isZero())throw A.getChecksumInstance();f=H;let he=this.field.getZero(),pe=c.getCoefficient(c.getDegree()),be=this.field.inverse(pe);for(;f.getDegree()>=c.getDegree()&&!f.isZero();){let Re=f.getDegree()-c.getDegree(),Xe=this.field.multiply(f.getCoefficient(f.getDegree()),be);he=he.add(this.field.buildMonomial(Re,Xe)),f=f.subtract(c.multiplyByMonomial(Re,Xe))}x=he.multiply(d).subtract(ne).negative()}let b=x.getCoefficient(0);if(b===0)throw A.getChecksumInstance();let N=this.field.inverse(b),O=x.multiply(N),B=f.multiply(N);return[O,B]}findErrorLocations(i){let o=i.getDegree(),l=new Int32Array(o),c=0;for(let f=1;f<this.field.getSize()&&c<o;f++)i.evaluateAt(f)===0&&(l[c]=this.field.inverse(f),c++);if(c!==o)throw A.getChecksumInstance();return l}findErrorMagnitudes(i,o,l){let c=o.getDegree(),f=new Int32Array(c);for(let N=1;N<=c;N++)f[c-N]=this.field.multiply(N,o.getCoefficient(N));let d=new Yn(this.field,f),x=l.length,b=new Int32Array(x);for(let N=0;N<x;N++){let O=this.field.inverse(l[N]),B=this.field.subtract(0,i.evaluateAt(O)),H=this.field.inverse(d.evaluateAt(O));b[N]=this.field.multiply(B,H)}return b}}class Ls{constructor(i,o,l,c,f){i instanceof Ls?this.constructor_2(i):this.constructor_1(i,o,l,c,f)}constructor_1(i,o,l,c,f){const d=o==null||l==null,x=c==null||f==null;if(d&&x)throw new se;d?(o=new Be(0,c.getY()),l=new Be(0,f.getY())):x&&(c=new Be(i.getWidth()-1,o.getY()),f=new Be(i.getWidth()-1,l.getY())),this.image=i,this.topLeft=o,this.bottomLeft=l,this.topRight=c,this.bottomRight=f,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(c.getX(),f.getX())),this.minY=Math.trunc(Math.min(o.getY(),c.getY())),this.maxY=Math.trunc(Math.max(l.getY(),f.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,o){return i==null?o:o==null?i:new Ls(i.image,i.topLeft,i.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(i,o,l){let c=this.topLeft,f=this.bottomLeft,d=this.topRight,x=this.bottomRight;if(i>0){let b=l?this.topLeft:this.topRight,N=Math.trunc(b.getY()-i);N<0&&(N=0);let O=new Be(b.getX(),N);l?c=O:d=O}if(o>0){let b=l?this.bottomLeft:this.bottomRight,N=Math.trunc(b.getY()+o);N>=this.image.getHeight()&&(N=this.image.getHeight()-1);let O=new Be(b.getX(),N);l?f=O:x=O}return new Ls(this.image,c,f,d,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class rl{constructor(i,o,l,c){this.columnCount=i,this.errorCorrectionLevel=c,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Yi{constructor(){this.buffer=""}static form(i,o){let l=-1;function c(d,x,b,N,O,B){if(d==="%%")return"%";if(o[++l]===void 0)return;d=N?parseInt(N.substr(1)):void 0;let H=O?parseInt(O.substr(1)):void 0,ne;switch(B){case"s":ne=o[l];break;case"c":ne=o[l][0];break;case"f":ne=parseFloat(o[l]).toFixed(d);break;case"p":ne=parseFloat(o[l]).toPrecision(d);break;case"e":ne=parseFloat(o[l]).toExponential(d);break;case"x":ne=parseInt(o[l]).toString(H||16);break;case"d":ne=parseFloat(parseInt(o[l],H||10).toPrecision(d)).toFixed(0);break}ne=typeof ne=="object"?JSON.stringify(ne):(+ne).toString(H);let he=parseInt(b),pe=b&&b[0]+""=="0"?"0":" ";for(;ne.length<he;)ne=x!==void 0?ne+pe:pe+ne;return ne}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(f,c)}format(i,...o){this.buffer+=Yi.form(i,o)}toString(){return this.buffer}}class Ri{constructor(i){this.boundingBox=new Ls(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let o=this.getCodeword(i);if(o!=null)return o;for(let l=1;l<Ri.MAX_NEARBY_DISTANCE;l++){let c=this.imageRowToCodewordIndex(i)-l;if(c>=0&&(o=this.codewords[c],o!=null)||(c=this.imageRowToCodewordIndex(i)+l,c<this.codewords.length&&(o=this.codewords[c],o!=null)))return o}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,o){this.codewords[this.imageRowToCodewordIndex(i)]=o}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new Yi;let o=0;for(const l of this.codewords){if(l==null){i.format("%3d:    |   %n",o++);continue}i.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return i.toString()}}Ri.MAX_NEARBY_DISTANCE=5;class ya{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let o=this.values.get(i);o==null&&(o=0),o++,this.values.set(i,o)}getValue(){let i=-1,o=new Array;for(const[l,c]of this.values.entries()){const f={getKey:()=>l,getValue:()=>c};f.getValue()>i?(i=f.getValue(),o=[],o.push(f.getKey())):f.getValue()===i&&o.push(f.getKey())}return bt.toIntArray(o)}getConfidence(i){return this.values.get(i)}}class Zs extends Ri{constructor(i,o){super(i),this._isLeft=o}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,i);let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),f=this._isLeft?l.getBottomLeft():l.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),x=this.imageRowToCodewordIndex(Math.trunc(f.getY())),b=-1,N=1,O=0;for(let B=d;B<x;B++){if(o[B]==null)continue;let H=o[B],ne=H.getRowNumber()-b;if(ne===0)O++;else if(ne===1)N=Math.max(N,O),O=1,b=H.getRowNumber();else if(ne<0||H.getRowNumber()>=i.getRowCount()||ne>B)o[B]=null;else{let he;N>2?he=(N-2)*ne:he=ne;let pe=he>=B;for(let be=1;be<=he&&!pe;be++)pe=o[B-be]!=null;pe?o[B]=null:(b=H.getRowNumber(),O=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let o=new Int32Array(i.getRowCount());for(let l of this.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=o.length)continue;o[c]++}return o}adjustIncompleteIndicatorColumnRowNumbers(i){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),x=this.getCodewords(),b=-1;for(let N=f;N<d;N++){if(x[N]==null)continue;let O=x[N];O.setRowNumberAsRowIndicatorColumn();let B=O.getRowNumber()-b;B===0||(B===1?b=O.getRowNumber():O.getRowNumber()>=i.getRowCount()?x[N]=null:b=O.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),o=new ya,l=new ya,c=new ya,f=new ya;for(let x of i){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let b=x.getValue()%30,N=x.getRowNumber();switch(this._isLeft||(N+=2),N%3){case 0:l.setValue(b*3+1);break;case 1:f.setValue(b/3),c.setValue(b%3);break;case 2:o.setValue(b+1);break}}if(o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||f.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+c.getValue()[0]<bt.MIN_ROWS_IN_BARCODE||l.getValue()[0]+c.getValue()[0]>bt.MAX_ROWS_IN_BARCODE)return null;let d=new rl(o.getValue()[0],l.getValue()[0],c.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(i,d),d}removeIncorrectCodewords(i,o){for(let l=0;l<i.length;l++){let c=i[l];if(i[l]==null)continue;let f=c.getValue()%30,d=c.getRowNumber();if(d>o.getRowCount()){i[l]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:f*3+1!==o.getRowCountUpperPart()&&(i[l]=null);break;case 1:(Math.trunc(f/3)!==o.getErrorCorrectionLevel()||f%3!==o.getRowCountLowerPart())&&(i[l]=null);break;case 2:f+1!==o.getColumnCount()&&(i[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ps{constructor(i,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=bt.MAX_CODEWORDS_IN_BARCODE,o;do o=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let c=0;c<l.length;c++)l[c]!=null&&(l[c].hasValidRowNumber()||this.adjustRowNumbers(o,c,l))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++)if(i[l]!=null&&o[l]!=null&&i[l].getRowNumber()===o[l].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let f=this.detectionResultColumns[c].getCodewords()[l];f!=null&&(f.setRowNumber(i[l].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let c=o[l].getRowNumber(),f=0;for(let d=this.barcodeColumnCount+1;d>0&&f<this.ADJUST_ROW_NUMBER_SKIP;d--){let x=this.detectionResultColumns[d].getCodewords()[l];x!=null&&(f=Ps.adjustRowNumberIfValid(c,f,x),x.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let c=o[l].getRowNumber(),f=0;for(let d=1;d<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;d++){let x=this.detectionResultColumns[d].getCodewords()[l];x!=null&&(f=Ps.adjustRowNumberIfValid(c,f,x),x.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(i)?(l.setRowNumber(i),o=0):++o),o}adjustRowNumbers(i,o,l){if(!this.detectionResultColumns[i-1])return;let c=l[o],f=this.detectionResultColumns[i-1].getCodewords(),d=f;this.detectionResultColumns[i+1]!=null&&(d=this.detectionResultColumns[i+1].getCodewords());let x=new Array(14);x[2]=f[o],x[3]=d[o],o>0&&(x[0]=l[o-1],x[4]=f[o-1],x[5]=d[o-1]),o>1&&(x[8]=l[o-2],x[10]=f[o-2],x[11]=d[o-2]),o<l.length-1&&(x[1]=l[o+1],x[6]=f[o+1],x[7]=d[o+1]),o<l.length-2&&(x[9]=l[o+2],x[12]=f[o+2],x[13]=d[o+2]);for(let b of x)if(Ps.adjustRowNumber(c,b))return}static adjustRowNumber(i,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===i.getBucket()?(i.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,o){this.detectionResultColumns[i]=o}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Yi;for(let l=0;l<i.getCodewords().length;l++){o.format("CW %3d:",l);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){o.format("    |   ");continue}let f=this.detectionResultColumns[c].getCodewords()[l];if(f==null){o.format("    |   ");continue}o.format(" %3d|%3d",f.getRowNumber(),f.getValue())}o.format("%n")}return o.toString()}}class gs{constructor(i,o,l,c){this.rowNumber=gs.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==gs.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}gs.BARCODE_ROW_UNKNOWN=-1;class Pr{static initialize(){for(let i=0;i<bt.SYMBOL_TABLE.length;i++){let o=bt.SYMBOL_TABLE[i],l=o&1;for(let c=0;c<bt.BARS_IN_MODULE;c++){let f=0;for(;(o&1)===l;)f+=1,o>>=1;l=o&1,Pr.RATIOS_TABLE[i]||(Pr.RATIOS_TABLE[i]=new Array(bt.BARS_IN_MODULE)),Pr.RATIOS_TABLE[i][bt.BARS_IN_MODULE-c-1]=Math.fround(f/bt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let o=Pr.getDecodedCodewordValue(Pr.sampleBitCounts(i));return o!==-1?o:Pr.getClosestDecodedValue(i)}static sampleBitCounts(i){let o=je.sum(i),l=new Int32Array(bt.BARS_IN_MODULE),c=0,f=0;for(let d=0;d<bt.MODULES_IN_CODEWORD;d++){let x=o/(2*bt.MODULES_IN_CODEWORD)+d*o/bt.MODULES_IN_CODEWORD;f+i[c]<=x&&(f+=i[c],c++),l[c]++}return l}static getDecodedCodewordValue(i){let o=Pr.getBitValue(i);return bt.getCodeword(o)===-1?-1:o}static getBitValue(i){let o=0;for(let l=0;l<i.length;l++)for(let c=0;c<i[l];c++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(i){let o=je.sum(i),l=new Array(bt.BARS_IN_MODULE);if(o>1)for(let d=0;d<l.length;d++)l[d]=Math.fround(i[d]/o);let c=rt.MAX_VALUE,f=-1;this.bSymbolTableReady||Pr.initialize();for(let d=0;d<Pr.RATIOS_TABLE.length;d++){let x=0,b=Pr.RATIOS_TABLE[d];for(let N=0;N<bt.BARS_IN_MODULE;N++){let O=Math.fround(b[N]-l[N]);if(x+=Math.fround(O*O),x>=c)break}x<c&&(c=x,f=bt.SYMBOL_TABLE[d])}return f}}Pr.bSymbolTableReady=!1,Pr.RATIOS_TABLE=new Array(bt.SYMBOL_TABLE.length).map(F=>new Array(bt.BARS_IN_MODULE));class il{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class sl{static parseLong(i,o=void 0){return parseInt(i,o)}}class al extends m{}al.kind="NullPointerException";class ms{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,o,l){if(i==null)throw new al;if(o<0||o>i.length||l<0||o+l>i.length||o+l<0)throw new M;if(l===0)return;for(let c=0;c<l;c++)this.write(i[o+c])}flush(){}close(){}}class Os extends m{}class tc extends ms{constructor(i=32){if(super(),this.count=0,i<0)throw new v("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let l=this.buf.length<<1;if(l-i<0&&(l=i),l<0){if(i<0)throw new Os;l=L.MAX_VALUE}this.buf=I.copyOfUint8Array(this.buf,l)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,o,l){if(o<0||o>i.length||l<0||o+l-i.length>0)throw new M;this.ensureCapacity(this.count+l),k.arraycopy(i,o,this.buf,this.count,l),this.count+=l}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return I.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var Jt;(function(F){F[F.ALPHA=0]="ALPHA",F[F.LOWER=1]="LOWER",F[F.MIXED=2]="MIXED",F[F.PUNCT=3]="PUNCT",F[F.ALPHA_SHIFT=4]="ALPHA_SHIFT",F[F.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Jt||(Jt={}));function Di(){if(typeof window<"u")return window.BigInt||null;if(typeof cc<"u")return cc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Qs;function li(F){if(typeof Qs>"u"&&(Qs=Di()),Qs===null)throw new Error("BigInt is not supported!");return Qs(F)}function nc(){let F=[];F[0]=li(1);let i=li(900);F[1]=i;for(let o=2;o<16;o++)F[o]=F[o-1]*i;return F}class Oe{static decode(i,o){let l=new ae(""),c=Z.ISO8859_1;l.enableDecoding(c);let f=1,d=i[f++],x=new il;for(;f<i[0];){switch(d){case Oe.TEXT_COMPACTION_MODE_LATCH:f=Oe.textCompaction(i,f,l);break;case Oe.BYTE_COMPACTION_MODE_LATCH:case Oe.BYTE_COMPACTION_MODE_LATCH_6:f=Oe.byteCompaction(d,i,c,f,l);break;case Oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[f++]);break;case Oe.NUMERIC_COMPACTION_MODE_LATCH:f=Oe.numericCompaction(i,f,l);break;case Oe.ECI_CHARSET:Z.getCharacterSetECIByValue(i[f++]);break;case Oe.ECI_GENERAL_PURPOSE:f+=2;break;case Oe.ECI_USER_DEFINED:f++;break;case Oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=Oe.decodeMacroBlock(i,f,x);break;case Oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Oe.MACRO_PDF417_TERMINATOR:throw new D;default:f--,f=Oe.textCompaction(i,f,l);break}if(f<i.length)d=i[f++];else throw D.getFormatInstance()}if(l.length()===0)throw D.getFormatInstance();let b=new Pe(null,l.toString(),null,o);return b.setOther(x),b}static decodeMacroBlock(i,o,l){if(o+Oe.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw D.getFormatInstance();let c=new Int32Array(Oe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<Oe.NUMBER_OF_SEQUENCE_CODEWORDS;x++,o++)c[x]=i[o];l.setSegmentIndex(L.parseInt(Oe.decodeBase900toBase10(c,Oe.NUMBER_OF_SEQUENCE_CODEWORDS)));let f=new ae;o=Oe.textCompaction(i,o,f),l.setFileId(f.toString());let d=-1;for(i[o]===Oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=o+1);o<i[0];)switch(i[o]){case Oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,i[o]){case Oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new ae;o=Oe.textCompaction(i,o+1,x),l.setFileName(x.toString());break;case Oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let b=new ae;o=Oe.textCompaction(i,o+1,b),l.setSender(b.toString());break;case Oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let N=new ae;o=Oe.textCompaction(i,o+1,N),l.setAddressee(N.toString());break;case Oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let O=new ae;o=Oe.numericCompaction(i,o+1,O),l.setSegmentCount(L.parseInt(O.toString()));break;case Oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let B=new ae;o=Oe.numericCompaction(i,o+1,B),l.setTimestamp(sl.parseLong(B.toString()));break;case Oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let H=new ae;o=Oe.numericCompaction(i,o+1,H),l.setChecksum(L.parseInt(H.toString()));break;case Oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ne=new ae;o=Oe.numericCompaction(i,o+1,ne),l.setFileSize(sl.parseLong(ne.toString()));break;default:throw D.getFormatInstance()}break;case Oe.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw D.getFormatInstance()}if(d!==-1){let x=o-d;l.isLastSegment()&&x--,l.setOptionalData(I.copyOfRange(i,d,d+x))}return o}static textCompaction(i,o,l){let c=new Int32Array((i[0]-o)*2),f=new Int32Array((i[0]-o)*2),d=0,x=!1;for(;o<i[0]&&!x;){let b=i[o++];if(b<Oe.TEXT_COMPACTION_MODE_LATCH)c[d]=b/30,c[d+1]=b%30,d+=2;else switch(b){case Oe.TEXT_COMPACTION_MODE_LATCH:c[d++]=Oe.TEXT_COMPACTION_MODE_LATCH;break;case Oe.BYTE_COMPACTION_MODE_LATCH:case Oe.BYTE_COMPACTION_MODE_LATCH_6:case Oe.NUMERIC_COMPACTION_MODE_LATCH:case Oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Oe.MACRO_PDF417_TERMINATOR:o--,x=!0;break;case Oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[d]=Oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,b=i[o++],f[d]=b,d++;break}}return Oe.decodeTextCompaction(c,f,d,l),o}static decodeTextCompaction(i,o,l,c){let f=Jt.ALPHA,d=Jt.ALPHA,x=0;for(;x<l;){let b=i[x],N="";switch(f){case Jt.ALPHA:if(b<26)N=String.fromCharCode(65+b);else switch(b){case 26:N=" ";break;case Oe.LL:f=Jt.LOWER;break;case Oe.ML:f=Jt.MIXED;break;case Oe.PS:d=f,f=Jt.PUNCT_SHIFT;break;case Oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Oe.TEXT_COMPACTION_MODE_LATCH:f=Jt.ALPHA;break}break;case Jt.LOWER:if(b<26)N=String.fromCharCode(97+b);else switch(b){case 26:N=" ";break;case Oe.AS:d=f,f=Jt.ALPHA_SHIFT;break;case Oe.ML:f=Jt.MIXED;break;case Oe.PS:d=f,f=Jt.PUNCT_SHIFT;break;case Oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Oe.TEXT_COMPACTION_MODE_LATCH:f=Jt.ALPHA;break}break;case Jt.MIXED:if(b<Oe.PL)N=Oe.MIXED_CHARS[b];else switch(b){case Oe.PL:f=Jt.PUNCT;break;case 26:N=" ";break;case Oe.LL:f=Jt.LOWER;break;case Oe.AL:f=Jt.ALPHA;break;case Oe.PS:d=f,f=Jt.PUNCT_SHIFT;break;case Oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Oe.TEXT_COMPACTION_MODE_LATCH:f=Jt.ALPHA;break}break;case Jt.PUNCT:if(b<Oe.PAL)N=Oe.PUNCT_CHARS[b];else switch(b){case Oe.PAL:f=Jt.ALPHA;break;case Oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Oe.TEXT_COMPACTION_MODE_LATCH:f=Jt.ALPHA;break}break;case Jt.ALPHA_SHIFT:if(f=d,b<26)N=String.fromCharCode(65+b);else switch(b){case 26:N=" ";break;case Oe.TEXT_COMPACTION_MODE_LATCH:f=Jt.ALPHA;break}break;case Jt.PUNCT_SHIFT:if(f=d,b<Oe.PAL)N=Oe.PUNCT_CHARS[b];else switch(b){case Oe.PAL:f=Jt.ALPHA;break;case Oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Oe.TEXT_COMPACTION_MODE_LATCH:f=Jt.ALPHA;break}break}N!==""&&c.append(N),x++}}static byteCompaction(i,o,l,c,f){let d=new tc,x=0,b=0,N=!1;switch(i){case Oe.BYTE_COMPACTION_MODE_LATCH:let O=new Int32Array(6),B=o[c++];for(;c<o[0]&&!N;)switch(O[x++]=B,b=900*b+B,B=o[c++],B){case Oe.TEXT_COMPACTION_MODE_LATCH:case Oe.BYTE_COMPACTION_MODE_LATCH:case Oe.NUMERIC_COMPACTION_MODE_LATCH:case Oe.BYTE_COMPACTION_MODE_LATCH_6:case Oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Oe.MACRO_PDF417_TERMINATOR:c--,N=!0;break;default:if(x%5===0&&x>0){for(let H=0;H<6;++H)d.write(Number(li(b)>>li(8*(5-H))));b=0,x=0}break}c===o[0]&&B<Oe.TEXT_COMPACTION_MODE_LATCH&&(O[x++]=B);for(let H=0;H<x;H++)d.write(O[H]);break;case Oe.BYTE_COMPACTION_MODE_LATCH_6:for(;c<o[0]&&!N;){let H=o[c++];if(H<Oe.TEXT_COMPACTION_MODE_LATCH)x++,b=900*b+H;else switch(H){case Oe.TEXT_COMPACTION_MODE_LATCH:case Oe.BYTE_COMPACTION_MODE_LATCH:case Oe.NUMERIC_COMPACTION_MODE_LATCH:case Oe.BYTE_COMPACTION_MODE_LATCH_6:case Oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Oe.MACRO_PDF417_TERMINATOR:c--,N=!0;break}if(x%5===0&&x>0){for(let ne=0;ne<6;++ne)d.write(Number(li(b)>>li(8*(5-ne))));b=0,x=0}}break}return f.append(W.decode(d.toByteArray(),l)),c}static numericCompaction(i,o,l){let c=0,f=!1,d=new Int32Array(Oe.MAX_NUMERIC_CODEWORDS);for(;o<i[0]&&!f;){let x=i[o++];if(o===i[0]&&(f=!0),x<Oe.TEXT_COMPACTION_MODE_LATCH)d[c]=x,c++;else switch(x){case Oe.TEXT_COMPACTION_MODE_LATCH:case Oe.BYTE_COMPACTION_MODE_LATCH:case Oe.BYTE_COMPACTION_MODE_LATCH_6:case Oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Oe.MACRO_PDF417_TERMINATOR:o--,f=!0;break}(c%Oe.MAX_NUMERIC_CODEWORDS===0||x===Oe.NUMERIC_COMPACTION_MODE_LATCH||f)&&c>0&&(l.append(Oe.decodeBase900toBase10(d,c)),c=0)}return o}static decodeBase900toBase10(i,o){let l=li(0);for(let f=0;f<o;f++)l+=Oe.EXP900[o-f-1]*li(i[f]);let c=l.toString();if(c.charAt(0)!=="1")throw new D;return c.substring(1)}}Oe.TEXT_COMPACTION_MODE_LATCH=900,Oe.BYTE_COMPACTION_MODE_LATCH=901,Oe.NUMERIC_COMPACTION_MODE_LATCH=902,Oe.BYTE_COMPACTION_MODE_LATCH_6=924,Oe.ECI_USER_DEFINED=925,Oe.ECI_GENERAL_PURPOSE=926,Oe.ECI_CHARSET=927,Oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Oe.MACRO_PDF417_TERMINATOR=922,Oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Oe.MAX_NUMERIC_CODEWORDS=15,Oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Oe.PL=25,Oe.LL=27,Oe.AS=27,Oe.ML=28,Oe.AL=28,Oe.PS=29,Oe.PAL=29,Oe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Oe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Oe.EXP900=Di()?nc():[],Oe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Wt{constructor(){}static decode(i,o,l,c,f,d,x){let b=new Ls(i,o,l,c,f),N=null,O=null,B;for(let he=!0;;he=!1){if(o!=null&&(N=Wt.getRowIndicatorColumn(i,b,o,!0,d,x)),c!=null&&(O=Wt.getRowIndicatorColumn(i,b,c,!1,d,x)),B=Wt.merge(N,O),B==null)throw se.getNotFoundInstance();let pe=B.getBoundingBox();if(he&&pe!=null&&(pe.getMinY()<b.getMinY()||pe.getMaxY()>b.getMaxY()))b=pe;else break}B.setBoundingBox(b);let H=B.getBarcodeColumnCount()+1;B.setDetectionResultColumn(0,N),B.setDetectionResultColumn(H,O);let ne=N!=null;for(let he=1;he<=H;he++){let pe=ne?he:H-he;if(B.getDetectionResultColumn(pe)!==void 0)continue;let be;pe===0||pe===H?be=new Zs(b,pe===0):be=new Ri(b),B.setDetectionResultColumn(pe,be);let Re=-1,Xe=Re;for(let Qe=b.getMinY();Qe<=b.getMaxY();Qe++){if(Re=Wt.getStartColumn(B,pe,Qe,ne),Re<0||Re>b.getMaxX()){if(Xe===-1)continue;Re=Xe}let Ke=Wt.detectCodeword(i,b.getMinX(),b.getMaxX(),ne,Re,Qe,d,x);Ke!=null&&(be.setCodeword(Qe,Ke),Xe=Re,d=Math.min(d,Ke.getWidth()),x=Math.max(x,Ke.getWidth()))}}return Wt.createDecoderResult(B)}static merge(i,o){if(i==null&&o==null)return null;let l=Wt.getBarcodeMetadata(i,o);if(l==null)return null;let c=Ls.merge(Wt.adjustBoundingBox(i),Wt.adjustBoundingBox(o));return new Ps(l,c)}static adjustBoundingBox(i){if(i==null)return null;let o=i.getRowHeights();if(o==null)return null;let l=Wt.getMax(o),c=0;for(let x of o)if(c+=l-x,x>0)break;let f=i.getCodewords();for(let x=0;c>0&&f[x]==null;x++)c--;let d=0;for(let x=o.length-1;x>=0&&(d+=l-o[x],!(o[x]>0));x--);for(let x=f.length-1;d>0&&f[x]==null;x--)d--;return i.getBoundingBox().addMissingRows(c,d,i.isLeft())}static getMax(i){let o=-1;for(let l of i)o=Math.max(o,l);return o}static getBarcodeMetadata(i,o){let l;if(i==null||(l=i.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let c;return o==null||(c=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==c.getColumnCount()&&l.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&l.getRowCount()!==c.getRowCount()?null:l}static getRowIndicatorColumn(i,o,l,c,f,d){let x=new Zs(o,c);for(let b=0;b<2;b++){let N=b===0?1:-1,O=Math.trunc(Math.trunc(l.getX()));for(let B=Math.trunc(Math.trunc(l.getY()));B<=o.getMaxY()&&B>=o.getMinY();B+=N){let H=Wt.detectCodeword(i,0,i.getWidth(),c,O,B,f,d);H!=null&&(x.setCodeword(B,H),c?O=H.getStartX():O=H.getEndX())}}return x}static adjustCodewordCount(i,o){let l=o[0][1],c=l.getValue(),f=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-Wt.getNumberOfECCodeWords(i.getBarcodeECLevel());if(c.length===0){if(f<1||f>bt.MAX_CODEWORDS_IN_BARCODE)throw se.getNotFoundInstance();l.setValue(f)}else c[0]!==f&&l.setValue(f)}static createDecoderResult(i){let o=Wt.createBarcodeMatrix(i);Wt.adjustCodewordCount(i,o);let l=new Array,c=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),f=[],d=new Array;for(let b=0;b<i.getBarcodeRowCount();b++)for(let N=0;N<i.getBarcodeColumnCount();N++){let O=o[b][N+1].getValue(),B=b*i.getBarcodeColumnCount()+N;O.length===0?l.push(B):O.length===1?c[B]=O[0]:(d.push(B),f.push(O))}let x=new Array(f.length);for(let b=0;b<x.length;b++)x[b]=f[b];return Wt.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),c,bt.toIntArray(l),bt.toIntArray(d),x)}static createDecoderResultFromAmbiguousValues(i,o,l,c,f){let d=new Int32Array(c.length),x=100;for(;x-- >0;){for(let b=0;b<d.length;b++)o[c[b]]=f[b][d[b]];try{return Wt.decodeCodewords(o,i,l)}catch(b){if(!(b instanceof A))throw b}if(d.length===0)throw A.getChecksumInstance();for(let b=0;b<d.length;b++)if(d[b]<f[b].length-1){d[b]++;break}else if(d[b]=0,b===d.length-1)throw A.getChecksumInstance()}throw A.getChecksumInstance()}static createBarcodeMatrix(i){let o=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let c=0;c<o.length;c++)for(let f=0;f<o[c].length;f++)o[c][f]=new ya;let l=0;for(let c of i.getDetectionResultColumns()){if(c!=null){for(let f of c.getCodewords())if(f!=null){let d=f.getRowNumber();if(d>=0){if(d>=o.length)continue;o[d][l].setValue(f.getValue())}}}l++}return o}static isValidBarcodeColumn(i,o){return o>=0&&o<=i.getBarcodeColumnCount()+1}static getStartColumn(i,o,l,c){let f=c?1:-1,d=null;if(Wt.isValidBarcodeColumn(i,o-f)&&(d=i.getDetectionResultColumn(o-f).getCodeword(l)),d!=null)return c?d.getEndX():d.getStartX();if(d=i.getDetectionResultColumn(o).getCodewordNearby(l),d!=null)return c?d.getStartX():d.getEndX();if(Wt.isValidBarcodeColumn(i,o-f)&&(d=i.getDetectionResultColumn(o-f).getCodewordNearby(l)),d!=null)return c?d.getEndX():d.getStartX();let x=0;for(;Wt.isValidBarcodeColumn(i,o-f);){o-=f;for(let b of i.getDetectionResultColumn(o).getCodewords())if(b!=null)return(c?b.getEndX():b.getStartX())+f*x*(b.getEndX()-b.getStartX());x++}return c?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,o,l,c,f,d,x,b){f=Wt.adjustCodewordStartColumn(i,o,l,c,f,d);let N=Wt.getModuleBitCount(i,o,l,c,f,d);if(N==null)return null;let O,B=je.sum(N);if(c)O=f+B;else{for(let he=0;he<N.length/2;he++){let pe=N[he];N[he]=N[N.length-1-he],N[N.length-1-he]=pe}O=f,f=O-B}if(!Wt.checkCodewordSkew(B,x,b))return null;let H=Pr.getDecodedValue(N),ne=bt.getCodeword(H);return ne===-1?null:new gs(f,O,Wt.getCodewordBucketNumber(H),ne)}static getModuleBitCount(i,o,l,c,f,d){let x=f,b=new Int32Array(8),N=0,O=c?1:-1,B=c;for(;(c?x<l:x>=o)&&N<b.length;)i.get(x,d)===B?(b[N]++,x+=O):(N++,B=!B);return N===b.length||x===(c?l:o)&&N===b.length-1?b:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,o,l,c,f,d){let x=f,b=c?-1:1;for(let N=0;N<2;N++){for(;(c?x>=o:x<l)&&c===i.get(x,d);){if(Math.abs(f-x)>Wt.CODEWORD_SKEW_SIZE)return f;x+=b}b=-b,c=!c}return x}static checkCodewordSkew(i,o,l){return o-Wt.CODEWORD_SKEW_SIZE<=i&&i<=l+Wt.CODEWORD_SKEW_SIZE}static decodeCodewords(i,o,l){if(i.length===0)throw D.getFormatInstance();let c=1<<o+1,f=Wt.correctErrors(i,l,c);Wt.verifyCodewordCount(i,c);let d=Oe.decode(i,""+o);return d.setErrorsCorrected(f),d.setErasures(l.length),d}static correctErrors(i,o,l){if(o!=null&&o.length>l/2+Wt.MAX_ERRORS||l<0||l>Wt.MAX_EC_CODEWORDS)throw A.getChecksumInstance();return Wt.errorCorrection.decode(i,l,o)}static verifyCodewordCount(i,o){if(i.length<4)throw D.getFormatInstance();let l=i[0];if(l>i.length)throw D.getFormatInstance();if(l===0)if(o<i.length)i[0]=i.length-o;else throw D.getFormatInstance()}static getBitCountForCodeword(i){let o=new Int32Array(8),l=0,c=o.length-1;for(;!((i&1)!==l&&(l=i&1,c--,c<0));)o[c]++,i>>=1;return o}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return Wt.getCodewordBucketNumber(Wt.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let o=new Yi;for(let l=0;l<i.length;l++){o.format("Row %2d: ",l);for(let c=0;c<i[l].length;c++){let f=i[l][c];f.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}o.format("%n")}return o.toString()}}Wt.CODEWORD_SKEW_SIZE=2,Wt.MAX_ERRORS=3,Wt.MAX_EC_CODEWORDS=512,Wt.errorCorrection=new Wl;class tr{decode(i,o=null){let l=tr.decode(i,o,!1);if(l==null||l.length===0||l[0]==null)throw se.getNotFoundInstance();return l[0]}decodeMultiple(i,o=null){try{return tr.decode(i,o,!0)}catch(l){throw l instanceof D||l instanceof A?se.getNotFoundInstance():l}}static decode(i,o,l){const c=new Array,f=zt.detectMultiple(i,o,l);for(const d of f.getPoints()){const x=Wt.decode(f.getBits(),d[4],d[5],d[6],d[7],tr.getMinCodewordWidth(d),tr.getMaxCodewordWidth(d)),b=new le(x.getText(),x.getRawBytes(),void 0,d,ce.PDF_417);b.putMetadata(_e.ERROR_CORRECTION_LEVEL,x.getECLevel());const N=x.getOther();N!=null&&b.putMetadata(_e.PDF417_EXTRA_METADATA,N),c.push(b)}return c.map(d=>d)}static getMaxWidth(i,o){return i==null||o==null?0:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMinWidth(i,o){return i==null||o==null?L.MAX_VALUE:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(tr.getMaxWidth(i[0],i[4]),tr.getMaxWidth(i[6],i[2])*bt.MODULES_IN_CODEWORD/bt.MODULES_IN_STOP_PATTERN),Math.max(tr.getMaxWidth(i[1],i[5]),tr.getMaxWidth(i[7],i[3])*bt.MODULES_IN_CODEWORD/bt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(tr.getMinWidth(i[0],i[4]),tr.getMinWidth(i[6],i[2])*bt.MODULES_IN_CODEWORD/bt.MODULES_IN_STOP_PATTERN),Math.min(tr.getMinWidth(i[1],i[5]),tr.getMinWidth(i[7],i[3])*bt.MODULES_IN_CODEWORD/bt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Js extends m{}Js.kind="ReaderException";class ol{constructor(i,o){this.verbose=i===!0,o&&this.setHints(o)}decode(i,o){return o&&this.setHints(o),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const o=!r(i)&&i.get(Q.TRY_HARDER)===!0,l=r(i)?null:i.get(Q.POSSIBLE_FORMATS),c=new Array;if(!r(l)){const f=l.some(d=>d===ce.UPC_A||d===ce.UPC_E||d===ce.EAN_13||d===ce.EAN_8||d===ce.CODABAR||d===ce.CODE_39||d===ce.CODE_93||d===ce.CODE_128||d===ce.ITF||d===ce.RSS_14||d===ce.RSS_EXPANDED);f&&!o&&c.push(new ds(i,this.verbose)),l.includes(ce.QR_CODE)&&c.push(new ps),l.includes(ce.DATA_MATRIX)&&c.push(new Sr),l.includes(ce.AZTEC)&&c.push(new ot),l.includes(ce.PDF_417)&&c.push(new tr),f&&o&&c.push(new ds(i,this.verbose))}c.length===0&&(o||c.push(new ds(i,this.verbose)),c.push(new ps),c.push(new Sr),c.push(new ot),c.push(new tr),o&&c.push(new ds(i,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Js("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(i,this.hints)}catch(l){if(l instanceof Js)continue}throw new se("No MultiFormat Readers were able to detect the code.")}}class Za extends ie{constructor(i=null,o=500){const l=new ol;l.setHints(i),super(l,o)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class ll extends ie{constructor(i=500){super(new tr,i)}}class ul extends ie{constructor(i=500){super(new ps,i)}}var Qa;(function(F){F[F.ERROR_CORRECTION=0]="ERROR_CORRECTION",F[F.CHARACTER_SET=1]="CHARACTER_SET",F[F.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",F[F.MIN_SIZE=3]="MIN_SIZE",F[F.MAX_SIZE=4]="MAX_SIZE",F[F.MARGIN=5]="MARGIN",F[F.PDF417_COMPACT=6]="PDF417_COMPACT",F[F.PDF417_COMPACTION=7]="PDF417_COMPACTION",F[F.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",F[F.AZTEC_LAYERS=9]="AZTEC_LAYERS",F[F.QR_VERSION=10]="QR_VERSION"})(Qa||(Qa={}));var nr=Qa;class $s{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new Ye(i,Int32Array.from([1])))}buildGenerator(i){const o=this.cachedGenerators;if(i>=o.length){let l=o[o.length-1];const c=this.field;for(let f=o.length;f<=i;f++){const d=l.multiply(new Ye(c,Int32Array.from([1,c.exp(f-1+c.getGeneratorBase())])));o.push(d),l=d}}return o[i]}encode(i,o){if(o===0)throw new v("No error correction bytes");const l=i.length-o;if(l<=0)throw new v("No data bytes provided");const c=this.buildGenerator(o),f=new Int32Array(l);k.arraycopy(i,0,f,0,l);let d=new Ye(this.field,f);d=d.multiplyByMonomial(o,1);const b=d.divide(c)[1].getCoefficients(),N=o-b.length;for(let O=0;O<N;O++)i[l+O]=0;k.arraycopy(b,0,i,l+N,b.length)}}class wn{constructor(){}static applyMaskPenaltyRule1(i){return wn.applyMaskPenaltyRule1Internal(i,!0)+wn.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let o=0;const l=i.getArray(),c=i.getWidth(),f=i.getHeight();for(let d=0;d<f-1;d++){const x=l[d];for(let b=0;b<c-1;b++){const N=x[b];N===x[b+1]&&N===l[d+1][b]&&N===l[d+1][b+1]&&o++}}return wn.N2*o}static applyMaskPenaltyRule3(i){let o=0;const l=i.getArray(),c=i.getWidth(),f=i.getHeight();for(let d=0;d<f;d++)for(let x=0;x<c;x++){const b=l[d];x+6<c&&b[x]===1&&b[x+1]===0&&b[x+2]===1&&b[x+3]===1&&b[x+4]===1&&b[x+5]===0&&b[x+6]===1&&(wn.isWhiteHorizontal(b,x-4,x)||wn.isWhiteHorizontal(b,x+7,x+11))&&o++,d+6<f&&l[d][x]===1&&l[d+1][x]===0&&l[d+2][x]===1&&l[d+3][x]===1&&l[d+4][x]===1&&l[d+5][x]===0&&l[d+6][x]===1&&(wn.isWhiteVertical(l,x,d-4,d)||wn.isWhiteVertical(l,x,d+7,d+11))&&o++}return o*wn.N3}static isWhiteHorizontal(i,o,l){o=Math.max(o,0),l=Math.min(l,i.length);for(let c=o;c<l;c++)if(i[c]===1)return!1;return!0}static isWhiteVertical(i,o,l,c){l=Math.max(l,0),c=Math.min(c,i.length);for(let f=l;f<c;f++)if(i[f][o]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let o=0;const l=i.getArray(),c=i.getWidth(),f=i.getHeight();for(let b=0;b<f;b++){const N=l[b];for(let O=0;O<c;O++)N[O]===1&&o++}const d=i.getHeight()*i.getWidth();return Math.floor(Math.abs(o*2-d)*10/d)*wn.N4}static getDataMaskBit(i,o,l){let c,f;switch(i){case 0:c=l+o&1;break;case 1:c=l&1;break;case 2:c=o%3;break;case 3:c=(l+o)%3;break;case 4:c=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:f=l*o,c=(f&1)+f%3;break;case 6:f=l*o,c=(f&1)+f%3&1;break;case 7:f=l*o,c=f%3+(l+o&1)&1;break;default:throw new v("Invalid mask pattern: "+i)}return c===0}static applyMaskPenaltyRule1Internal(i,o){let l=0;const c=o?i.getHeight():i.getWidth(),f=o?i.getWidth():i.getHeight(),d=i.getArray();for(let x=0;x<c;x++){let b=0,N=-1;for(let O=0;O<f;O++){const B=o?d[x][O]:d[O][x];B===N?b++:(b>=5&&(l+=wn.N1+(b-5)),b=1,N=B)}b>=5&&(l+=wn.N1+(b-5))}return l}}wn.N1=3,wn.N2=3,wn.N3=40,wn.N4=10;class ea{constructor(i,o){this.width=i,this.height=o;const l=new Array(o);for(let c=0;c!==o;c++)l[c]=new Uint8Array(i);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(i,o){return this.bytes[o][i]}getArray(){return this.bytes}setNumber(i,o,l){this.bytes[o][i]=l}setBoolean(i,o,l){this.bytes[o][i]=l?1:0}clear(i){for(const o of this.bytes)I.fill(o,i)}equals(i){if(!(i instanceof ea))return!1;const o=i;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,c=this.height;l<c;++l){const f=this.bytes[l],d=o.bytes[l];for(let x=0,b=this.width;x<b;++x)if(f[x]!==d[x])return!1}return!0}toString(){const i=new ae;for(let o=0,l=this.height;o<l;++o){const c=this.bytes[o];for(let f=0,d=this.width;f<d;++f)switch(c[f]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class ui{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new ae;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<ui.NUM_MASK_PATTERNS}}ui.NUM_MASK_PATTERNS=8;class hn extends m{}hn.kind="WriterException";class C{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,o,l,c,f){C.clearMatrix(f),C.embedBasicPatterns(l,f),C.embedTypeInfo(o,c,f),C.maybeEmbedVersionInfo(l,f),C.embedDataBits(i,c,f)}static embedBasicPatterns(i,o){C.embedPositionDetectionPatternsAndSeparators(o),C.embedDarkDotAtLeftBottomCorner(o),C.maybeEmbedPositionAdjustmentPatterns(i,o),C.embedTimingPatterns(o)}static embedTypeInfo(i,o,l){const c=new q;C.makeTypeInfoBits(i,o,c);for(let f=0,d=c.getSize();f<d;++f){const x=c.get(c.getSize()-1-f),b=C.TYPE_INFO_COORDINATES[f],N=b[0],O=b[1];if(l.setBoolean(N,O,x),f<8){const B=l.getWidth()-f-1;l.setBoolean(B,8,x)}else{const H=l.getHeight()-7+(f-8);l.setBoolean(8,H,x)}}}static maybeEmbedVersionInfo(i,o){if(i.getVersionNumber()<7)return;const l=new q;C.makeVersionInfoBits(i,l);let c=6*3-1;for(let f=0;f<6;++f)for(let d=0;d<3;++d){const x=l.get(c);c--,o.setBoolean(f,o.getHeight()-11+d,x),o.setBoolean(o.getHeight()-11+d,f,x)}}static embedDataBits(i,o,l){let c=0,f=-1,d=l.getWidth()-1,x=l.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);x>=0&&x<l.getHeight();){for(let b=0;b<2;++b){const N=d-b;if(!C.isEmpty(l.get(N,x)))continue;let O;c<i.getSize()?(O=i.get(c),++c):O=!1,o!==255&&wn.getDataMaskBit(o,N,x)&&(O=!O),l.setBoolean(N,x,O)}x+=f}f=-f,x+=f,d-=2}if(c!==i.getSize())throw new hn("Not all bits consumed: "+c+"/"+i.getSize())}static findMSBSet(i){return 32-L.numberOfLeadingZeros(i)}static calculateBCHCode(i,o){if(o===0)throw new v("0 polynomial");const l=C.findMSBSet(o);for(i<<=l-1;C.findMSBSet(i)>=l;)i^=o<<C.findMSBSet(i)-l;return i}static makeTypeInfoBits(i,o,l){if(!ui.isValidMaskPattern(o))throw new hn("Invalid mask pattern");const c=i.getBits()<<3|o;l.appendBits(c,5);const f=C.calculateBCHCode(c,C.TYPE_INFO_POLY);l.appendBits(f,10);const d=new q;if(d.appendBits(C.TYPE_INFO_MASK_PATTERN,15),l.xor(d),l.getSize()!==15)throw new hn("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(i,o){o.appendBits(i.getVersionNumber(),6);const l=C.calculateBCHCode(i.getVersionNumber(),C.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new hn("should not happen but we got: "+o.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let o=8;o<i.getWidth()-8;++o){const l=(o+1)%2;C.isEmpty(i.get(o,6))&&i.setNumber(o,6,l),C.isEmpty(i.get(6,o))&&i.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new hn;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,o,l){for(let c=0;c<8;++c){if(!C.isEmpty(l.get(i+c,o)))throw new hn;l.setNumber(i+c,o,0)}}static embedVerticalSeparationPattern(i,o,l){for(let c=0;c<7;++c){if(!C.isEmpty(l.get(i,o+c)))throw new hn;l.setNumber(i,o+c,0)}}static embedPositionAdjustmentPattern(i,o,l){for(let c=0;c<5;++c){const f=C.POSITION_ADJUSTMENT_PATTERN[c];for(let d=0;d<5;++d)l.setNumber(i+d,o+c,f[d])}}static embedPositionDetectionPattern(i,o,l){for(let c=0;c<7;++c){const f=C.POSITION_DETECTION_PATTERN[c];for(let d=0;d<7;++d)l.setNumber(i+d,o+c,f[d])}}static embedPositionDetectionPatternsAndSeparators(i){const o=C.POSITION_DETECTION_PATTERN[0].length;C.embedPositionDetectionPattern(0,0,i),C.embedPositionDetectionPattern(i.getWidth()-o,0,i),C.embedPositionDetectionPattern(0,i.getWidth()-o,i);const l=8;C.embedHorizontalSeparationPattern(0,l-1,i),C.embedHorizontalSeparationPattern(i.getWidth()-l,l-1,i),C.embedHorizontalSeparationPattern(0,i.getWidth()-l,i);const c=7;C.embedVerticalSeparationPattern(c,0,i),C.embedVerticalSeparationPattern(i.getHeight()-c-1,0,i),C.embedVerticalSeparationPattern(c,i.getHeight()-c,i)}static maybeEmbedPositionAdjustmentPatterns(i,o){if(i.getVersionNumber()<2)return;const l=i.getVersionNumber()-1,c=C.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let f=0,d=c.length;f!==d;f++){const x=c[f];if(x>=0)for(let b=0;b!==d;b++){const N=c[b];N>=0&&C.isEmpty(o.get(N,x))&&C.embedPositionAdjustmentPattern(N-2,x-2,o)}}}}C.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),C.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),C.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),C.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),C.VERSION_INFO_POLY=7973,C.TYPE_INFO_POLY=1335,C.TYPE_INFO_MASK_PATTERN=21522;class U{constructor(i,o){this.dataBytes=i,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class te{constructor(){}static calculateMaskPenalty(i){return wn.applyMaskPenaltyRule1(i)+wn.applyMaskPenaltyRule2(i)+wn.applyMaskPenaltyRule3(i)+wn.applyMaskPenaltyRule4(i)}static encode(i,o,l=null){let c=te.DEFAULT_BYTE_MODE_ENCODING;const f=l!==null&&l.get(nr.CHARACTER_SET)!==void 0;f&&(c=l.get(nr.CHARACTER_SET).toString());const d=this.chooseMode(i,c),x=new q;if(d===Et.BYTE&&(f||te.DEFAULT_BYTE_MODE_ENCODING!==c)){const Qe=Z.getCharacterSetECIByName(c);Qe!==void 0&&this.appendECI(Qe,x)}this.appendModeInfo(d,x);const b=new q;this.appendBytes(i,d,b,c);let N;if(l!==null&&l.get(nr.QR_VERSION)!==void 0){const Qe=Number.parseInt(l.get(nr.QR_VERSION).toString(),10);N=vt.getVersionForNumber(Qe);const Ke=this.calculateBitsNeeded(d,x,b,N);if(!this.willFit(Ke,N,o))throw new hn("Data too big for requested version")}else N=this.recommendVersion(o,d,x,b);const O=new q;O.appendBitArray(x);const B=d===Et.BYTE?b.getSizeInBytes():i.length;this.appendLengthInfo(B,N,d,O),O.appendBitArray(b);const H=N.getECBlocksForLevel(o),ne=N.getTotalCodewords()-H.getTotalECCodewords();this.terminateBits(ne,O);const he=this.interleaveWithECBytes(O,N.getTotalCodewords(),ne,H.getNumBlocks()),pe=new ui;pe.setECLevel(o),pe.setMode(d),pe.setVersion(N);const be=N.getDimensionForVersion(),Re=new ea(be,be),Xe=this.chooseMaskPattern(he,o,N,Re);return pe.setMaskPattern(Xe),C.buildMatrix(he,o,N,Xe,Re),pe.setMatrix(Re),pe}static recommendVersion(i,o,l,c){const f=this.calculateBitsNeeded(o,l,c,vt.getVersionForNumber(1)),d=this.chooseVersion(f,i),x=this.calculateBitsNeeded(o,l,c,d);return this.chooseVersion(x,i)}static calculateBitsNeeded(i,o,l,c){return o.getSize()+i.getCharacterCountBits(c)+l.getSize()}static getAlphanumericCode(i){return i<te.ALPHANUMERIC_TABLE.length?te.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,o=null){if(Z.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(i))return Et.KANJI;let l=!1,c=!1;for(let f=0,d=i.length;f<d;++f){const x=i.charAt(f);if(te.isDigit(x))l=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)c=!0;else return Et.BYTE}return c?Et.ALPHANUMERIC:l?Et.NUMERIC:Et.BYTE}static isOnlyDoubleByteKanji(i){let o;try{o=W.encode(i,Z.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let c=0;c<l;c+=2){const f=o[c]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0}static chooseMaskPattern(i,o,l,c){let f=Number.MAX_SAFE_INTEGER,d=-1;for(let x=0;x<ui.NUM_MASK_PATTERNS;x++){C.buildMatrix(i,o,l,x,c);let b=this.calculateMaskPenalty(c);b<f&&(f=b,d=x)}return d}static chooseVersion(i,o){for(let l=1;l<=40;l++){const c=vt.getVersionForNumber(l);if(te.willFit(i,c,o))return c}throw new hn("Data too big")}static willFit(i,o,l){const c=o.getTotalCodewords(),d=o.getECBlocksForLevel(l).getTotalECCodewords(),x=c-d,b=(i+7)/8;return x>=b}static terminateBits(i,o){const l=i*8;if(o.getSize()>l)throw new hn("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let d=0;d<4&&o.getSize()<l;++d)o.appendBit(!1);const c=o.getSize()&7;if(c>0)for(let d=c;d<8;d++)o.appendBit(!1);const f=i-o.getSizeInBytes();for(let d=0;d<f;++d)o.appendBits(d&1?17:236,8);if(o.getSize()!==l)throw new hn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,o,l,c,f,d){if(c>=l)throw new hn("Block ID too large");const x=i%l,b=l-x,N=Math.floor(i/l),O=N+1,B=Math.floor(o/l),H=B+1,ne=N-B,he=O-H;if(ne!==he)throw new hn("EC bytes mismatch");if(l!==b+x)throw new hn("RS blocks mismatch");if(i!==(B+ne)*b+(H+he)*x)throw new hn("Total bytes mismatch");c<b?(f[0]=B,d[0]=ne):(f[0]=H,d[0]=he)}static interleaveWithECBytes(i,o,l,c){if(i.getSizeInBytes()!==l)throw new hn("Number of bits and data bytes does not match");let f=0,d=0,x=0;const b=new Array;for(let O=0;O<c;++O){const B=new Int32Array(1),H=new Int32Array(1);te.getNumDataBytesAndNumECBytesForBlockID(o,l,c,O,B,H);const ne=B[0],he=new Uint8Array(ne);i.toBytes(8*f,he,0,ne);const pe=te.generateECBytes(he,H[0]);b.push(new U(he,pe)),d=Math.max(d,ne),x=Math.max(x,pe.length),f+=B[0]}if(l!==f)throw new hn("Data bytes does not match offset");const N=new q;for(let O=0;O<d;++O)for(const B of b){const H=B.getDataBytes();O<H.length&&N.appendBits(H[O],8)}for(let O=0;O<x;++O)for(const B of b){const H=B.getErrorCorrectionBytes();O<H.length&&N.appendBits(H[O],8)}if(o!==N.getSizeInBytes())throw new hn("Interleaving error: "+o+" and "+N.getSizeInBytes()+" differ.");return N}static generateECBytes(i,o){const l=i.length,c=new Int32Array(l+o);for(let d=0;d<l;d++)c[d]=i[d]&255;new $s(Ge.QR_CODE_FIELD_256).encode(c,o);const f=new Uint8Array(o);for(let d=0;d<o;d++)f[d]=c[l+d];return f}static appendModeInfo(i,o){o.appendBits(i.getBits(),4)}static appendLengthInfo(i,o,l,c){const f=l.getCharacterCountBits(o);if(i>=1<<f)throw new hn(i+" is bigger than "+((1<<f)-1));c.appendBits(i,f)}static appendBytes(i,o,l,c){switch(o){case Et.NUMERIC:te.appendNumericBytes(i,l);break;case Et.ALPHANUMERIC:te.appendAlphanumericBytes(i,l);break;case Et.BYTE:te.append8BitBytes(i,l,c);break;case Et.KANJI:te.appendKanjiBytes(i,l);break;default:throw new hn("Invalid mode: "+o)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const o=te.getDigit(i);return o>=0&&o<=9}static appendNumericBytes(i,o){const l=i.length;let c=0;for(;c<l;){const f=te.getDigit(i.charAt(c));if(c+2<l){const d=te.getDigit(i.charAt(c+1)),x=te.getDigit(i.charAt(c+2));o.appendBits(f*100+d*10+x,10),c+=3}else if(c+1<l){const d=te.getDigit(i.charAt(c+1));o.appendBits(f*10+d,7),c+=2}else o.appendBits(f,4),c++}}static appendAlphanumericBytes(i,o){const l=i.length;let c=0;for(;c<l;){const f=te.getAlphanumericCode(i.charCodeAt(c));if(f===-1)throw new hn;if(c+1<l){const d=te.getAlphanumericCode(i.charCodeAt(c+1));if(d===-1)throw new hn;o.appendBits(f*45+d,11),c+=2}else o.appendBits(f,6),c++}}static append8BitBytes(i,o,l){let c;try{c=W.encode(i,l)}catch(f){throw new hn(f)}for(let f=0,d=c.length;f!==d;f++){const x=c[f];o.appendBits(x,8)}}static appendKanjiBytes(i,o){let l;try{l=W.encode(i,Z.SJIS)}catch(f){throw new hn(f)}const c=l.length;for(let f=0;f<c;f+=2){const d=l[f]&255,x=l[f+1]&255,b=d<<8&4294967295|x;let N=-1;if(b>=33088&&b<=40956?N=b-33088:b>=57408&&b<=60351&&(N=b-49472),N===-1)throw new hn("Invalid byte sequence");const O=(N>>8)*192+(N&255);o.appendBits(O,13)}}static appendECI(i,o){o.appendBits(Et.ECI.getBits(),4),o.appendBits(i.getValue(),8)}}te.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),te.DEFAULT_BYTE_MODE_ENCODING=Z.UTF8.getName();class de{write(i,o,l,c=null){if(i.length===0)throw new v("Found empty contents");if(o<0||l<0)throw new v("Requested dimensions are too small: "+o+"x"+l);let f=gn.L,d=de.QUIET_ZONE_SIZE;c!==null&&(c.get(nr.ERROR_CORRECTION)!==void 0&&(f=gn.fromString(c.get(nr.ERROR_CORRECTION).toString())),c.get(nr.MARGIN)!==void 0&&(d=Number.parseInt(c.get(nr.MARGIN).toString(),10)));const x=te.encode(i,f,c);return this.renderResult(x,o,l,d)}writeToDom(i,o,l,c,f=null){typeof i=="string"&&(i=document.querySelector(i));const d=this.write(o,l,c,f);i&&i.appendChild(d)}renderResult(i,o,l,c){const f=i.getMatrix();if(f===null)throw new De;const d=f.getWidth(),x=f.getHeight(),b=d+c*2,N=x+c*2,O=Math.max(o,b),B=Math.max(l,N),H=Math.min(Math.floor(O/b),Math.floor(B/N)),ne=Math.floor((O-d*H)/2),he=Math.floor((B-x*H)/2),pe=this.createSVGElement(O,B);for(let be=0,Re=he;be<x;be++,Re+=H)for(let Xe=0,Qe=ne;Xe<d;Xe++,Qe+=H)if(f.get(Xe,be)===1){const Ke=this.createSvgRectElement(Qe,Re,H,H);pe.appendChild(Ke)}return pe}createSVGElement(i,o){const l=document.createElementNS(de.SVG_NS,"svg");return l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(i,o,l,c){const f=document.createElementNS(de.SVG_NS,"rect");return f.setAttributeNS(null,"x",i.toString()),f.setAttributeNS(null,"y",o.toString()),f.setAttributeNS(null,"height",l.toString()),f.setAttributeNS(null,"width",c.toString()),f.setAttributeNS(null,"fill","#000000"),f}}de.QUIET_ZONE_SIZE=4,de.SVG_NS="http://www.w3.org/2000/svg";class Ee{encode(i,o,l,c,f){if(i.length===0)throw new v("Found empty contents");if(o!==ce.QR_CODE)throw new v("Can only encode QR_CODE, but got "+o);if(l<0||c<0)throw new v(`Requested dimensions are too small: ${l}x${c}`);let d=gn.L,x=Ee.QUIET_ZONE_SIZE;f!==null&&(f.get(nr.ERROR_CORRECTION)!==void 0&&(d=gn.fromString(f.get(nr.ERROR_CORRECTION).toString())),f.get(nr.MARGIN)!==void 0&&(x=Number.parseInt(f.get(nr.MARGIN).toString(),10)));const b=te.encode(i,d,f);return Ee.renderResult(b,l,c,x)}static renderResult(i,o,l,c){const f=i.getMatrix();if(f===null)throw new De;const d=f.getWidth(),x=f.getHeight(),b=d+c*2,N=x+c*2,O=Math.max(o,b),B=Math.max(l,N),H=Math.min(Math.floor(O/b),Math.floor(B/N)),ne=Math.floor((O-d*H)/2),he=Math.floor((B-x*H)/2),pe=new oe(O,B);for(let be=0,Re=he;be<x;be++,Re+=H)for(let Xe=0,Qe=ne;Xe<d;Xe++,Qe+=H)f.get(Xe,be)===1&&pe.setRegion(Qe,Re,H,H);return pe}}Ee.QUIET_ZONE_SIZE=4;class Fe{encode(i,o,l,c,f){let d;switch(o){case ce.QR_CODE:d=new Ee;break;default:throw new v("No encoder available for format "+o)}return d.encode(i,o,l,c,f)}}class He extends fe{constructor(i,o,l,c,f,d,x,b){if(super(d,x),this.yuvData=i,this.dataWidth=o,this.dataHeight=l,this.left=c,this.top=f,c+d>o||f+x>l)throw new v("Crop rectangle does not fit within image data.");b&&this.reverseHorizontal(d,x)}getRow(i,o){if(i<0||i>=this.getHeight())throw new v("Requested row is outside the image: "+i);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const c=(i+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,c,o,0,l),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=i*o,c=new Uint8ClampedArray(l);let f=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return k.arraycopy(this.yuvData,f,c,0,l),c;for(let d=0;d<o;d++){const x=d*i;k.arraycopy(this.yuvData,f,c,x,i),f+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,o,l,c){return new He(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+o,l,c,!1)}renderThumbnail(){const i=this.getWidth()/He.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/He.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(i*o),c=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let d=0;d<o;d++){const x=d*i;for(let b=0;b<i;b++){const N=c[f+b*He.THUMBNAIL_SCALE_FACTOR]&255;l[x+b]=4278190080|N*65793}f+=this.dataWidth*He.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/He.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/He.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,o){const l=this.yuvData;for(let c=0,f=this.top*this.dataWidth+this.left;c<o;c++,f+=this.dataWidth){const d=f+i/2;for(let x=f,b=f+i-1;x<d;x++,b--){const N=l[x];l[x]=l[b],l[b]=N}}}invert(){return new Ae(this)}}He.THUMBNAIL_SCALE_FACTOR=2;class ut extends fe{constructor(i,o,l,c,f,d,x){if(super(o,l),this.dataWidth=c,this.dataHeight=f,this.left=d,this.top=x,i.BYTES_PER_ELEMENT===4){const b=o*l,N=new Uint8ClampedArray(b);for(let O=0;O<b;O++){const B=i[O],H=B>>16&255,ne=B>>7&510,he=B&255;N[O]=(H+ne+he)/4&255}this.luminances=N}else this.luminances=i;if(c===void 0&&(this.dataWidth=o),f===void 0&&(this.dataHeight=l),d===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(i,o){if(i<0||i>=this.getHeight())throw new v("Requested row is outside the image: "+i);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const c=(i+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,c,o,0,l),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=i*o,c=new Uint8ClampedArray(l);let f=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return k.arraycopy(this.luminances,f,c,0,l),c;for(let d=0;d<o;d++){const x=d*i;k.arraycopy(this.luminances,f,c,x,i),f+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,o,l,c){return new ut(this.luminances,l,c,this.dataWidth,this.dataHeight,this.left+i,this.top+o)}invert(){return new Ae(this)}}class Ct extends Z{static forName(i){return this.getCharacterSetECIByName(i)}}class Ft{}Ft.ISO_8859_1=Z.ISO8859_1;class jt{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class $t{static singletonList(i){return[i]}static min(i,o){return i.sort(o)[0]}}class zn{constructor(i){this.previous=i}getPrevious(){return this.previous}}class vn extends zn{constructor(i,o,l){super(i),this.value=o,this.bitCount=l}appendTo(i,o){i.appendBits(this.value,this.bitCount)}add(i,o){return new vn(this,i,o)}addBinaryShift(i,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new vn(this,i,o)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+L.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class Kn extends vn{constructor(i,o,l){super(i,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(i,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):l===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(i,o){return new Kn(this,i,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Vr(F,i,o){return new Kn(F,i,o)}function Zn(F,i,o){return new vn(F,i,o)}const Ki=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],lr=0,Ni=1,ei=2,Ja=3,ci=4,$a=new vn(null,0,0),wa=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function cl(F){for(let i of F)I.fill(i,-1);return F[lr][ci]=0,F[Ni][ci]=0,F[Ni][lr]=28,F[Ja][ci]=0,F[ei][ci]=0,F[ei][lr]=15,F}const va=cl(I.createInt32Array(6,6));class Sn{constructor(i,o,l,c){this.token=i,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,o){let l=this.bitCount,c=this.token;if(i!==this.mode){let d=wa[this.mode][i];c=Zn(c,d&65535,d>>16),l+=d>>16}let f=i===ei?4:5;return c=Zn(c,o,f),new Sn(c,i,0,l+f)}shiftAndAppend(i,o){let l=this.token,c=this.mode===ei?4:5;return l=Zn(l,va[this.mode][i],c),l=Zn(l,o,5),new Sn(l,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(i){let o=this.token,l=this.mode,c=this.bitCount;if(this.mode===ci||this.mode===ei){let x=wa[l][lr];o=Zn(o,x&65535,x>>16),c+=x>>16,l=lr}let f=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new Sn(o,l,this.binaryShiftByteCount+1,c+f);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(i+1)),d}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=Vr(o,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new Sn(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let o=this.bitCount+(wa[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?o+=Sn.calculateBinaryShiftCost(i)-Sn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(o+=10),o<=i.bitCount}toBitArray(i){let o=[];for(let c=this.endBinaryShift(i.length).token;c!==null;c=c.getPrevious())o.unshift(c);let l=new q;for(const c of o)c.appendTo(l,i);return l}toString(){return X.format("%s bits=%d bytes=%d",Ki[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}Sn.INITIAL_STATE=new Sn($a,lr,0,0);function eo(F){const i=X.getCharCode(" "),o=X.getCharCode("."),l=X.getCharCode(",");F[lr][i]=1;const c=X.getCharCode("Z"),f=X.getCharCode("A");for(let H=f;H<=c;H++)F[lr][H]=H-f+2;F[Ni][i]=1;const d=X.getCharCode("z"),x=X.getCharCode("a");for(let H=x;H<=d;H++)F[Ni][H]=H-x+2;F[ei][i]=1;const b=X.getCharCode("9"),N=X.getCharCode("0");for(let H=N;H<=b;H++)F[ei][H]=H-N+2;F[ei][l]=12,F[ei][o]=13;const O=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let H=0;H<O.length;H++)F[Ja][X.getCharCode(O[H])]=H;const B=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let H=0;H<B.length;H++)X.getCharCode(B[H])>0&&(F[ci][X.getCharCode(B[H])]=H);return F}const ta=eo(I.createInt32Array(5,256));class xs{constructor(i){this.text=i}encode(){const i=X.getCharCode(" "),o=X.getCharCode(`
`);let l=$t.singletonList(Sn.INITIAL_STATE);for(let f=0;f<this.text.length;f++){let d,x=f+1<this.text.length?this.text[f+1]:0;switch(this.text[f]){case X.getCharCode("\r"):d=x===o?2:0;break;case X.getCharCode("."):d=x===i?3:0;break;case X.getCharCode(","):d=x===i?4:0;break;case X.getCharCode(":"):d=x===i?5:0;break;default:d=0}d>0?(l=xs.updateStateListForPair(l,f,d),f++):l=this.updateStateListForChar(l,f)}return $t.min(l,(f,d)=>f.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,o){const l=[];for(let c of i)this.updateStateForChar(c,o,l);return xs.simplifyStates(l)}updateStateForChar(i,o,l){let c=this.text[o]&255,f=ta[i.getMode()][c]>0,d=null;for(let x=0;x<=ci;x++){let b=ta[x][c];if(b>0){if(d==null&&(d=i.endBinaryShift(o)),!f||x===i.getMode()||x===ei){const N=d.latchAndAppend(x,b);l.push(N)}if(!f&&va[i.getMode()][x]>=0){const N=d.shiftAndAppend(x,b);l.push(N)}}}if(i.getBinaryShiftByteCount()>0||ta[i.getMode()][c]===0){let x=i.addBinaryShiftChar(o);l.push(x)}}static updateStateListForPair(i,o,l){const c=[];for(let f of i)this.updateStateForPair(f,o,l,c);return this.simplifyStates(c)}static updateStateForPair(i,o,l,c){let f=i.endBinaryShift(o);if(c.push(f.latchAndAppend(ci,l)),i.getMode()!==ci&&c.push(f.shiftAndAppend(ci,l)),l===3||l===4){let d=f.latchAndAppend(ei,16-l).latchAndAppend(ei,1);c.push(d)}if(i.getBinaryShiftByteCount()>0){let d=i.addBinaryShiftChar(o).addBinaryShiftChar(o+1);c.push(d)}}static simplifyStates(i){let o=[];for(const l of i){let c=!0;for(const f of o){if(f.isBetterThanOrEqualTo(l)){c=!1;break}l.isBetterThanOrEqualTo(f)&&(o=o.filter(d=>d!==f))}c&&o.push(l)}return o}}class Zt{constructor(){}static encodeBytes(i){return Zt.encode(i,Zt.DEFAULT_EC_PERCENT,Zt.DEFAULT_AZTEC_LAYERS)}static encode(i,o,l){let c=new xs(i).encode(),f=L.truncDivision(c.getSize()*o,100)+11,d=c.getSize()+f,x,b,N,O,B;if(l!==Zt.DEFAULT_AZTEC_LAYERS){if(x=l<0,b=Math.abs(l),b>(x?Zt.MAX_NB_BITS_COMPACT:Zt.MAX_NB_BITS))throw new v(X.format("Illegal value %s for layers",l));N=Zt.totalBitsInLayer(b,x),O=Zt.WORD_SIZE[b];let Ke=N-N%O;if(B=Zt.stuffBits(c,O),B.getSize()+f>Ke)throw new v("Data to large for user specified layer");if(x&&B.getSize()>O*64)throw new v("Data to large for user specified layer")}else{O=0,B=null;for(let Ke=0;;Ke++){if(Ke>Zt.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(x=Ke<=3,b=x?Ke+1:Ke,N=Zt.totalBitsInLayer(b,x),d>N)continue;(B==null||O!==Zt.WORD_SIZE[b])&&(O=Zt.WORD_SIZE[b],B=Zt.stuffBits(c,O));let Yt=N-N%O;if(!(x&&B.getSize()>O*64)&&B.getSize()+f<=Yt)break}}let H=Zt.generateCheckWords(B,N,O),ne=B.getSize()/O,he=Zt.generateModeMessage(x,b,ne),pe=(x?11:14)+b*4,be=new Int32Array(pe),Re;if(x){Re=pe;for(let Ke=0;Ke<be.length;Ke++)be[Ke]=Ke}else{Re=pe+1+2*L.truncDivision(L.truncDivision(pe,2)-1,15);let Ke=L.truncDivision(pe,2),Yt=L.truncDivision(Re,2);for(let Rt=0;Rt<Ke;Rt++){let ur=Rt+L.truncDivision(Rt,15);be[Ke-Rt-1]=Yt-ur-1,be[Ke+Rt]=Yt+ur+1}}let Xe=new oe(Re);for(let Ke=0,Yt=0;Ke<b;Ke++){let Rt=(b-Ke)*4+(x?9:12);for(let ur=0;ur<Rt;ur++){let Rr=ur*2;for(let rr=0;rr<2;rr++)H.get(Yt+Rr+rr)&&Xe.set(be[Ke*2+rr],be[Ke*2+ur]),H.get(Yt+Rt*2+Rr+rr)&&Xe.set(be[Ke*2+ur],be[pe-1-Ke*2-rr]),H.get(Yt+Rt*4+Rr+rr)&&Xe.set(be[pe-1-Ke*2-rr],be[pe-1-Ke*2-ur]),H.get(Yt+Rt*6+Rr+rr)&&Xe.set(be[pe-1-Ke*2-ur],be[Ke*2+rr])}Yt+=Rt*8}if(Zt.drawModeMessage(Xe,x,Re,he),x)Zt.drawBullsEye(Xe,L.truncDivision(Re,2),5);else{Zt.drawBullsEye(Xe,L.truncDivision(Re,2),7);for(let Ke=0,Yt=0;Ke<L.truncDivision(pe,2)-1;Ke+=15,Yt+=16)for(let Rt=L.truncDivision(Re,2)&1;Rt<Re;Rt+=2)Xe.set(L.truncDivision(Re,2)-Yt,Rt),Xe.set(L.truncDivision(Re,2)+Yt,Rt),Xe.set(Rt,L.truncDivision(Re,2)-Yt),Xe.set(Rt,L.truncDivision(Re,2)+Yt)}let Qe=new jt;return Qe.setCompact(x),Qe.setSize(Re),Qe.setLayers(b),Qe.setCodeWords(ne),Qe.setMatrix(Xe),Qe}static drawBullsEye(i,o,l){for(let c=0;c<l;c+=2)for(let f=o-c;f<=o+c;f++)i.set(f,o-c),i.set(f,o+c),i.set(o-c,f),i.set(o+c,f);i.set(o-l,o-l),i.set(o-l+1,o-l),i.set(o-l,o-l+1),i.set(o+l,o-l),i.set(o+l,o-l+1),i.set(o+l,o+l-1)}static generateModeMessage(i,o,l){let c=new q;return i?(c.appendBits(o-1,2),c.appendBits(l-1,6),c=Zt.generateCheckWords(c,28,4)):(c.appendBits(o-1,5),c.appendBits(l-1,11),c=Zt.generateCheckWords(c,40,4)),c}static drawModeMessage(i,o,l,c){let f=L.truncDivision(l,2);if(o)for(let d=0;d<7;d++){let x=f-3+d;c.get(d)&&i.set(x,f-5),c.get(d+7)&&i.set(f+5,x),c.get(20-d)&&i.set(x,f+5),c.get(27-d)&&i.set(f-5,x)}else for(let d=0;d<10;d++){let x=f-5+d+L.truncDivision(d,5);c.get(d)&&i.set(x,f-7),c.get(d+10)&&i.set(f+7,x),c.get(29-d)&&i.set(x,f+7),c.get(39-d)&&i.set(f-7,x)}}static generateCheckWords(i,o,l){let c=i.getSize()/l,f=new $s(Zt.getGF(l)),d=L.truncDivision(o,l),x=Zt.bitsToWords(i,l,d);f.encode(x,d-c);let b=o%l,N=new q;N.appendBits(0,b);for(const O of Array.from(x))N.appendBits(O,l);return N}static bitsToWords(i,o,l){let c=new Int32Array(l),f,d;for(f=0,d=i.getSize()/o;f<d;f++){let x=0;for(let b=0;b<o;b++)x|=i.get(f*o+b)?1<<o-b-1:0;c[f]=x}return c}static getGF(i){switch(i){case 4:return Ge.AZTEC_PARAM;case 6:return Ge.AZTEC_DATA_6;case 8:return Ge.AZTEC_DATA_8;case 10:return Ge.AZTEC_DATA_10;case 12:return Ge.AZTEC_DATA_12;default:throw new v("Unsupported word size "+i)}}static stuffBits(i,o){let l=new q,c=i.getSize(),f=(1<<o)-2;for(let d=0;d<c;d+=o){let x=0;for(let b=0;b<o;b++)(d+b>=c||i.get(d+b))&&(x|=1<<o-1-b);(x&f)===f?(l.appendBits(x&f,o),d--):x&f?l.appendBits(x,o):(l.appendBits(x|1,o),d--)}return l}static totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}Zt.DEFAULT_EC_PERCENT=33,Zt.DEFAULT_AZTEC_LAYERS=0,Zt.MAX_NB_BITS=32,Zt.MAX_NB_BITS_COMPACT=4,Zt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Or{encode(i,o,l,c){return this.encodeWithHints(i,o,l,c,null)}encodeWithHints(i,o,l,c,f){let d=Ft.ISO_8859_1,x=Zt.DEFAULT_EC_PERCENT,b=Zt.DEFAULT_AZTEC_LAYERS;return f!=null&&(f.has(nr.CHARACTER_SET)&&(d=Ct.forName(f.get(nr.CHARACTER_SET).toString())),f.has(nr.ERROR_CORRECTION)&&(x=L.parseInt(f.get(nr.ERROR_CORRECTION).toString())),f.has(nr.AZTEC_LAYERS)&&(b=L.parseInt(f.get(nr.AZTEC_LAYERS).toString()))),Or.encodeLayers(i,o,l,c,d,x,b)}static encodeLayers(i,o,l,c,f,d,x){if(o!==ce.AZTEC)throw new v("Can only encode AZTEC, but got "+o);let b=Zt.encode(X.getBytes(i,f),d,x);return Or.renderResult(b,l,c)}static renderResult(i,o,l){let c=i.getMatrix();if(c==null)throw new De;let f=c.getWidth(),d=c.getHeight(),x=Math.max(o,f),b=Math.max(l,d),N=Math.min(x/f,b/d),O=(x-f*N)/2,B=(b-d*N)/2,H=new oe(x,b);for(let ne=0,he=B;ne<d;ne++,he+=N)for(let pe=0,be=O;pe<f;pe++,be+=N)c.get(pe,ne)&&H.setRegion(be,he,N,N);return H}}n.AbstractExpandedDecoder=Ci,n.ArgumentException=w,n.ArithmeticException=st,n.AztecCode=jt,n.AztecCodeReader=ot,n.AztecCodeWriter=Or,n.AztecDecoder=nt,n.AztecDetector=Kt,n.AztecDetectorResult=At,n.AztecEncoder=Zt,n.AztecHighLevelEncoder=xs,n.AztecPoint=xt,n.BarcodeFormat=ce,n.Binarizer=R,n.BinaryBitmap=E,n.BitArray=q,n.BitMatrix=oe,n.BitSource=Ga,n.BrowserAztecCodeReader=jr,n.BrowserBarcodeReader=ec,n.BrowserCodeReader=ie,n.BrowserDatamatrixCodeReader=Xa,n.BrowserMultiFormatReader=Za,n.BrowserPDF417Reader=ll,n.BrowserQRCodeReader=ul,n.BrowserQRCodeSvgWriter=de,n.CharacterSetECI=Z,n.ChecksumException=A,n.Code128Reader=tt,n.Code39Reader=Mt,n.DataMatrixDecodedBitStreamParser=Xi,n.DataMatrixReader=Sr,n.DecodeHintType=Q,n.DecoderResult=Pe,n.DefaultGridSampler=tn,n.DetectorResult=it,n.EAN13Reader=Zr,n.EncodeHintType=nr,n.Exception=m,n.FormatException=D,n.GenericGF=Ge,n.GenericGFPoly=Ye,n.GlobalHistogramBinarizer=Ne,n.GridSampler=Ut,n.GridSamplerInstance=Qt,n.HTMLCanvasElementLuminanceSource=Se,n.HybridBinarizer=ve,n.ITFReader=Tt,n.IllegalArgumentException=v,n.IllegalStateException=De,n.InvertedLuminanceSource=Ae,n.LuminanceSource=fe,n.MathUtils=je,n.MultiFormatOneDReader=ds,n.MultiFormatReader=ol,n.MultiFormatWriter=Fe,n.NotFoundException=se,n.OneDReader=_t,n.PDF417DecodedBitStreamParser=Oe,n.PDF417DecoderErrorCorrection=Wl,n.PDF417Reader=tr,n.PDF417ResultMetadata=il,n.PerspectiveTransform=Lt,n.PlanarYUVLuminanceSource=He,n.QRCodeByteMatrix=ea,n.QRCodeDataMask=ai,n.QRCodeDecodedBitStreamParser=fn,n.QRCodeDecoderErrorCorrectionLevel=gn,n.QRCodeDecoderFormatInformation=xr,n.QRCodeEncoder=te,n.QRCodeEncoderQRCode=ui,n.QRCodeMaskUtil=wn,n.QRCodeMatrixUtil=C,n.QRCodeMode=Et,n.QRCodeReader=ps,n.QRCodeVersion=vt,n.QRCodeWriter=Ee,n.RGBLuminanceSource=ut,n.RSS14Reader=On,n.RSSExpandedReader=Ve,n.ReaderException=Js,n.ReedSolomonDecoder=ue,n.ReedSolomonEncoder=$s,n.ReedSolomonException=Nt,n.Result=le,n.ResultMetadataType=_e,n.ResultPoint=Be,n.StringUtils=X,n.UnsupportedOperationException=ye,n.VideoInputDevice=Je,n.WhiteRectangleDetector=St,n.WriterException=hn,n.ZXingArrays=I,n.ZXingCharset=Ct,n.ZXingInteger=L,n.ZXingStandardCharsets=Ft,n.ZXingStringBuilder=ae,n.ZXingStringEncoding=W,n.ZXingSystem=k,n.createAbstractExpandedDecoder=Yo,Object.defineProperty(n,"__esModule",{value:!0})})})(Ep,Ep.exports);var Vn=Ep.exports;const TS=Ux(Vn),kS=jx({__proto__:null,default:TS},[Vn]);var Px=function(){function e(t,n,r){if(this.formatMap=new Map([[dt.QR_CODE,Vn.BarcodeFormat.QR_CODE],[dt.AZTEC,Vn.BarcodeFormat.AZTEC],[dt.CODABAR,Vn.BarcodeFormat.CODABAR],[dt.CODE_39,Vn.BarcodeFormat.CODE_39],[dt.CODE_93,Vn.BarcodeFormat.CODE_93],[dt.CODE_128,Vn.BarcodeFormat.CODE_128],[dt.DATA_MATRIX,Vn.BarcodeFormat.DATA_MATRIX],[dt.MAXICODE,Vn.BarcodeFormat.MAXICODE],[dt.ITF,Vn.BarcodeFormat.ITF],[dt.EAN_13,Vn.BarcodeFormat.EAN_13],[dt.EAN_8,Vn.BarcodeFormat.EAN_8],[dt.PDF_417,Vn.BarcodeFormat.PDF_417],[dt.RSS_14,Vn.BarcodeFormat.RSS_14],[dt.RSS_EXPANDED,Vn.BarcodeFormat.RSS_EXPANDED],[dt.UPC_A,Vn.BarcodeFormat.UPC_A],[dt.UPC_E,Vn.BarcodeFormat.UPC_E],[dt.UPC_EAN_EXTENSION,Vn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!kS)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var s=this.createZXingFormats(t),a=new Map;a.set(Vn.DecodeHintType.POSSIBLE_FORMATS,s),a.set(Vn.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,s){try{r(n.decode(t))}catch(a){s(a)}})},e.prototype.decode=function(t){var n=new Vn.MultiFormatReader(this.verbose,this.hints),r=new Vn.HTMLCanvasElementLuminanceSource(t),s=new Vn.BinaryBitmap(new Vn.HybridBinarizer(r)),a=n.decode(s);return{text:a.text,format:jv.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var a=s[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),LS=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(w){try{m(r.next(w))}catch(v){u(v)}}function p(w){try{m(r.throw(w))}catch(v){u(v)}}function m(w){w.done?a(w.value):s(w.value).then(h,p)}m((r=r.apply(e,t||[])).next())})},PS=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(w){return p([m,w])}}function p(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,s&&(a=m[0]&2?s.return:m[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,m[1])).done)return a;switch(s=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(w){m=[6,w],s=0}finally{r=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Ox=function(){function e(t,n,r){if(this.formatMap=new Map([[dt.QR_CODE,"qr_code"],[dt.AZTEC,"aztec"],[dt.CODABAR,"codabar"],[dt.CODE_39,"code_39"],[dt.CODE_93,"code_93"],[dt.CODE_128,"code_128"],[dt.DATA_MATRIX,"data_matrix"],[dt.ITF,"itf"],[dt.EAN_13,"ean_13"],[dt.EAN_8,"ean_8"],[dt.PDF_417,"pdf417"],[dt.UPC_A,"upc_a"],[dt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return LS(this,void 0,void 0,function(){var n,r;return PS(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:jv.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,s=0,a=t;s<a.length;s++){var u=a[s],h=u.boundingBox.width*u.boundingBox.height;h>r&&(r=h,n=u)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var a=s[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Rx=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(w){try{m(r.next(w))}catch(v){u(v)}}function p(w){try{m(r.throw(w))}catch(v){u(v)}}function m(w){w.done?a(w.value):s(w.value).then(h,p)}m((r=r.apply(e,t||[])).next())})},Dx=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(w){return p([m,w])}}function p(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,s&&(a=m[0]&2?s.return:m[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,m[1])).done)return a;switch(s=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(w){m=[6,w],s=0}finally{r=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},OS=function(){function e(t,n,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Ox.isSupported()?(this.primaryDecoder=new Ox(t,r,s),this.secondaryDecoder=new Px(t,r,s)):this.primaryDecoder=new Px(t,r,s)}return e.prototype.decodeAsync=function(t){return Rx(this,void 0,void 0,function(){var n;return Dx(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Rx(this,void 0,void 0,function(){var n,r;return Dx(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var s=r[n];t+=s}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Vg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hh=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(w){try{m(r.next(w))}catch(v){u(v)}}function p(w){try{m(r.throw(w))}catch(v){u(v)}}function m(w){w.done?a(w.value):s(w.value).then(h,p)}m((r=r.apply(e,t||[])).next())})},Gh=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(w){return p([m,w])}}function p(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,s&&(a=m[0]&2?s.return:m[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,m[1])).done)return a;switch(s=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(w){m=[6,w],s=0}finally{r=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},zv=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),RS=function(e){Vg(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(zv),DS=function(e){Vg(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(RS),MS=function(e){Vg(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(zv),BS=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new DS(this.track)},e.prototype.torchFeature=function(){return new MS(this.track)},e}(),FS=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,s),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,s){return Hh(this,void 0,void 0,function(){var a,u;return Gh(this,function(h){switch(h.label){case 0:return a=new e(t,n,s),r.aspectRatio?(u={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(u)]):[3,2];case 1:h.sent(),h.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Hh(this,void 0,void 0,function(){return Gh(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var s=t.mediaStream.getVideoTracks(),a=s.length,u=0;t.mediaStream.getVideoTracks().forEach(function(h){t.mediaStream.removeTrack(h),h.stop(),++u,u>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new BS(this.getFirstTrackOrFail())},e}(),jS=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Hh(this,void 0,void 0,function(){return Gh(this,function(s){return[2,FS.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Hh(this,void 0,void 0,function(){var n,r;return Gh(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=s.sent(),[2,new e(r)]}})})},e}(),Mx=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(w){try{m(r.next(w))}catch(v){u(v)}}function p(w){try{m(r.throw(w))}catch(v){u(v)}}function m(w){w.done?a(w.value):s(w.value).then(h,p)}m((r=r.apply(e,t||[])).next())})},Bx=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(w){return p([m,w])}}function p(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,s&&(a=m[0]&2?s.return:m[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,m[1])).done)return a;switch(s=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(w){m=[6,w],s=0}finally{r=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},US=function(){function e(){}return e.failIfNotSupported=function(){return Mx(this,void 0,void 0,function(){return Bx(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Mx(this,void 0,void 0,function(){return Bx(this,function(n){return[2,jS.create(t)]})})},e}(),zS=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(w){try{m(r.next(w))}catch(v){u(v)}}function p(w){try{m(r.throw(w))}catch(v){u(v)}}function m(w){w.done?a(w.value):s(w.value).then(h,p)}m((r=r.apply(e,t||[])).next())})},qS=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(w){return p([m,w])}}function p(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,s&&(a=m[0]&2?s.return:m[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,m[1])).done)return a;switch(s=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(w){m=[6,w],s=0}finally{r=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},VS=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=yu.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=yu.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return zS(this,void 0,void 0,function(){var t,n,r,s,a,u,h;return qS(this,function(p){switch(p.label){case 0:return t=function(m){for(var w=m.getVideoTracks(),v=0,E=w;v<E.length;v++){var A=E[v];A.enabled=!1,A.stop(),m.removeTrack(A)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=p.sent(),s=[],a=0,u=r;a<u.length;a++)h=u[a],h.kind==="videoinput"&&s.push({id:h.deviceId,label:h.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var u=[],h=0,p=a;h<p.length;h++){var m=p[h];m.kind==="video"&&u.push({id:m.id,label:m.label})}t(u)},s=MediaStreamTrack;s.getSources(r)})},e}(),hr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(hr||(hr={}));var WS=function(){function e(){this.state=hr.NOT_STARTED,this.onGoingTransactionNewState=hr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===hr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=hr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===hr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=hr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==hr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case hr.UNKNOWN:throw"Transition from unknown is not allowed";case hr.NOT_STARTED:this.failIfNewStateIs(t,[hr.PAUSED]);break;case hr.SCANNING:break;case hr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,s=n;r<s.length;r++){var a=s[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),HS=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===hr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==hr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===hr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===hr.PAUSED},e}(),GS=function(){function e(){}return e.create=function(){return new HS(new WS)},e}(),XS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ts=function(e){XS(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(SS),YS=function(){function e(t,n){this.logger=n,this.fps=ts.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=ts.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Uv.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!_a(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),KS=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new IS(this.verbose),this.qrcode=new OS(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=GS.create()}return e.prototype.start=function(t,n,r,s){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var u;s?u=s:u=this.verbose?this.logger.log:function(){};var h=YS.create(n,this.logger);this.clearElement();var p=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=p,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:ts.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var v=this,E=this.stateManagerProxy.startTransition(hr.SCANNING);return new Promise(function(A,R){var k=m?h.videoConstraints:v.createVideoConstraints(t);if(!k){E.cancel(),R("videoConstraints should be defined");return}var M={};(!m||h.aspectRatio)&&(M.aspectRatio=h.aspectRatio);var S={onRenderSurfaceReady:function(I,L){v.setupUi(I,L,h),v.isScanning=!0,v.foreverScan(h,r,u)}};US.failIfNotSupported().then(function(I){I.create(k).then(function(L){return L.render(a.element,M,S).then(function(q){v.renderedCamera=q,E.execute(),A(null)}).catch(function(q){E.cancel(),R(q)})}).catch(function(L){E.cancel(),R(yu.errorGettingUserMedia(L))})}).catch(function(I){E.cancel(),R(yu.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(hr.PAUSED),this.showPausedState(),(_a(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(hr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(hr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(ts.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(_a(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var u=new Image;u.onload=function(){var h=u.width,p=u.height,m=document.getElementById(r.elementId),w=m.clientWidth?m.clientWidth:ts.DEFAULT_WIDTH,v=Math.max(m.clientHeight?m.clientHeight:p,ts.FILE_SCAN_MIN_HEIGHT),E=r.computeCanvasDrawConfig(h,p,w,v);if(n){var A=r.createCanvasElement(w,v,"qr-canvas-visible");A.style.display="inline-block",m.appendChild(A);var R=A.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=w,R.canvas.height=v,R.drawImage(u,0,0,h,p,E.x,E.y,E.width,E.height)}var k=ts.FILE_SCAN_HIDDEN_CANVAS_PADDING,M=Math.max(u.width,E.width),S=Math.max(u.height,E.height),I=M+2*k,L=S+2*k,q=r.createCanvasElement(I,L);m.appendChild(q);var $=q.getContext("2d");if(!$)throw"Unable to get 2d context from canvas";$.canvas.width=I,$.canvas.height=L,$.drawImage(u,0,0,h,p,k,k,M,S);try{r.qrcode.decodeRobustlyAsync(q).then(function(Q){s(Lx.createFromQrcodeResult(Q))}).catch(a)}catch(Q){a("QR code parse error, error = ".concat(Q))}},u.onerror=a,u.onabort=a,u.onstalled=a,u.onsuspend=a,u.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return VS.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Uv.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[dt.QR_CODE,dt.AZTEC,dt.CODABAR,dt.CODE_39,dt.CODE_93,dt.CODE_128,dt.DATA_MATRIX,dt.MAXICODE,dt.ITF,dt.EAN_13,dt.EAN_8,dt.PDF_417,dt.RSS_14,dt.RSS_EXPANDED,dt.UPC_A,dt.UPC_E,dt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,a=t.formatsToSupport;s<a.length;s++){var u=a[s];NS(u)?r.push(u):this.logger.warn("Invalid format: ".concat(u," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(_a(t))return!0;if(!_a(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(_a(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return _a(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var s=this,a=r.qrbox;this.validateQrboxConfig(a);var u=this.toQrdimensions(t,n,a),h=function(m){if(m<ts.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ts.MIN_QR_BOX_SIZE,"px.")},p=function(m){return m>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m};h(u.width),h(u.height),u.width=p(u.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var s=_a(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(s);var a=this.toQrdimensions(t,n,s);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var u=r.isShadedBoxEnabled()&&a.height<=n,h={x:0,y:0,width:t,height:n},p=u?this.getShadedRegionBounds(t,n,a):h,m=this.createCanvasElement(p.width,p.height),w={willReadFrequently:!0},v=m.getContext("2d",w);v.canvas.width=p.width,v.canvas.height=p.height,this.element.append(m),u&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=v,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=yu.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,Lx.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var a=yu.codeParseError(s);return n(a,_S.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var s=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),u=a.videoWidth/a.clientWidth,h=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*u,m=this.qrRegion.height*h,w=this.qrRegion.x*u,v=this.qrRegion.y*h;this.context.drawImage(a,w,v,p,m,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,r)},s.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(A){!A&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,r).finally(function(){E()})):E()}).catch(function(A){s.logger.logError("Error happend while scanning context",A),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",s={user:!0,environment:!0},a="exact",u=function(R){if(R in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},h=Object.keys(t);if(h.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(h.length," keys");var p=Object.keys(t)[0];if(p!==n&&p!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(p===n){var m=t.facingMode;if(typeof m=="string"){if(u(m))return{facingMode:m}}else if(typeof m=="object")if(a in m){if(u(m["".concat(a)]))return{facingMode:{exact:m["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var w=typeof m;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(a in v)return{deviceId:{exact:v["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var E=typeof v;throw"Invalid type of 'deviceId' = ".concat(E)}}}var A=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(A)},e.prototype.computeCanvasDrawConfig=function(t,n,r,s){if(t<=r&&n<=s){var a=(r-t)/2,u=(s-n)/2;return{x:a,y:u,width:t,height:n}}else{var h=t,p=n;return t>r&&(n=r/t*n,t=r),n>s&&(t=s/n*t,n=s),this.logger.log("Image downsampled from "+"".concat(h,"X").concat(p)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?ts.BORDER_SHADER_MATCH_COLOR:ts.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var s=t,a=n,u=document.createElement("canvas");return u.style.width="".concat(s,"px"),u.style.height="".concat(a,"px"),u.style.display="none",u.id=_a(r)?"qr-canvas":r,u},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,s){if(!(n-s.width<1||r-s.height<1)){var a=document.createElement("div");a.style.position="absolute";var u=(n-s.width)/2,h=(r-s.height)/2;if(a.style.borderLeft="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(ts.SHADED_REGION_ELEMENT_ID),n-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var p=5,m=40;this.insertShaderBorders(a,m,p,-p,null,0,!0),this.insertShaderBorders(a,m,p,-p,null,0,!1),this.insertShaderBorders(a,m,p,null,-p,0,!0),this.insertShaderBorders(a,m,p,null,-p,0,!1),this.insertShaderBorders(a,p,m+p,-p,null,-p,!0),this.insertShaderBorders(a,p,m+p,null,-p,-p,!0),this.insertShaderBorders(a,p,m+p,-p,null,-p,!1),this.insertShaderBorders(a,p,m+p,null,-p,-p,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,s,a,u,h){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=ts.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(n,"px"),p.style.height="".concat(r,"px"),s!==null&&(p.style.top="".concat(s,"px")),a!==null&&(p.style.bottom="".concat(a,"px")),h?p.style.left="".concat(u,"px"):p.style.right="".concat(u,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Fx;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Fx||(Fx={}));const ZS=()=>{const{id:e}=Pf(),t=Xs(),{isSuperAdmin:n}=Fl(),[r,s]=ze.useState(null),[a,u]=ze.useState([]),[h,p]=ze.useState([]),[m,w]=ze.useState(""),[v,E]=ze.useState(!1),[A,R]=ze.useState(null);ze.useRef(null);const k=()=>{if(!(r!=null&&r.date))return!1;try{const D=Xc(r.date);return Gc(D)}catch(D){return console.error("Error parsing event date:",D),!1}};if(!n())return T.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:T.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[T.jsx(M5,{size:64,className:"mx-auto text-red-500 mb-4"}),T.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-400",children:"Access Denied"}),T.jsx("p",{className:"text-gray-400 mb-6",children:"Check-in functionality is restricted to Super Admin users only. Regular users cannot access this feature."}),T.jsxs("div",{className:"space-y-3",children:[T.jsx("button",{onClick:()=>t(`/${e}`),className:"btn-primary w-full",children:"Back to Event"}),T.jsx("button",{onClick:()=>t("/events"),className:"btn-secondary w-full",children:"View All Events"})]}),T.jsx("div",{className:"text-xs text-gray-500 mt-4",children:"Contact: Robocorpsg@gmail.com for admin access"})]})});if(r&&!k())return T.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:T.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[T.jsx("div",{className:"text-6xl mb-4",children:""}),T.jsx("h1",{className:"text-2xl font-bold mb-4 text-yellow-400",children:"Check-in Not Available"}),T.jsx("p",{className:"text-gray-400 mb-4",children:"Check-in is only available on the event day."}),T.jsxs("div",{className:"bg-dark-lighter rounded-lg p-4 mb-6",children:[T.jsxs("p",{className:"text-sm text-gray-300",children:[T.jsx("span",{className:"text-primary font-semibold",children:"Event Date:"}),T.jsx("br",{}),is(Xc(r.date),"PPPP")]}),T.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:[T.jsx("span",{className:"text-primary font-semibold",children:"Today:"}),T.jsx("br",{}),is(new Date,"PPPP")]})]}),T.jsxs("div",{className:"space-y-3",children:[T.jsx("button",{onClick:()=>t(`/${e}`),className:"btn-primary w-full",children:"Back to Event"}),T.jsx("button",{onClick:()=>t("/events"),className:"btn-secondary w-full",children:"View All Events"})]})]})});ze.useEffect(()=>{M()},[e]),ze.useEffect(()=>{m?S():p(a)},[m,a]),ze.useEffect(()=>()=>{A&&A.stop().catch(console.error)},[A]);const M=async()=>{try{const D=await qu(parseInt(e));s(D);const Y=await H3(parseInt(e));u(Y),p(Y)}catch(D){console.error("Error loading data:",D)}},S=async()=>{try{const D=await Z5(parseInt(e),m);p(D)}catch(D){console.error("Error searching:",D)}},I=async(D,Y)=>{try{await sC(D,!Y),await M()}catch(Z){console.error("Error updating status:",Z),alert("Failed to update attendance")}},L=async()=>{try{const D=new KS("qr-reader");R(D),await D.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},$,Q),E(!0)}catch(D){console.error("Error starting scanner:",D),alert("Failed to start camera. Please check permissions.")}},q=async()=>{if(A)try{await A.stop(),R(null),E(!1)}catch(D){console.error("Error stopping scanner:",D)}},$=async D=>{const Y=await Z5(parseInt(e),D);if(Y.length>0){const Z=Y[0];Z.attended?alert(`${Z.name} already checked in.`):(await I(Z.id,Z.attended),alert(` ${Z.name} checked in successfully!`))}else alert("Attendee not found. Please register first.")},Q=D=>{};return r?T.jsxs("div",{className:"min-h-screen bg-black",children:[T.jsx(Uo,{title:"Check-in (Admin Only)",showBack:!0}),T.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[T.jsxs("div",{className:"bg-green-900/20 border border-green-500 rounded-lg p-4 mb-6",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx(M5,{size:20,className:"text-green-400"}),T.jsx("h3",{className:"font-semibold text-green-400",children:"Super Admin Access Confirmed - Event Day"})]}),T.jsx("p",{className:"text-sm text-gray-300",children:"You have admin privileges to check-in attendees and export data. Check-in is available today because it's the event day."}),T.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Event Date: ",is(Xc(r.date),"PPP")," | Today: ",is(new Date,"PPP")]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[T.jsxs("div",{className:"bg-dark-lighter p-4 rounded text-center",children:[T.jsx("p",{className:"text-3xl font-bold text-primary",children:a.length}),T.jsx("p",{className:"text-sm text-gray-400",children:"Registered"})]}),T.jsxs("div",{className:"bg-dark-lighter p-4 rounded text-center",children:[T.jsx("p",{className:"text-3xl font-bold text-green-500",children:a.filter(D=>D.attended).length}),T.jsx("p",{className:"text-sm text-gray-400",children:"Attended"})]})]}),T.jsxs("div",{className:"mb-6 space-y-3",children:[T.jsxs("div",{className:"relative",children:[T.jsx(lA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),T.jsx("input",{type:"text",value:m,onChange:D=>w(D.target.value),placeholder:"Search by name, email, or contact...",className:"pl-10"})]}),v?T.jsxs("button",{onClick:q,className:"btn-secondary w-full flex items-center justify-center gap-2",children:[T.jsx(fA,{size:20}),"Stop Scanning"]}):T.jsxs("button",{onClick:L,className:"btn-primary w-full flex items-center justify-center gap-2",children:[T.jsx(P2,{size:20}),"Scan QR"]})]}),v&&T.jsx("div",{className:"mb-6 bg-dark-lighter p-4 rounded",children:T.jsx("div",{id:"qr-reader",className:"w-full"})}),h.length===0?T.jsx("p",{className:"text-center text-gray-400 py-8",children:m?"No attendees found":"No registrations yet"}):T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsxs("h2",{className:"text-xl font-semibold text-primary",children:["Registered (",h.filter(D=>!D.attended).length,")"]}),T.jsx("span",{className:"text-sm text-gray-400",children:"Waiting to check-in"})]}),T.jsx("div",{className:"space-y-3",children:h.filter(D=>!D.attended).length===0?T.jsx("p",{className:"text-center text-gray-500 py-4 bg-dark-lighter rounded",children:"All registered attendees have checked in! "}):h.filter(D=>!D.attended).map(D=>T.jsx("div",{className:"bg-dark-lighter border border-gray-800 rounded-lg p-4 hover:border-primary transition-colors",children:T.jsxs("div",{className:"flex items-start justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"font-semibold text-lg mb-1",children:D.name}),T.jsx("p",{className:"text-sm text-gray-400",children:D.email}),D.contact&&T.jsx("p",{className:"text-sm text-gray-400",children:D.contact}),D.notes&&T.jsx("p",{className:"text-sm text-gray-500 mt-1",children:D.notes})]}),T.jsx("button",{onClick:()=>I(D.id,D.attended),className:"px-6 py-2 rounded font-medium bg-primary hover:bg-primary-dark text-white",children:"Check-in"})]})},D.id))})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsxs("h2",{className:"text-xl font-semibold text-green-500",children:["Attended (",h.filter(D=>D.attended).length,")"]}),T.jsx("span",{className:"text-sm text-gray-400",children:"Successfully checked in"})]}),T.jsx("div",{className:"space-y-3",children:h.filter(D=>D.attended).length===0?T.jsx("p",{className:"text-center text-gray-500 py-4 bg-dark-lighter rounded",children:"No attendees checked in yet"}):h.filter(D=>D.attended).map(D=>T.jsx("div",{className:"bg-dark-lighter border border-green-800 rounded-lg p-4",children:T.jsxs("div",{className:"flex items-start justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"font-semibold text-lg mb-1",children:D.name}),T.jsx("p",{className:"text-sm text-gray-400",children:D.email}),D.contact&&T.jsx("p",{className:"text-sm text-gray-400",children:D.contact}),D.notes&&T.jsx("p",{className:"text-sm text-gray-500 mt-1",children:D.notes})]}),T.jsx("button",{onClick:()=>I(D.id,D.attended),className:"px-6 py-2 rounded font-medium bg-green-600 hover:bg-green-700 text-white",children:" Attended"})]})},D.id))})]})]})]})]}):T.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:T.jsx("p",{className:"text-gray-400",children:"Loading..."})})};function QS(){return T.jsx($8,{children:T.jsx(K8,{basename:"/event",children:T.jsx("div",{className:"min-h-screen bg-black text-white",children:T.jsxs(q8,{children:[T.jsx($i,{path:"/",element:T.jsx(L5,{to:"/events",replace:!0})}),T.jsx($i,{path:"/login",element:T.jsx(aC,{})}),T.jsx($i,{path:"/register",element:T.jsx(oC,{})}),T.jsx($i,{path:"/admin",element:T.jsx(LE,{})}),T.jsx($i,{path:"/events",element:T.jsx(PE,{})}),T.jsx($i,{path:"/new",element:T.jsx(nx,{})}),T.jsx($i,{path:"/:id/edit",element:T.jsx(nx,{})}),T.jsx($i,{path:"/:id",element:T.jsx(bN,{})}),T.jsx($i,{path:"/:id/flyer",element:T.jsx(CS,{})}),T.jsx($i,{path:"/:id/register",element:T.jsx(ES,{})}),T.jsx($i,{path:"/:id/checkin",element:T.jsx(ZS,{})}),T.jsx($i,{path:"*",element:T.jsx(L5,{to:"/events",replace:!0})})]})})})})}D0.createRoot(document.getElementById("root")).render(T.jsx(xl.StrictMode,{children:T.jsx(QS,{})}));export{yn as _,cc as c,Ux as g};
